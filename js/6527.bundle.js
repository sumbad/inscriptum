"use strict";(self.webpackChunkinscriptum=self.webpackChunkinscriptum||[]).push([[6527,2940,5708],{12940:(t,e,i)=>{i.r(e),i.d(e,{EditorTooltipComponent:()=>a});var o=i(60745),n=i(53445),s=i(36201),l=i(69935),r=function(t,e,i,o){var n,s=arguments.length,l=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,i,o);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(l=(s<3?n(l):s>3?n(e,i,l):n(e,i))||l);return s>3&&l&&Object.defineProperty(e,i,l),l};let a=class extends o.yB{constructor(){super(s.Z,!1),this.html=n.dy,this.formatTTOptions={padding:10,position:l.browser.mobile?"bottom":"top",minDelta:5}}get linkTTOptions(){return{padding:7,position:"bottom",depend:this.$tl_tooltip,dependPadding:10}}connectedCallback(){super.connectedCallback(),this.$tl_link_tooltip=this.querySelector("#_tl_link_tooltip")||document.createElement("div"),this.$tl_tooltip=this.querySelector("#_tl_tooltip")||document.createElement("div"),this.$tl_blocks=this.querySelector("#_tl_blocks")||document.createElement("div"),this.$bold_button=this.querySelector("#_bold_button")||document.createElement("div"),this.$italic_button=this.querySelector("#_italic_button")||document.createElement("div"),this.$link_button=this.querySelector("#_link_button")||document.createElement("div"),this.$header_button=this.querySelector("#_header_button")||document.createElement("div"),this.$subheader_button=this.querySelector("#_subheader_button")||document.createElement("div"),this.$quote_button=this.querySelector("#_quote_button")||document.createElement("div"),this.$strikeButton=this.querySelector("#_strike_button")||document.createElement("div"),this.$image_button=this.querySelector("#_image_button")||document.createElement("div"),this.$embed_button=this.querySelector("#_embed_button")||document.createElement("div")}render(){return this.html`
      <div id="_tl_link_tooltip" class="tl_link_tooltip"></div>
      <div id="_tl_tooltip" class="tl_tooltip" @mouseover=${this.handleMouseover.bind(this)} @mouseout=${this.handleMouseout.bind(this)}>
        <div class="buttons">
          <span class="button_hover"></span>
          <div class="button_group">
            <button id="_bold_button"></button>
            <button id="_italic_button"></button>
            <button id="_link_button"></button>
          </div>
          <div class="button_group">
            <button id="_header_button"></button>
            <button id="_subheader_button"></button>
            <button id="_quote_button"></button>
          </div>
          <div class="button_group">
            <button id="_strike_button" class="tt-icon-btn">
            ${n.YP`
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-strikethrough" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <line x1="5" y1="12" x2="19" y2="12" />
              <path d="M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7" />
              <path d="M16.5 16a3.5 3.5 0 0 1 -3.5 3h-1.5a4 2 0 0 1 -4 -1.5" />
            </svg>
              `}
            </button>
          </div>
        </div>
        <div class="prompt">
          <span class="close"></span>
          <div class="prompt_input_wrap"><input type="url" class="prompt_input" /></div>
        </div>
      </div>
      <div id="_tl_blocks" class="tl_blocks">
        <div class="buttons">
          <button id="_image_button"></button>
          <button id="_embed_button"></button>
        </div>
      </div>
    `}handleMouseover(t){let e=t.target;t instanceof MouseEvent&&"BUTTON"==(null==e?void 0:e.tagName)&&!e.classList.contains("disabled")&&(this.$tl_tooltip.setAttribute("data-hover",e.id),this.$tl_tooltip.classList.add("hover"),setTimeout((()=>{this.$tl_tooltip.classList.add("hover_anim")}),1),clearTimeout(this.$tl_tooltip.to))}handleMouseout(t){"BUTTON"==t.target.tagName&&(this.$tl_tooltip.classList.remove("hover"),this.$tl_tooltip.to=setTimeout((()=>{this.$tl_tooltip.classList.remove("hover_anim")}),70))}tooltipUpdatePosition(t,e,i,o){if(i=i||{padding:10,position:"top"},null==(e=e||t._range||null))return;let n=o.getBounds(e),s=o.container.getBoundingClientRect(),l={width:t.offsetWidth,height:t.offsetHeight},r=window.outerWidth,a=window.outerHeight,d=document.body.scrollTop,c=9,u=d+9,p=r-l.width-9,h=d+a-l.height-9;l.left=n.left+n.width/2-l.width/2;let m,g=s.left+l.left;if(g<c?l.left=c-s.left:g>p&&(l.left=p-s.left),"top"==i.position){l.top=n.top-l.height-i.padding,m=!1,s.top+l.top<u&&(l.top=n.bottom+i.padding,m=!0)}else if("bottom"==i.position){let t=!1;l.top=n.bottom+i.padding,(t=this.isOverElement(l,i.depend,i.dependPadding))&&(l.top=t.bottom+i.dependPadding),m=!0,s.top+(l.top||0)>h&&(l.top=n.top-l.height-i.padding,(t=this.isOverElement(l,i.depend,i.dependPadding))&&(l.top=t.top-l.height-i.dependPadding),m=!1)}l.left=Math.round(l.left),l.top=Math.round(l.top||0),t._range=e,i.minDelta&&Math.abs(l.left-t._left)<i.minDelta&&Math.abs(l.top-t._top)<i.minDelta||(t._left=l.left,t._top=l.top,t.style.left=l.left+"px",t.style.top=l.top+"px",t.classList.toggle("bottom",m))}isOverElement(t,e,i){if(!e||!e.classList.contains("shown"))return!1;t.bottom=t.top+t.height,t.right=t.left+t.width;let o={_left:e.offsetLeft,_top:e.offsetTop},n={top:o._top,bottom:o._top+e.offsetHeight,left:o._left,right:o._left+e.offsetWidth};return!(t.left-n.right>=i||n.left-t.right>=i||t.top-n.bottom>=i||n.top-t.bottom>=i)&&n}hideBlocksTooltip(){this.$tl_blocks.classList.remove("shown")}showFormatTooltip(t,e,i){i&&(this.$tl_tooltip.classList.remove("tooltip_prompt"),this.tooltipUpdatePosition(this.$tl_tooltip,t,this.formatTTOptions,e),this.$tl_tooltip.classList.contains("move_anim")||setTimeout((()=>{this.$tl_tooltip.classList.add("move_anim")}),10),this.$tl_tooltip.classList.contains("shown")?this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,e):setTimeout((()=>{this.$tl_tooltip.classList.add("shown"),this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,e)}),10))}hideFormatTooltip(t){this.$tl_tooltip.classList.remove("move_anim","shown"),this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,t)}showBlocksTooltip(t,e,i){e&&(this.$tl_blocks.classList.add("shown"),this.blocksUpdatePosition(t,i))}blocksUpdatePosition(t,e){if(void 0===t&&(t=e.getSelection()),null==t||!e)return;let i=e.getBounds(t);this.$tl_blocks.style.top=i.top+i.height/2+"px"}showLinkTooltip(t,e,i,o){if(!i)return;let n={index:t.offset(o.scroll),length:t.length()};this.$tl_link_tooltip.textContent=e,this.tooltipUpdatePosition(this.$tl_link_tooltip,n,this.linkTTOptions,o),this.$tl_link_tooltip.classList.contains("move_anim")||setTimeout((()=>{this.$tl_link_tooltip.classList.add("move_anim")}),1),this.$tl_link_tooltip.classList.contains("shown")||setTimeout((()=>{this.$tl_link_tooltip.classList.add("shown")}),10)}hideLinkTooltip(t){this.$tl_link_tooltip.classList.remove("move_anim","shown")}};a=r([(0,o.Qr)("inscriptum-editor-tooltip")],a)},96527:(t,e,i)=>{i.r(e),i.d(e,{EditorComponent:()=>q});var o=i(78947),n=i(51417),s=i(51436),l=i(60745),r=i(36201),a=i(53445),d=i(55161),c=i.n(d),u=i(28895),p=i.n(u),h=i(86515),m=i(31966),g=i(44615),f=i(69935),_=i(12940),b=i(75708),v=i(14938),y=i(76136),w=i(96885),$=i(47753),T=i(78557),k=i(27012),L=function(t,e,i,o){var n,s=arguments.length,l=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,i,o);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(l=(s<3?n(l):s>3?n(e,i,l):n(e,i))||l);return s>3&&l&&Object.defineProperty(e,i,l),l},S=function(t,e,i,o){return new(i||(i=Promise))((function(n,s){function l(t){try{a(o.next(t))}catch(t){s(t)}}function r(t){try{a(o.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(l,r)}a((o=o.apply(t,e||[])).next())}))};(0,k.s)("loading-progress-bar"),o.vI.add(s.ca9,s.c_t,s.cJz,s.nNP,s.Elr,s.gHg,s._jT,s.zc,n.mdU,s.Kl4,s.r8p,s.dT$);let q=class extends l.yB{constructor(){super(r.Z,!1),this.styles=a.dy`
    <style>
      ${i(70898)}
    </style>
  `,this.tooltip=new _.EditorTooltipComponent,this.isPreloader=!0,this.isPosted=!1,this.loadingRef={current:{}},this.changedContent$=new h.X(null),(0,v.X7)("/css/custom_editor_fonts.css"),this._storageService=new m.V;const t=this.isPosted?`${document.location.origin}/notes`:`${document.location.origin}/drafts`;this._authService=new g.e(this._storageService,t)}set flag(t){"posted"===t&&(this.isPosted=!0)}connectedCallback(){super.connectedCallback(),o.vz.watch();const t=this.querySelector("#_tl_editor");this.quill=f.editor(this.tooltip,t),this.quill.disable(),this._authService.$authenticated.getValue()?this.loadContent(this.quill):this._authService.$authenticated.subscribe((t=>{null!==t&&this.quill&&(t?this.loadContent(this.quill):this.isPosted?c()("/notes"):c()("/notes/drafts"))}));const e=document.title,i=`*${e}`;var n=new(p());this.quill.on("text-change",(t=>{this.isPreloader||(n=n.compose(t),this.changedContent$.next(this.quill.getContents()),document.title!==i&&(document.title=i))}));let s=!1;this.changedContent$.pipe((0,$.T)(2),(0,T.b)(1e4)).subscribe((t=>{var i,o,l;if(null!==t&&!this.isPosted){const r=null!==(i=this.loadingRef.current.togglePause)&&void 0!==i?i:t=>console.log(`Toggle loading pause to ${t}`);let a=2e3;if(s&&(null===(o=this.loadingRef.current.generateProgress)||void 0===o||o.next()),s=!0,this._storageService.api.page.updateById(this.pageId,t).then((()=>{n=new(p()),s=!1,r(!1),setTimeout((()=>{var t;null===(t=this.loadingRef.current.generateProgress)||void 0===t||t.next()}),a>0?a:0),document.title=e})),void 0!==this.loadingRef.current.togglePause&&void 0!==this.loadingRef.current.generateProgress){let t=null===(l=this.loadingRef.current.generateProgress)||void 0===l?void 0:l.next();void 0!==t&&1===t.value&&(setTimeout((()=>{s&&(r(!0),a-=300)}),300),setTimeout((()=>{s&&r(!1)}),1e3),setTimeout((()=>{s&&(r(!0),a-=1e3)}),2e3),setTimeout((()=>{s&&(a-=1e3)}),3e3))}}})),window.onbeforeunload=function(){if(n.length()>0)return"There are unsaved changes. Are you sure you want to leave?"}}disconnectedCallback(){window.onbeforeunload=null,this.quill=null}render(){return(0,b.default)({isPreloader:this.isPreloader,styles:this.styles,tooltip:this.tooltip,loaderConfig:{duration:2e3,stepsCount:1},loadingRef:this.loadingRef},{publish:this.publish.bind(this)})}loadContent(t){var e,i;return S(this,void 0,void 0,(function*(){let o;if(this.isPosted){const t=yield this._storageService.api.note.findById(this.id);if(null==(null===(e=t.draft)||void 0===e?void 0:e.pages[0]))throw new Error(`Can't find a draft for note with ID ${this.id}`);o=null===(i=t.draft)||void 0===i?void 0:i.pages[0],this.id=t.draft.id}else{const t=yield this._storageService.api.draft.findById(this.id);o=t.pages[0],Array.isArray(t.notes)&&null!=t.notes[0]&&(this.noteId=t.notes[0].id,this.isPosted=!0)}this.pageId=o.id,t.setContents(o.content),t.history.clear(),t.enable(),this.isPreloader=!1}))}publish(){return S(this,void 0,void 0,(function*(){if(null==this.quill)return;let t=document.querySelector(".tl_article"),e=document.querySelector(".tl_article_header"),i=document.querySelector(".tl_article_content");if(t.classList.contains("tl_article_saving"))return!1;let o=i.querySelector("h1").textContent||"";if(o.length<2){clearTimeout(t.to),t.classList.add("title_required"),t.to=setTimeout((()=>{t.classList.remove("title_required")}),3e3),this.quill.focus();let[e]=this.quill.scroll.descendants(w.TitleBlot,0,this.quill.scroll.length());return this.quill.setSelection(e.offset(),e.length()-1),(0,y.showError)("Title is too small")}if(o=o.trim(),i.querySelectorAll('img[src^="data:"],video[src^="data:"]').length)return(0,y.showError)("Upload in progress.\nPlease wait...");if((0,y.getPageContent)(!1,this.quill).length>65536)return(0,y.showError)("Content is too big");(0,y.updateEditable)(!1,this.quill,this.tooltip,t,i,e);let n="";const s=this._removeElementsBySelectors(document.querySelector(".tl_page_wrap"),["article .ql-editor h1","article .ql-editor address","article .ql-clipboard","#_tl_link_tooltip","#_tl_tooltip","#_tl_blocks","inscriptum-editor-tooltip","aside .account_top","aside .publish_button","aside .account_bottom","aside .error_msg"]);if(t.classList.add("tl_article_saving"),null===s)return t.classList.remove("tl_article_saving"),(0,y.showError)("Content cannot be empty");const l=this.quill.getContents(),{description:r,image:a}=(0,v.Ro)(l),d=(0,v.u)(o).replace(/[^a-zA-Z0-9-_]/g,"-");let c;yield this._storageService.api.page.updateById(this.pageId,l),this.isPosted?c=yield this._storageService.api.note.updateById(this.noteId,d,{title:o,description:r,image:a},`note/${d}`):(c=yield this._storageService.api.note.create(this._storageService.author.id,d,this.id,{title:o,description:r,image:a},`note/${d}`),(0,y.draftClear)()),this.isPosted=!0,this.noteId=c.id,t.classList.remove("tl_article_saving"),(0,y.updateEditable)(!0,this.quill,this.tooltip,t,i,e),null!==s&&(s.querySelector("#_edit_button").href=`/draft/${this.id}`,n=s.outerHTML);const u=`  \n<html>\n  <head>\n    <meta charset="utf-8">\n    <title>${o}</title>\n    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">\n    <meta name="format-detection" content="telephone=no">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="MobileOptimized" content="176">\n    <meta name="HandheldFriendly" content="True">\n    <meta name="robots" content="index, follow">\n    <meta name="description" content="${r}">\n    <meta property="og:site_name" content="inscriptum">\n    <meta property="og:type" content="article">\n    <meta property="og:title" content="${o}">\n    <meta property="og:description" content="${r}">\n    <meta property="og:image" content="${a}">\n    <meta property="article:published_time" content="${c.created_at}">\n    <meta property="article:modified_time" content="${c.updated_at}">\n    <meta property="article:author" content="${this._storageService.author.name||this._storageService.author.email}">\n    <meta name="twitter:card" content="summary">\n    <meta name="twitter:title" content="${o}">\n    <meta name="twitter:description" content="${r}">\n    <meta name="twitter:image" content="${a}">\n    <link rel="shortcut icon" type="image/png" href="favicon.png">\n    <link href="/css/note.css" rel="stylesheet">\n    <link href="/css/custom_editor_fonts.css" rel="stylesheet">\n  </head>\n  <body>\n    ${n}\n  </body>\n  <script type="text/javascript" src="/js/note.js"><\/script>\n</html>`,p=document.createElement("a"),h=new Blob([u],{type:"application/octet-stream"});p.href=window.URL.createObjectURL(h),p.download=`${d}.html`,p.click()}))}_removeElementsBySelectors(t,e){if(null===t)return null;const i=t.cloneNode(!0);return e.forEach((t=>{const e=i.querySelector(t);e&&e.remove()})),i}};L([(0,l.SB)()],q.prototype,"isPreloader",void 0),L([(0,l.SB)()],q.prototype,"isPosted",void 0),L([(0,l.SB)()],q.prototype,"noteId",void 0),L([(0,l.SB)()],q.prototype,"pageId",void 0),L([(0,l.Lj)("data-id")],q.prototype,"id",void 0),L([(0,l.Lj)("data-flag")],q.prototype,"flag",null),q=L([(0,l.Qr)("inscriptum-editor")],q)},75708:(t,e,i)=>{i.r(e),i.d(e,{default:()=>n});var o=i(53445);const n=(t,e)=>o.dy`
${t.styles}

<loading-progress-bar .config=${t.loaderConfig} .ref=${t.loadingRef}></loading-progress-bar>

<um-preloader ?loading=${t.isPreloader}>
  <div class="tl_page_wrap">

    <div class="tl_page">
      <section class="tl_article">
        <header class="tl_article_header">
          <h1 dir="auto"></h1>
          <address dir="auto">
            <a rel="author"></a>
            <time datetime=""></time>
          </address>
        </header>
        <article id="_tl_editor" class="tl_article_content">
          <p><br></p>
        </article>
        ${t.tooltip}
        <aside class="tl_article_buttons">
          <div class="account account_top"></div>
          <a id="_edit_button" class="button edit_button">Edit</a>
          <button @click=${e.publish} class="button publish_button">Publish</button>
          <div class="account account_bottom"></div>
          <div id="_error_msg" class="error_msg"></div>
        </aside>
      </section>
    </div>
  </div>
</um-preloader>

<div id="_tl_alerts" class="tl_alerts"></div>
`},56106:(t,e,i)=>{i.d(e,{j7:()=>d,Bc:()=>c});var o=i(26798),n=i(76136),s=i(78770),l=i(38638),r=function(t,e,i,o){return new(i||(i=Promise))((function(n,s){function l(t){try{a(o.next(t))}catch(t){s(t)}}function r(t){try{a(o.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(l,r)}a((o=o.apply(t,e||[])).next())}))};const a=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,d="figure",c=o.NB.create({name:d,draggable:!0,defining:!0,selectable:!0,content:()=>"text*",addOptions:()=>({inline:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML:()=>[{tag:"figure",contentElement:"figcaption",getAttrs:t=>{const e=t.querySelector("img");return{src:null==e?void 0:e.getAttribute("src"),alt:null==e?void 0:e.getAttribute("alt"),title:null==e?void 0:e.getAttribute("title")}}},{tag:"img[src]",preserveWhitespace:!0,getContent:(t,e)=>l.HY.from(e.text(t.alt.length>0?t.alt:" ")),getAttrs:t=>({src:t.getAttribute("src")})}],renderHTML({HTMLAttributes:t}){return["figure",["img",(0,o.P1)(this.options.HTMLAttributes,t)],["figcaption",0]]},addCommands(){return{setFigure:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[(0,o.x2)({find:a,type:this.type,getAttributes:t=>{const[,e,i,o]=t;return{src:i,alt:e,title:o}}})]},addNodeView(){return({node:t,HTMLAttributes:e,getPos:i,editor:o})=>{const l=document.createElement("figure");l.setAttribute("draggable","true");const a=document.createElement("div"),d=document.createElement("figcaption");a.classList.add("figure_wrapper"),a.contentEditable="false",d.classList.add("editable_text"),d.classList.add("empty"),d.setAttribute("data-placeholder","Caption (optional)");const c=t.content.firstChild;(null==c?void 0:c.isText)&&null!=c.text&&c.text.trim().length>0&&d.classList.remove("empty"),l.appendChild(a),l.appendChild(d);const p=function(t,e){const i=document.createElement("img");return i.setAttribute("src",u(t)),e.appendChild(i),i}(t.attrs.src,a);t.attrs.alt&&p.setAttribute("alt",t.attrs.alt),t.attrs.title&&p.setAttribute("title",t.attrs.title);const h=function(t){const e=t.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/);if(null!=e)return{type:e[1],base64_data:e[2]}}(t.attrs.src);if(null!=h){const t=document.createElement("div"),e=document.createElement("div");t.classList.add("file_progress"),e.classList.add("file_progress_bar"),a.classList.add("loading"),t.appendChild(e),a.appendChild(t),function(t,e,i){!function(t,e,i,o){r(this,void 0,void 0,(function*(){try{const o=yield(0,s.uploadFileService)((0,n.uploadDataToBlob)(t),e);i&&i(o)}catch(t){o&&o(t)}}))}(t,((t,e)=>{let o=0;e&&t&&(o=100*t/e,o=Math.min(100,o)),i.style.width=o+"%"}),(t=>{if(t){const i=u(t.src),o=e.querySelector("img");null!=o&&(o.src=i),e.classList.remove("loading")}}),(t=>(0,n.showError)(t)))}(h,a,e)}return p.onclick=()=>{"function"==typeof i&&this.editor.commands.setNodeSelection(i())},{dom:l,contentDOM:d,ignoreMutation:e=>"attributes"===e.type&&null!=e.attributeName&&(["src","title","alt"].includes(e.attributeName)&&(t.attrs[e.attributeName]=e.target.getAttribute(e.attributeName)),!0),update:t=>t.type===this.type&&(d.classList.toggle("empty",0===t.content.size),!0)}}}});function u(t){return function(t,e){const i=document.createElement("a");i.href=t;const o=i.href.slice(0,i.href.indexOf(":"));return e.indexOf(o)>-1}(t,["http","https","data"])?t:"//:0"}},29586:(t,e,i)=>{i.d(e,{W:()=>n,V:()=>s});var o=i(26798);const n="topicSummary",s=o.NB.create({name:n,group:"topicDoc",content:"inline*",addAttributes:()=>({"data-placeholder":{default:"Summary of the text"},"data-label":{default:"Summary"},role:{default:"definition"}}),parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",(0,o.P1)(this.options.HTMLAttributes,t),0]}})},39059:(t,e,i)=>{i.d(e,{H:()=>n,l:()=>s});var o=i(26798);const n="topicTitle",s=o.NB.create({name:n,content:"inline*",group:"topicDoc",defining:!0,selectable:!0,addAttributes:()=>({"data-placeholder":{default:"Title"},"data-label":{default:"Title"}}),parseHTML:()=>[{tag:"h1"}],renderHTML({HTMLAttributes:t}){return["h1",(0,o.P1)(this.options.HTMLAttributes,t),0]}})},14938:(t,e,i)=>{i.d(e,{X7:()=>l,Ro:()=>r,WV:()=>a,iv:()=>u,u:()=>p});var o=i(56106),n=i(29586),s=i(39059);function l(t){if(!document.getElementById(t)){var e=document.getElementsByTagName("head")[0],i=document.createElement("link");i.id=t,i.rel="stylesheet",i.type="text/css",i.href=document.location.origin+t,i.media="all",e.appendChild(i)}}function r(t){let e="<noname>",i="...",o="";if(Array.isArray(null==t?void 0:t.ops)&&t.ops.length>0){e=String(t.ops[0].insert),i=String(t.ops[2].insert);const n=t.ops.find((t=>void 0!==c(t,["insert","blockFigure","image"])));if(null!=n&&(o=c(n,["insert","blockFigure","image"])),i.length<3){for(const[e,n]of t.ops.entries())if(e>2){if(i.length>100)break;void 0!==c(n,["insert","blockFigure","image"])?o=c(n,["insert","blockFigure","image"]):i+=" "+n.insert}i+="..."}}return i=i.trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/`/g,"&DiacriticalGrave;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),{title:e,description:i,image:o}}function a(t){var e,i,l;let r="<noname>",a="...",c="";if(null!=t){const u=d(t,s.H);null!=(null==u?void 0:u.content)&&(r=null!==(e=u.content[0].text)&&void 0!==e?e:r);const p=d(t,n.W);null!=(null==p?void 0:p.content)&&(a=null!==(i=p.content[0].text)&&void 0!==i?i:a);const h=d(t,o.j7);null!=(null==h?void 0:h.attrs)&&(c=null!==(l=h.attrs.src)&&void 0!==l?l:c)}return a=a.trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/`/g,"&DiacriticalGrave;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),{title:r,description:a,image:c}}function d(t,e){if(t.type===e)return t;if(Array.isArray(t.content))for(const i of t.content){const t=d(i,e);if(null!=t)return t}return null}function c(t,e){return e.reduce(((t,e)=>t&&"undefined"!==t[e]?t[e]:void 0),t)}const u=String.raw;function p(t,e=!1){const i="щ   ш  ч  ц  ю  я  ё  ж  ъ  ы  э  а б в г д е з и й к л м н о п р с т у ф х ь".split(/ +/g),o="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g);for(let n=0;n<i.length;n++)t=(t=t.split(e?o[n]:i[n]).join(e?i[n]:o[n])).split(e?o[n].toUpperCase():i[n].toUpperCase()).join(e?i[n].toUpperCase():o[n].toUpperCase());return t}}}]);