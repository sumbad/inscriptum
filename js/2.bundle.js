(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{102:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return c}));var r=n(115),i=n.n(r),s=n(61),o=n.n(s),l=n(60),a=n(78),u=n(159);class h extends a.a{}h.blotName="code",h.tagName="CODE";class c extends l.c{static create(t){let e=super.create(t);return e.setAttribute("spellcheck",!1),e}static formats(){return!0}delta(){let t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((t,e)=>t.insert(e).insert("\n",this.formats()),new i.a)}format(t,e){if(t===this.statics.blotName&&e)return;let[n]=this.descendant(u.a,this.length()-1);null!=n&&n.deleteAt(n.length()-1,1),super.format(t,e)}formatAt(t,e,n,r){if(0===e)return;if(null==o.a.query(n,o.a.Scope.BLOCK)||n===this.statics.blotName&&r===this.statics.formats(this.domNode))return;let i=this.newlineIndex(t);if(i<0||i>=t+e)return;let s=this.newlineIndex(t,!0)+1,l=i-s+1,a=this.isolate(s,l),u=a.next;a.format(n,r),u instanceof c&&u.formatAt(0,t-s+e-l,n,r)}insertAt(t,e,n){if(null!=n)return;let[r,i]=this.descendant(u.a,t);r.insertAt(i,e)}length(){let t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}newlineIndex(t,e=!1){if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");{let e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}}optimize(t){this.domNode.textContent.endsWith("\n")||this.appendChild(o.a.create("text","\n")),super.optimize(t);let e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===e.statics.formats(e.domNode)&&(e.optimize(t),e.moveChildren(this),e.remove())}replace(t){super.replace(t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){let e=o.a.find(t);null==e?t.parentNode.removeChild(t):e instanceof o.a.Embed?e.remove():e.unwrap()}))}}c.blotName="code-block",c.tagName="PRE",c.TAB="  "},122:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(180),i=n.n(r),s=n(166),o=n.n(s),l=n(153),a=n.n(l),u=n(115),h=n.n(u),c=n(179),f=n.n(c),d=n(61),p=n.n(d),g=n(132),m=n(167),y=n(130);let b=Object(m.a)("quill:keyboard");const E=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class v extends y.a{static match(t,e){return e=_(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(e=>{("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&this.options.bindings[e]&&this.addBinding(this.options.bindings[e])}),this.addBinding({key:v.keys.ENTER,shiftKey:null},A),this.addBinding({key:v.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:v.keys.BACKSPACE},{collapsed:!0},N),this.addBinding({key:v.keys.DELETE},{collapsed:!0},x)):(this.addBinding({key:v.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},N),this.addBinding({key:v.keys.DELETE},{collapsed:!0,suffix:/^.?$/},x)),this.addBinding({key:v.keys.BACKSPACE},{collapsed:!1},T),this.addBinding({key:v.keys.DELETE},{collapsed:!1},T),this.addBinding({key:v.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},N),this.listen()}addBinding(t,e={},n={}){let r=_(t);if(null==r||null==r.key)return b.warn("Attempted to add invalid keyboard binding",r);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),r=a()(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented)return;let e=t.which||t.keyCode,n=(this.bindings[e]||[]).filter((function(e){return v.match(t,e)}));if(0===n.length)return;let r=this.quill.getSelection();if(null==r||!this.quill.hasFocus())return;let[i,s]=this.quill.getLine(r.index),[l,a]=this.quill.getLeaf(r.index),[u,h]=0===r.length?[l,a]:this.quill.getLeaf(r.index+r.length),c=l instanceof p.a.Text?l.value().slice(0,a):"",f=u instanceof p.a.Text?u.value().slice(h):"",d={collapsed:0===r.length,empty:0===r.length&&i.length()<=1,format:this.quill.getFormat(r),offset:s,prefix:c,suffix:f};n.some(t=>{if(null!=t.collapsed&&t.collapsed!==d.collapsed)return!1;if(null!=t.empty&&t.empty!==d.empty)return!1;if(null!=t.offset&&t.offset!==d.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(t){return null==d.format[t]})))return!1}else if("object"==typeof t.format&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=d.format[e]:!1===t.format[e]?null==d.format[e]:o()(t.format[e],d.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(d.prefix))&&(!(null!=t.suffix&&!t.suffix.test(d.suffix))&&!0!==t.handler.call(this,r,d))})&&t.preventDefault()})}}function w(t,e){const n=t===v.keys.LEFT?"prefix":"suffix";return{key:t,shiftKey:e,altKey:null,[n]:/^$/,handler:function(n){let r=n.index;t===v.keys.RIGHT&&(r+=n.length+1);const[i]=this.quill.getLeaf(r);return!(i instanceof p.a.Embed)||(t===v.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,g.a.sources.USER):this.quill.setSelection(n.index-1,g.a.sources.USER):e?this.quill.setSelection(n.index,n.length+1,g.a.sources.USER):this.quill.setSelection(n.index+n.length+1,g.a.sources.USER),!1)}}}function N(t,e){if(0===t.index||this.quill.getLength()<=1)return;let[n]=this.quill.getLine(t.index),r={};if(0===e.offset){let[e]=this.quill.getLine(t.index-1);if(null!=e&&e.length()>1){let e=n.formats(),i=this.quill.getFormat(t.index-1,1);r=f.a.attributes.diff(e,i)||{}}}let i=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-i,i,g.a.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index-i,i,r,g.a.sources.USER),this.quill.focus()}function x(t,e){let n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let r={},i=0,[s]=this.quill.getLine(t.index);if(e.offset>=s.length()-1){let[e]=this.quill.getLine(t.index+1);if(e){let n=s.formats(),o=this.quill.getFormat(t.index,1);r=f.a.attributes.diff(n,o)||{},i=e.length()}}this.quill.deleteText(t.index,n,g.a.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+i-1,n,r,g.a.sources.USER)}function T(t){let e=this.quill.getLines(t),n={};if(e.length>1){let t=e[0].formats(),r=e[e.length-1].formats();n=f.a.attributes.diff(r,t)||{}}this.quill.deleteText(t,g.a.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,g.a.sources.USER),this.quill.setSelection(t.index,g.a.sources.SILENT),this.quill.focus()}function A(t,e){t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);let n=Object.keys(e.format).reduce((function(t,n){return p.a.query(n,p.a.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",n,g.a.sources.USER),this.quill.setSelection(t.index+1,g.a.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(t=>{null==n[t]&&(Array.isArray(e.format[t])||"link"!==t&&this.quill.format(t,e.format[t],g.a.sources.USER))})}function S(t){return{key:v.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){let n=p.a.query("code-block"),r=e.index,i=e.length,[s,o]=this.quill.scroll.descendant(n,r);if(null==s)return;let l=this.quill.getIndex(s),a=s.newlineIndex(o,!0)+1,u=s.newlineIndex(l+o+i),h=s.domNode.textContent.slice(a,u).split("\n");o=0,h.forEach((e,l)=>{t?(s.insertAt(a+o,n.TAB),o+=n.TAB.length,0===l?r+=n.TAB.length:i+=n.TAB.length):e.startsWith(n.TAB)&&(s.deleteAt(a+o,n.TAB.length),o-=n.TAB.length,0===l?r-=n.TAB.length:i-=n.TAB.length),o+=e.length+1}),this.quill.update(g.a.sources.USER),this.quill.setSelection(r,i,g.a.sources.SILENT)}}}function R(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],g.a.sources.USER)}}}function _(t){if("string"==typeof t||"number"==typeof t)return _({key:t});if("object"==typeof t&&(t=i()(t,!1)),"string"==typeof t.key)if(null!=v.keys[t.key.toUpperCase()])t.key=v.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[E]=t.shortKey,delete t.shortKey),t}v.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},v.DEFAULTS={bindings:{bold:R("bold"),italic:R("italic"),underline:R("underline"),indent:{key:v.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",g.a.sources.USER)}},outdent:{key:v.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",g.a.sources.USER)}},"outdent backspace":{key:v.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",g.a.sources.USER):null!=e.format.list&&this.quill.format("list",!1,g.a.sources.USER)}},"indent code-block":S(!0),"outdent code-block":S(!1),"remove tab":{key:v.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,g.a.sources.USER)}},tab:{key:v.keys.TAB,handler:function(t){this.quill.history.cutoff();let e=(new h.a).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,g.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,g.a.sources.SILENT)}},"list empty enter":{key:v.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,g.a.sources.USER),e.format.indent&&this.quill.format("indent",!1,g.a.sources.USER)}},"checklist enter":{key:v.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){let[e,n]=this.quill.getLine(t.index),r=a()({},e.formats(),{list:"checked"}),i=(new h.a).retain(t.index).insert("\n",r).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,g.a.sources.USER),this.quill.setSelection(t.index+1,g.a.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:v.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){let[n,r]=this.quill.getLine(t.index),i=(new h.a).retain(t.index).insert("\n",e.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,g.a.sources.USER),this.quill.setSelection(t.index+1,g.a.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){let n,r=e.prefix.length,[i,s]=this.quill.getLine(t.index);if(s>r)return!0;switch(e.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(t.index," ",g.a.sources.USER),this.quill.history.cutoff();let o=(new h.a).retain(t.index-s).delete(r+1).retain(i.length()-2-s).retain(1,{list:n});this.quill.updateContents(o,g.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,g.a.sources.SILENT)}},"code exit":{key:v.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){const[e,n]=this.quill.getLine(t.index),r=(new h.a).retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(r,g.a.sources.USER)}},"embed left":w(v.keys.LEFT,!1),"embed left shift":w(v.keys.LEFT,!0),"embed right":w(v.keys.RIGHT,!1),"embed right shift":w(v.keys.RIGHT,!0)}}},130:function(t,e,n){"use strict";class r{constructor(t,e={}){this.quill=t,this.options=e}}r.DEFAULTS={},e.a=r},132:function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));n(398);var r=n(115),i=n.n(r),s=n(179),o=n.n(s),l=n(61),a=n.n(l),u=n(102),h=n(380),c=n(60),f=n(173),d=n(180),p=n.n(d),g=n(166),m=n.n(g),y=n(153),b=n.n(y);const E=/^[ -~]*$/;function v(t,e){return Object.keys(e).reduce((function(n,r){return null==t[r]||(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]]),n}),{})}var w=class{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){let e=!1;this.scroll.update();let n=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce((function(t,e){if(1===e.insert){let n=p()(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=p()(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){let n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)}),new i.a)}(t)).reduce((t,r)=>{let i=r.retain||r.delete||r.insert.length||1,s=r.attributes||{};if(null!=r.insert){if("string"==typeof r.insert){let i=r.insert;i.endsWith("\n")&&e&&(e=!1,i=i.slice(0,-1)),t>=n&&!i.endsWith("\n")&&(e=!0),this.scroll.insertAt(t,i);let[l,u]=this.scroll.line(t),h=b()({},Object(c.b)(l));if(l instanceof c.c){let[t]=l.descendant(a.a.Leaf,u);h=b()(h,Object(c.b)(t))}s=o.a.attributes.diff(h,s)||{}}else if("object"==typeof r.insert){let e=Object.keys(r.insert)[0];if(null==e)return t;this.scroll.insertAt(t,e,r.insert[e])}n+=i}return Object.keys(s).forEach(e=>{this.scroll.formatAt(t,i,e,s[e])}),t+i},0),t.reduce((t,e)=>"number"==typeof e.delete?(this.scroll.deleteAt(t,e.delete),t):t+(e.retain||e.insert.length||1),0),this.scroll.batchEnd(),this.update(t)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update((new i.a).retain(t).delete(e))}formatLine(t,e,n={}){return this.scroll.update(),Object.keys(n).forEach(r=>{if(null!=this.scroll.whitelist&&!this.scroll.whitelist[r])return;let i=this.scroll.lines(t,Math.max(e,1)),s=e;i.forEach(e=>{let i=e.length();if(e instanceof u.b){let i=t-e.offset(this.scroll),o=e.newlineIndex(i+s)-i+1;e.formatAt(i,o,r,n[r])}else e.format(r,n[r]);s-=i})}),this.scroll.optimize(),this.update((new i.a).retain(t).retain(e,p()(n)))}formatText(t,e,n={}){return Object.keys(n).forEach(r=>{this.scroll.formatAt(t,e,r,n[r])}),this.update((new i.a).retain(t).retain(e,p()(n)))}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new i.a)}getFormat(t,e=0){let n=[],r=[];0===e?this.scroll.path(t).forEach((function(t){let[e]=t;e instanceof c.c?n.push(e):e instanceof a.a.Leaf&&r.push(e)})):(n=this.scroll.lines(t,e),r=this.scroll.descendants(a.a.Leaf,t,e));let i=[n,r].map((function(t){if(0===t.length)return{};let e=Object(c.b)(t.shift());for(;Object.keys(e).length>0;){let n=t.shift();if(null==n)return e;e=v(Object(c.b)(n),e)}return e}));return b.a.apply(b.a,i)}getText(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new i.a).retain(t).insert({[e]:n}))}insertText(t,e,n={}){return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(n).forEach(r=>{this.scroll.formatAt(t,e.length,r,n[r])}),this.update((new i.a).retain(t).insert(e,p()(n)))}isBlank(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;let t=this.scroll.children.head;return t.statics.blotName===c.c.blotName&&(!(t.children.length>1)&&t.children.head instanceof f.a)}removeFormat(t,e){let n=this.getText(t,e),[r,s]=this.scroll.line(t+e),o=0,l=new i.a;null!=r&&(o=r instanceof u.b?r.newlineIndex(s)-s+1:r.length()-s,l=r.delta().slice(s,s+o-1).insert("\n"));let a=this.getContents(t,e+o).diff((new i.a).insert(n).concat(l)),h=(new i.a).retain(t).concat(a);return this.applyDelta(h)}update(t,e=[],n){let r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(E)&&a.a.find(e[0].target)){let s=a.a.find(e[0].target),o=Object(c.b)(s),l=s.offset(this.scroll),u=e[0].oldValue.replace(h.a.CONTENTS,""),f=(new i.a).insert(u),d=(new i.a).insert(s.value());t=(new i.a).retain(l).concat(f.diff(d,n)).reduce((function(t,e){return e.insert?t.insert(e.insert,o):t.push(e)}),new i.a),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&m()(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}},N=n(181),x=n(130),T=n(167);let A=Object(T.a)("quill:selection");class S{constructor(t,e=0){this.index=t,this.length=e}}class R{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.a.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||setTimeout(this.update.bind(this,N.a.sources.USER),1)}),this.emitter.on(N.a.events.EDITOR_CHANGE,(t,e)=>{t===N.a.events.TEXT_CHANGE&&e.length()>0&&this.update(N.a.sources.SILENT)}),this.emitter.on(N.a.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;let t=this.getNativeRange();null!=t&&t.start.node!==this.cursor.textNode&&this.emitter.once(N.a.events.SCROLL_UPDATE,()=>{try{this.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}})}),this.emitter.on(N.a.events.SCROLL_OPTIMIZE,(t,e)=>{if(e.range){const{startNode:t,startOffset:n,endNode:r,endOffset:i}=e.range;this.setNativeRange(t,n,r,i)}}),this.update(N.a.sources.SILENT)}handleComposition(){this.root.addEventListener("compositionstart",()=>{this.composing=!0}),this.root.addEventListener("compositionend",()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(N.a.sources.USER)})}focus(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}format(t,e){if(null!=this.scroll.whitelist&&!this.scroll.whitelist[t])return;this.scroll.update();let n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!a.a.query(t,a.a.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){let t=a.a.find(n.start.node,!1);if(null==t)return;if(t instanceof a.a.Leaf){let e=t.split(n.start.offset);t.parent.insertBefore(this.cursor,e)}else t.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t,e=0){let n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let r,[i,s]=this.scroll.leaf(t);if(null==i)return null;[r,s]=i.position(s,!0);let o=document.createRange();if(e>0)return o.setStart(r,s),[i,s]=this.scroll.leaf(t+e),null==i?null:([r,s]=i.position(s,!0),o.setEnd(r,s),o.getBoundingClientRect());{let t,e="left";return r instanceof Text?(s<r.data.length?(o.setStart(r,s),o.setEnd(r,s+1)):(o.setStart(r,s-1),o.setEnd(r,s),e="right"),t=o.getBoundingClientRect()):(t=i.domNode.getBoundingClientRect(),s>0&&(e="right")),{bottom:t.top+t.height,height:t.height,left:t[e],right:t[e],top:t.top,width:0}}}getNativeRange(){let t=document.getSelection();if(null==t||t.rangeCount<=0)return null;let e=t.getRangeAt(0);if(null==e)return null;let n=this.normalizeNative(e);return A.info("getNativeRange",n),n}getRange(){let t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root}normalizedToRange(t){let e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);let n=e.map(t=>{let[e,n]=t,r=a.a.find(e,!0),i=r.offset(this.scroll);return 0===n?i:r instanceof a.a.Container?i+r.length():i+r.index(e,n)}),r=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(r,...n);return new S(i,r-i)}normalizeNative(t){if(!_(this.root,t.startContainer)||!t.collapsed&&!_(this.root,t.endContainer))return null;let e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){let e=t.node,n=t.offset;for(;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;e=e.lastChild,n=e instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}rangeToNative(t){let e=t.collapsed?[t.index]:[t.index,t.index+t.length],n=[],r=this.scroll.length();return e.forEach((t,e)=>{t=Math.min(r-1,t);let i,[s,o]=this.scroll.leaf(t);[i,o]=s.position(o,0!==e),n.push(i,o)}),n.length<2&&(n=n.concat(n)),n}scrollIntoView(t){let e=this.lastRange;if(null==e)return;let n=this.getBounds(e.index,e.length);if(null==n)return;let r=this.scroll.length()-1,[i]=this.scroll.line(Math.min(e.index,r)),s=i;if(e.length>0&&([s]=this.scroll.line(Math.min(e.index+e.length,r))),null==i||null==s)return;let o=t.getBoundingClientRect();n.top<o.top?t.scrollTop-=o.top-n.top:n.bottom>o.bottom&&(t.scrollTop+=n.bottom-o.bottom)}setNativeRange(t,e,n=t,r=e,i=!1){if(A.info("setNativeRange",t,e,n,r),null!=t&&(null==this.root.parentNode||null==t.parentNode||null==n.parentNode))return;let s=document.getSelection();if(null!=s)if(null!=t){this.hasFocus()||this.root.focus();let o=(this.getNativeRange()||{}).native;if(null==o||i||t!==o.startContainer||e!==o.startOffset||n!==o.endContainer||r!==o.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);let i=document.createRange();i.setStart(t,e),i.setEnd(n,r),s.removeAllRanges(),s.addRange(i)}}else s.removeAllRanges(),this.root.blur(),document.body.focus()}setRange(t,e=!1,n=N.a.sources.API){if("string"==typeof e&&(n=e,e=!1),A.info("setRange",t),null!=t){let n=this.rangeToNative(t);this.setNativeRange(...n,e)}else this.setNativeRange(null);this.update(n)}update(t=N.a.sources.USER){let e=this.lastRange,[n,r]=this.getRange();if(this.lastRange=n,null!=this.lastRange&&(this.savedRange=this.lastRange),!m()(e,this.lastRange)){!this.composing&&null!=r&&r.native.collapsed&&r.start.node!==this.cursor.textNode&&this.cursor.restore();let n=[N.a.events.SELECTION_CHANGE,p()(this.lastRange),p()(e),t];this.emitter.emit(N.a.events.EDITOR_CHANGE,...n),t!==N.a.sources.SILENT&&this.emitter.emit(...n)}}}function _(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}class C{constructor(t,e){this.quill=t,this.options=e,this.modules={}}init(){Object.keys(this.options.modules).forEach(t=>{null==this.modules[t]&&this.addModule(t)})}addModule(t){let e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}C.DEFAULTS={modules:{}},C.themes={default:C};var O=C;let L=Object(T.a)("quill");class k{static debug(t){!0===t&&(t="log"),T.a.level(t)}static find(t){return t.__quill||a.a.find(t)}static import(t){return null==this.imports[t]&&L.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(t,e,n=!1){if("string"!=typeof t){let n=t.attrName||t.blotName;"string"==typeof n?this.register("formats/"+n,t,e):Object.keys(t).forEach(n=>{this.register(n,t[n],e)})}else null==this.imports[t]||n||L.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?a.a.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}constructor(t,e={}){if(this.options=function(t,e){if((e=b()(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==k.DEFAULTS.theme){if(e.theme=k.import("themes/"+e.theme),null==e.theme)throw new Error(`Invalid theme ${e.theme}. Did you register it?`)}else e.theme=O;let n=b()(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));let r=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce((function(t,e){let n=k.import("modules/"+e);return null==n?L.error(`Cannot load ${e} module. Are you sure you registered it?`):t[e]=n.DEFAULTS||{},t}),{});null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar});return e=b()(!0,{},k.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}(t,e),this.container=this.options.container,null==this.container)return L.error("Invalid Quill container",t);this.options.debug&&k.debug(this.options.debug);let n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new N.a,this.scroll=a.a.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new w(this.scroll),this.selection=new R(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(N.a.events.EDITOR_CHANGE,t=>{t===N.a.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(N.a.events.SCROLL_UPDATE,(t,e)=>{let n=this.selection.lastRange,r=n&&0===n.length?n.index:void 0;q.call(this,()=>this.editor.update(null,e,r),t)});let r=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">${n}<p><br></p></div>`);this.setContents(r),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}addContainer(t,e=null){if("string"==typeof t){let e=t;(t=document.createElement("div")).classList.add(e)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=B(t,e,n),q.call(this,()=>this.editor.deleteText(t,e),n,t,-1*e)}disable(){this.enable(!1)}enable(t=!0){this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}format(t,e,n=N.a.sources.API){return q.call(this,()=>{let n=this.getSelection(!0),r=new i.a;if(null==n)return r;if(a.a.query(t,a.a.Scope.BLOCK))r=this.editor.formatLine(n.index,n.length,{[t]:e});else{if(0===n.length)return this.selection.format(t,e),r;r=this.editor.formatText(n.index,n.length,{[t]:e})}return this.setSelection(n,N.a.sources.SILENT),r},n)}formatLine(t,e,n,r,i){let s;return[t,e,s,i]=B(t,e,n,r,i),q.call(this,()=>this.editor.formatLine(t,e,s),i,t,0)}formatText(t,e,n,r,i){let s;return[t,e,s,i]=B(t,e,n,r,i),q.call(this,()=>this.editor.formatText(t,e,s),i,t,0)}getBounds(t,e=0){let n;n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);let r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}getContents(t=0,e=this.getLength()-t){return[t,e]=B(t,e),this.editor.getContents(t,e)}getFormat(t=this.getSelection(!0),e=0){return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(t=0,e=Number.MAX_VALUE){return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(t=!1){return t&&this.focus(),this.update(),this.selection.getRange()[0]}getText(t=0,e=this.getLength()-t){return[t,e]=B(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n,r=k.sources.API){return q.call(this,()=>this.editor.insertEmbed(t,e,n),r,t)}insertText(t,e,n,r,i){let s;return[t,,s,i]=B(t,0,n,r,i),q.call(this,()=>this.editor.insertText(t,e,s),i,t,e.length)}isEnabled(){return!this.container.classList.contains("ql-disabled")}off(){return this.emitter.off.apply(this.emitter,arguments)}on(){return this.emitter.on.apply(this.emitter,arguments)}once(){return this.emitter.once.apply(this.emitter,arguments)}pasteHTML(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}removeFormat(t,e,n){return[t,e,,n]=B(t,e,n),q.call(this,()=>this.editor.removeFormat(t,e),n,t)}scrollIntoView(){this.selection.scrollIntoView(this.scrollingContainer)}setContents(t,e=N.a.sources.API){return q.call(this,()=>{t=new i.a(t);let e=this.getLength(),n=this.editor.deleteText(0,e),r=this.editor.applyDelta(t),s=r.ops[r.ops.length-1];return null!=s&&"string"==typeof s.insert&&"\n"===s.insert[s.insert.length-1]&&(this.editor.deleteText(this.getLength()-1,1),r.delete(1)),n.compose(r)},e)}setSelection(t,e,n){null==t?this.selection.setRange(null,e||k.sources.API):([t,e,,n]=B(t,e,n),this.selection.setRange(new S(t,e),n),n!==N.a.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer))}setText(t,e=N.a.sources.API){let n=(new i.a).insert(t);return this.setContents(n,e)}update(t=N.a.sources.USER){let e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t,e=N.a.sources.API){return q.call(this,()=>(t=new i.a(t),this.editor.applyDelta(t,e)),e,!0)}}function q(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===N.a.sources.USER)return new i.a;let s=null==n?null:this.getSelection(),o=this.editor.delta,l=t();if(null!=s&&(!0===n&&(n=s.index),null==r?s=I(s,l,e):0!==r&&(s=I(s,n,r,e)),this.setSelection(s,N.a.sources.SILENT)),l.length()>0){let t=[N.a.events.TEXT_CHANGE,l,o,e];this.emitter.emit(N.a.events.EDITOR_CHANGE,...t),e!==N.a.sources.SILENT&&this.emitter.emit(...t)}return l}function B(t,e,n,r,i){let s={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(i=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(i=r,r=n,n=e,e=0),"object"==typeof n?(s=n,i=r):"string"==typeof n&&(null!=r?s[n]=r:i=n),[t,e,s,i=i||N.a.sources.API]}function I(t,e,n,r){if(null==t)return null;let s,o;return e instanceof i.a?[s,o]=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,r!==N.a.sources.USER)})):[s,o]=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&r===N.a.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),new S(s,o-s)}k.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},k.events=N.a.events,k.sources=N.a.sources,k.version="undefined"==typeof QUILL_VERSION?"dev":QUILL_VERSION,k.imports={delta:i.a,parchment:a.a,"core/module":x.a,"core/theme":O}},134:function(t,e,n){"use strict";var r=n(61),i=n.n(r),s=n(60);class o extends i.a.Container{}o.allowedChildren=[s.c,s.a,o],e.a=o},167:function(t,e,n){"use strict";let r=["error","warn","log","info"],i="warn";function s(t,...e){r.indexOf(t)<=r.indexOf(i)&&console[t](...e)}function o(t){return r.reduce((function(e,n){return e[n]=s.bind(console,n,t),e}),{})}s.level=o.level=function(t){i=t},e.a=o},180:function(t,e,n){(function(e){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var n,r,i;try{n=Map}catch(t){n=function(){}}try{r=Set}catch(t){r=function(){}}try{i=Promise}catch(t){i=function(){}}function s(o,a,u,h,c){"object"==typeof a&&(u=a.depth,h=a.prototype,c=a.includeNonEnumerable,a=a.circular);var f=[],d=[],p=void 0!==e;return void 0===a&&(a=!0),void 0===u&&(u=1/0),function o(u,g){if(null===u)return null;if(0===g)return u;var m,y;if("object"!=typeof u)return u;if(t(u,n))m=new n;else if(t(u,r))m=new r;else if(t(u,i))m=new i((function(t,e){u.then((function(e){t(o(e,g-1))}),(function(t){e(o(t,g-1))}))}));else if(s.__isArray(u))m=[];else if(s.__isRegExp(u))m=new RegExp(u.source,l(u)),u.lastIndex&&(m.lastIndex=u.lastIndex);else if(s.__isDate(u))m=new Date(u.getTime());else{if(p&&e.isBuffer(u))return m=e.allocUnsafe?e.allocUnsafe(u.length):new e(u.length),u.copy(m),m;t(u,Error)?m=Object.create(u):void 0===h?(y=Object.getPrototypeOf(u),m=Object.create(y)):(m=Object.create(h),y=h)}if(a){var b=f.indexOf(u);if(-1!=b)return d[b];f.push(u),d.push(m)}for(var E in t(u,n)&&u.forEach((function(t,e){var n=o(e,g-1),r=o(t,g-1);m.set(n,r)})),t(u,r)&&u.forEach((function(t){var e=o(t,g-1);m.add(e)})),u){var v;y&&(v=Object.getOwnPropertyDescriptor(y,E)),v&&null==v.set||(m[E]=o(u[E],g-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(u);for(E=0;E<w.length;E++){var N=w[E];(!(T=Object.getOwnPropertyDescriptor(u,N))||T.enumerable||c)&&(m[N]=o(u[N],g-1),T.enumerable||Object.defineProperty(m,N,{enumerable:!1}))}}if(c){var x=Object.getOwnPropertyNames(u);for(E=0;E<x.length;E++){var T,A=x[E];(T=Object.getOwnPropertyDescriptor(u,A))&&T.enumerable||(m[A]=o(u[A],g-1),Object.defineProperty(m,A,{enumerable:!1}))}}return m}(o,u)}function o(t){return Object.prototype.toString.call(t)}function l(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return s.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},s.__objToStr=o,s.__isDate=function(t){return"object"==typeof t&&"[object Date]"===o(t)},s.__isArray=function(t){return"object"==typeof t&&"[object Array]"===o(t)},s.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===o(t)},s.__getRegExpFlags=l,s}();t.exports&&(t.exports=n)}).call(this,n(399).Buffer)},181:function(t,e,n){"use strict";var r=n(403),i=n.n(r),s=n(167);let o=Object(s.a)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(...t)=>{[].slice.call(document.querySelectorAll(".ql-container")).forEach(e=>{e.__quill&&e.__quill.emitter&&e.__quill.emitter.handleDOM(...t)})})}));class l extends i.a{constructor(){super(),this.listeners={},this.on("error",o.error)}emit(){o.log.apply(o,arguments),super.emit.apply(this,arguments)}handleDOM(t,...e){(this.listeners[t.type]||[]).forEach((function({node:n,handler:r}){(t.target===n||n.contains(t.target))&&r(t,...e)}))}listenDOM(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},e.a=l},380:function(t,e,n){"use strict";var r=n(61),i=n.n(r),s=n(159);class o extends i.a.Embed{static value(){}constructor(t,e){super(t),this.selection=e,this.textNode=document.createTextNode(o.CONTENTS),this.domNode.appendChild(this.textNode),this._length=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(t,e){if(0!==this._length)return super.format(t,e);let n=this,r=0;for(;null!=n&&n.statics.scope!==i.a.Scope.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=o.CONTENTS.length,n.optimize(),n.formatAt(r,o.CONTENTS.length,t,e),this._length=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this._length}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return;let t,e,n,r=this.textNode,l=this.selection.getNativeRange();for(null!=l&&l.start.node===r&&l.end.node===r&&([t,e,n]=[r,l.start.offset,l.end.offset]);null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==o.CONTENTS){let e=this.textNode.data.split(o.CONTENTS).join("");this.next instanceof s.a?(t=this.next.domNode,this.next.insertAt(0,e),this.textNode.data=o.CONTENTS):(this.textNode.data=e,this.parent.insertBefore(i.a.create(this.textNode),this),this.textNode=document.createTextNode(o.CONTENTS),this.domNode.appendChild(this.textNode))}return this.remove(),null!=e?([e,n]=[e,n].map((function(e){return Math.max(0,Math.min(t.data.length,e-1))})),{startNode:t,startOffset:e,endNode:t,endOffset:n}):void 0}update(t,e){if(t.some(t=>"characterData"===t.type&&t.target===this.textNode)){let t=this.restore();t&&(e.range=t)}}value(){return""}}o.blotName="cursor",o.className="ql-cursor",o.tagName="span",o.CONTENTS="\ufeff",e.a=o},385:function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));var r=n(153),i=n.n(r),s=n(115),o=n.n(s),l=n(61),a=n.n(l),u=n(132),h=n(167),c=n(130);let f={scope:a.a.Scope.BLOCK,whitelist:["right","center","justify"]},d=new a.a.Attributor.Attribute("align","align",f),p=(new a.a.Attributor.Class("align","ql-align",f),new a.a.Attributor.Style("align","text-align",f));class g extends a.a.Attributor.Style{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+e.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):e}}new a.a.Attributor.Class("color","ql-color",{scope:a.a.Scope.INLINE});let m=new g("color","color",{scope:a.a.Scope.INLINE}),y=(new a.a.Attributor.Class("background","ql-bg",{scope:a.a.Scope.INLINE}),new g("background","background-color",{scope:a.a.Scope.INLINE}));var b=n(102);let E={scope:a.a.Scope.BLOCK,whitelist:["rtl"]},v=new a.a.Attributor.Attribute("direction","dir",E),w=(new a.a.Attributor.Class("direction","ql-direction",E),new a.a.Attributor.Style("direction","direction",E)),N={scope:a.a.Scope.INLINE,whitelist:["serif","monospace"]};new a.a.Attributor.Class("font","ql-font",N);class x extends a.a.Attributor.Style{value(t){return super.value(t).replace(/["']/g,"")}}let T=new x("font","font-family",N),A=(new a.a.Attributor.Class("size","ql-size",{scope:a.a.Scope.INLINE,whitelist:["small","large","huge"]}),new a.a.Attributor.Style("size","font-size",{scope:a.a.Scope.INLINE,whitelist:["10px","18px","32px"]})),S=Object(h.a)("quill:clipboard");const R="__ql-matcher",_=[[Node.TEXT_NODE,function(t,e){let n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!q(t.parentNode).whiteSpace.startsWith("pre")){let e=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,e.bind(e,!0)),(null==t.previousSibling&&I(t.parentNode)||null!=t.previousSibling&&I(t.previousSibling))&&(n=n.replace(/^\s+/,e.bind(e,!1))),(null==t.nextSibling&&I(t.parentNode)||null!=t.nextSibling&&I(t.nextSibling))&&(n=n.replace(/\s+$/,e.bind(e,!1)))}return e.insert(n)}],[Node.TEXT_NODE,P],["br",function(t,e){B(e,"\n")||e.insert("\n");return e}],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,function(t,e){let n=a.a.query(t);if(null==n)return e;if(n.prototype instanceof a.a.Embed){let r={},i=n.value(t);null!=i&&(r[n.blotName]=i,e=(new o.a).insert(r,n.formats(t)))}else"function"==typeof n.formats&&(e=k(e,n.blotName,n.formats(t)));return e}],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,function(t,e){let n=a.a.Attributor.Attribute.keys(t),r=a.a.Attributor.Class.keys(t),i=a.a.Attributor.Style.keys(t),s={};n.concat(r).concat(i).forEach(e=>{let n=a.a.query(e,a.a.Scope.ATTRIBUTE);null!=n&&(s[n.attrName]=n.value(t),s[n.attrName])||(n=C[e],null==n||n.attrName!==e&&n.keyName!==e||(s[n.attrName]=n.value(t)||void 0),n=O[e],null==n||n.attrName!==e&&n.keyName!==e||(n=O[e],s[n.attrName]=n.value(t)||void 0))}),Object.keys(s).length>0&&(e=k(e,s));return e}],[Node.ELEMENT_NODE,function(t,e){let n={},r=t.style||{};r.fontStyle&&"italic"===q(t).fontStyle&&(n.italic=!0);r.fontWeight&&(q(t).fontWeight.startsWith("bold")||parseInt(q(t).fontWeight)>=700)&&(n.bold=!0);Object.keys(n).length>0&&(e=k(e,n));parseFloat(r.textIndent||0)>0&&(e=(new o.a).insert("\t").concat(e));return e}],["li",function(t,e){let n=a.a.query(t);if(null==n||"list-item"!==n.blotName||!B(e,"\n"))return e;let r=-1,i=t.parentNode;for(;!i.classList.contains("ql-clipboard");)"list"===(a.a.query(i)||{}).blotName&&(r+=1),i=i.parentNode;return r<=0?e:e.compose((new o.a).retain(e.length()-1).retain(1,{indent:r}))}],["b",U.bind(U,"bold")],["i",U.bind(U,"italic")],["style",function(){return new o.a}]],C=[d,v].reduce((function(t,e){return t[e.keyName]=e,t}),{}),O=[p,y,m,w,T,A].reduce((function(t,e){return t[e.keyName]=e,t}),{});class L extends c.a{constructor(t,e){super(t,e),this.quill.root.addEventListener("paste",this.onPaste.bind(this)),this.container=this.quill.addContainer("ql-clipboard"),this.container.setAttribute("contenteditable",!0),this.container.setAttribute("tabindex",-1),this.matchers=[],_.concat(this.options.matchers).forEach(([t,n])=>{(e.matchVisual||n!==D)&&this.addMatcher(t,n)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();const e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[b.b.blotName]){const t=this.container.innerText;return this.container.innerHTML="",(new o.a).insert(t,{[b.b.blotName]:e[b.b.blotName]})}let[n,r]=this.prepareMatching(),i=function t(e,n,r){return e.nodeType===e.TEXT_NODE?r.reduce((function(t,n){return n(e,t)}),new o.a):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(i,s)=>{let o=t(s,n,r);return s.nodeType===e.ELEMENT_NODE&&(o=n.reduce((function(t,e){return e(s,t)}),o),o=(s[R]||[]).reduce((function(t,e){return e(s,t)}),o)),i.concat(o)},new o.a):new o.a}(this.container,n,r);return B(i,"\n")&&null==i.ops[i.ops.length-1].attributes&&(i=i.compose((new o.a).retain(i.length()-1).delete(1))),S.log("convert",this.container.innerHTML,i),this.container.innerHTML="",i}dangerouslyPasteHTML(t,e,n=u.a.sources.API){if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,u.a.sources.SILENT);else{let r=this.convert(e);this.quill.updateContents((new o.a).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),u.a.sources.SILENT)}}onPaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;let e=this.quill.getSelection(),n=(new o.a).retain(e.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.a.sources.SILENT),setTimeout(()=>{n=n.concat(this.convert()).delete(e.length),this.quill.updateContents(n,u.a.sources.USER),this.quill.setSelection(n.length()-e.length,u.a.sources.SILENT),this.quill.scrollingContainer.scrollTop=r,this.quill.focus()},1)}prepareMatching(){let t=[],e=[];return this.matchers.forEach(n=>{let[r,i]=n;switch(r){case Node.TEXT_NODE:e.push(i);break;case Node.ELEMENT_NODE:t.push(i);break;default:[].forEach.call(this.container.querySelectorAll(r),t=>{t[R]=t[R]||[],t[R].push(i)})}}),[t,e]}}function k(t,e,n){return"object"==typeof e?Object.keys(e).reduce((function(t,n){return k(t,n,e[n])}),t):t.reduce((function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,i()({},{[e]:n},r.attributes))}),new o.a)}function q(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};return t["__ql-computed-style"]||(t["__ql-computed-style"]=window.getComputedStyle(t))}function B(t,e){let n="";for(let r=t.ops.length-1;r>=0&&n.length<e.length;--r){let e=t.ops[r];if("string"!=typeof e.insert)break;n=e.insert+n}return n.slice(-1*e.length)===e}function I(t){if(0===t.childNodes.length)return!1;let e=q(t);return["block","list-item"].indexOf(e.display)>-1}function U(t,e,n){return k(n,t,!0)}function P(t,e){return B(e,"\n")||(I(t)||e.length()>0&&t.nextSibling&&I(t.nextSibling))&&e.insert("\n"),e}function D(t,e){if(I(t)&&null!=t.nextElementSibling&&!B(e,"\n\n")){let n=t.offsetHeight+parseFloat(q(t).marginTop)+parseFloat(q(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}L.DEFAULTS={matchers:[],matchVisual:!0}},398:function(t,e){let n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){let t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,n){return arguments.length>1&&!this.contains(e)==!n?n:t.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],s=0;s<r;s++)if(e=n[s],t.call(i,e,s,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},399:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(400),i=n(401),s=n(402);function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=a.prototype:(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);a.TYPED_ARRAY_SUPPORT?(t=e).__proto__=a.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=l(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(a.isBuffer(e)){var n=0|d(e.length);return 0===(t=l(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?l(t,0):f(t,e);if("Buffer"===e.type&&s(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(h(e),t=l(t,e<0?0:0|d(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=l(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(r)return j(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return _(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){var s,o=1,l=t.length,a=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,l/=2,a/=2,n/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var h=-1;for(s=n;s<l;s++)if(u(t,s)===u(e,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===a)return h*o}else-1!==h&&(s-=s-h),h=-1}else for(n+a>l&&(n=l-a),s=n;s>=0;s--){for(var c=!0,f=0;f<a;f++)if(u(t,s+f)!==u(e,f)){c=!1;break}if(c)return s}return-1}function E(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var l=parseInt(e.substr(2*o,2),16);if(isNaN(l))return o;t[n+o]=l}return o}function v(t,e,n,r){return Y(j(e,t.length-n),t,n,r)}function w(t,e,n,r){return Y(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function N(t,e,n,r){return w(t,e,n,r)}function x(t,e,n,r){return Y(F(e),t,n,r)}function T(t,e,n,r){return Y(function(t,e){for(var n,r,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s,o,l,a,u=t[i],h=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=n)switch(c){case 1:u<128&&(h=u);break;case 2:128==(192&(s=t[i+1]))&&(a=(31&u)<<6|63&s)>127&&(h=a);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&(a=(15&u)<<12|(63&s)<<6|63&o)>2047&&(a<55296||a>57343)&&(h=a);break;case 4:s=t[i+1],o=t[i+2],l=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&l)&&(a=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&l)>65535&&a<1114112&&(h=a)}null===h?(h=65533,c=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=c}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return u(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return function(t,e,n,r){return h(e),e<=0?l(t,e):void 0!==n?"string"==typeof r?l(t,e).fill(n,r):l(t,e).fill(n):l(t,e)}(null,t,e,n)},a.allocUnsafe=function(t){return c(null,t)},a.allocUnsafeSlow=function(t){return c(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):g.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,r,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0),l=Math.min(s,o),u=this.slice(r,i),h=t.slice(e,n),c=0;c<l;++c)if(u[c]!==h[c]){s=u[c],o=h[c];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return N(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function _(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=e;s<n;++s)i+=M(t[s]);return i}function O(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,n,r,i,s){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function q(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function I(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,s){return s||I(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,s){return s||I(t,0,n,8),i.write(t,e,n,r,52,8),n+8}a.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=a.prototype;else{var i=e-t;n=new a(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+t]}return n},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=e,i=1,s=this[t+--r];r>0&&(i*=256);)s+=this[t+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||k(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||k(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):q(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):q(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var s=0,o=1,l=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&0===l&&0!==this[e+s-1]&&(l=1),this[e+s]=(t/o>>0)-l&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var s=n-1,o=1,l=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===l&&0!==this[e+s+1]&&(l=1),this[e+s]=(t/o>>0)-l&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):q(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):q(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,s=r-n;if(this===t&&n<e&&e<r)for(i=s-1;i>=0;--i)t[i+e]=this[i+n];else if(s<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var o=a.isBuffer(t)?t:j(new a(t,r).toString()),l=o.length;for(s=0;s<n-e;++s)this[s+e]=o[s%l]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function M(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var n;e=e||1/0;for(var r=t.length,i=null,s=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function F(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(35))},400:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),o=r[0],l=r[1],a=new s(function(t,e,n){return 3*(e+n)/4-n}(0,o,l)),h=0,c=l>0?o-4:o;for(n=0;n<c;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],a[h++]=e>>16&255,a[h++]=e>>8&255,a[h++]=255&e;2===l&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,a[h++]=255&e);1===l&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,a[h++]=e>>8&255,a[h++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=0,l=n-i;o<l;o+=16383)s.push(h(t,o,o+16383>l?l:o+16383));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,a=o.length;l<a;++l)r[l]=o[l],i[o.charCodeAt(l)]=l;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var i,s,o=[],l=e;l<n;l+=3)i=(t[l]<<16&16711680)+(t[l+1]<<8&65280)+(255&t[l+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},401:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,i){var s,o,l=8*i-r-1,a=(1<<l)-1,u=a>>1,h=-7,c=n?i-1:0,f=n?-1:1,d=t[e+c];for(c+=f,s=d&(1<<-h)-1,d>>=-h,h+=l;h>0;s=256*s+t[e+c],c+=f,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=r;h>0;o=256*o+t[e+c],c+=f,h-=8);if(0===s)s=1-u;else{if(s===a)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=u}return(d?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,n,r,i,s){var o,l,a,u=8*s-i-1,h=(1<<u)-1,c=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),(e+=o+c>=1?f/a:f*Math.pow(2,1-c))*a>=2&&(o++,a/=2),o+c>=h?(l=0,o=h):o+c>=1?(l=(e*a-1)*Math.pow(2,i),o+=c):(l=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=255&l,d+=p,l/=256,i-=8);for(o=o<<i|l,u+=i;u>0;t[n+d]=255&o,d+=p,o/=256,u-=8);t[n+d-p]|=128*g}},402:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},403:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function s(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function l(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(i=!1)),l.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},l.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var s=0,o=r.length,l=new Array(o);s<o;s++)l[s]=r[s].fn;return l},l.prototype.emit=function(t,e,n,r,s,o){var l=i?i+t:t;if(!this._events[l])return!1;var a,u,h=this._events[l],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,r),!0;case 5:return h.fn.call(h.context,e,n,r,s),!0;case 6:return h.fn.call(h.context,e,n,r,s,o),!0}for(u=1,a=new Array(c-1);u<c;u++)a[u-1]=arguments[u];h.fn.apply(h.context,a)}else{var f,d=h.length;for(u=0;u<d;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),c){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,n);break;case 4:h[u].fn.call(h[u].context,e,n,r);break;default:if(!a)for(f=1,a=new Array(c-1);f<c;f++)a[f-1]=arguments[f];h[u].fn.apply(h[u].context,a)}}return!0},l.prototype.on=function(t,e,n){var r=new o(e,n||this),s=i?i+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},l.prototype.once=function(t,e,n){var r=new o(e,n||this,!0),s=i?i+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},l.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new s:delete this._events[o],this;var l=this._events[o];if(l.fn)l.fn!==e||r&&!l.once||n&&l.context!==n||(0==--this._eventsCount?this._events=new s:delete this._events[o]);else{for(var a=0,u=[],h=l.length;a<h;a++)(l[a].fn!==e||r&&!l[a].once||n&&l[a].context!==n)&&u.push(l[a]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new s:delete this._events[o]}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new s:delete this._events[e])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=i,l.EventEmitter=l,t.exports=l},59:function(t,e,n){"use strict";var r=n(61),i=n.n(r),s=n(132),o=n(60),l=n(173),a=n(134),u=n(380),h=n(159);class c extends i.a.Embed{constructor(t){super(t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable",!1),[].slice.call(this.domNode.childNodes).forEach(t=>{this.contentNode.appendChild(t)}),this.leftGuard=document.createTextNode("\ufeff"),this.rightGuard=document.createTextNode("\ufeff"),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e,n,r=t.data.split("\ufeff").join("");if(t===this.leftGuard)if(this.prev instanceof h.a){let t=this.prev.length();this.prev.insertAt(t,r),e={startNode:this.prev.domNode,startOffset:t+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(i.a.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof h.a?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(i.a.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data="\ufeff",e}update(t,e){t.forEach(t=>{if("characterData"===t.type&&(t.target===this.leftGuard||t.target===this.rightGuard)){let n=this.restore(t.target);n&&(e.range=n)}})}}var f=c,d=n(78),p=n(181),g=n(102);function m(t){return t instanceof o.c||t instanceof o.a}class y extends i.a.Scroll{constructor(t,e){super(t),this.emitter=e.emitter,Array.isArray(e.whitelist)&&(this.whitelist=e.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),this.domNode.addEventListener("DOMNodeInserted",(function(){})),this.optimize(),this.enable()}batchStart(){this.batch=!0}batchEnd(){this.batch=!1,this.optimize()}deleteAt(t,e){let[n,r]=this.line(t),[i]=this.line(t+e);if(super.deleteAt(t,e),null!=i&&n!==i&&r>0){if(n instanceof o.a||i instanceof o.a)return void this.optimize();if(n instanceof g.b){let t=n.newlineIndex(n.length(),!0);if(t>-1&&(n=n.split(t+1),n===i))return void this.optimize()}else if(i instanceof g.b){let t=i.newlineIndex(0);t>-1&&i.split(t+1)}let t=i.children.head instanceof l.a?null:i.children.head;n.moveChildren(i,t),n.remove()}this.optimize()}enable(t=!0){this.domNode.setAttribute("contenteditable",t)}formatAt(t,e,n,r){(null==this.whitelist||this.whitelist[n])&&(super.formatAt(t,e,n,r),this.optimize())}insertAt(t,e,n){if(null==n||null==this.whitelist||this.whitelist[e]){if(t>=this.length())if(null==n||null==i.a.query(e,i.a.Scope.BLOCK)){let t=i.a.create(this.statics.defaultChild);this.appendChild(t),null==n&&e.endsWith("\n")&&(e=e.slice(0,-1)),t.insertAt(0,e,n)}else{let t=i.a.create(e,n);this.appendChild(t)}else super.insertAt(t,e,n);this.optimize()}}insertBefore(t,e){if(t.statics.scope===i.a.Scope.INLINE_BLOT){let e=i.a.create(this.statics.defaultChild);e.appendChild(t),t=e}super.insertBefore(t,e)}leaf(t){return this.path(t).pop()||[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(m,t)}lines(t=0,e=Number.MAX_VALUE){let n=(t,e,r)=>{let s=[],o=r;return t.children.forEachAt(e,r,(function(t,e,r){m(t)?s.push(t):t instanceof i.a.Container&&(s=s.concat(n(t,e,o))),o-=r})),s};return n(this,t,e)}optimize(t=[],e={}){!0!==this.batch&&(super.optimize(t,e),t.length>0&&this.emitter.emit(p.a.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}update(t){if(!0===this.batch)return;let e=p.a.sources.USER;"string"==typeof t&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(p.a.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(p.a.events.SCROLL_UPDATE,e,t)}}y.blotName="scroll",y.className="ql-editor",y.tagName="DIV",y.defaultChild="block",y.allowedChildren=[o.c,o.a,a.a];var b=y,E=n(385),v=n(130);class w extends v.a{constructor(t,e){super(t,e),this.lastRecorded=0,this.ignoreChange=!1,this.clear(),this.quill.on(s.a.events.EDITOR_CHANGE,(t,e,n,r)=>{t!==s.a.events.TEXT_CHANGE||this.ignoreChange||(this.options.userOnly&&r!==s.a.sources.USER?this.transform(e):this.record(e,n))}),this.quill.keyboard.addBinding({key:"Z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"Y",shortKey:!0},this.redo.bind(this))}change(t,e){if(0===this.stack[t].length)return;let n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],s.a.sources.USER),this.ignoreChange=!1;let r=function(t){let e=t.reduce((function(t,e){return t+=e.delete||0}),0),n=t.length()-e;(function(t){let e=t.ops[t.ops.length-1];if(null==e)return!1;if(null!=e.insert)return"string"==typeof e.insert&&e.insert.endsWith("\n");if(null!=e.attributes)return Object.keys(e.attributes).some((function(t){return null!=i.a.query(t,i.a.Scope.BLOCK)}));return!1})(t)&&(n-=1);return n}(n[t]);this.quill.setSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(0===t.ops.length)return;this.stack.redo=[];let n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){let e=this.stack.undo.pop();n=n.compose(e.undo),t=e.redo.compose(t)}else this.lastRecorded=r;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}redo(){this.change("redo","undo")}transform(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}undo(){this.change("undo","redo")}}w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};var N=n(122);s.a.register({"blots/block":o.c,"blots/block/embed":o.a,"blots/break":l.a,"blots/container":a.a,"blots/cursor":u.a,"blots/embed":f,"blots/inline":d.a,"blots/scroll":b,"blots/text":h.a,"modules/clipboard":E.a,"modules/history":w,"modules/keyboard":N.a}),i.a.register(o.c,l.a,u.a,d.a,b,h.a);e.a=s.a}}]);