(window.webpackJsonp=window.webpackJsonp||[]).push([[9,31,32,33,34,35,38,39,40,41,42,46,47,48,49,51,52,53],{100:function(e,t,i){"use strict";i.r(t),i.d(t,"DescriptionBlot",(function(){return r}));var o=i(60),n=i(69);class r extends n.FieldBlot{static create(e){console.log("DescriptionBlot create ",e);let t=super.create(e);return t.setAttribute("data-placeholder","Summary of the text"),t.setAttribute("data-label","Description"),t}formatAt(e,t,i,o){console.log("DescriptionBlot formatAt ",e,t,i,o),i===r.blotName?super.formatAt(e,t,i,o):"link"===i&&super.formatAt(0,this.length(),i,o)}format(e,t){console.log("DescriptionBlot format ",e,t),super.format(e,t)}replace(e){console.log("DescriptionBlot replace ",e),super.replace(e)}insertAt(e,t,i){console.log("DescriptionBlot insertAt ",e,t,i),super.insertAt(e,t,i)}}r.blotName="blockDescription",r.tagName="address",o.a.register(r)},101:function(e,t,i){"use strict";i.r(t),i.d(t,"SubheaderBlot",(function(){return r}));var o=i(60),n=i(83);class r extends n.HeaderBlot{}r.blotName="blockSubheader",r.tagName="h4",o.a.register(r)},102:function(e,t,i){"use strict";i.r(t);var o=i(167),n=i.n(o),r=i(152),a=i.n(r),s=i(155),l=i.n(s),c=i(151),u=i.n(c),d=i(153),h=i.n(d),f=i(148),p=i.n(f),g=i(150),m=i.n(g),b=i(149),y=i.n(b),v=i(154),S=i.n(v);n.a.registerLanguage("javascript",a.a),n.a.registerLanguage("typescript",l.a),n.a.registerLanguage("sql",h.a),n.a.registerLanguage("html",u.a),n.a.registerLanguage("xml",p.a),n.a.registerLanguage("css",m.a),n.a.registerLanguage("bash",y.a),n.a.registerLanguage("yaml",S.a),t.default=n.a},103:function(e,t,i){"use strict";i.r(t),i.d(t,"DividerBlot",(function(){return n}));var o=i(61);class n extends o.a{}n.blotName="blockDivider",n.tagName="hr"},105:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return l}));var o=i(62),n=i.n(o),r=i(61),a=i(139);class s extends r.c{static formats(e){return e.tagName===this.tagName?void 0:super.formats(e)}format(e,t){e!==l.blotName||t?super.format(e,t):this.replaceWith(n.a.create(this.statics.scope))}remove(){null==this.prev&&null==this.next?this.parent.remove():super.remove()}replaceWith(e,t){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,t),this):(this.parent.unwrap(),super.replaceWith(e,t))}}s.blotName="list-item",s.tagName="LI";class l extends a.a{static create(e){let t="ordered"===e?"OL":"UL",i=super.create(t);return"checked"!==e&&"unchecked"!==e||i.setAttribute("data-checked","checked"===e),i}static formats(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}constructor(e){super(e);const t=t=>{if(t.target.parentNode!==e)return;let i=this.statics.formats(e),o=n.a.find(t.target);"checked"===i?o.format("list","unchecked"):"unchecked"===i&&o.format("list","checked")};e.addEventListener("touchstart",t),e.addEventListener("mousedown",t)}format(e,t){this.children.length>0&&this.children.tail.format(e,t)}formats(){return{[this.statics.blotName]:this.statics.formats(this.domNode)}}insertBefore(e,t){if(e instanceof s)super.insertBefore(e,t);else{let i=null==t?this.length():t.offset(this),o=this.split(i);o.parent.insertBefore(e,o)}}optimize(e){super.optimize(e);let t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&t.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(t.moveChildren(this),t.remove())}replace(e){if(e.statics.blotName!==this.statics.blotName){let t=n.a.create(this.statics.defaultChild);e.moveChildren(t),this.appendChild(t)}super.replace(e)}}l.blotName="list",l.scope=n.a.Scope.BLOCK_BLOT,l.tagName=["OL","UL"],l.defaultChild="list-item",l.allowedChildren=[s]},106:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return u}));var o=i(62),n=i.n(o),r=i(137),a=i(135),s=i(114);class l extends s.b{replaceWith(e){this.domNode.textContent=this.domNode.textContent,this.attach(),super.replaceWith(e)}highlight(e){let t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}l.className="ql-syntax";let c=new n.a.Attributor.Class("token","hljs",{scope:n.a.Scope.INLINE});class u extends a.a{static register(){r.a.register(c,!0),r.a.register(l,!0)}constructor(e,t){if(super(e,t),"function"!=typeof this.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");let i=null;this.quill.on(r.a.events.SCROLL_OPTIMIZE,()=>{clearTimeout(i),i=setTimeout(()=>{this.highlight(),i=null},this.options.interval)}),this.highlight()}highlight(){if(this.quill.selection.composing)return;this.quill.update(r.a.sources.USER);let e=this.quill.getSelection();this.quill.scroll.descendants(l).forEach(e=>{e.highlight(this.options.highlight)}),this.quill.update(r.a.sources.SILENT),null!=e&&this.quill.setSelection(e,r.a.sources.SILENT)}}u.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3}},115:function(e,t,i){"use strict";var o=i(81);class n extends o.a{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}n.blotName="bold",n.tagName=["STRONG","B"],t.a=n},123:function(e,t,i){var o,n,r;!function(a){"use strict";n=[i(63)],void 0===(r="function"==typeof(o=function(e){var t=e.transform;e.transform=function(i,o,n,r,a){t.call(e,e.scale(i,o,a),o,n,r,a)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var i,o,n,r,a=t.aspectRatio;if(!a)return t;for(o in i={},t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o]);return i.crop=!0,(n=e.naturalWidth||e.width)/(r=e.naturalHeight||e.height)>a?(i.maxWidth=r*a,i.maxHeight=r):(i.maxWidth=n,i.maxHeight=n/a),i},e.renderImageToCanvas=function(e,t,i,o,n,r,a,s,l,c,u){var d=e.getContext("2d");return!1===u.imageSmoothingEnabled?d.imageSmoothingEnabled=!1:u.imageSmoothingQuality&&(d.imageSmoothingQuality=u.imageSmoothingQuality),d.drawImage(t,i,o,n,r,a,s,l,c),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,i,o){i=i||{};var n,r,a,s,l,c,u,d,h,f,p,g=document.createElement("canvas"),m=t.getContext||e.hasCanvasOption(i)&&g.getContext,b=t.naturalWidth||t.width,y=t.naturalHeight||t.height,v=b,S=y;function A(){var e=Math.max((a||v)/v,(s||S)/S);e>1&&(v*=e,S*=e)}function E(){var e=Math.min((n||v)/v,(r||S)/S);e<1&&(v*=e,S*=e)}if(m&&(u=(i=e.getTransformedOptions(t,i,o)).left||0,d=i.top||0,i.sourceWidth?(l=i.sourceWidth,void 0!==i.right&&void 0===i.left&&(u=b-l-i.right)):l=b-u-(i.right||0),i.sourceHeight?(c=i.sourceHeight,void 0!==i.bottom&&void 0===i.top&&(d=y-c-i.bottom)):c=y-d-(i.bottom||0),v=l,S=c),n=i.maxWidth,r=i.maxHeight,a=i.minWidth,s=i.minHeight,m&&n&&r&&i.crop?(v=n,S=r,(p=l/c-n/r)<0?(c=r*l/n,void 0===i.top&&void 0===i.bottom&&(d=(y-c)/2)):p>0&&(l=n*c/r,void 0===i.left&&void 0===i.right&&(u=(b-l)/2))):((i.contain||i.cover)&&(a=n=n||a,s=r=r||s),i.cover?(E(),A()):(A(),E())),m){if((h=i.pixelRatio)>1&&(g.style.width=v+"px",g.style.height=S+"px",v*=h,S*=h,g.getContext("2d").scale(h,h)),(f=i.downsamplingRatio)>0&&f<1&&v<l&&S<c)for(;l*f>v;)g.width=l*f,g.height=c*f,e.renderImageToCanvas(g,t,u,d,l,c,0,0,g.width,g.height,i),u=0,d=0,l=g.width,c=g.height,(t=document.createElement("canvas")).width=l,t.height=c,e.renderImageToCanvas(t,g,0,0,l,c,0,0,l,c,i);return g.width=v,g.height=S,e.transformCoordinates(g,i),e.renderImageToCanvas(g,t,u,d,l,c,0,0,v,S,i)}return t.width=v,t.height=S,t}})?o.apply(t,n):o)||(e.exports=r)}()},124:function(e,t,i){var o,n,r;!function(a){"use strict";n=[i(63),i(80)],void 0===(r="function"==typeof(o=function(e){e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(t,i,o){if(o&&!(i+o>t.byteLength))return e.createObjectURL(new Blob([t.buffer.slice(i,i+o)]));console.log("Invalid Exif data: Invalid thumbnail data.")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,i,o,n,r,a){var s,l,c,u,d,h,f=e.exifTagTypes[n];if(f){if(!((l=(s=f.size*r)>4?i+t.getUint32(o+8,a):o+8)+s>t.byteLength)){if(1===r)return f.getValue(t,l,a);for(c=[],u=0;u<r;u+=1)c[u]=f.getValue(t,l+u*f.size,a);if(f.ascii){for(d="",u=0;u<c.length&&"\0"!==(h=c[u]);u+=1)d+=h;return d}return c}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},e.parseExifTag=function(t,i,o,n){return{number:t.getUint16(o,n),value:e.getExifValue(t,i,o,t.getUint16(o+2,n),t.getUint32(o+4,n),n)}},e.parseExifTags=function(e,t,i,o,n){var r,a,s,l,c;if(i+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=i+2+12*(r=e.getUint16(i,o)))+4>e.byteLength)){for(s=0;s<r;s+=1)l=i+2+12*s,c=this.parseExifTag(e,t,l,o,n),n.exif[c.number]=c.value,n.exifOffsets&&(n.exifOffsets[c.number]=l);return e.getUint32(a,o)}console.log("Invalid Exif data: Invalid directory size.")}},e.parseExifData=function(t,i,o,n,r){if(!r.disableExif){var a,s,l,c=i+10;if(1165519206===t.getUint32(i+4))if(c+8>t.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===t.getUint16(i+8)){switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===t.getUint16(c+2,a)?(s=t.getUint32(c+4,a),n.exif=new e.ExifMap,r.disableExifOffsets||(n.exifOffsets=new e.ExifMap,n.exifTiffOffset=c,n.exifLittleEndian=a),(s=e.parseExifTags(t,c,c+s,a,n))&&!r.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,c,c+s,a,l),l.exif[513]&&(n.exif.Thumbnail=e.getExifThumbnail(t,c+l.exif[513],l.exif[514]))),n.exif[34665]&&!r.disableExifSub&&e.parseExifTags(t,c,c+n.exif[34665],a,n),n.exif[34853]&&!r.disableExifGps&&e.parseExifTags(t,c,c+n.exif[34853],a,n)):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(e,t,i){return new DataView(e,t.exifOffsets[274]+8,2).setUint16(0,i,t.exifLittleEndian),e}},e.writeExifData=function(t,i,o,n){e.exifWriters[i.exif.map[o]](t,i,n)}})?o.apply(t,n):o)||(e.exports=r)}()},125:function(e,t,i){var o,n,r;!function(a){"use strict";n=[i(63),i(80)],void 0===(r="function"==typeof(o=function(e){e.IptcMap=function(){return this},e.IptcMap.prototype.map={ObjectName:5},e.IptcMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.parseIptcTags=function(e,t,i,o){function n(e,t,i){for(var o="",n=t;n<t+i;n++)o+=String.fromCharCode(e.getUint8(n));return o}for(var r,a,s,l=t;l<t+i;)28===e.getUint8(l)&&2===e.getUint8(l+1)&&(s=e.getUint8(l+2))in o.iptc.tags&&(a=e.getInt16(l+3),r=n(e,l+5,a),Object.prototype.hasOwnProperty.call(o.iptc,s)?o.iptc[s]instanceof Array?o.iptc[s].push(r):o.iptc[s]=[o.iptc[s],r]:o.iptc[s]=r),l++},e.parseIptcData=function(t,i,o,n,r){if(!r.disableIptc){for(var a=i+o,s=function(e,t){return 943868237===e.getUint32(t)&&1028===e.getUint16(t+4)};i+8<a;){if(s(t,i)){var l=t.getUint8(i+7);l%2!=0&&(l+=1),0===l&&(l=4);var c=i+8+l;if(c>a){console.log("Invalid IPTC data: Invalid segment offset.");break}var u=t.getUint16(i+6+l);if(i+u>a){console.log("Invalid IPTC data: Invalid segment size.");break}return n.iptc=new e.IptcMap,e.parseIptcTags(t,c,u,n)}i++}console.log("No IPTC data at this offset - could be XMP")}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData)})?o.apply(t,n):o)||(e.exports=r)}()},140:function(e,t,i){"use strict";var o=i(115);class n extends o.a{}n.blotName="italic",n.tagName=["EM","I"],t.a=n},157:function(e,t,i){e.exports=i(63),i(123),i(80),i(158),i(124),i(159),i(125),i(160),i(161)},158:function(e,t,i){var o,n,r;!function(a){"use strict";n=[i(63),i(80)],void 0===(r="function"==typeof(o=function(e){"undefined"!=typeof fetch&&"undefined"!=typeof Request?e.fetchBlob=function(t,i,o){e.hasMetaOption(o)?fetch(new Request(t,o)).then((function(e){return e.blob()})).then(i).catch((function(e){console.log(e),i()})):i()}:"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof ProgressEvent&&(e.fetchBlob=function(t,i,o){if(e.hasMetaOption(o)){o=o||{};var n=new XMLHttpRequest;n.open(o.method||"GET",t),o.headers&&Object.keys(o.headers).forEach((function(e){n.setRequestHeader(e,o.headers[e])})),n.withCredentials="include"===o.credentials,n.responseType="blob",n.onload=function(){i(n.response)},n.onerror=n.onabort=n.ontimeout=function(e){console.log(e),i()},n.send(o.body)}else i()})})?o.apply(t,n):o)||(e.exports=r)}()},159:function(e,t,i){var o,n,r;!function(a){"use strict";n=[i(63),i(124)],void 0===(r="function"==typeof(o=function(e){e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,i=e.tags,o=e.map;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(o[i[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,i={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(i[t]=this.getText(t));return i}})?o.apply(t,n):o)||(e.exports=r)}()},160:function(e,t,i){var o,n,r;!function(a){"use strict";n=[i(63),i(125)],void 0===(r="function"==typeof(o=function(e){e.IptcMap.prototype.tags={3:"ObjectType",4:"ObjectAttribute",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectRef",15:"Category",20:"SupplCategory",22:"FixtureID",25:"Keywords",26:"ContentLocCode",27:"ContentLocName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"RefService",47:"RefDate",50:"RefNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"CountryName",103:"OrigTransRef",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",122:"WriterEditor",130:"ImageType",131:"ImageOrientation",135:"LanguageID"},e.IptcMap.prototype.getText=function(e){var t=this.get(e);return String(t)},function(e){var t,i=e.tags,o=e.map||{};for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(o[i[t]]=t)}(e.IptcMap.prototype),e.IptcMap.prototype.getAll=function(){var e,t,i={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(i[t]=this.getText(t));return i}})?o.apply(t,n):o)||(e.exports=r)}()},161:function(e,t,i){var o,n,r;!function(a){"use strict";n=[i(63),i(123),i(80)],void 0===(r="function"==typeof(o=function(e){var t=e.hasCanvasOption,i=e.hasMetaOption,o=e.transformCoordinates,n=e.getTransformedOptions;r=document.createElement("img"),r.onload=function(){e.orientation=1===r.width&&2===r.height},r.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",e.hasCanvasOption=function(i){return!0==!!i.orientation&&!e.orientation||i.orientation>1&&i.orientation<9||t.call(e,i)},e.hasMetaOption=function(t){return t&&!0===t.orientation&&!e.orientation||i.call(e,t)},e.transformCoordinates=function(t,i){o.call(e,t,i);var n=t.getContext("2d"),r=t.width,a=t.height,s=t.style.width,l=t.style.height,c=i.orientation;if(c>1&&c<9)switch(c>4&&(t.width=a,t.height=r,t.style.width=l,t.style.height=s),c){case 2:n.translate(r,0),n.scale(-1,1);break;case 3:n.translate(r,a),n.rotate(Math.PI);break;case 4:n.translate(0,a),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-a);break;case 7:n.rotate(.5*Math.PI),n.translate(r,-a),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-r,0)}},e.getTransformedOptions=function(t,i,o){var r,a,s=n.call(e,t,i),l=s.orientation;if(!0===l){if(e.orientation)return s;l=o&&o.exif&&o.exif.get("Orientation")}if(!(l>1&&l<9))return s;for(a in r={},s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a]);switch(r.orientation=l,l){case 2:r.left=s.right,r.right=s.left;break;case 3:r.left=s.right,r.top=s.bottom,r.right=s.left,r.bottom=s.top;break;case 4:r.top=s.bottom,r.bottom=s.top;break;case 5:r.left=s.top,r.top=s.left,r.right=s.bottom,r.bottom=s.right;break;case 6:r.left=s.top,r.top=s.right,r.right=s.bottom,r.bottom=s.left;break;case 7:r.left=s.bottom,r.top=s.right,r.right=s.top,r.bottom=s.left;break;case 8:r.left=s.bottom,r.top=s.left,r.right=s.top,r.bottom=s.right}return r.orientation>4&&(r.maxWidth=s.maxHeight,r.maxHeight=s.maxWidth,r.minWidth=s.minHeight,r.minHeight=s.minWidth,r.sourceWidth=s.sourceHeight,r.sourceHeight=s.sourceWidth),r};var r})?o.apply(t,n):o)||(e.exports=r)}()},162:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var o=i(62),n=i.n(o);class r extends n.a.Attributor.Class{add(e,t){if("+1"===t||"-1"===t){let i=this.value(e)||0;t="+1"===t?i+1:i-1}return 0===t?(this.remove(e),!0):super.add(e,t)}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t))}value(e){return parseInt(super.value(e))||void 0}}let a=new r("indent","ql-indent",{scope:n.a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]})},163:function(e,t,i){"use strict";var o=i(81);class n extends o.a{}n.blotName="strike",n.tagName="S",t.a=n},63:function(e,t,i){var o;!function(n){"use strict";function r(e,t,i){var o,n=document.createElement("img");return n.onerror=function(o){return r.onerror(n,o,e,t,i)},n.onload=function(o){return r.onload(n,o,e,t,i)},"string"==typeof e?(r.fetchBlob(e,(function(t){t&&r.isInstanceOf("Blob",t)?(e=t,o=r.createObjectURL(e)):(o=e,i&&i.crossOrigin&&(n.crossOrigin=i.crossOrigin)),n.src=o}),i),n):r.isInstanceOf("Blob",e)||r.isInstanceOf("File",e)?(o=n._objectURL=r.createObjectURL(e))?(n.src=o,n):r.readFile(e,(function(e){var i=e.target;i&&i.result?n.src=i.result:t&&t(e)})):void 0}var a=n.createObjectURL&&n||n.URL&&URL.revokeObjectURL&&URL||n.webkitURL&&webkitURL;function s(e,t){!e._objectURL||t&&t.noRevoke||(r.revokeObjectURL(e._objectURL),delete e._objectURL)}r.fetchBlob=function(e,t){t()},r.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},r.transform=function(e,t,i,o,n){i(e,n)},r.onerror=function(e,t,i,o,n){s(e,n),o&&o.call(e,t)},r.onload=function(e,t,i,o,n){s(e,n),o&&r.transform(e,n,o,i,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},r.createObjectURL=function(e){return!!a&&a.createObjectURL(e)},r.revokeObjectURL=function(e){return!!a&&a.revokeObjectURL(e)},r.readFile=function(e,t,i){if(n.FileReader){var o=new FileReader;if(o.onload=o.onerror=t,o[i=i||"readAsDataURL"])return o[i](e),o}return!1},void 0===(o=function(){return r}.call(t,i,t,e))||(e.exports=o)}("undefined"!=typeof window&&window||this)},65:function(e,t,i){"use strict";i.r(t),i.d(t,"SingleLineBlot",(function(){return s}));var o=i(61),n=i(67),r=i(62),a=i.n(r);class s extends o.c{replace(e){e.children.forEach(e=>{e instanceof n.BreakBlot&&e.replaceWith(a.a.create("text"," "))}),super.replace(e)}insertAt(e,t,i){void 0!==i&&"textBreak"==t?super.insertAt(e,"\n"):super.insertAt(e,t,i)}}},66:function(e,t,i){"use strict";i.r(t),i.d(t,"T",(function(){return r})),i.d(t,"draftSave",(function(){return a})),i.d(t,"getPageContent",(function(){return s})),i.d(t,"isEdit",(function(){return l})),i.d(t,"updateEditableText",(function(){return c})),i.d(t,"sanitize",(function(){return d})),i.d(t,"uploadDataToBlob",(function(){return h})),i.d(t,"showError",(function(){return f})),i.d(t,"updateEditable",(function(){return p})),i.d(t,"transliterate",(function(){return g})),i.d(t,"storageDelete",(function(){return m})),i.d(t,"draftClear",(function(){return b}));var o=i(89),n=i.n(o);let r={apiUrl:"https://inscriptum.js.org",datetime:0,pageId:0};function a(e,t){if(!e)return!1;if(!r.pageId){var i=s(!0,t);if(e!=i)return e=i,function(e,t){try{return localStorage.setItem(e,t),!!localStorage.getItem(e)}catch(e){return!1}}("draft",i)}return!1}function s(e,t){let i=t.scroll.domNode;i.querySelectorAll("textarea,input").forEach(e=>{e.setAttribute("data-value",e.value)});let o=i.cloneNode(!0);i.querySelectorAll("textarea,input").forEach(e=>{e.removeAttribute("data-value")}),o.querySelectorAll("textarea,input").forEach(e=>{e.value=e.getAttribute("data-value")||"",e.removeAttribute("data-value")}),c(o,!1);o.querySelectorAll("[contenteditable]").forEach(e=>e.removeAttribute("contenteditable"));o.querySelectorAll("[data-placeholder]").forEach(e=>e.removeAttribute("data-placeholder"));o.querySelectorAll("[data-label]").forEach(e=>e.removeAttribute("data-label"));o.querySelectorAll("[data-title]").forEach(e=>e.removeAttribute("data-title"));o.querySelectorAll(".editable_text").forEach(e=>e.classList.remove("editable_text"));o.querySelectorAll(".focus").forEach(e=>e.classList.remove("focus"));o.querySelectorAll(".empty").forEach(e=>e.classList.remove("empty"));o.querySelectorAll('[class=""]').forEach(e=>e.removeAttribute("class"));o.querySelectorAll(".file_progress").forEach(e=>e.remove());if(o.querySelectorAll(".cursor_wrapper").forEach(e=>e.remove()),!e){const e=o.querySelector("h1,address");e&&e.remove();const t=o.querySelector("br.inline");return t&&t.replaceWith("\n"),{data:JSON.stringify(u(o).children),length:o.innerHTML.length}}return o.querySelectorAll("h1").forEach(e=>{e.querySelector("br")||e.append(document.createElement("br"))}),o.querySelectorAll("address").forEach(e=>{e.querySelector("br")||e.append(document.createElement("br"))}),o.innerHTML}function l(){return document.getElementsByClassName("tl_article_edit").length>0}function c(e,t){void 0===t&&(t=l()),t?e.querySelectorAll(".editable_text").forEach(e=>{let t=!1;if(e.childNodes.forEach(e=>{!t&&e&&e.classList&&(t=e.classList.contains("editable_input"))}),!t){let t=e.textContent||"",i=document.createElement("textarea");i.classList.add("editable_input"),i.setAttribute("tabindex","-1"),i.setAttribute("rows","1"),i.value=t,t||e.classList.add("empty"),e.innerHTML="",e.append(i),n()(i)}}):e.querySelectorAll(".editable_text > .editable_input").forEach(e=>{let t=e.value,i=e.parentNode;i.innerHTML="",i.textContent=t})}function u(e){if(!e.tagName)return e.data;let t={tag:e.tagName.toLowerCase()};if(e.attributes.length){t.attrs={};for(var i=0;i<e.attributes.length;i++){let o=e.attributes[i];t.attrs[o.name]=o.value}}if(e.childNodes.length){t.children=[];for(i=0;i<e.childNodes.length;i++)t.children.push(u(e.childNodes[i]))}return t}function d(e,t){let i=document.createElement("a");i.href=e;let o=i.href.slice(0,i.href.indexOf(":"));return t.indexOf(o)>-1}function h(e){for(var t=atob(e.base64_data),i=[],o=0;o<t.length;o++)i.push(t.charCodeAt(o));return new Blob([new Uint8Array(i)],{type:e.type})}function f(e){let t=document.querySelector("#_error_msg");t.textContent=e,clearTimeout(t.to),t.classList.add("shown"),t.to=setTimeout(()=>{t.classList.remove("shown")},3e3)}function p(e,t,i,o,n,r){if(o&&o.classList.toggle("tl_article_edit",e),c(document.body),t&&(t.enable(e),e&&t.focus()),!e&&n&&r){const e=n.querySelector("h1"),o=e?e.textContent:"",a=n.querySelector("address"),s=a?a.textContent:"",l=n.querySelector("address a"),c=l&&l.getAttribute("href");r.querySelector("h1").textContent=o,r.querySelector("address a").textContent=s,c?r.querySelector("address a").setAttribute("href",c):r.querySelector("address a").removeAttribute("href"),i.hideFormatTooltip(t),i.hideBlocksTooltip()}}function g(e,t=!1){const i="щ   ш  ч  ц  ю  я  ё  ж  ъ  ы  э  а б в г д е з и й к л м н о п р с т у ф х ь".split(/ +/g),o="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g);for(let n=0;n<i.length;n++)e=(e=e.split(t?o[n]:i[n]).join(t?i[n]:o[n])).split(t?o[n].toUpperCase():i[n].toUpperCase()).join(t?i[n].toUpperCase():o[n].toUpperCase());return e}function m(e){try{return localStorage.removeItem(e),!0}catch(e){return!1}}function b(){m("draft")}!function(){var e=document.querySelector("time");if(e&&r.datetime){var t=new Date(1e3*r.datetime);let i="January February March April May June July August September October November December".split(" ")[t.getMonth()],o=t.getDate();e.textContent=i+" "+(10>o?"0":"")+o+", "+t.getFullYear()}}()},67:function(e,t,i){"use strict";i.r(t),i.d(t,"BreakBlot",(function(){return r}));var o=i(60),n=i(61);class r extends n.a{}r.blotName="textBreak",r.tagName="br",r.className="inline",o.a.register(r)},69:function(e,t,i){"use strict";i.r(t),i.d(t,"FieldBlot",(function(){return n}));var o=i(65);class n extends o.SingleLineBlot{}},72:function(e,t,i){"use strict";i.r(t),i.d(t,"browser",(function(){return D})),i.d(t,"editor",(function(){return O}));var o=i(157),n=i.n(o),r=i(121),a=i.n(r),s=i(61),l=i(60),c=i(105),u=i(94),d=i(162),h=i(114),f=i(163),p=i(136),g=i(95),m=i(67),b=i(69),y=i(96),v=i(97),S=i(98),A=i(65),E=i(91),x=i(99),k=i(100),L=i(115),T=i(140),w=i(83),C=i(101),N=i(92),B=i(106),q=i(66),I=i(102),_=i(103);let P=navigator.userAgent.toLowerCase(),D={opera:/opera/i.test(P)||/opr/i.test(P),msie:/msie/i.test(P)&&!/opera/i.test(P)||/trident\//i.test(P)||/edge/i.test(P),msie_edge:/edge/i.test(P)&&!/opera/i.test(P),mozilla:/firefox/i.test(P),chrome:/chrome/i.test(P)&&!/edge/i.test(P),safari:!/chrome/i.test(P)&&/webkit|safari|khtml/i.test(P),iphone:/iphone/i.test(P),ipod:/ipod/i.test(P),ipad:/ipad/i.test(P),android:/android/i.test(P),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(P),safari_mobile:/iphone|ipod|ipad/i.test(P),opera_mobile:/opera mini|opera mobi/i.test(P),opera_mini:/opera mini/i.test(P),mac:/mac/i.test(P)};function O(e,t){console.log(v.MyQuill.length),console.log(v.MyQuill.imports["formats/"]),y.LinkBlot.blotName="link",y.LinkBlot.tagName="a",y.LinkBlot.showLinkTooltip=t=>{e.showLinkTooltip(t,t.value,Object(q.isEdit)(),W)},y.LinkBlot.hideLinkTooltip=()=>e.hideLinkTooltip(W),v.MyQuill.register(y.LinkBlot,!0),x.FigureBlot.blotName="blockFigure",x.FigureBlot.tagName="figure",x.FigureBlot.quillSetSelection=(e,t=0)=>W.setSelection(e,t,l.a.sources.USER),x.FigureBlot.quillDeleteText=(e,t,i=l.a.sources.USER)=>W.deleteText(e,t,i),x.FigureBlot.quillInsertText=(e,t)=>W.insertText(e,t,l.a.sources.USER),x.FigureBlot.draftSave=()=>Object(q.draftSave)(i,W),v.MyQuill.register(x.FigureBlot,!0),v.MyQuill.register(_.DividerBlot),v.MyQuill.register({"modules/syntax":N.InsSyntaxModule,"formats/bold":L.a,"formats/italic":T.a,"formats/indent":d.a,"formats/list":u.ListContinuer,"formats/list-item":c.a,"formats/code":h.a,"formats/strike":f.a},!0);var i=!1;D.mobile&&document.body.classList.add("mobile");let o=document.querySelector(".tl_article"),r=document.querySelector(".tl_article_header"),P=document.querySelector(".tl_article_content"),O=document.querySelector("#_bold_button"),R=document.querySelector("#_italic_button"),F=document.querySelector("#_link_button"),U=document.querySelector("#_header_button"),M=document.querySelector("#_subheader_button"),j=document.querySelector("#_quote_button"),z=document.querySelector("#_strike_button"),H=document.querySelector("#_image_button"),Q=document.querySelector("#_embed_button");document.querySelector(".account");var W=new v.MyQuill(t,{scrollingContainer:"html, body",readOnly:!0,modules:{syntax:{highlight:e=>I.default.highlightAuto(e).value},clipboard:{matchers:[G("h2",{blockHeader:!0}),G("h5",{blockSubheader:!0}),G("h6",{blockSubheader:!0}),["img",function(e,t){return e.src&&Object(q.sanitize)(e.src,["http","https","data"])?(new a.a).insert({blockFigure:{image:e.src,caption:e.alt||""}}):new a.a}],["video",function(e,t){return e.src&&Object(q.sanitize)(e.src,["http","https","data"])?(new a.a).insert({blockFigure:{video:e.src}}):new a.a}],["br",function(e,t){return console.log("modules.clipboard.matchers.br"),e.classList.contains("inline")?(new a.a).insert({textBreak:!0}):t}]]},keyboard:{bindings:{"required enter":{key:p.a.keys.ENTER,collapsed:!0,shiftKey:null,format:["blockTitle","blockDescription"],suffix:/^$/,handler:function(e,t){console.log("keyboard.bindings.required_enter.handler");let[i]=this.quill.scroll.descendant(b.FieldBlot,e.index);return!(i&&i.next&&i.next.domNode&&!i.next.domNode.textContent)||(this.quill.setSelection(i.next.offset(this.quill.scroll),0,l.a.sources.USER),!1)}},"required tab prev":{key:p.a.keys.TAB,shiftKey:!0,handler:function(e,t){console.log("keyboard.bindings.required_tab_prev.handler");let i=null;if(e.length>0){let t=W.scroll.descendants(s.c,e.index,e.length);if(1!=t.length)return!0;i=t[0]}else[i]=W.scroll.descendant(s.c,e.index);if(null!=i&&null!=i.prev&&i.prev instanceof b.FieldBlot){let e=i.prev.offset(W.scroll),t=i.prev.length();return W.setSelection(e,t>1?t:0,l.a.sources.USER),!1}return!0}},"required tab next":{key:p.a.keys.TAB,shiftKey:!1,handler:function(e,t){console.log("keyboard.bindings.required_tab_next.handler");let i=null;if(e.length>0){let t=W.scroll.descendants(s.c,e.index,e.length);if(1!=t.length)return!0;i=t[0]}else[i]=W.scroll.descendant(s.c,e.index);if(null!=i&&i instanceof b.FieldBlot&&null!=i.next){let e=i.next.offset(W.scroll);if(i.next instanceof b.FieldBlot){let t=i.next.length();W.setSelection(e,t>1?t:0,l.a.sources.USER)}else W.setSelection(e,0,l.a.sources.USER);return!1}return!0}},"no tab":{key:p.a.keys.TAB,shiftKey:null,handler:function(e,t){return console.log("keyboard.bindings.no_tab.handler"),!1}},"detect embed":{key:p.a.keys.ENTER,collapsed:!0,handler:function(t,i){console.log("keyboard.bindings.detect_embed.handler");let[o,n]=W.scroll.line(t.index);if(o){let i,r=o.domNode.textContent.substr(0,n);if(i=r.match(/(^|\s)(https?:\/\/\S+)$/)){let s=i[2];if(W.scroll.descendants(y.LinkBlot,t.index-s.length,s.length).length||W.formatText(t.index-s.length,s.length,"link",s,l.a.sources.USER),!r.substr(0,n-s.length).trim().length&&"P"==o.domNode.tagName){let t=X(s);if(t){let i=o.offset(W.scroll);return W.updateContents((new a.a).retain(i).delete(r.length).insert({blockFigure:t}),l.a.sources.USER),e.hideBlocksTooltip(),!1}}}}return!0}},"divider autofill":{key:p.a.keys.ENTER,collapsed:!0,prefix:/^([-*])\1{2,}$/,handler:function(e,t){console.log("keyboard.bindings.divider_autofill.handler");let[i,o]=W.scroll.line(e.index);if(i&&"P"==i.domNode.tagName){let e=i.offset(W.scroll),t=(new a.a).retain(e).delete(i.length()).insert({blockDivider:!0});return i.next||t.insert("\n"),W.updateContents(t,l.a.sources.USER),!1}return!0}},break:{key:p.a.keys.ENTER,shiftKey:!0,handler:$.bind(null,!0)},enter:{key:p.a.keys.ENTER,handler:$.bind(null,!1)},"detect link":{key:" ",collapsed:!0,handler:function(e){console.log("detectLinkHandler",e);let[t,i]=W.scroll.line(e.index);if(t){let o,n=t.domNode.textContent.substr(0,i);if(o=n.match(/(^|\s)((?:https?|tg):\/\/\S+|www\.\S+)$/)){let t=o[2],i=t.length;"www."==t.substr(0,4)&&(t="http://"+t),W.scroll.descendants(y.LinkBlot,e.index-i,i).length||W.formatText(e.index-i,i,"link",t,l.a.sources.USER)}}return!0}},"cancel placeholder":{key:p.a.keys.ESCAPE,handler:function(e,t){return console.log("keyboard.bindings.cancel_placeholder.handler"),Y(),this.quill.updateSelection(l.a.sources.USER),!0}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{list:!1,"code-block":!1,blockquote:!1,header:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query&&null==this.quill.scroll.query("list"))return!0;const{length:i}=t.prefix,[o,n]=this.quill.getLine(e.index);if(n>i)return!0;let r;switch(t.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r={type:"ordered",start:Number(t.prefix.slice(0,-1))-1}}this.quill.insertText(e.index," ",l.a.sources.USER),this.quill.history.cutoff(),console.log("keyboard.bindings.list_autofill.handler",e,t);const s=(new a.a).retain(e.index-n).delete(i+1).retain(o.length()-2-n).retain(1,{list:r,start:r.start});console.log("keyboard.bindings.list_autofill.handler",s);const c=this.quill.updateContents(s,l.a.sources.USER);return console.log("keyboard.bindings.list_autofill.handler",c),this.quill.history.cutoff(),this.quill.setSelection(e.index-i,l.a.sources.SILENT),!1}},"pre wrap":{key:192,collapsed:!0,format:{"code-block":!1},prefix:/^``$/,offset:2,handler:function(e,t){console.log("keyboard.bindings.pre_wrap.handler");let i=t.prefix.length,o=e.index-i;this.quill.scroll.deleteAt(o,i),this.quill.formatLine(o,1,"code-block",!0,l.a.sources.USER),this.quill.setSelection(o,l.a.sources.SILENT)}},code:{key:192,handler:function(e,t){if(console.log("keyboard.bindings.code.handler",!t.format),!t.collapsed){let i=W.scroll.descendants(s.c,e.index,e.length);if(i.length>1||1==i.length&&i[0]instanceof B.a)return this.quill.format("code-block",!t.format["code-block"],l.a.sources.USER),!1;if(W.scroll.descendants(m.BreakBlot,e.index,e.length).length)return this.quill.format("code-block",!t.format["code-block"],l.a.sources.USER),!1}if(t.collapsed&&!t.format.code&&!/\s$/.test(t.prefix))return!0;this.quill.format("code",!t.format.code,l.a.sources.USER)}},"figure delete":{key:p.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(e,t){console.log("keyboard.bindings.figure_delete.handler");let[i,o]=W.scroll.line(e.index);return!(i&&i.prev&&i.prev instanceof x.FigureBlot)||(t.empty&&W.deleteText(e.index,1,l.a.sources.USER),W.setSelection(i.prev.offset(W.scroll)),!1)}},"field backspace":{key:p.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(e,t){console.log("keyboard.bindings.field_backspace.handler");let[i,o]=W.scroll.line(e.index);return!(i&&i.prev&&i.prev instanceof b.FieldBlot&&i.domNode.textContent.length>0)}},strikethrough:{key:"X",shortKey:!0,shiftKey:!0,handler:function(e,t){W.formatText(e,"strike",!t.format.strike)}}}}}});function G(e,t){return[e,function(e,i){return i.compose((new a.a).retain(i.length(),t))}]}function V(e){let t=function(e){let[t,i]=W.scroll.line(e);return W.getText(e,t.length()-i)}(e);return!t||"\n"==t}function $(e,t,i){console.log("breakHandler",e,t,i);let o,n=t.index;t.length>0&&W.scroll.deleteAt(n,t.length);let r=V(n),a=!1;return[o]=W.scroll.descendant(m.BreakBlot,n),o?(!o.prev||o.prev instanceof m.BreakBlot)&&(W.scroll.deleteAt(--n,1),a=!0):([o]=W.scroll.descendant(m.BreakBlot,n-1),o&&(W.scroll.deleteAt(--n,1),a=!0)),[o]=W.scroll.descendant(A.SingleLineBlot,n),o||a||!e?(W.insertText(n,"\n",l.a.sources.USER),W.setSelection(++n,0,l.a.sources.USER),(i.format.blockHeader||i.format.blockSubheader||i.format.blockBlockquote||i.format.blockPullquote)&&r&&W.formatLine(n,1,{blockHeader:!1,blockSubheader:!1,blockBlockquote:!1,blockPullquote:!1},l.a.sources.USER)):(W.insertEmbed(n,"textBreak",!0,l.a.sources.USER),[o]=W.scroll.descendant(m.BreakBlot,n),!o||o.next||o.prev&&o.prev instanceof m.BreakBlot||(W.insertEmbed(++n,"textBreak",!0,l.a.sources.SILENT),W.setSelection(n,0,l.a.sources.SILENT))),!1}function K(e){let t=null==e?{}:W.getFormat(e),i=!!t.blockDescription,o=!(!t.blockHeader&&!t.blockSubheader),n=!!t["code-block"];if(O.classList.toggle("active",!!t.bold),O.classList.toggle("disabled",i||o||n),R.classList.toggle("active",!!t.italic),R.classList.toggle("disabled",i||o||n),U.classList.toggle("active",!!t.blockHeader),U.classList.toggle("disabled",i),M.classList.toggle("active",!!t.blockSubheader),M.classList.toggle("disabled",i),j.classList.toggle("active",!(!t.blockBlockquote&&!t.blockPullquote)),j.classList.toggle("pullquote",!!t.blockPullquote),j.classList.toggle("disabled",i),z.classList.toggle("active",!!t.strike),z.classList.toggle("disabled",i),null!=e){let t=W.scroll.descendants(y.LinkBlot,e.index,e.length);F.classList.toggle("active",!!t.length)}else F.classList.toggle("active",!1);F.classList.toggle("disabled",n)}function X(e){let t;if((t=e.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/i))||(t=e.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/i)))return{embed:"/embed/youtube?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/i))return{embed:"/embed/vimeo?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(www\.|mobile\.)?twitter\.com\/(.+)\/status\/(\d+)/i))return{embed:"/embed/twitter?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(t\.me|telegram\.me|telegram\.dog)\/([a-zA-Z0-9_]+)\/(\d+)/i))return{embed:"/embed/telegram?url="+encodeURIComponent(e)};if(t=e.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))return"video/"==t[1].substr(0,6)?{video:e}:{image:e};if(t=e.match(/^(https?):\/\/\S+/i)){let i=document.createElement("a");if(i.href=e,i.pathname.match(/\.(jpe?g|png|gif|mp4)$/i))return"mp4"==t[1]?{video:e}:{image:e}}return!1}function Y(){const e=document.querySelector(".placeholder_once");null!==e&&(e.removeAttribute("data-placeholder"),e.classList.remove("placeholder_once","empty"))}function J(e){e.scroll.descendants(s.c,0,e.scroll.length()).forEach(e=>{if(e.domNode.hasAttribute("data-placeholder")){let t=e.domNode.textContent;e.domNode.classList.toggle("empty",!t)}})}function Z(e){let[t,i]=e.scroll.lines();if(t instanceof s.a)e.updateContents((new a.a).insert("\n",{blockTitle:!0}).insert("\n",{blockDescription:!0}),l.a.sources.SILENT);else if(t instanceof E.TitleBlot||e.formatLine(0,1,{blockTitle:!0},l.a.sources.SILENT),i){if(i instanceof s.a){let t=i.offset(e.scroll);e.updateContents((new a.a).retain(t).insert("\n",{blockDescription:!0}),l.a.sources.SILENT)}else if(!(i instanceof k.DescriptionBlot)){let t=i.offset(e.scroll);e.formatLine(t,1,{blockDescription:!0},l.a.sources.SILENT)}}else{let t=e.scroll.length();e.updateContents((new a.a).retain(t).insert("\n",{blockDescription:!0}),l.a.sources.SILENT)}let[,,o]=e.scroll.lines();if(o){let t=o.offset(e.scroll),i=e.scroll.length()-t;e.scroll.descendants(b.FieldBlot,t,i).forEach(t=>{let i=t.offset(e.scroll),o=t.length(),n=t.constructor.blotName;e.formatText(i,o,n,!1,l.a.sources.SILENT)})}else{let t=e.scroll.length();e.insertText(t,"\n",l.a.sources.SILENT)}let n=e.scroll.lines();n.forEach((e,t)=>{"P"==e.domNode.tagName&&(3==n.length&&2==t?e.domNode.setAttribute("data-placeholder","Your story..."):e.domNode.removeAttribute("data-placeholder"))})}function ee(e,t){(t=t||{}).close_btn=t.close_btn||"OK",t.submit_btn=t.submit_btn||!1,t.close=t.close||te,t.submit=t.submit||t.close,te();var i=document.createElement("div");i.classList.add("tl_alert"),i.innerHTML='<main class="tl_alert_message"><section></section><aside class="tl_message_buttons"></aside></main>',i.querySelector("section").innerHTML=e;var o=i.querySelector("aside");if(t.close_btn){var n=document.createElement("button");n.classList.add("button"),n.innerHTML=t.close_btn,n.addEventListener("click",t.close),n.append(o)}if(t.submit_btn){var r=document.createElement("button");r.classList.add("button"),r.innerHTML=t.submit_btn,r.addEventListener("click",(function(){i.classList.add("tl_alert_loading"),t.submit()})),r.append(o)}i.append("body")}function te(){const e=document.querySelector(".tl_alert");e&&e.remove()}function ie(e){let t=e.querySelector(".prompt_input"),i=e.querySelector(".close");t.onkeydown=null,t.onblur=null,i.onclick=null,e.style.display="",e.classList.remove("tooltip_prompt"),W.focus()}return W.addContainer(e.$tl_link_tooltip),W.addContainer(e.$tl_tooltip),W.addContainer(e.$tl_blocks),W.on(l.a.events.EDITOR_CHANGE,(function(t,i){if(t!==l.a.events.SELECTION_CHANGE)return;if(!W.isEnabled())return;if(null==i)return;!function(t){let[i]=W.scroll.descendant(x.FigureBlot,t.index);W.scroll.descendants(x["FigureBlot"],0,W.scroll.length()).forEach(e=>{i!==e&&e.blur()}),i&&(i.focus(),e.hideFormatTooltip(W),e.hideBlocksTooltip())}(i);let[n,r]=W.scroll.descendant(s.c,i.index);0===i.length?(e.hideFormatTooltip(W),null==n||n instanceof b.FieldBlot||n instanceof g.BlockquoteBlot||n instanceof S.PullquoteBlot||n instanceof B.a||n instanceof c.a||""!==n.domNode.textContent?e.hideBlocksTooltip():e.showBlocksTooltip(i,Object(q.isEdit)(),W)):(null==n||n instanceof E.TitleBlot?e.hideFormatTooltip(W):(e.showFormatTooltip(i,W,Object(q.isEdit)()),K(i)),e.hideBlocksTooltip());let a=W.getFormat(i);o&&o.classList.toggle("title_focused",!(!a.blockTitle&&!a.blockDescription)),Y()})),W.on(l.a.events.TEXT_CHANGE,(function(){W.getSelection();Z(W),J(W),Y(),Object(q.draftSave)(i,W)})),W.on(l.a.events.SCROLL_OPTIMIZE,(function(e){e.forEach(e=>{if("childList"==e.type&&!e.addedNodes.length&&e.removedNodes.length){let t=e.previousSibling,i=e.nextSibling;if(!i&&t&&"BR"==t.tagName&&"inline"==t.className){let t=document.createElement("br");t.className="inline",e.target.appendChild(t)}else!i||!t||"BR"==t.tagName&&"inline"==t.className||"BR"!=i.tagName||"inline"!=i.className||i.nextSibling||i.parentNode&&i.parentNode.removeChild(i)}})})),W.scroll.domNode.setAttribute("dir","auto"),document.addEventListener("click touchstart",(function(t){let i=t.target;for(;i;){if(i===W.container)return;i=i.parentNode}e.hideFormatTooltip(W),e.hideBlocksTooltip()})),Z(W),J(W),function(){const t={page_id:q.T.pageId};t.save_hash&&(q.T.saveHash=t.save_hash);if(!q.T.pageId&&(o&&o.classList.add("tl_article_edit"),!function(){if(!q.T.pageId)return function(e){try{return localStorage.getItem(e)}catch(e){return!1}}("draft");return!1}()&&t.author_name)){let e;e=t.author_url?{link:t.author_url}:{};let[i]=W.scroll.descendants(k.DescriptionBlot);i&&W.updateContents((new a.a).retain(i.offset()).delete(i.length()).insert(t.author_name,e),l.a.sources.USER)}if(t.auth_alert&&t.short_name){var n="Success! You are now logged in as <b>"+(t.short_name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;")+"</b> in this browser.");t.migrate_count>0&&t.migrate_hash?(n+="<br/><br/>",ee(n+="We can also add "+t.migrate_count+" Telegraph page"+(t.migrate_count>1?"s":"")+" from this browser to your account.",{close_btn:"Skip",submit_btn:"Add",submit:function(){var e;e=t.migrate_hash,console.log(e)}})):ee(n)}i=Object(q.getPageContent)(!0,W),Object(q.updateEditable)(Object(q.isEdit)(),W,e,o,P,r)}(),O.onclick=e=>{console.log("$bold_button.onclick");let t=e.target.classList.contains("active");e.preventDefault(),console.log("$bold_button.onclick",!t),W.format("bold",!t),console.log("$bold_button.onclick",W.getSelection(!0)),W.updateSelection(l.a.sources.API)},R.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault(),W.format("italic",!t),W.updateSelection(l.a.sources.API)},F.onclick=t=>{let i=t.target.classList.contains("active");t.preventDefault();var o=W.getSelection(!0);if(i){W.scroll.descendants(y.LinkBlot,o.index,o.length).forEach(e=>{let t=e.offset(W.scroll),i=e.length();W.formatText(t,i,"link",!1)}),K(o)}else!function(e,t,i){let o=e.querySelector(".prompt_input"),n=e.querySelector(".close");o.value="",o.setAttribute("placeholder",t),o.onkeydown=t=>{let n=t.which||t.keyCode;if(27==n)ie(e);else if(13==n){let n=o.value;n&&(i&&i(n),t.preventDefault()),ie(e)}},o.onblur=()=>{ie(e)},n.onclick=()=>{ie(e)},e.style.display="",e.classList.add("tooltip_prompt"),o.focus()}(e.$tl_tooltip,"Paste or type a link...",(function(e){"#"!=(e=e.trim()).substr(0,1)&&"/"!=e.substr(0,1)&&"http://"!=e.substr(0,7)&&"https://"!=e.substr(0,8)&&"tg://"!=e.substr(0,5)&&"mailto:"!=e.substr(0,7)&&(e=e.indexOf("@")>0?"mailto:"+e:"http://"+e),W.focus(),W.format("link",e),K(o)}))},U.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault();let i=W.getSelection(!0);W.format("blockHeader",!t),W.scroll.descendants(w.HeaderBlot,i.index,i.length).forEach(e=>{let t=e.offset(W.scroll),i=e.length();W.formatText(t,i,{bold:!1,italic:!1,code:!1},l.a.sources.SILENT)}),W.updateSelection(l.a.sources.API)},M.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault();let i=W.getSelection(!0);W.format("blockSubheader",!t),W.scroll.descendants(C.SubheaderBlot,i.index,i.length).forEach(e=>{let t=e.offset(W.scroll),i=e.length();W.formatText(t,i,{bold:!1,italic:!1,code:!1},l.a.sources.SILENT)}),W.updateSelection(l.a.sources.API)},j.onclick=e=>{let t=e.target,i=t.classList.contains("active"),o=t.classList.contains("pullquote");e.preventDefault();W.getSelection(!0);i?W.format("blockPullquote",!o):W.format("blockBlockquote",!0),W.updateSelection(l.a.sources.API)},z.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault(),W.format("strike",!t),W.updateSelection(l.a.sources.API)},H.onclick=()=>{let e=W.container.querySelector("input.ql-image[type=file][data-status=ready]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",D.safari_mobile?"image/gif, image/jpeg, image/jpg, image/png":"image/gif, image/jpeg, image/jpg, image/png, video/mp4"),e.classList.add("ql-image"),e.addEventListener("change",()=>{if(e&&null!=e.files&&null!=e.files[0]){var t=e.files[0];const i=function(){Object(q.showError)("File too big (up to 5 MB allowed)")},o=5242880;!function(e,t){if("image/jpg"==e.type||"image/jpeg"==e.type)return n()(e,i=>{if("error"===i.type)t(e);else if(i.toBlob)i.toBlob((function(e){t(e)}),e.type);else{var o=i.toDataURL(e.type),n={type:e.type,base64_data:o.split(",")[1]};t(Object(q.uploadDataToBlob)(n))}},{canvas:!0,orientation:!0});t(e)}(t,t=>{if(t.size>o)return i&&i();var n=new FileReader;n.onload=function(t){if(t&&null!==t.target){let i=X(t.target.result);if(i){let e=W.getSelection(!0);W.updateContents((new a.a).retain(e.index).delete(e.length).insert({blockFigure:i}),l.a.sources.USER)}else Object(q.showError)("Invalid file format");e.value="",e.setAttribute("data-status","ready")}},n.readAsDataURL(t)})}}),W.container.appendChild(e)),e.setAttribute("data-status","busy"),e.click()},Q.onclick=t=>{let i=W.getSelection(!0),[o]=W.scroll.line(i.index);const n=o.domNode;if(o){n.textContent||(n.setAttribute("data-placeholder","Paste a YouTube, Vimeo or Twitter link, and press Enter"),n.classList.add("placeholder_once","empty"),e.hideBlocksTooltip())}},window.addEventListener("scroll resize",()=>{e.tooltipUpdatePosition(e.$tl_tooltip,null,e.formatTTOptions,W),e.tooltipUpdatePosition(e.$tl_link_tooltip,null,e.linkTTOptions,W)}),W}},80:function(e,t,i){var o,n,r;!function(a){"use strict";n=[i(63)],void 0===(r="function"==typeof(o=function(e){var t="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[],65517:[]}},e.parseMetaData=function(t,i,o,n){n=n||{};var r=this,a=(o=o||{}).maxMetaDataSize||262144;!!("undefined"!=typeof DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice)&&e.readFile(e.blobSlice.call(t,0,a),(function(t){if(t.target.error)return console.log(t.target.error),void i(n);var a,s,l,c,u=t.target.result,d=new DataView(u),h=2,f=d.byteLength-4,p=h;if(65496===d.getUint16(0)){for(;h<f&&((a=d.getUint16(h))>=65504&&a<=65519||65534===a);){if(h+(s=d.getUint16(h+2)+2)>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if((l=e.metaDataParsers.jpeg[a])&&!o.disableMetaDataParsers)for(c=0;c<l.length;c+=1)l[c].call(r,d,h,s,n,o);p=h+=s}!o.disableImageHead&&p>6&&(u.slice?n.imageHead=u.slice(0,p):n.imageHead=new Uint8Array(u).subarray(0,p))}else console.log("Invalid JPEG file: Missing JPEG marker.");i(n)}),"readAsArrayBuffer")||i(n)},e.replaceHead=function(t,i,o){e.parseMetaData(t,(function(n){o(new Blob([i,e.blobSlice.call(t,n.imageHead.byteLength)],{type:"image/jpeg"}))}),{maxMetaDataSize:256,disableMetaDataParsers:!0})},e.hasMetaOption=function(e){return e&&e.meta};var i=e.transform;e.transform=function(t,o,n,r,a){e.hasMetaOption(o)?e.parseMetaData(r,(function(a){i.call(e,t,o,n,r,a)}),o,a):i.apply(e,arguments)}})?o.apply(t,n):o)||(e.exports=r)}()},82:function(e,t,i){"use strict";i.r(t),i.d(t,"uploadFileService",(function(){return o}));function o(e,t){return new Promise((i,o)=>{var n=new XMLHttpRequest,r=new FormData;n.open("POST","https://api.cloudinary.com/v1_1/inscriptum/upload",!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.upload.addEventListener("progress",(function(e){e.lengthComputable&&t&&t(e.loaded,e.total)})),t&&t(0,1),r.append("upload_preset","cz5pibn5"),r.append("tags","browser_upload"),r.append("file",e),n.send(r),n.onreadystatechange=e=>{if(4==n.readyState&&200==n.status){var t=JSON.parse(n.responseText);console.log(1111,t),t.src=t.secure_url,i(t)}},n.onerror=function(){o(new Error("Network Error"))}})}},83:function(e,t,i){"use strict";i.r(t),i.d(t,"HeaderBlot",(function(){return r}));var o=i(60),n=i(65);class r extends n.SingleLineBlot{optimize(e){super.optimize(e);let t=this.domNode.innerText;t=t.replace(/[\s_]+/g,"-"),t=t.replace(/(^-+|-+$)/g,""),this.domNode.id!==t&&this.domNode.setAttribute("id",t)}formatAt(e,t,i,o){("bold"!==i&&"italic"!==i&&"code"!==i||!o)&&super.formatAt(e,t,i,o)}}r.blotName="blockHeader",r.tagName="h3",o.a.register(r)},89:function(e,t,i){var o,n,r;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/n=[e,t],void 0===(r="function"==typeof(o=function(e,t){"use strict";var i,o,n="function"==typeof Map?new Map:(i=[],o=[],{has:function(e){return i.indexOf(e)>-1},get:function(e){return o[i.indexOf(e)]},set:function(e,t){-1===i.indexOf(e)&&(i.push(e),o.push(t))},delete:function(e){var t=i.indexOf(e);t>-1&&(i.splice(t,1),o.splice(t,1))}}),r=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!n.has(e)){var t,i=null,o=null,a=null,s=function(){e.clientWidth!==o&&d()},l=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach((function(i){e.style[i]=t[i]})),n.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",n.set(e,{destroy:l,update:d}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),i="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(i)&&(i=0),d()}function c(t){var i=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=i,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),n=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+i+"px",o=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),n&&(document.documentElement.scrollTop=n)}}function d(){u();var t=Math.round(parseFloat(e.style.height)),i=window.getComputedStyle(e,null),o="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):e.offsetHeight;if(o<t?"hidden"===i.overflowY&&(c("scroll"),u(),o="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==i.overflowY&&(c("hidden"),u(),o="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==o){a=o;var n=r("autosize:resized");try{e.dispatchEvent(n)}catch(e){}}}}function s(e){var t=n.get(e);t&&t.destroy()}function l(e){var t=n.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return a(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=c,e.exports=t.default})?o.apply(t,n):o)||(e.exports=r)},91:function(e,t,i){"use strict";i.r(t),i.d(t,"TitleBlot",(function(){return r}));var o=i(60),n=i(69);class r extends n.FieldBlot{static create(e){let t=super.create(e);return t.setAttribute("data-placeholder","Title"),t.setAttribute("data-label","Title"),t}formatAt(e,t,i,o){i===r.blotName&&super.formatAt(e,t,i,o)}}r.blotName="blockTitle",r.tagName="h1",o.a.register(r)},92:function(e,t,i){"use strict";i.r(t),i.d(t,"CodeEndLineFlag",(function(){return a})),i.d(t,"InsSyntaxCodeBlock",(function(){return s})),i.d(t,"InsSyntaxModule",(function(){return l}));var o=i(60),n=i(81),r=i(106);class a extends n.a{static formats(){return{}}}a.blotName="code-end",a.className="l",a.tagName="SPAN",o.a.register(a);class s extends r.a{highlight(e){let t=this.domNode.textContent||"";if(this.cachedText!==t){if(t.trim().length>0||null==this.cachedText){let i="";const o=e(t).split("\n");for(let e=0;e<o.length-1;e++)i+=`<span class="l">${o[e]||" "}</span>\n`;i+=`<span class="l">${o[o.length-1]}</span>`,this.domNode.innerHTML=`<code class="hljs">${i}</code>`}this.cachedText=t}}}class l extends r.c{static register(){o.a.register(r.b,!0),o.a.register(s,!0)}highlight(){if(this.quill.selection.composing)return;this.quill.update(o.a.sources.USER);let e=this.quill.getSelection();this.quill.scroll.descendants(s).forEach(e=>{e.highlight(this.options.highlight)}),this.quill.update(o.a.sources.SILENT),null!=e&&document.activeElement===this.quill.container.querySelector("[contenteditable]")&&this.quill.setSelection(e,o.a.sources.SILENT)}}},94:function(e,t,i){"use strict";i.r(t),i.d(t,"ListContinuer",(function(){return n}));var o=i(105);class n extends o.b{static create(e){let t;return"string"==typeof e?t=super.create(e):(t=super.create(e.type),void 0!==e.start&&(t.setAttribute("start",e.start),t.style["counter-reset"]="list-0 "+e.start)),t}static formats(e){let t=super.formats(e);return console.log("MyList-static.formats",t,e.getAttribute("start")),{type:t,start:e.getAttribute("start")}}}},95:function(e,t,i){"use strict";i.r(t),i.d(t,"BlockquoteBlot",(function(){return r}));var o=i(60),n=i(61);class r extends n.c{}r.blotName="blockBlockquote",r.tagName="blockquote",o.a.register(r)},96:function(e,t,i){"use strict";i.r(t),i.d(t,"LinkBlot",(function(){return r}));var o=i(81),n=i(66);class r extends o.a{constructor(e,t){super(e),this.value=t,e.addEventListener("mouseover",r.showLinkTooltip.bind(this,this),!1),e.addEventListener("mouseout",r.hideLinkTooltip,!1)}static create(e){let t=super.create(e);e=this.sanitize(e),t.setAttribute("href",e);var i=e.substr(0,1);return"/"!=i&&"#"!=i&&"tg://"!=e.substr(0,5)&&"mailto:"!=e.substr(0,7)&&t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){const t=r.relativeUrl(e);return Object(n.sanitize)(e,["http","https","tg","mailto"])?t:"about:blank"}detach(){this.domNode.removeEventListener("mouseover",r.showLinkTooltip.bind(this,this),!1),this.domNode.removeEventListener("mouseout",r.hideLinkTooltip,!1),super.detach(),r.hideLinkTooltip()}format(e,t){if(e!==this.statics.blotName||!t)return super.format(e,t);t=r.sanitize(t),this.domNode.setAttribute("href",t),this.domNode.setAttribute("data-title",t)}static relativeUrl(e){let t=location,i=document.createElement("a");return i.href=e,t.origin!==i.origin?i.href:t.pathname!==i.pathname||t.search!==i.search?i.pathname+i.search+i.hash:t.href===i.href?i.hash||i.pathname+i.search+i.hash:i.hash}}},97:function(e,t,i){"use strict";i.r(t),i.d(t,"MyQuill",(function(){return n}));var o=i(60);class n extends o.a{formatLine(...e){super.formatLine(...e),this.updateSelection()}formatText(...e){super.formatText(...e),this.updateSelection()}updateSelection(e){if(this.hasFocus()){e=e||n.sources.SILENT;let t=this.getSelection(!0);this.setSelection(++t.index,t.length,e),this.setSelection(--t.index,t.length,e)}}}},98:function(e,t,i){"use strict";i.r(t),i.d(t,"PullquoteBlot",(function(){return r}));var o=i(60),n=i(61);class r extends n.c{}r.blotName="blockPullquote",r.tagName="aside",o.a.register(r)},99:function(e,t,i){"use strict";i.r(t),i.d(t,"FigureBlot",(function(){return d}));var o=i(60),n=i(61),r=i(136),a=i(89),s=i.n(a),l=i(82),c=i(66),u=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((o=o.apply(e,t||[])).next())}))};class d extends n.a{constructor(e,t){super(e),this.domNode=e,this.domWrapper=document.createElement("div"),this.domCursor=document.createElement("span"),this.domCaption=document.createElement("figcaption"),this.domWrapper.classList.add("figure_wrapper"),this.domCursor.classList.add("cursor_wrapper"),this.domCursor.setAttribute("contenteditable","true"),this.domCaption.classList.add("editable_text"),this.domCaption.setAttribute("data-placeholder","Caption (optional)"),t.caption&&(this.domCaption.innerText=t.caption),this.domNode.appendChild(this.domWrapper),this.domNode.appendChild(this.domCursor),this.domNode.appendChild(this.domCaption),setTimeout(()=>{Object(c.updateEditableText)(this.domNode)},1);let i=!1;t.image?(this.appendImgNode(t.image),i=this.uploadData(t.image)):t.video?(this.appendVideoNode(t.video),i=this.uploadData(t.video)):t.embed&&this.appendIframeNode(t.embed),i&&(this.domProgress=document.createElement("div"),this.domProgressBar=document.createElement("div"),this.domProgress.classList.add("file_progress"),this.domProgressBar.classList.add("file_progress_bar"),this.domWrapper.classList.add("loading"),this.domProgress.appendChild(this.domProgressBar),this.domWrapper.appendChild(this.domProgress),this.uploadFile(i)),this.domWrapper.onclick=()=>{if(!this.domNode.classList.contains("focus")){let e=this.offset(this.scroll);this.focus(),d.quillSetSelection(e)}},this.domCursor.onkeydown=e=>{let t=e.which||e.keyCode;if(t==r.a.keys.BACKSPACE){let t=this.offset(this.scroll);d.quillDeleteText(t,this.length()),d.quillSetSelection(t-1),e.preventDefault()}else if(t==r.a.keys.ENTER){let t=this.offset(this.scroll)+this.length();this.focus(),d.quillInsertText(t,"\n"),d.quillSetSelection(t),e.preventDefault()}},this.domCursor.onpaste=e=>{e.stopPropagation(),e.preventDefault()},this.domCaption.onkeydown=e=>{let t=e.which||e.keyCode,i=e.target;if(t==r.a.keys.ENTER){if(e.shiftKey)return;let t={start:i.selectionStart,end:i.selectionEnd},o=i.value;if(t.start!=t.end)o=o.substr(0,t.start)+o.substr(t.end),i.setSelectionRange(o.length,o.length);else if(t.end==o.length){let e=this.offset(this.scroll)+this.length();this.focus(),d.quillInsertText(e,"\n"),d.quillSetSelection(e)}e.preventDefault()}else if(t==r.a.keys.DOWN||t==r.a.keys.TAB||t==r.a.keys.RIGHT){let t={start:i.selectionStart,end:i.selectionEnd},o=i.value;if(t.start==t.end&&t.end==o.length){let t=this.offset(this.scroll)+this.length();this.focus(),d.quillSetSelection(t,0),e.preventDefault()}}else if(t==r.a.keys.LEFT||t==r.a.keys.UP){let t={start:i.selectionStart,end:i.selectionEnd};if(t.start==t.end&&0===t.start){let t=this.offset(this.scroll)-1;this.focus(),d.quillSetSelection(t,0),e.preventDefault()}}};const o=e=>{null!==e&&null!==e.target&&(this.domCaption.classList.toggle("empty",!e.target.value),s.a.update(e.target),d.draftSave())};this.domCaption.onpaste=e=>{e.stopPropagation(),o(e)},this.domCaption.onkeyup=o,this.domCaption.ondrop=o,this.domCaption.onchange=o,this.domCaption.oninput=o,this.domCaption.oncut=o,this.domCaption.onclick=e=>{e.target&&e.target.focus()}}static create(e){let t=super.create(e);return t.setAttribute("contenteditable","false"),t}appendImgNode(e){let t=document.createElement("img");return t.setAttribute("src",this.sanitize(e)),this.domWrapper.appendChild(t),t}appendVideoNode(e){let t=document.createElement("video");return t.setAttribute("src",this.sanitize(e)),t.setAttribute("preload","auto"),t.setAttribute("controls","controls"),t.addEventListener("loadeddata",(function(){this.mozHasAudio||this.webkitAudioDecodedByteCount||this.audioTracks&&this.audioTracks.length||(this.setAttribute("autoplay","autoplay"),this.setAttribute("loop","loop"),this.setAttribute("muted","muted"),this.removeAttribute("controls"),this.play())})),this.domWrapper.appendChild(t),t}appendIframeNode(e){let t=document.createElement("div"),i=document.createElement("div"),o=document.createElement("iframe");return t.classList.add("iframe_wrap"),t.appendChild(i),i.classList.add("iframe_helper"),i.style.paddingTop="56.25%",i.appendChild(o),o.setAttribute("src",this.sanitize(e)),o.setAttribute("width","640"),o.setAttribute("height","360"),o.setAttribute("frameborder","0"),o.setAttribute("allowtransparency","true"),o.setAttribute("allowfullscreen","true"),o.setAttribute("scrolling","no"),this.domWrapper.appendChild(t),t}uploadFile(e){this.uploadFileStart(e,(e,t)=>{let i=0;t&&e&&(i=100*e/t,i=Math.min(100,i)),this.domProgressBar.style.width=i+"%"},t=>{if(t){let i=this.sanitize(t.src);if("video/"==e.type.substr(0,6)){let e=this.domWrapper.querySelector("video");e&&e.setAttribute("src",i)}else{let e=this.domWrapper.querySelector("img");e&&e.setAttribute("src",i)}this.domWrapper.classList.remove("loading"),d.draftSave()}},e=>(d.quillDeleteText(this.offset(this.scroll),this.length(),o.a.sources.SILENT),d.draftSave(),Object(c.showError)(e)))}uploadData(e){let t=null;return!!(t=e.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))&&{type:t[1],base64_data:t[2]}}sanitize(e){return Object(c.sanitize)(e,["http","https","data"])?e:"//:0"}static value(e){let t={caption:""},i=e.querySelector("img");i&&(t.image=i.src);let o=e.querySelector("video");o&&(t.video=o.src);let n=e.querySelector("iframe");n&&(t.embed=n.src);let r=e.querySelector("figcaption");if(r){let e=r.querySelector(".editable_input");t.caption=e?e.value:r.innerText}return t}focus(){this.domNode.classList.add("focus")}blur(){this.domNode.classList.remove("focus")}_index(e,t){if(e===this.domCaption)return 0;let i=0;return e.nodeType==e.TEXT_NODE&&(i+=t>=0?t:e.data.length),e.previousSibling?i+this._index(e.previousSibling,-1):e.parentNode?i+this._index(e.parentNode,-1):0}_position(e,t){if(e.nodeType==e.TEXT_NODE)return t<=e.data.length?[e,t]:[null,t-=e.data.length];{let i=e.firstChild;for(;i;){let e=null;if([e,t]=this._position(i,t),e)return[e,t];i=i.nextSibling}return[e,t]}}update(e){this.domCursor.innerHTML=""}index(e,t){return 0}position(e,t){return[this.domCursor,0]}uploadFileStart(e,t,i,o){return u(this,void 0,void 0,(function*(){try{const o=yield Object(l.uploadFileService)(Object(c.uploadDataToBlob)(e),t);i&&i(o)}catch(e){o&&o("Network error")}}))}}}}]);