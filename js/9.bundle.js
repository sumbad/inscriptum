(window.webpackJsonp=window.webpackJsonp||[]).push([[9,25,32,33,34,35,36,39,40,41,42,43,47,48,49,50,52,53,54],Array(65).concat([function(e,t,r){var n;!function(i){"use strict";function o(e,t,r){var n,i=document.createElement("img");return i.onerror=function(n){return o.onerror(i,n,e,t,r)},i.onload=function(n){return o.onload(i,n,e,t,r)},"string"==typeof e?(o.fetchBlob(e,(function(t){t&&o.isInstanceOf("Blob",t)?(e=t,n=o.createObjectURL(e)):(n=e,r&&r.crossOrigin&&(i.crossOrigin=r.crossOrigin)),i.src=n}),r),i):o.isInstanceOf("Blob",e)||o.isInstanceOf("File",e)?(n=i._objectURL=o.createObjectURL(e))?(i.src=n,i):o.readFile(e,(function(e){var r=e.target;r&&r.result?i.src=r.result:t&&t(e)})):void 0}var a=i.createObjectURL&&i||i.URL&&URL.revokeObjectURL&&URL||i.webkitURL&&webkitURL;function s(e,t){!e._objectURL||t&&t.noRevoke||(o.revokeObjectURL(e._objectURL),delete e._objectURL)}o.fetchBlob=function(e,t){t()},o.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},o.transform=function(e,t,r,n,i){r(e,i)},o.onerror=function(e,t,r,n,i){s(e,i),n&&n.call(e,t)},o.onload=function(e,t,r,n,i){s(e,i),n&&o.transform(e,i,n,r,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},o.createObjectURL=function(e){return!!a&&a.createObjectURL(e)},o.revokeObjectURL=function(e){return!!a&&a.revokeObjectURL(e)},o.readFile=function(e,t,r){if(i.FileReader){var n=new FileReader;if(n.onload=n.onerror=t,n[r=r||"readAsDataURL"])return n[r](e),n}return!1},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}("undefined"!=typeof window&&window||this)},function(e,t,r){"use strict";r.r(t),r.d(t,"SingleLineBlot",(function(){return s}));var n=r(62),i=r(68),o=r(63),a=r.n(o);class s extends n.c{replace(e){e.children.forEach(e=>{e instanceof i.BreakBlot&&e.replaceWith(a.a.create("text"," "))}),super.replace(e)}insertAt(e,t,r){void 0!==r&&"textBreak"==t?super.insertAt(e,"\n"):super.insertAt(e,t,r)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"T",(function(){return o})),r.d(t,"draftSave",(function(){return a})),r.d(t,"getPageContent",(function(){return s})),r.d(t,"isEdit",(function(){return l})),r.d(t,"updateEditableText",(function(){return c})),r.d(t,"sanitize",(function(){return d})),r.d(t,"uploadDataToBlob",(function(){return f})),r.d(t,"showError",(function(){return h})),r.d(t,"updateEditable",(function(){return p})),r.d(t,"transliterate",(function(){return g})),r.d(t,"storageDelete",(function(){return b})),r.d(t,"draftClear",(function(){return m}));var n=r(90),i=r.n(n);let o={apiUrl:"https://inscriptum.js.org",datetime:0,pageId:0};function a(e,t){if(!e)return!1;if(!o.pageId){var r=s(!0,t);if(e!=r)return e=r,function(e,t){try{return localStorage.setItem(e,t),!!localStorage.getItem(e)}catch(e){return!1}}("draft",r)}return!1}function s(e,t){let r=t.scroll.domNode;r.querySelectorAll("textarea,input").forEach(e=>{e.setAttribute("data-value",e.value)});let n=r.cloneNode(!0);r.querySelectorAll("textarea,input").forEach(e=>{e.removeAttribute("data-value")}),n.querySelectorAll("textarea,input").forEach(e=>{e.value=e.getAttribute("data-value")||"",e.removeAttribute("data-value")}),c(n,!1);n.querySelectorAll("[contenteditable]").forEach(e=>e.removeAttribute("contenteditable"));n.querySelectorAll("[data-placeholder]").forEach(e=>e.removeAttribute("data-placeholder"));n.querySelectorAll("[data-label]").forEach(e=>e.removeAttribute("data-label"));n.querySelectorAll("[data-title]").forEach(e=>e.removeAttribute("data-title"));n.querySelectorAll(".editable_text").forEach(e=>e.classList.remove("editable_text"));n.querySelectorAll(".focus").forEach(e=>e.classList.remove("focus"));n.querySelectorAll(".empty").forEach(e=>e.classList.remove("empty"));n.querySelectorAll('[class=""]').forEach(e=>e.removeAttribute("class"));n.querySelectorAll(".file_progress").forEach(e=>e.remove());if(n.querySelectorAll(".cursor_wrapper").forEach(e=>e.remove()),!e){const e=n.querySelector("h1,address");e&&e.remove();const t=n.querySelector("br.inline");return t&&t.replaceWith("\n"),{data:JSON.stringify(u(n).children),length:n.innerHTML.length}}return n.querySelectorAll("h1").forEach(e=>{e.querySelector("br")||e.append(document.createElement("br"))}),n.querySelectorAll("address").forEach(e=>{e.querySelector("br")||e.append(document.createElement("br"))}),n.innerHTML}function l(){return document.getElementsByClassName("tl_article_edit").length>0}function c(e,t){void 0===t&&(t=l()),t?e.querySelectorAll(".editable_text").forEach(e=>{let t=!1;if(e.childNodes.forEach(e=>{!t&&e&&e.classList&&(t=e.classList.contains("editable_input"))}),!t){let t=e.textContent||"",r=document.createElement("textarea");r.classList.add("editable_input"),r.setAttribute("tabindex","-1"),r.setAttribute("rows","1"),r.value=t,t||e.classList.add("empty"),e.innerHTML="",e.append(r),i()(r)}}):e.querySelectorAll(".editable_text > .editable_input").forEach(e=>{let t=e.value,r=e.parentNode;r.innerHTML="",r.textContent=t})}function u(e){if(!e.tagName)return e.data;let t={tag:e.tagName.toLowerCase()};if(e.attributes.length){t.attrs={};for(var r=0;r<e.attributes.length;r++){let n=e.attributes[r];t.attrs[n.name]=n.value}}if(e.childNodes.length){t.children=[];for(r=0;r<e.childNodes.length;r++)t.children.push(u(e.childNodes[r]))}return t}function d(e,t){let r=document.createElement("a");r.href=e;let n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}function f(e){for(var t=atob(e.base64_data),r=[],n=0;n<t.length;n++)r.push(t.charCodeAt(n));return new Blob([new Uint8Array(r)],{type:e.type})}function h(e){let t=document.querySelector("#_error_msg");t.textContent=e,clearTimeout(t.to),t.classList.add("shown"),t.to=setTimeout(()=>{t.classList.remove("shown")},3e3)}function p(e,t,r,n,i,o){if(n&&n.classList.toggle("tl_article_edit",e),c(document.body),t&&(t.enable(e),e&&t.focus()),!e&&i&&o){const e=i.querySelector("h1"),n=e?e.textContent:"",a=i.querySelector("address"),s=a?a.textContent:"",l=i.querySelector("address a"),c=l&&l.getAttribute("href");o.querySelector("h1").textContent=n,o.querySelector("address a").textContent=s,c?o.querySelector("address a").setAttribute("href",c):o.querySelector("address a").removeAttribute("href"),r.hideFormatTooltip(t),r.hideBlocksTooltip()}}function g(e,t=!1){const r="щ   ш  ч  ц  ю  я  ё  ж  ъ  ы  э  а б в г д е з и й к л м н о п р с т у ф х ь".split(/ +/g),n="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g);for(let i=0;i<r.length;i++)e=(e=e.split(t?n[i]:r[i]).join(t?r[i]:n[i])).split(t?n[i].toUpperCase():r[i].toUpperCase()).join(t?r[i].toUpperCase():n[i].toUpperCase());return e}function b(e){try{return localStorage.removeItem(e),!0}catch(e){return!1}}function m(){b("draft")}!function(){var e=document.querySelector("time");if(e&&o.datetime){var t=new Date(1e3*o.datetime);let r="January February March April May June July August September October November December".split(" ")[t.getMonth()],n=t.getDate();e.textContent=r+" "+(10>n?"0":"")+n+", "+t.getFullYear()}}()},function(e,t,r){"use strict";r.r(t),r.d(t,"BreakBlot",(function(){return o}));var n=r(61),i=r(62);class o extends i.a{}o.blotName="textBreak",o.tagName="br",o.className="inline",n.a.register(o)},,function(e,t,r){"use strict";r.r(t),r.d(t,"FieldBlot",(function(){return i}));var n=r(66);class i extends n.SingleLineBlot{}},,,,function(e,t,r){"use strict";r.r(t),r.d(t,"browser",(function(){return P})),r.d(t,"editor",(function(){return D}));var n=r(163),i=r.n(n),o=r(139),a=r.n(o),s=r(62),l=r(61),c=r(106),u=r(95),d=r(169),f=r(119),h=r(170),p=r(141),g=r(96),b=r(68),m=r(70),y=r(97),v=r(98),A=r(99),S=r(66),_=r(91),x=r(100),E=r(101),k=r(120),w=r(148),L=r(84),j=r(102),T=r(92),C=r(107),N=r(67),B=r(103),O=r(104);let I=navigator.userAgent.toLowerCase(),P={opera:/opera/i.test(I)||/opr/i.test(I),msie:/msie/i.test(I)&&!/opera/i.test(I)||/trident\//i.test(I)||/edge/i.test(I),msie_edge:/edge/i.test(I)&&!/opera/i.test(I),mozilla:/firefox/i.test(I),chrome:/chrome/i.test(I)&&!/edge/i.test(I),safari:!/chrome/i.test(I)&&/webkit|safari|khtml/i.test(I),iphone:/iphone/i.test(I),ipod:/ipod/i.test(I),ipad:/ipad/i.test(I),android:/android/i.test(I),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(I),safari_mobile:/iphone|ipod|ipad/i.test(I),opera_mobile:/opera mini|opera mobi/i.test(I),opera_mini:/opera mini/i.test(I),mac:/mac/i.test(I)};function D(e,t){console.log(v.MyQuill.length),console.log(v.MyQuill.imports["formats/"]),y.LinkBlot.blotName="link",y.LinkBlot.tagName="a",y.LinkBlot.showLinkTooltip=t=>{e.showLinkTooltip(t,t.value,Object(N.isEdit)(),Q)},y.LinkBlot.hideLinkTooltip=()=>e.hideLinkTooltip(Q),v.MyQuill.register(y.LinkBlot,!0),x.FigureBlot.blotName="blockFigure",x.FigureBlot.tagName="figure",x.FigureBlot.quillSetSelection=(e,t=0)=>Q.setSelection(e,t,l.a.sources.USER),x.FigureBlot.quillDeleteText=(e,t,r=l.a.sources.USER)=>Q.deleteText(e,t,r),x.FigureBlot.quillInsertText=(e,t)=>Q.insertText(e,t,l.a.sources.USER),x.FigureBlot.draftSave=()=>Object(N.draftSave)(r,Q),v.MyQuill.register(x.FigureBlot,!0),v.MyQuill.register(O.DividerBlot),v.MyQuill.register({"modules/syntax":T.InsSyntaxModule,"formats/bold":k.a,"formats/italic":w.a,"formats/indent":d.a,"formats/list":u.ListContinuer,"formats/list-item":c.a,"formats/code":f.a,"formats/strike":h.a},!0);var r=!1;P.mobile&&document.body.classList.add("mobile");let n=document.querySelector(".tl_article"),o=document.querySelector(".tl_article_header"),I=document.querySelector(".tl_article_content"),D=document.querySelector("#_bold_button"),q=document.querySelector("#_italic_button"),M=document.querySelector("#_link_button"),R=document.querySelector("#_header_button"),F=document.querySelector("#_subheader_button"),U=document.querySelector("#_quote_button"),z=document.querySelector("#_strike_button"),H=document.querySelector("#_image_button"),W=document.querySelector("#_embed_button");document.querySelector(".account");var Q=new v.MyQuill(t,{scrollingContainer:"html, body",readOnly:!0,modules:{syntax:{highlight:e=>B.default.highlightAuto(e).value},clipboard:{matchers:[G("h2",{blockHeader:!0}),G("h5",{blockSubheader:!0}),G("h6",{blockSubheader:!0}),["img",function(e,t){return e.src&&Object(N.sanitize)(e.src,["http","https","data"])?(new a.a).insert({blockFigure:{image:e.src,caption:e.alt||""}}):new a.a}],["video",function(e,t){return e.src&&Object(N.sanitize)(e.src,["http","https","data"])?(new a.a).insert({blockFigure:{video:e.src}}):new a.a}],["br",function(e,t){return console.log("modules.clipboard.matchers.br"),e.classList.contains("inline")?(new a.a).insert({textBreak:!0}):t}]]},keyboard:{bindings:{"required enter":{key:p.a.keys.ENTER,collapsed:!0,shiftKey:null,format:["blockTitle","blockDescription"],suffix:/^$/,handler:function(e,t){console.log("keyboard.bindings.required_enter.handler");let[r]=this.quill.scroll.descendant(m.FieldBlot,e.index);return!(r&&r.next&&r.next.domNode&&!r.next.domNode.textContent)||(this.quill.setSelection(r.next.offset(this.quill.scroll),0,l.a.sources.USER),!1)}},"required tab prev":{key:p.a.keys.TAB,shiftKey:!0,handler:function(e,t){console.log("keyboard.bindings.required_tab_prev.handler");let r=null;if(e.length>0){let t=Q.scroll.descendants(s.c,e.index,e.length);if(1!=t.length)return!0;r=t[0]}else[r]=Q.scroll.descendant(s.c,e.index);if(null!=r&&null!=r.prev&&r.prev instanceof m.FieldBlot){let e=r.prev.offset(Q.scroll),t=r.prev.length();return Q.setSelection(e,t>1?t:0,l.a.sources.USER),!1}return!0}},"required tab next":{key:p.a.keys.TAB,shiftKey:!1,handler:function(e,t){console.log("keyboard.bindings.required_tab_next.handler");let r=null;if(e.length>0){let t=Q.scroll.descendants(s.c,e.index,e.length);if(1!=t.length)return!0;r=t[0]}else[r]=Q.scroll.descendant(s.c,e.index);if(null!=r&&r instanceof m.FieldBlot&&null!=r.next){let e=r.next.offset(Q.scroll);if(r.next instanceof m.FieldBlot){let t=r.next.length();Q.setSelection(e,t>1?t:0,l.a.sources.USER)}else Q.setSelection(e,0,l.a.sources.USER);return!1}return!0}},"no tab":{key:p.a.keys.TAB,shiftKey:null,handler:function(e,t){return console.log("keyboard.bindings.no_tab.handler"),!1}},"detect embed":{key:p.a.keys.ENTER,collapsed:!0,handler:function(t,r){console.log("keyboard.bindings.detect_embed.handler");let[n,i]=Q.scroll.line(t.index);if(n){let r,o=n.domNode.textContent.substr(0,i);if(r=o.match(/(^|\s)(https?:\/\/\S+)$/)){let s=r[2];if(Q.scroll.descendants(y.LinkBlot,t.index-s.length,s.length).length||Q.formatText(t.index-s.length,s.length,"link",s,l.a.sources.USER),!o.substr(0,i-s.length).trim().length&&"P"==n.domNode.tagName){let t=X(s);if(t){let r=n.offset(Q.scroll);return Q.updateContents((new a.a).retain(r).delete(o.length).insert({blockFigure:t}),l.a.sources.USER),e.hideBlocksTooltip(),!1}}}}return!0}},"divider autofill":{key:p.a.keys.ENTER,collapsed:!0,prefix:/^([-*])\1{2,}$/,handler:function(e,t){console.log("keyboard.bindings.divider_autofill.handler");let[r,n]=Q.scroll.line(e.index);if(r&&"P"==r.domNode.tagName){let e=r.offset(Q.scroll),t=(new a.a).retain(e).delete(r.length()).insert({blockDivider:!0});return r.next||t.insert("\n"),Q.updateContents(t,l.a.sources.USER),!1}return!0}},break:{key:p.a.keys.ENTER,shiftKey:!0,handler:$.bind(null,!0)},enter:{key:p.a.keys.ENTER,handler:$.bind(null,!1)},"detect link":{key:" ",collapsed:!0,handler:function(e){console.log("detectLinkHandler",e);let[t,r]=Q.scroll.line(e.index);if(t){let n,i=t.domNode.textContent.substr(0,r);if(n=i.match(/(^|\s)((?:https?|tg):\/\/\S+|www\.\S+)$/)){let t=n[2],r=t.length;"www."==t.substr(0,4)&&(t="http://"+t),Q.scroll.descendants(y.LinkBlot,e.index-r,r).length||Q.formatText(e.index-r,r,"link",t,l.a.sources.USER)}}return!0}},"cancel placeholder":{key:p.a.keys.ESCAPE,handler:function(e,t){return console.log("keyboard.bindings.cancel_placeholder.handler"),Y(),this.quill.updateSelection(l.a.sources.USER),!0}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{list:!1,"code-block":!1,blockquote:!1,header:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query&&null==this.quill.scroll.query("list"))return!0;const{length:r}=t.prefix,[n,i]=this.quill.getLine(e.index);if(i>r)return!0;let o;switch(t.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o={type:"ordered",start:Number(t.prefix.slice(0,-1))-1}}this.quill.insertText(e.index," ",l.a.sources.USER),this.quill.history.cutoff(),console.log("keyboard.bindings.list_autofill.handler",e,t);const s=(new a.a).retain(e.index-i).delete(r+1).retain(n.length()-2-i).retain(1,{list:o,start:o.start});console.log("keyboard.bindings.list_autofill.handler",s);const c=this.quill.updateContents(s,l.a.sources.USER);return console.log("keyboard.bindings.list_autofill.handler",c),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,l.a.sources.SILENT),!1}},"pre wrap":{key:192,collapsed:!0,format:{"code-block":!1},prefix:/^``$/,offset:2,handler:function(e,t){console.log("keyboard.bindings.pre_wrap.handler");let r=t.prefix.length,n=e.index-r;this.quill.scroll.deleteAt(n,r),this.quill.formatLine(n,1,"code-block",!0,l.a.sources.USER),this.quill.setSelection(n,l.a.sources.SILENT)}},code:{key:192,handler:function(e,t){if(console.log("keyboard.bindings.code.handler",!t.format),!t.collapsed){let r=Q.scroll.descendants(s.c,e.index,e.length);if(r.length>1||1==r.length&&r[0]instanceof C.a)return this.quill.format("code-block",!t.format["code-block"],l.a.sources.USER),!1;if(Q.scroll.descendants(b.BreakBlot,e.index,e.length).length)return this.quill.format("code-block",!t.format["code-block"],l.a.sources.USER),!1}if(t.collapsed&&!t.format.code&&!/\s$/.test(t.prefix))return!0;this.quill.format("code",!t.format.code,l.a.sources.USER)}},"figure delete":{key:p.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(e,t){console.log("keyboard.bindings.figure_delete.handler");let[r,n]=Q.scroll.line(e.index);return!(r&&r.prev&&r.prev instanceof x.FigureBlot)||(t.empty&&Q.deleteText(e.index,1,l.a.sources.USER),Q.setSelection(r.prev.offset(Q.scroll)),!1)}},"field backspace":{key:p.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(e,t){console.log("keyboard.bindings.field_backspace.handler");let[r,n]=Q.scroll.line(e.index);return!(r&&r.prev&&r.prev instanceof m.FieldBlot&&r.domNode.textContent.length>0)}},strikethrough:{key:"X",shortKey:!0,shiftKey:!0,handler:function(e,t){Q.formatText(e,"strike",!t.format.strike)}}}}}});function G(e,t){return[e,function(e,r){return r.compose((new a.a).retain(r.length(),t))}]}function V(e){let t=function(e){let[t,r]=Q.scroll.line(e);return Q.getText(e,t.length()-r)}(e);return!t||"\n"==t}function $(e,t,r){console.log("breakHandler",e,t,r);let n,i=t.index;t.length>0&&Q.scroll.deleteAt(i,t.length);let o=V(i),a=!1;return[n]=Q.scroll.descendant(b.BreakBlot,i),n?(!n.prev||n.prev instanceof b.BreakBlot)&&(Q.scroll.deleteAt(--i,1),a=!0):([n]=Q.scroll.descendant(b.BreakBlot,i-1),n&&(Q.scroll.deleteAt(--i,1),a=!0)),[n]=Q.scroll.descendant(S.SingleLineBlot,i),n||a||!e?(Q.insertText(i,"\n",l.a.sources.USER),Q.setSelection(++i,0,l.a.sources.USER),(r.format.blockHeader||r.format.blockSubheader||r.format.blockBlockquote||r.format.blockPullquote)&&o&&Q.formatLine(i,1,{blockHeader:!1,blockSubheader:!1,blockBlockquote:!1,blockPullquote:!1},l.a.sources.USER)):(Q.insertEmbed(i,"textBreak",!0,l.a.sources.USER),[n]=Q.scroll.descendant(b.BreakBlot,i),!n||n.next||n.prev&&n.prev instanceof b.BreakBlot||(Q.insertEmbed(++i,"textBreak",!0,l.a.sources.SILENT),Q.setSelection(i,0,l.a.sources.SILENT))),!1}function K(e){let t=null==e?{}:Q.getFormat(e),r=!!t.blockDescription,n=!(!t.blockHeader&&!t.blockSubheader),i=!!t["code-block"];if(D.classList.toggle("active",!!t.bold),D.classList.toggle("disabled",r||n||i),q.classList.toggle("active",!!t.italic),q.classList.toggle("disabled",r||n||i),R.classList.toggle("active",!!t.blockHeader),R.classList.toggle("disabled",r),F.classList.toggle("active",!!t.blockSubheader),F.classList.toggle("disabled",r),U.classList.toggle("active",!(!t.blockBlockquote&&!t.blockPullquote)),U.classList.toggle("pullquote",!!t.blockPullquote),U.classList.toggle("disabled",r),z.classList.toggle("active",!!t.strike),z.classList.toggle("disabled",r),null!=e){let t=Q.scroll.descendants(y.LinkBlot,e.index,e.length);M.classList.toggle("active",!!t.length)}else M.classList.toggle("active",!1);M.classList.toggle("disabled",i)}function X(e){let t;if((t=e.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/i))||(t=e.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/i)))return{embed:"/embed/youtube?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/i))return{embed:"/embed/vimeo?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(www\.|mobile\.)?twitter\.com\/(.+)\/status\/(\d+)/i))return{embed:"/embed/twitter?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(t\.me|telegram\.me|telegram\.dog)\/([a-zA-Z0-9_]+)\/(\d+)/i))return{embed:"/embed/telegram?url="+encodeURIComponent(e)};if(t=e.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))return"video/"==t[1].substr(0,6)?{video:e}:{image:e};if(t=e.match(/^(https?):\/\/\S+/i)){let r=document.createElement("a");if(r.href=e,r.pathname.match(/\.(jpe?g|png|gif|mp4)$/i))return"mp4"==t[1]?{video:e}:{image:e}}return!1}function Y(){const e=document.querySelector(".placeholder_once");null!==e&&(e.removeAttribute("data-placeholder"),e.classList.remove("placeholder_once","empty"))}function J(e){e.scroll.descendants(s.c,0,e.scroll.length()).forEach(e=>{if(e.domNode.hasAttribute("data-placeholder")){let t=e.domNode.textContent;e.domNode.classList.toggle("empty",!t)}})}function Z(e){let[t,r]=e.scroll.lines();if(t instanceof s.a)e.updateContents((new a.a).insert("\n",{blockTitle:!0}).insert("\n",{blockDescription:!0}),l.a.sources.SILENT);else if(t instanceof _.TitleBlot||e.formatLine(0,1,{blockTitle:!0},l.a.sources.SILENT),r){if(r instanceof s.a){let t=r.offset(e.scroll);e.updateContents((new a.a).retain(t).insert("\n",{blockDescription:!0}),l.a.sources.SILENT)}else if(!(r instanceof E.DescriptionBlot)){let t=r.offset(e.scroll);e.formatLine(t,1,{blockDescription:!0},l.a.sources.SILENT)}}else{let t=e.scroll.length();e.updateContents((new a.a).retain(t).insert("\n",{blockDescription:!0}),l.a.sources.SILENT)}let[,,n]=e.scroll.lines();if(n){let t=n.offset(e.scroll),r=e.scroll.length()-t;e.scroll.descendants(m.FieldBlot,t,r).forEach(t=>{let r=t.offset(e.scroll),n=t.length(),i=t.constructor.blotName;e.formatText(r,n,i,!1,l.a.sources.SILENT)})}else{let t=e.scroll.length();e.insertText(t,"\n",l.a.sources.SILENT)}let i=e.scroll.lines();i.forEach((e,t)=>{"P"==e.domNode.tagName&&(3==i.length&&2==t?e.domNode.setAttribute("data-placeholder","Your story..."):e.domNode.removeAttribute("data-placeholder"))})}function ee(e,t){(t=t||{}).close_btn=t.close_btn||"OK",t.submit_btn=t.submit_btn||!1,t.close=t.close||te,t.submit=t.submit||t.close,te();var r=document.createElement("div");r.classList.add("tl_alert"),r.innerHTML='<main class="tl_alert_message"><section></section><aside class="tl_message_buttons"></aside></main>',r.querySelector("section").innerHTML=e;var n=r.querySelector("aside");if(t.close_btn){var i=document.createElement("button");i.classList.add("button"),i.innerHTML=t.close_btn,i.addEventListener("click",t.close),i.append(n)}if(t.submit_btn){var o=document.createElement("button");o.classList.add("button"),o.innerHTML=t.submit_btn,o.addEventListener("click",(function(){r.classList.add("tl_alert_loading"),t.submit()})),o.append(n)}r.append("body")}function te(){const e=document.querySelector(".tl_alert");e&&e.remove()}function re(e){let t=e.querySelector(".prompt_input"),r=e.querySelector(".close");t.onkeydown=null,t.onblur=null,r.onclick=null,e.style.display="",e.classList.remove("tooltip_prompt"),Q.focus()}return Q.addContainer(e.$tl_link_tooltip),Q.addContainer(e.$tl_tooltip),Q.addContainer(e.$tl_blocks),Q.on(l.a.events.EDITOR_CHANGE,(function(t,r){if(t!==l.a.events.SELECTION_CHANGE)return;if(!Q.isEnabled())return;if(null==r)return;!function(t){let[r]=Q.scroll.descendant(x.FigureBlot,t.index);Q.scroll.descendants(x["FigureBlot"],0,Q.scroll.length()).forEach(e=>{r!==e&&e.blur()}),r&&(r.focus(),e.hideFormatTooltip(Q),e.hideBlocksTooltip())}(r);let[i,o]=Q.scroll.descendant(s.c,r.index);0===r.length?(e.hideFormatTooltip(Q),null==i||i instanceof m.FieldBlot||i instanceof g.BlockquoteBlot||i instanceof A.PullquoteBlot||i instanceof C.a||i instanceof c.a||""!==i.domNode.textContent?e.hideBlocksTooltip():e.showBlocksTooltip(r,Object(N.isEdit)(),Q)):(null==i||i instanceof _.TitleBlot?e.hideFormatTooltip(Q):(e.showFormatTooltip(r,Q,Object(N.isEdit)()),K(r)),e.hideBlocksTooltip());let a=Q.getFormat(r);n&&n.classList.toggle("title_focused",!(!a.blockTitle&&!a.blockDescription)),Y()})),Q.on(l.a.events.TEXT_CHANGE,(function(){Q.getSelection();Z(Q),J(Q),Y(),Object(N.draftSave)(r,Q)})),Q.on(l.a.events.SCROLL_OPTIMIZE,(function(e){e.forEach(e=>{if("childList"==e.type&&!e.addedNodes.length&&e.removedNodes.length){let t=e.previousSibling,r=e.nextSibling;if(!r&&t&&"BR"==t.tagName&&"inline"==t.className){let t=document.createElement("br");t.className="inline",e.target.appendChild(t)}else!r||!t||"BR"==t.tagName&&"inline"==t.className||"BR"!=r.tagName||"inline"!=r.className||r.nextSibling||r.parentNode&&r.parentNode.removeChild(r)}})})),Q.scroll.domNode.setAttribute("dir","auto"),document.addEventListener("click touchstart",(function(t){let r=t.target;for(;r;){if(r===Q.container)return;r=r.parentNode}e.hideFormatTooltip(Q),e.hideBlocksTooltip()})),Z(Q),J(Q),function(){const t={page_id:N.T.pageId};t.save_hash&&(N.T.saveHash=t.save_hash);if(!N.T.pageId&&(n&&n.classList.add("tl_article_edit"),!function(){if(!N.T.pageId)return function(e){try{return localStorage.getItem(e)}catch(e){return!1}}("draft");return!1}()&&t.author_name)){let e;e=t.author_url?{link:t.author_url}:{};let[r]=Q.scroll.descendants(E.DescriptionBlot);r&&Q.updateContents((new a.a).retain(r.offset()).delete(r.length()).insert(t.author_name,e),l.a.sources.USER)}if(t.auth_alert&&t.short_name){var i="Success! You are now logged in as <b>"+(t.short_name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;")+"</b> in this browser.");t.migrate_count>0&&t.migrate_hash?(i+="<br/><br/>",ee(i+="We can also add "+t.migrate_count+" Telegraph page"+(t.migrate_count>1?"s":"")+" from this browser to your account.",{close_btn:"Skip",submit_btn:"Add",submit:function(){var e;e=t.migrate_hash,console.log(e)}})):ee(i)}r=Object(N.getPageContent)(!0,Q),Object(N.updateEditable)(Object(N.isEdit)(),Q,e,n,I,o)}(),D.onclick=e=>{console.log("$bold_button.onclick");let t=e.target.classList.contains("active");e.preventDefault(),console.log("$bold_button.onclick",!t),Q.format("bold",!t),console.log("$bold_button.onclick",Q.getSelection(!0)),Q.updateSelection(l.a.sources.API)},q.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault(),Q.format("italic",!t),Q.updateSelection(l.a.sources.API)},M.onclick=t=>{let r=t.target.classList.contains("active");t.preventDefault();var n=Q.getSelection(!0);if(r){Q.scroll.descendants(y.LinkBlot,n.index,n.length).forEach(e=>{let t=e.offset(Q.scroll),r=e.length();Q.formatText(t,r,"link",!1)}),K(n)}else!function(e,t,r){let n=e.querySelector(".prompt_input"),i=e.querySelector(".close");n.value="",n.setAttribute("placeholder",t),n.onkeydown=t=>{let i=t.which||t.keyCode;if(27==i)re(e);else if(13==i){let i=n.value;i&&(r&&r(i),t.preventDefault()),re(e)}},n.onblur=()=>{re(e)},i.onclick=()=>{re(e)},e.style.display="",e.classList.add("tooltip_prompt"),n.focus()}(e.$tl_tooltip,"Paste or type a link...",(function(e){"#"!=(e=e.trim()).substr(0,1)&&"/"!=e.substr(0,1)&&"http://"!=e.substr(0,7)&&"https://"!=e.substr(0,8)&&"tg://"!=e.substr(0,5)&&"mailto:"!=e.substr(0,7)&&(e=e.indexOf("@")>0?"mailto:"+e:"http://"+e),Q.focus(),Q.format("link",e),K(n)}))},R.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault();let r=Q.getSelection(!0);Q.format("blockHeader",!t),Q.scroll.descendants(L.HeaderBlot,r.index,r.length).forEach(e=>{let t=e.offset(Q.scroll),r=e.length();Q.formatText(t,r,{bold:!1,italic:!1,code:!1},l.a.sources.SILENT)}),Q.updateSelection(l.a.sources.API)},F.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault();let r=Q.getSelection(!0);Q.format("blockSubheader",!t),Q.scroll.descendants(j.SubheaderBlot,r.index,r.length).forEach(e=>{let t=e.offset(Q.scroll),r=e.length();Q.formatText(t,r,{bold:!1,italic:!1,code:!1},l.a.sources.SILENT)}),Q.updateSelection(l.a.sources.API)},U.onclick=e=>{let t=e.target,r=t.classList.contains("active"),n=t.classList.contains("pullquote");e.preventDefault();Q.getSelection(!0);r?Q.format("blockPullquote",!n):Q.format("blockBlockquote",!0),Q.updateSelection(l.a.sources.API)},z.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault(),Q.format("strike",!t),Q.updateSelection(l.a.sources.API)},H.onclick=()=>{let e=Q.container.querySelector("input.ql-image[type=file][data-status=ready]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",P.safari_mobile?"image/gif, image/jpeg, image/jpg, image/png":"image/gif, image/jpeg, image/jpg, image/png, video/mp4"),e.classList.add("ql-image"),e.addEventListener("change",()=>{if(e&&null!=e.files&&null!=e.files[0]){var t=e.files[0];const r=function(){Object(N.showError)("File too big (up to 5 MB allowed)")},n=5242880;!function(e,t){if("image/jpg"==e.type||"image/jpeg"==e.type)return i()(e,r=>{if("error"===r.type)t(e);else if(r.toBlob)r.toBlob((function(e){t(e)}),e.type);else{var n=r.toDataURL(e.type),i={type:e.type,base64_data:n.split(",")[1]};t(Object(N.uploadDataToBlob)(i))}},{canvas:!0,orientation:!0});t(e)}(t,t=>{if(t.size>n)return r&&r();var i=new FileReader;i.onload=function(t){if(t&&null!==t.target){let r=X(t.target.result);if(r){let e=Q.getSelection(!0);Q.updateContents((new a.a).retain(e.index).delete(e.length).insert({blockFigure:r}),l.a.sources.USER)}else Object(N.showError)("Invalid file format");e.value="",e.setAttribute("data-status","ready")}},i.readAsDataURL(t)})}}),Q.container.appendChild(e)),e.setAttribute("data-status","busy"),e.click()},W.onclick=t=>{let r=Q.getSelection(!0),[n]=Q.scroll.line(r.index);const i=n.domNode;if(n){i.textContent||(i.setAttribute("data-placeholder","Paste a YouTube, Vimeo or Twitter link, and press Enter"),i.classList.add("placeholder_once","empty"),e.hideBlocksTooltip())}},window.addEventListener("scroll resize",()=>{e.tooltipUpdatePosition(e.$tl_tooltip,null,e.formatTTOptions,Q),e.tooltipUpdatePosition(e.$tl_link_tooltip,null,e.linkTTOptions,Q)}),Q}},,,,,,,function(e,t,r){var n,i,o;!function(a){"use strict";i=[r(65)],void 0===(o="function"==typeof(n=function(e){var t="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[],65517:[]}},e.parseMetaData=function(t,r,n,i){i=i||{};var o=this,a=(n=n||{}).maxMetaDataSize||262144;!!("undefined"!=typeof DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice)&&e.readFile(e.blobSlice.call(t,0,a),(function(t){if(t.target.error)return console.log(t.target.error),void r(i);var a,s,l,c,u=t.target.result,d=new DataView(u),f=2,h=d.byteLength-4,p=f;if(65496===d.getUint16(0)){for(;f<h&&((a=d.getUint16(f))>=65504&&a<=65519||65534===a);){if(f+(s=d.getUint16(f+2)+2)>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if((l=e.metaDataParsers.jpeg[a])&&!n.disableMetaDataParsers)for(c=0;c<l.length;c+=1)l[c].call(o,d,f,s,i,n);p=f+=s}!n.disableImageHead&&p>6&&(u.slice?i.imageHead=u.slice(0,p):i.imageHead=new Uint8Array(u).subarray(0,p))}else console.log("Invalid JPEG file: Missing JPEG marker.");r(i)}),"readAsArrayBuffer")||r(i)},e.replaceHead=function(t,r,n){e.parseMetaData(t,(function(i){n(new Blob([r,e.blobSlice.call(t,i.imageHead.byteLength)],{type:"image/jpeg"}))}),{maxMetaDataSize:256,disableMetaDataParsers:!0})},e.hasMetaOption=function(e){return e&&e.meta};var r=e.transform;e.transform=function(t,n,i,o,a){e.hasMetaOption(n)?e.parseMetaData(o,(function(a){r.call(e,t,n,i,o,a)}),n,a):r.apply(e,arguments)}})?n.apply(t,i):n)||(e.exports=o)}()},,function(e,t,r){"use strict";r.r(t),r.d(t,"uploadFileService",(function(){return n}));function n(e,t){return new Promise((r,n)=>{var i=new XMLHttpRequest,o=new FormData;i.open("POST","https://api.cloudinary.com/v1_1/inscriptum/upload",!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.upload.addEventListener("progress",(function(e){e.lengthComputable&&t&&t(e.loaded,e.total)})),t&&t(0,1),o.append("upload_preset","cz5pibn5"),o.append("tags","browser_upload"),o.append("file",e),i.send(o),i.onreadystatechange=e=>{if(4==i.readyState&&200==i.status){var t=JSON.parse(i.responseText);console.log(1111,t),t.src=t.secure_url,r(t)}},i.onerror=function(){n(new Error("Network Error"))}})}},function(e,t,r){"use strict";r.r(t),r.d(t,"HeaderBlot",(function(){return o}));var n=r(61),i=r(66);class o extends i.SingleLineBlot{optimize(e){super.optimize(e);let t=this.domNode.innerText;t=t.replace(/[\s_]+/g,"-"),t=t.replace(/(^-+|-+$)/g,""),this.domNode.id!==t&&this.domNode.setAttribute("id",t)}formatAt(e,t,r,n){("bold"!==r&&"italic"!==r&&"code"!==r||!n)&&super.formatAt(e,t,r,n)}}o.blotName="blockHeader",o.tagName="h3",n.a.register(o)},,,,,,function(e,t,r){var n,i,o;
/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/i=[e,t],void 0===(o="function"==typeof(n=function(e,t){"use strict";var r,n,i="function"==typeof Map?new Map:(r=[],n=[],{has:function(e){return r.indexOf(e)>-1},get:function(e){return n[r.indexOf(e)]},set:function(e,t){-1===r.indexOf(e)&&(r.push(e),n.push(t))},delete:function(e){var t=r.indexOf(e);t>-1&&(r.splice(t,1),n.splice(t,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var t,r=null,n=null,a=null,s=function(){e.clientWidth!==n&&d()},l=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach((function(r){e.style[r]=t[r]})),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:l,update:d}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),r="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),d()}function c(t){var r=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=r,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),i=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+r+"px",n=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),i&&(document.documentElement.scrollTop=i)}}function d(){u();var t=Math.round(parseFloat(e.style.height)),r=window.getComputedStyle(e,null),n="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):e.offsetHeight;if(n<t?"hidden"===r.overflowY&&(c("scroll"),u(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==r.overflowY&&(c("hidden"),u(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==n){a=n;var i=o("autosize:resized");try{e.dispatchEvent(i)}catch(e){}}}}function s(e){var t=i.get(e);t&&t.destroy()}function l(e){var t=i.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return a(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=c,e.exports=t.default})?n.apply(t,i):n)||(e.exports=o)},function(e,t,r){"use strict";r.r(t),r.d(t,"TitleBlot",(function(){return o}));var n=r(61),i=r(70);class o extends i.FieldBlot{static create(e){let t=super.create(e);return t.setAttribute("data-placeholder","Title"),t.setAttribute("data-label","Title"),t}formatAt(e,t,r,n){r===o.blotName&&super.formatAt(e,t,r,n)}}o.blotName="blockTitle",o.tagName="h1",n.a.register(o)},function(e,t,r){"use strict";r.r(t),r.d(t,"CodeEndLineFlag",(function(){return a})),r.d(t,"InsSyntaxCodeBlock",(function(){return s})),r.d(t,"InsSyntaxModule",(function(){return l}));var n=r(61),i=r(82),o=r(107);class a extends i.a{static formats(){return{}}}a.blotName="code-end",a.className="l",a.tagName="SPAN",n.a.register(a);class s extends o.a{highlight(e){let t=this.domNode.textContent||"";if(this.cachedText!==t){if(t.trim().length>0||null==this.cachedText){let r="";const n=e(t).split("\n");for(let e=0;e<n.length-1;e++)r+=`<span class="l">${n[e]||" "}</span>\n`;r+=`<span class="l">${n[n.length-1]}</span>`,this.domNode.innerHTML=`<code class="hljs">${r}</code>`}this.cachedText=t}}}class l extends o.c{static register(){n.a.register(o.b,!0),n.a.register(s,!0)}highlight(){if(this.quill.selection.composing)return;this.quill.update(n.a.sources.USER);let e=this.quill.getSelection();this.quill.scroll.descendants(s).forEach(e=>{e.highlight(this.options.highlight)}),this.quill.update(n.a.sources.SILENT),null!=e&&document.activeElement===this.quill.container.querySelector("[contenteditable]")&&this.quill.setSelection(e,n.a.sources.SILENT)}}},,,function(e,t,r){"use strict";r.r(t),r.d(t,"ListContinuer",(function(){return i}));var n=r(106);class i extends n.b{static create(e){let t;return"string"==typeof e?t=super.create(e):(t=super.create(e.type),void 0!==e.start&&(t.setAttribute("start",e.start),t.style["counter-reset"]="list-0 "+e.start)),t}static formats(e){let t=super.formats(e);return console.log("MyList-static.formats",t,e.getAttribute("start")),{type:t,start:e.getAttribute("start")}}}},function(e,t,r){"use strict";r.r(t),r.d(t,"BlockquoteBlot",(function(){return o}));var n=r(61),i=r(62);class o extends i.c{}o.blotName="blockBlockquote",o.tagName="blockquote",n.a.register(o)},function(e,t,r){"use strict";r.r(t),r.d(t,"LinkBlot",(function(){return o}));var n=r(82),i=r(67);class o extends n.a{constructor(e,t){super(e),this.value=t,e.addEventListener("mouseover",o.showLinkTooltip.bind(this,this),!1),e.addEventListener("mouseout",o.hideLinkTooltip,!1)}static create(e){let t=super.create(e);e=this.sanitize(e),t.setAttribute("href",e);var r=e.substr(0,1);return"/"!=r&&"#"!=r&&"tg://"!=e.substr(0,5)&&"mailto:"!=e.substr(0,7)&&t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){const t=o.relativeUrl(e);return Object(i.sanitize)(e,["http","https","tg","mailto"])?t:"about:blank"}detach(){this.domNode.removeEventListener("mouseover",o.showLinkTooltip.bind(this,this),!1),this.domNode.removeEventListener("mouseout",o.hideLinkTooltip,!1),super.detach(),o.hideLinkTooltip()}format(e,t){if(e!==this.statics.blotName||!t)return super.format(e,t);t=o.sanitize(t),this.domNode.setAttribute("href",t),this.domNode.setAttribute("data-title",t)}static relativeUrl(e){let t=location,r=document.createElement("a");return r.href=e,t.origin!==r.origin?r.href:t.pathname!==r.pathname||t.search!==r.search?r.pathname+r.search+r.hash:t.href===r.href?r.hash||r.pathname+r.search+r.hash:r.hash}}},function(e,t,r){"use strict";r.r(t),r.d(t,"MyQuill",(function(){return i}));var n=r(61);class i extends n.a{formatLine(...e){super.formatLine(...e),this.updateSelection()}formatText(...e){super.formatText(...e),this.updateSelection()}updateSelection(e){if(this.hasFocus()){e=e||i.sources.SILENT;let t=this.getSelection(!0);this.setSelection(++t.index,t.length,e),this.setSelection(--t.index,t.length,e)}}}},function(e,t,r){"use strict";r.r(t),r.d(t,"PullquoteBlot",(function(){return o}));var n=r(61),i=r(62);class o extends i.c{}o.blotName="blockPullquote",o.tagName="aside",n.a.register(o)},function(e,t,r){"use strict";r.r(t),r.d(t,"FigureBlot",(function(){return d}));var n=r(61),i=r(62),o=r(141),a=r(90),s=r.n(a),l=r(83),c=r(67),u=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};class d extends i.a{constructor(e,t){super(e),this.domNode=e,this.domWrapper=document.createElement("div"),this.domCursor=document.createElement("span"),this.domCaption=document.createElement("figcaption"),this.domWrapper.classList.add("figure_wrapper"),this.domCursor.classList.add("cursor_wrapper"),this.domCursor.setAttribute("contenteditable","true"),this.domCaption.classList.add("editable_text"),this.domCaption.setAttribute("data-placeholder","Caption (optional)"),t.caption&&(this.domCaption.innerText=t.caption),this.domNode.appendChild(this.domWrapper),this.domNode.appendChild(this.domCursor),this.domNode.appendChild(this.domCaption),setTimeout(()=>{Object(c.updateEditableText)(this.domNode)},1);let r=!1;t.image?(this.appendImgNode(t.image),r=this.uploadData(t.image)):t.video?(this.appendVideoNode(t.video),r=this.uploadData(t.video)):t.embed&&this.appendIframeNode(t.embed),r&&(this.domProgress=document.createElement("div"),this.domProgressBar=document.createElement("div"),this.domProgress.classList.add("file_progress"),this.domProgressBar.classList.add("file_progress_bar"),this.domWrapper.classList.add("loading"),this.domProgress.appendChild(this.domProgressBar),this.domWrapper.appendChild(this.domProgress),this.uploadFile(r)),this.domWrapper.onclick=()=>{if(!this.domNode.classList.contains("focus")){let e=this.offset(this.scroll);this.focus(),d.quillSetSelection(e)}},this.domCursor.onkeydown=e=>{let t=e.which||e.keyCode;if(t==o.a.keys.BACKSPACE){let t=this.offset(this.scroll);d.quillDeleteText(t,this.length()),d.quillSetSelection(t-1),e.preventDefault()}else if(t==o.a.keys.ENTER){let t=this.offset(this.scroll)+this.length();this.focus(),d.quillInsertText(t,"\n"),d.quillSetSelection(t),e.preventDefault()}},this.domCursor.onpaste=e=>{e.stopPropagation(),e.preventDefault()},this.domCaption.onkeydown=e=>{let t=e.which||e.keyCode,r=e.target;if(t==o.a.keys.ENTER){if(e.shiftKey)return;let t={start:r.selectionStart,end:r.selectionEnd},n=r.value;if(t.start!=t.end)n=n.substr(0,t.start)+n.substr(t.end),r.setSelectionRange(n.length,n.length);else if(t.end==n.length){let e=this.offset(this.scroll)+this.length();this.focus(),d.quillInsertText(e,"\n"),d.quillSetSelection(e)}e.preventDefault()}else if(t==o.a.keys.DOWN||t==o.a.keys.TAB||t==o.a.keys.RIGHT){let t={start:r.selectionStart,end:r.selectionEnd},n=r.value;if(t.start==t.end&&t.end==n.length){let t=this.offset(this.scroll)+this.length();this.focus(),d.quillSetSelection(t,0),e.preventDefault()}}else if(t==o.a.keys.LEFT||t==o.a.keys.UP){let t={start:r.selectionStart,end:r.selectionEnd};if(t.start==t.end&&0===t.start){let t=this.offset(this.scroll)-1;this.focus(),d.quillSetSelection(t,0),e.preventDefault()}}};const n=e=>{null!==e&&null!==e.target&&(this.domCaption.classList.toggle("empty",!e.target.value),s.a.update(e.target),d.draftSave())};this.domCaption.onpaste=e=>{e.stopPropagation(),n(e)},this.domCaption.onkeyup=n,this.domCaption.ondrop=n,this.domCaption.onchange=n,this.domCaption.oninput=n,this.domCaption.oncut=n,this.domCaption.onclick=e=>{e.target&&e.target.focus()}}static create(e){let t=super.create(e);return t.setAttribute("contenteditable","false"),t}appendImgNode(e){let t=document.createElement("img");return t.setAttribute("src",this.sanitize(e)),this.domWrapper.appendChild(t),t}appendVideoNode(e){let t=document.createElement("video");return t.setAttribute("src",this.sanitize(e)),t.setAttribute("preload","auto"),t.setAttribute("controls","controls"),t.addEventListener("loadeddata",(function(){this.mozHasAudio||this.webkitAudioDecodedByteCount||this.audioTracks&&this.audioTracks.length||(this.setAttribute("autoplay","autoplay"),this.setAttribute("loop","loop"),this.setAttribute("muted","muted"),this.removeAttribute("controls"),this.play())})),this.domWrapper.appendChild(t),t}appendIframeNode(e){let t=document.createElement("div"),r=document.createElement("div"),n=document.createElement("iframe");return t.classList.add("iframe_wrap"),t.appendChild(r),r.classList.add("iframe_helper"),r.style.paddingTop="56.25%",r.appendChild(n),n.setAttribute("src",this.sanitize(e)),n.setAttribute("width","640"),n.setAttribute("height","360"),n.setAttribute("frameborder","0"),n.setAttribute("allowtransparency","true"),n.setAttribute("allowfullscreen","true"),n.setAttribute("scrolling","no"),this.domWrapper.appendChild(t),t}uploadFile(e){this.uploadFileStart(e,(e,t)=>{let r=0;t&&e&&(r=100*e/t,r=Math.min(100,r)),this.domProgressBar.style.width=r+"%"},t=>{if(t){let r=this.sanitize(t.src);if("video/"==e.type.substr(0,6)){let e=this.domWrapper.querySelector("video");e&&e.setAttribute("src",r)}else{let e=this.domWrapper.querySelector("img");e&&e.setAttribute("src",r)}this.domWrapper.classList.remove("loading"),d.draftSave()}},e=>(d.quillDeleteText(this.offset(this.scroll),this.length(),n.a.sources.SILENT),d.draftSave(),Object(c.showError)(e)))}uploadData(e){let t=null;return!!(t=e.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))&&{type:t[1],base64_data:t[2]}}sanitize(e){return Object(c.sanitize)(e,["http","https","data"])?e:"//:0"}static value(e){let t={caption:""},r=e.querySelector("img");r&&(t.image=r.src);let n=e.querySelector("video");n&&(t.video=n.src);let i=e.querySelector("iframe");i&&(t.embed=i.src);let o=e.querySelector("figcaption");if(o){let e=o.querySelector(".editable_input");t.caption=e?e.value:o.innerText}return t}focus(){this.domNode.classList.add("focus")}blur(){this.domNode.classList.remove("focus")}_index(e,t){if(e===this.domCaption)return 0;let r=0;return e.nodeType==e.TEXT_NODE&&(r+=t>=0?t:e.data.length),e.previousSibling?r+this._index(e.previousSibling,-1):e.parentNode?r+this._index(e.parentNode,-1):0}_position(e,t){if(e.nodeType==e.TEXT_NODE)return t<=e.data.length?[e,t]:[null,t-=e.data.length];{let r=e.firstChild;for(;r;){let e=null;if([e,t]=this._position(r,t),e)return[e,t];r=r.nextSibling}return[e,t]}}update(e){this.domCursor.innerHTML=""}index(e,t){return 0}position(e,t){return[this.domCursor,0]}uploadFileStart(e,t,r,n){return u(this,void 0,void 0,(function*(){try{const n=yield Object(l.uploadFileService)(Object(c.uploadDataToBlob)(e),t);r&&r(n)}catch(e){n&&n("Network error")}}))}}},function(e,t,r){"use strict";r.r(t),r.d(t,"DescriptionBlot",(function(){return o}));var n=r(61),i=r(70);class o extends i.FieldBlot{static create(e){console.log("DescriptionBlot create ",e);let t=super.create(e);return t.setAttribute("data-placeholder","Summary of the text"),t.setAttribute("data-label","Description"),t}formatAt(e,t,r,n){console.log("DescriptionBlot formatAt ",e,t,r,n),r===o.blotName?super.formatAt(e,t,r,n):"link"===r&&super.formatAt(0,this.length(),r,n)}format(e,t){console.log("DescriptionBlot format ",e,t),super.format(e,t)}replace(e){console.log("DescriptionBlot replace ",e),super.replace(e)}insertAt(e,t,r){console.log("DescriptionBlot insertAt ",e,t,r),super.insertAt(e,t,r)}}o.blotName="blockDescription",o.tagName="address",n.a.register(o)},function(e,t,r){"use strict";r.r(t),r.d(t,"SubheaderBlot",(function(){return o}));var n=r(61),i=r(84);class o extends i.HeaderBlot{}o.blotName="blockSubheader",o.tagName="h4",n.a.register(o)},function(e,t,r){"use strict";r.r(t);var n=r(175),i=r.n(n),o=r(152),a=r.n(o),s=r(155),l=r.n(s),c=r(153),u=r.n(c),d=r(149),f=r.n(d),h=r(151),p=r.n(h),g=r(150),b=r.n(g),m=r(154),y=r.n(m);i.a.registerLanguage("javascript",a.a),i.a.registerLanguage("typescript",l.a),i.a.registerLanguage("sql",u.a),i.a.registerLanguage("xml",f.a),i.a.registerLanguage("css",p.a),i.a.registerLanguage("bash",b.a),i.a.registerLanguage("yaml",y.a),t.default=i.a},function(e,t,r){"use strict";r.r(t),r.d(t,"DividerBlot",(function(){return i}));var n=r(62);class i extends n.a{}i.blotName="blockDivider",i.tagName="hr"},,function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l}));var n=r(63),i=r.n(n),o=r(62),a=r(147);class s extends o.c{static formats(e){return e.tagName===this.tagName?void 0:super.formats(e)}format(e,t){e!==l.blotName||t?super.format(e,t):this.replaceWith(i.a.create(this.statics.scope))}remove(){null==this.prev&&null==this.next?this.parent.remove():super.remove()}replaceWith(e,t){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,t),this):(this.parent.unwrap(),super.replaceWith(e,t))}}s.blotName="list-item",s.tagName="LI";class l extends a.a{static create(e){let t="ordered"===e?"OL":"UL",r=super.create(t);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}static formats(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}constructor(e){super(e);const t=t=>{if(t.target.parentNode!==e)return;let r=this.statics.formats(e),n=i.a.find(t.target);"checked"===r?n.format("list","unchecked"):"unchecked"===r&&n.format("list","checked")};e.addEventListener("touchstart",t),e.addEventListener("mousedown",t)}format(e,t){this.children.length>0&&this.children.tail.format(e,t)}formats(){return{[this.statics.blotName]:this.statics.formats(this.domNode)}}insertBefore(e,t){if(e instanceof s)super.insertBefore(e,t);else{let r=null==t?this.length():t.offset(this),n=this.split(r);n.parent.insertBefore(e,n)}}optimize(e){super.optimize(e);let t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&t.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(t.moveChildren(this),t.remove())}replace(e){if(e.statics.blotName!==this.statics.blotName){let t=i.a.create(this.statics.defaultChild);e.moveChildren(t),this.appendChild(t)}super.replace(e)}}l.blotName="list",l.scope=i.a.Scope.BLOCK_BLOT,l.tagName=["OL","UL"],l.defaultChild="list-item",l.allowedChildren=[s]},function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u}));var n=r(63),i=r.n(n),o=r(142),a=r(140),s=r(119);class l extends s.b{replaceWith(e){this.domNode.textContent=this.domNode.textContent,this.attach(),super.replaceWith(e)}highlight(e){let t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}l.className="ql-syntax";let c=new i.a.Attributor.Class("token","hljs",{scope:i.a.Scope.INLINE});class u extends a.a{static register(){o.a.register(c,!0),o.a.register(l,!0)}constructor(e,t){if(super(e,t),"function"!=typeof this.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");let r=null;this.quill.on(o.a.events.SCROLL_OPTIMIZE,()=>{clearTimeout(r),r=setTimeout(()=>{this.highlight(),r=null},this.options.interval)}),this.highlight()}highlight(){if(this.quill.selection.composing)return;this.quill.update(o.a.sources.USER);let e=this.quill.getSelection();this.quill.scroll.descendants(l).forEach(e=>{e.highlight(this.options.highlight)}),this.quill.update(o.a.sources.SILENT),null!=e&&this.quill.setSelection(e,o.a.sources.SILENT)}}u.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3}},,,,,,,,function(e,t,r){(function(e,r){var n="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="[object Map]",s="[object Set]",l=/\w*$/,c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,d={};d[n]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object DataView]"]=d["[object Boolean]"]=d["[object Date]"]=d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d[a]=d["[object Number]"]=d["[object Object]"]=d["[object RegExp]"]=d[s]=d["[object String]"]=d["[object Symbol]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d["[object Error]"]=d[i]=d["[object WeakMap]"]=!1;var f="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),g=t&&!t.nodeType&&t,b=g&&"object"==typeof r&&r&&!r.nodeType&&r,m=b&&b.exports===g;function y(e,t){return e.set(t[0],t[1]),e}function v(e,t){return e.add(t),e}function A(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function S(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function _(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function x(e,t){return function(r){return e(t(r))}}function E(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var k,w=Array.prototype,L=Function.prototype,j=Object.prototype,T=p["__core-js_shared__"],C=(k=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",N=L.toString,B=j.hasOwnProperty,O=j.toString,I=RegExp("^"+N.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=m?p.Buffer:void 0,D=p.Symbol,q=p.Uint8Array,M=x(Object.getPrototypeOf,Object),R=Object.create,F=j.propertyIsEnumerable,U=w.splice,z=Object.getOwnPropertySymbols,H=P?P.isBuffer:void 0,W=x(Object.keys,Object),Q=be(p,"DataView"),G=be(p,"Map"),V=be(p,"Promise"),$=be(p,"Set"),K=be(p,"WeakMap"),X=be(Object,"create"),Y=Se(Q),J=Se(G),Z=Se(V),ee=Se($),te=Se(K),re=D?D.prototype:void 0,ne=re?re.valueOf:void 0;function ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function oe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function se(e){this.__data__=new oe(e)}function le(e,t){var r=xe(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ee(e)}(e)&&B.call(e,"callee")&&(!F.call(e,"callee")||O.call(e)==n)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=r.length,o=!!i;for(var a in e)!t&&!B.call(e,a)||o&&("length"==a||ve(a,i))||r.push(a);return r}function ce(e,t,r){var n=e[t];B.call(e,t)&&_e(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function ue(e,t){for(var r=e.length;r--;)if(_e(e[r][0],t))return r;return-1}function de(e,t,r,c,u,f,h){var p;if(c&&(p=f?c(e,u,f,h):c(e)),void 0!==p)return p;if(!Le(e))return e;var g=xe(e);if(g){if(p=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&B.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,p)}else{var b=ye(e),m=b==i||b==o;if(ke(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if("[object Object]"==b||b==n||m&&!f){if(S(e))return f?e:{};if(p=function(e){return"function"!=typeof e.constructor||Ae(e)?{}:(t=M(e),Le(t)?R(t):{});var t}(m?{}:e),!t)return function(e,t){return pe(e,me(e),t)}(e,function(e,t){return e&&pe(t,je(t),e)}(p,e))}else{if(!d[b])return f?e:{};p=function(e,t,r,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return he(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var r=t?he(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?he(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case a:return function(e,t,r){return A(t?r(_(e),!0):_(e),y,new e.constructor)}(e,n,r);case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,l.exec(e));return t.lastIndex=e.lastIndex,t}(e);case s:return function(e,t,r){return A(t?r(E(e),!0):E(e),v,new e.constructor)}(e,n,r);case"[object Symbol]":return o=e,ne?Object(ne.call(o)):{}}var o}(e,b,de,t)}}h||(h=new se);var x=h.get(e);if(x)return x;if(h.set(e,p),!g)var k=r?function(e){return function(e,t,r){var n=t(e);return xe(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,je,me)}(e):je(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(k||e,(function(n,i){k&&(n=e[i=n]),ce(p,i,de(n,t,r,c,i,e,h))})),p}function fe(e){return!(!Le(e)||(t=e,C&&C in t))&&(we(e)||S(e)?I:c).test(Se(e));var t}function he(e){var t=new e.constructor(e.byteLength);return new q(t).set(new q(e)),t}function pe(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n?n(r[a],e[a],a,r,e):void 0;ce(r,a,void 0===s?e[a]:s)}return r}function ge(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function be(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(r)?r:void 0}ie.prototype.clear=function(){this.__data__=X?X(null):{}},ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ie.prototype.get=function(e){var t=this.__data__;if(X){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return B.call(t,e)?t[e]:void 0},ie.prototype.has=function(e){var t=this.__data__;return X?void 0!==t[e]:B.call(t,e)},ie.prototype.set=function(e,t){return this.__data__[e]=X&&void 0===t?"__lodash_hash_undefined__":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,r=ue(t,e);return!(r<0)&&(r==t.length-1?t.pop():U.call(t,r,1),!0)},oe.prototype.get=function(e){var t=this.__data__,r=ue(t,e);return r<0?void 0:t[r][1]},oe.prototype.has=function(e){return ue(this.__data__,e)>-1},oe.prototype.set=function(e,t){var r=this.__data__,n=ue(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},ae.prototype.clear=function(){this.__data__={hash:new ie,map:new(G||oe),string:new ie}},ae.prototype.delete=function(e){return ge(this,e).delete(e)},ae.prototype.get=function(e){return ge(this,e).get(e)},ae.prototype.has=function(e){return ge(this,e).has(e)},ae.prototype.set=function(e,t){return ge(this,e).set(e,t),this},se.prototype.clear=function(){this.__data__=new oe},se.prototype.delete=function(e){return this.__data__.delete(e)},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var r=this.__data__;if(r instanceof oe){var n=r.__data__;if(!G||n.length<199)return n.push([e,t]),this;r=this.__data__=new ae(n)}return r.set(e,t),this};var me=z?x(z,Object):function(){return[]},ye=function(e){return O.call(e)};function ve(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function Ae(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||j)}function Se(e){if(null!=e){try{return N.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function _e(e,t){return e===t||e!=e&&t!=t}(Q&&"[object DataView]"!=ye(new Q(new ArrayBuffer(1)))||G&&ye(new G)!=a||V&&"[object Promise]"!=ye(V.resolve())||$&&ye(new $)!=s||K&&"[object WeakMap]"!=ye(new K))&&(ye=function(e){var t=O.call(e),r="[object Object]"==t?e.constructor:void 0,n=r?Se(r):void 0;if(n)switch(n){case Y:return"[object DataView]";case J:return a;case Z:return"[object Promise]";case ee:return s;case te:return"[object WeakMap]"}return t});var xe=Array.isArray;function Ee(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!we(e)}var ke=H||function(){return!1};function we(e){var t=Le(e)?O.call(e):"";return t==i||t==o}function Le(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function je(e){return Ee(e)?le(e):function(e){if(!Ae(e))return W(e);var t=[];for(var r in Object(e))B.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}r.exports=function(e){return de(e,!0,!0)}}).call(this,r(36),r(116)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){(function(e,r){var n="[object Arguments]",i="[object Map]",o="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[n]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[i]=c["[object Number]"]=c[o]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var u="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,f=u||d||Function("return this")(),h=t&&!t.nodeType&&t,p=h&&"object"==typeof r&&r&&!r.nodeType&&r,g=p&&p.exports===h,b=g&&u.process,m=function(){try{return b&&b.binding&&b.binding("util")}catch(e){}}(),y=m&&m.isTypedArray;function v(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function A(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function S(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var _,x,E,k=Array.prototype,w=Function.prototype,L=Object.prototype,j=f["__core-js_shared__"],T=w.toString,C=L.hasOwnProperty,N=(_=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",B=L.toString,O=RegExp("^"+T.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=g?f.Buffer:void 0,P=f.Symbol,D=f.Uint8Array,q=L.propertyIsEnumerable,M=k.splice,R=P?P.toStringTag:void 0,F=Object.getOwnPropertySymbols,U=I?I.isBuffer:void 0,z=(x=Object.keys,E=Object,function(e){return x(E(e))}),H=me(f,"DataView"),W=me(f,"Map"),Q=me(f,"Promise"),G=me(f,"Set"),V=me(f,"WeakMap"),$=me(Object,"create"),K=Se(H),X=Se(W),Y=Se(Q),J=Se(G),Z=Se(V),ee=P?P.prototype:void 0,te=ee?ee.valueOf:void 0;function re(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ne(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ie(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function oe(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ie;++t<r;)this.add(e[t])}function ae(e){var t=this.__data__=new ne(e);this.size=t.size}function se(e,t){var r=Ee(e),n=!r&&xe(e),i=!r&&!n&&ke(e),o=!r&&!n&&!i&&Ce(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var c in e)!t&&!C.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ae(c,l))||s.push(c);return s}function le(e,t){for(var r=e.length;r--;)if(_e(e[r][0],t))return r;return-1}function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":R&&R in Object(e)?function(e){var t=C.call(e,R),r=e[R];try{e[R]=void 0;var n=!0}catch(e){}var i=B.call(e);n&&(t?e[R]=r:delete e[R]);return i}(e):function(e){return B.call(e)}(e)}function ue(e){return Te(e)&&ce(e)==n}function de(e,t,r,s,l){return e===t||(null==e||null==t||!Te(e)&&!Te(t)?e!=e&&t!=t:function(e,t,r,s,l,c){var u=Ee(e),d=Ee(t),f=u?"[object Array]":ve(e),h=d?"[object Array]":ve(t),p=(f=f==n?o:f)==o,g=(h=h==n?o:h)==o,b=f==h;if(b&&ke(e)){if(!ke(t))return!1;u=!0,p=!1}if(b&&!p)return c||(c=new ae),u||Ce(e)?pe(e,t,r,s,l,c):function(e,t,r,n,o,s,l){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new D(e),new D(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _e(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var c=A;case a:var u=1&n;if(c||(c=S),e.size!=t.size&&!u)return!1;var d=l.get(e);if(d)return d==t;n|=2,l.set(e,t);var f=pe(c(e),c(t),n,o,s,l);return l.delete(e),f;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,f,r,s,l,c);if(!(1&r)){var m=p&&C.call(e,"__wrapped__"),y=g&&C.call(t,"__wrapped__");if(m||y){var v=m?e.value():e,_=y?t.value():t;return c||(c=new ae),l(v,_,r,s,c)}}if(!b)return!1;return c||(c=new ae),function(e,t,r,n,i,o){var a=1&r,s=ge(e),l=s.length,c=ge(t).length;if(l!=c&&!a)return!1;var u=l;for(;u--;){var d=s[u];if(!(a?d in t:C.call(t,d)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);var p=a;for(;++u<l;){d=s[u];var g=e[d],b=t[d];if(n)var m=a?n(b,g,d,t,e,o):n(g,b,d,e,t,o);if(!(void 0===m?g===b||i(g,b,r,n,o):m)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,r,s,l,c)}(e,t,r,s,de,l))}function fe(e){return!(!je(e)||function(e){return!!N&&N in e}(e))&&(we(e)?O:s).test(Se(e))}function he(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||L,t!==n)return z(e);var t,r,n,i=[];for(var o in Object(e))C.call(e,o)&&"constructor"!=o&&i.push(o);return i}function pe(e,t,r,n,i,o){var a=1&r,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,d=!0,f=2&r?new oe:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var h=e[u],p=t[u];if(n)var g=a?n(p,h,u,t,e,o):n(h,p,u,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!v(t,(function(e,t){if(a=t,!f.has(a)&&(h===e||i(h,e,r,n,o)))return f.push(t);var a}))){d=!1;break}}else if(h!==p&&!i(h,p,r,n,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ge(e){return function(e,t,r){var n=t(e);return Ee(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ne,ye)}function be(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function me(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(r)?r:void 0}re.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},re.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re.prototype.get=function(e){var t=this.__data__;if($){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return C.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:C.call(t,e)},re.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$&&void 0===t?"__lodash_hash_undefined__":t,this},ne.prototype.clear=function(){this.__data__=[],this.size=0},ne.prototype.delete=function(e){var t=this.__data__,r=le(t,e);return!(r<0)&&(r==t.length-1?t.pop():M.call(t,r,1),--this.size,!0)},ne.prototype.get=function(e){var t=this.__data__,r=le(t,e);return r<0?void 0:t[r][1]},ne.prototype.has=function(e){return le(this.__data__,e)>-1},ne.prototype.set=function(e,t){var r=this.__data__,n=le(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new re,map:new(W||ne),string:new re}},ie.prototype.delete=function(e){var t=be(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return be(this,e).get(e)},ie.prototype.has=function(e){return be(this,e).has(e)},ie.prototype.set=function(e,t){var r=be(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},oe.prototype.add=oe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oe.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.clear=function(){this.__data__=new ne,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ne){var n=r.__data__;if(!W||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ie(n)}return r.set(e,t),this.size=r.size,this};var ye=F?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}(F(e),(function(t){return q.call(e,t)})))}:function(){return[]},ve=ce;function Ae(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function Se(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function _e(e,t){return e===t||e!=e&&t!=t}(H&&"[object DataView]"!=ve(new H(new ArrayBuffer(1)))||W&&ve(new W)!=i||Q&&"[object Promise]"!=ve(Q.resolve())||G&&ve(new G)!=a||V&&"[object WeakMap]"!=ve(new V))&&(ve=function(e){var t=ce(e),r=t==o?e.constructor:void 0,n=r?Se(r):"";if(n)switch(n){case K:return"[object DataView]";case X:return i;case Y:return"[object Promise]";case J:return a;case Z:return"[object WeakMap]"}return t});var xe=ue(function(){return arguments}())?ue:function(e){return Te(e)&&C.call(e,"callee")&&!q.call(e,"callee")},Ee=Array.isArray;var ke=U||function(){return!1};function we(e){if(!je(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Le(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function je(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Te(e){return null!=e&&"object"==typeof e}var Ce=y?function(e){return function(t){return e(t)}}(y):function(e){return Te(e)&&Le(e.length)&&!!c[ce(e)]};function Ne(e){return null!=(t=e)&&Le(t.length)&&!we(t)?se(e):he(e);var t}r.exports=function(e,t){return de(e,t)}}).call(this,r(36),r(116)(e))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(r(146));!function(e){e.iterator=function(e){return new o.default(e)},e.length=function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}}(i||(i={})),t.default=i},,function(e,t,r){"use strict";var n=r(82);class i extends n.a{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}i.blotName="bold",i.tagName=["STRONG","B"],t.a=i},,,,,,,,function(e,t,r){var n,i,o;!function(a){"use strict";i=[r(65)],void 0===(o="function"==typeof(n=function(e){var t=e.transform;e.transform=function(r,n,i,o,a){t.call(e,e.scale(r,n,a),n,i,o,a)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var r,n,i,o,a=t.aspectRatio;if(!a)return t;for(n in r={},t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.crop=!0,(i=e.naturalWidth||e.width)/(o=e.naturalHeight||e.height)>a?(r.maxWidth=o*a,r.maxHeight=o):(r.maxWidth=i,r.maxHeight=i/a),r},e.renderImageToCanvas=function(e,t,r,n,i,o,a,s,l,c,u){var d=e.getContext("2d");return!1===u.imageSmoothingEnabled?d.imageSmoothingEnabled=!1:u.imageSmoothingQuality&&(d.imageSmoothingQuality=u.imageSmoothingQuality),d.drawImage(t,r,n,i,o,a,s,l,c),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,r,n){r=r||{};var i,o,a,s,l,c,u,d,f,h,p,g=document.createElement("canvas"),b=t.getContext||e.hasCanvasOption(r)&&g.getContext,m=t.naturalWidth||t.width,y=t.naturalHeight||t.height,v=m,A=y;function S(){var e=Math.max((a||v)/v,(s||A)/A);e>1&&(v*=e,A*=e)}function _(){var e=Math.min((i||v)/v,(o||A)/A);e<1&&(v*=e,A*=e)}if(b&&(u=(r=e.getTransformedOptions(t,r,n)).left||0,d=r.top||0,r.sourceWidth?(l=r.sourceWidth,void 0!==r.right&&void 0===r.left&&(u=m-l-r.right)):l=m-u-(r.right||0),r.sourceHeight?(c=r.sourceHeight,void 0!==r.bottom&&void 0===r.top&&(d=y-c-r.bottom)):c=y-d-(r.bottom||0),v=l,A=c),i=r.maxWidth,o=r.maxHeight,a=r.minWidth,s=r.minHeight,b&&i&&o&&r.crop?(v=i,A=o,(p=l/c-i/o)<0?(c=o*l/i,void 0===r.top&&void 0===r.bottom&&(d=(y-c)/2)):p>0&&(l=i*c/o,void 0===r.left&&void 0===r.right&&(u=(m-l)/2))):((r.contain||r.cover)&&(a=i=i||a,s=o=o||s),r.cover?(_(),S()):(S(),_())),b){if((f=r.pixelRatio)>1&&(g.style.width=v+"px",g.style.height=A+"px",v*=f,A*=f,g.getContext("2d").scale(f,f)),(h=r.downsamplingRatio)>0&&h<1&&v<l&&A<c)for(;l*h>v;)g.width=l*h,g.height=c*h,e.renderImageToCanvas(g,t,u,d,l,c,0,0,g.width,g.height,r),u=0,d=0,l=g.width,c=g.height,(t=document.createElement("canvas")).width=l,t.height=c,e.renderImageToCanvas(t,g,0,0,l,c,0,0,l,c,r);return g.width=v,g.height=A,e.transformCoordinates(g,r),e.renderImageToCanvas(g,t,u,d,l,c,0,0,v,A,r)}return t.width=v,t.height=A,t}})?n.apply(t,i):n)||(e.exports=o)}()},function(e,t,r){var n,i,o;!function(a){"use strict";i=[r(65),r(81)],void 0===(o="function"==typeof(n=function(e){e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(t,r,n){if(n&&!(r+n>t.byteLength))return e.createObjectURL(new Blob([t.buffer.slice(r,r+n)]));console.log("Invalid Exif data: Invalid thumbnail data.")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,r){return e.getUint16(t,r)},size:2},4:{getValue:function(e,t,r){return e.getUint32(t,r)},size:4},5:{getValue:function(e,t,r){return e.getUint32(t,r)/e.getUint32(t+4,r)},size:8},9:{getValue:function(e,t,r){return e.getInt32(t,r)},size:4},10:{getValue:function(e,t,r){return e.getInt32(t,r)/e.getInt32(t+4,r)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,r,n,i,o,a){var s,l,c,u,d,f,h=e.exifTagTypes[i];if(h){if(!((l=(s=h.size*o)>4?r+t.getUint32(n+8,a):n+8)+s>t.byteLength)){if(1===o)return h.getValue(t,l,a);for(c=[],u=0;u<o;u+=1)c[u]=h.getValue(t,l+u*h.size,a);if(h.ascii){for(d="",u=0;u<c.length&&"\0"!==(f=c[u]);u+=1)d+=f;return d}return c}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},e.parseExifTag=function(t,r,n,i){return{number:t.getUint16(n,i),value:e.getExifValue(t,r,n,t.getUint16(n+2,i),t.getUint32(n+4,i),i)}},e.parseExifTags=function(e,t,r,n,i){var o,a,s,l,c;if(r+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=r+2+12*(o=e.getUint16(r,n)))+4>e.byteLength)){for(s=0;s<o;s+=1)l=r+2+12*s,c=this.parseExifTag(e,t,l,n,i),i.exif[c.number]=c.value,i.exifOffsets&&(i.exifOffsets[c.number]=l);return e.getUint32(a,n)}console.log("Invalid Exif data: Invalid directory size.")}},e.parseExifData=function(t,r,n,i,o){if(!o.disableExif){var a,s,l,c=r+10;if(1165519206===t.getUint32(r+4))if(c+8>t.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===t.getUint16(r+8)){switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===t.getUint16(c+2,a)?(s=t.getUint32(c+4,a),i.exif=new e.ExifMap,o.disableExifOffsets||(i.exifOffsets=new e.ExifMap,i.exifTiffOffset=c,i.exifLittleEndian=a),(s=e.parseExifTags(t,c,c+s,a,i))&&!o.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,c,c+s,a,l),l.exif[513]&&(i.exif.Thumbnail=e.getExifThumbnail(t,c+l.exif[513],l.exif[514]))),i.exif[34665]&&!o.disableExifSub&&e.parseExifTags(t,c,c+i.exif[34665],a,i),i.exif[34853]&&!o.disableExifGps&&e.parseExifTags(t,c,c+i.exif[34853],a,i)):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(e,t,r){return new DataView(e,t.exifOffsets[274]+8,2).setUint16(0,r,t.exifLittleEndian),e}},e.writeExifData=function(t,r,n,i){e.exifWriters[r.exif.map[n]](t,r,i)}})?n.apply(t,i):n)||(e.exports=o)}()},function(e,t,r){var n,i,o;!function(a){"use strict";i=[r(65),r(81)],void 0===(o="function"==typeof(n=function(e){e.IptcMap=function(){return this},e.IptcMap.prototype.map={ObjectName:5},e.IptcMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.parseIptcTags=function(e,t,r,n){function i(e,t,r){for(var n="",i=t;i<t+r;i++)n+=String.fromCharCode(e.getUint8(i));return n}for(var o,a,s,l=t;l<t+r;)28===e.getUint8(l)&&2===e.getUint8(l+1)&&(s=e.getUint8(l+2))in n.iptc.tags&&(a=e.getInt16(l+3),o=i(e,l+5,a),Object.prototype.hasOwnProperty.call(n.iptc,s)?n.iptc[s]instanceof Array?n.iptc[s].push(o):n.iptc[s]=[n.iptc[s],o]:n.iptc[s]=o),l++},e.parseIptcData=function(t,r,n,i,o){if(!o.disableIptc){for(var a=r+n,s=function(e,t){return 943868237===e.getUint32(t)&&1028===e.getUint16(t+4)};r+8<a;){if(s(t,r)){var l=t.getUint8(r+7);l%2!=0&&(l+=1),0===l&&(l=4);var c=r+8+l;if(c>a){console.log("Invalid IPTC data: Invalid segment offset.");break}var u=t.getUint16(r+6+l);if(r+u>a){console.log("Invalid IPTC data: Invalid segment size.");break}return i.iptc=new e.IptcMap,e.parseIptcTags(t,c,u,i)}r++}console.log("No IPTC data at this offset - could be XMP")}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData)})?n.apply(t,i):n)||(e.exports=o)}()},,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=n(r(144)),o=n(r(115)),a=n(r(117)),s=n(r(145)),l=n(r(118)),c=String.fromCharCode(0),u=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var r={};return"string"==typeof e&&0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},e.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=o.default(e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(a.default(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+l.default.length(t):t.delete?e-t.delete:e}),0)},e.prototype.length=function(){return this.reduce((function(e,t){return e+l.default.length(t)}),0)},e.prototype.slice=function(t,r){void 0===t&&(t=0),void 0===r&&(r=1/0);for(var n=[],i=l.default.iterator(this.ops),o=0;o<r&&i.hasNext();){var a=void 0;o<t?a=i.next(t-o):(a=i.next(r-o),n.push(a)),o+=l.default.length(a)}return new e(n)},e.prototype.compose=function(t){var r=l.default.iterator(this.ops),n=l.default.iterator(t.ops),i=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var c=o.retain;"insert"===r.peekType()&&r.peekLength()<=c;)c-=r.peekLength(),i.push(r.next());o.retain-c>0&&n.next(o.retain-c)}for(var u=new e(i);r.hasNext()||n.hasNext();)if("insert"===n.peekType())u.push(n.next());else if("delete"===r.peekType())u.push(r.next());else{var d=Math.min(r.peekLength(),n.peekLength()),f=r.next(d),h=n.next(d);if("number"==typeof h.retain){var p={};"number"==typeof f.retain?p.retain=d:p.insert=f.insert;var g=s.default.compose(f.attributes,h.attributes,"number"==typeof f.retain);if(g&&(p.attributes=g),u.push(p),!n.hasNext()&&a.default(u.ops[u.ops.length-1],p)){var b=new e(r.rest());return u.concat(b).chop()}}else"number"==typeof h.delete&&"number"==typeof f.retain&&u.push(h)}return u.chop()},e.prototype.concat=function(t){var r=new e(this.ops.slice());return t.ops.length>0&&(r.push(t.ops[0]),r.ops=r.ops.concat(t.ops.slice(1))),r},e.prototype.diff=function(t,r){if(this.ops===t.ops)return new e;var n=[this,t].map((function(e){return e.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:c;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),o=new e,u=i.default(n[0],n[1],r),d=l.default.iterator(this.ops),f=l.default.iterator(t.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case i.default.INSERT:r=Math.min(f.peekLength(),t),o.push(f.next(r));break;case i.default.DELETE:r=Math.min(t,d.peekLength()),d.next(r),o.delete(r);break;case i.default.EQUAL:r=Math.min(d.peekLength(),f.peekLength(),t);var n=d.next(r),l=f.next(r);a.default(n.insert,l.insert)?o.retain(r,s.default.diff(n.attributes,l.attributes)):o.push(l).delete(r)}t-=r}})),o.chop()},e.prototype.eachLine=function(t,r){void 0===r&&(r="\n");for(var n=l.default.iterator(this.ops),i=new e,o=0;n.hasNext();){if("insert"!==n.peekType())return;var a=n.peek(),s=l.default.length(a)-n.peekLength(),c="string"==typeof a.insert?a.insert.indexOf(r,s)-s:-1;if(c<0)i.push(n.next());else if(c>0)i.push(n.next(c));else{if(!1===t(i,n.next(1).attributes||{},o))return;o+=1,i=new e}}i.length()>0&&t(i,{},o)},e.prototype.invert=function(t){var r=new e;return this.reduce((function(e,n){if(n.insert)r.delete(l.default.length(n));else{if(n.retain&&null==n.attributes)return r.retain(n.retain),e+n.retain;if(n.delete||n.retain&&n.attributes){var i=n.delete||n.retain;return t.slice(e,e+i).forEach((function(e){n.delete?r.push(e):n.retain&&n.attributes&&r.retain(l.default.length(e),s.default.invert(n.attributes,e.attributes))})),e+i}}return e}),0),r.chop()},e.prototype.transform=function(t,r){if(void 0===r&&(r=!1),r=!!r,"number"==typeof t)return this.transformPosition(t,r);for(var n=t,i=l.default.iterator(this.ops),o=l.default.iterator(n.ops),a=new e;i.hasNext()||o.hasNext();)if("insert"!==i.peekType()||!r&&"insert"===o.peekType())if("insert"===o.peekType())a.push(o.next());else{var c=Math.min(i.peekLength(),o.peekLength()),u=i.next(c),d=o.next(c);if(u.delete)continue;d.delete?a.push(d):a.retain(c,s.default.transform(u.attributes,d.attributes,r))}else a.retain(l.default.length(i.next()));return a.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var r=l.default.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var i=r.peekLength(),o=r.peekType();r.next(),"delete"!==o?("insert"===o&&(n<e||!t)&&(e+=i),n+=i):e-=Math.min(i,e-n)}return e},e.Op=l.default,e.AttributeMap=s.default,e}();e.exports=u},,,,,function(e,t){function r(e,t,a,s){if(e===t)return e?[[0,e]]:[];if(null!=a){var d=function(e,t,r){var n="number"==typeof r?{index:r,length:0}:r.oldRange,i="number"==typeof r?null:r.newRange,o=e.length,a=t.length;if(0===n.length&&(null===i||0===i.length)){var s=n.index,l=e.slice(0,s),c=e.slice(s),d=i?i.index:null,f=s+a-o;if((null===d||d===f)&&!(f<0||f>a)){var h=t.slice(0,f);if((A=t.slice(f))===c){var p=Math.min(s,f),g=l.slice(0,p),b=h.slice(0,p);if(g===b){var m=l.slice(p),y=h.slice(p);return u(g,m,y,c)}}}if(null===d||d===s){var v=s,A=(h=t.slice(0,v),t.slice(v));if(h===l){var S=Math.min(o-v,a-v),_=c.slice(c.length-S),x=A.slice(A.length-S);if(_===x){m=c.slice(0,c.length-S),y=A.slice(0,A.length-S);return u(l,m,y,_)}}}}if(n.length>0&&i&&0===i.length){g=e.slice(0,n.index),_=e.slice(n.index+n.length),p=g.length,S=_.length;if(!(a<p+S)){b=t.slice(0,p),x=t.slice(a-S);if(g===b&&_===x){m=e.slice(p,o-S),y=t.slice(p,a-S);return u(g,m,y,_)}}}return null}(e,t,a);if(d)return d}var f=i(e,t),h=e.substring(0,f);f=o(e=e.substring(f),t=t.substring(f));var p=e.substring(e.length-f),g=function(e,t){var a;if(!e)return[[1,t]];if(!t)return[[-1,e]];var s=e.length>t.length?e:t,l=e.length>t.length?t:e,c=s.indexOf(l);if(-1!==c)return a=[[1,s.substring(0,c)],[0,l],[1,s.substring(c+l.length)]],e.length>t.length&&(a[0][0]=a[2][0]=-1),a;if(1===l.length)return[[-1,e],[1,t]];var u=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function a(e,t,r){for(var n,a,s,l,c=e.substring(r,r+Math.floor(e.length/4)),u=-1,d="";-1!==(u=t.indexOf(c,u+1));){var f=i(e.substring(r),t.substring(u)),h=o(e.substring(0,r),t.substring(0,u));d.length<h+f&&(d=t.substring(u-h,u)+t.substring(u,u+f),n=e.substring(0,r-h),a=e.substring(r+f),s=t.substring(0,u-h),l=t.substring(u+f))}return 2*d.length>=e.length?[n,a,s,l,d]:null}var s,l,c,u,d,f=a(r,n,Math.ceil(r.length/4)),h=a(r,n,Math.ceil(r.length/2));if(!f&&!h)return null;s=h?f&&f[4].length>h[4].length?f:h:f;e.length>t.length?(l=s[0],c=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],l=s[2],c=s[3]);var p=s[4];return[l,c,u,d,p]}(e,t);if(u){var d=u[0],f=u[1],h=u[2],p=u[3],g=u[4],b=r(d,h),m=r(f,p);return b.concat([[0,g]],m)}return function(e,t){for(var r=e.length,i=t.length,o=Math.ceil((r+i)/2),a=o,s=2*o,l=new Array(s),c=new Array(s),u=0;u<s;u++)l[u]=-1,c[u]=-1;l[a+1]=0,c[a+1]=0;for(var d=r-i,f=d%2!=0,h=0,p=0,g=0,b=0,m=0;m<o;m++){for(var y=-m+h;y<=m-p;y+=2){for(var v=a+y,A=(k=y===-m||y!==m&&l[v-1]<l[v+1]?l[v+1]:l[v-1]+1)-y;k<r&&A<i&&e.charAt(k)===t.charAt(A);)k++,A++;if(l[v]=k,k>r)p+=2;else if(A>i)h+=2;else if(f){if((x=a+d-y)>=0&&x<s&&-1!==c[x]){var S=r-c[x];if(k>=S)return n(e,t,k,A)}}}for(var _=-m+g;_<=m-b;_+=2){for(var x=a+_,E=(S=_===-m||_!==m&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-_;S<r&&E<i&&e.charAt(r-S-1)===t.charAt(i-E-1);)S++,E++;if(c[x]=S,S>r)b+=2;else if(E>i)g+=2;else if(!f){if((v=a+d-_)>=0&&v<s&&-1!==l[v]){var k=l[v];A=a+k-v;if(k>=(S=r-S))return n(e,t,k,A)}}}}return[[-1,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-f),t=t.substring(0,t.length-f));return h&&g.unshift([0,h]),p&&g.push([0,p]),function e(t,r){t.push([0,""]);var n,a=0,s=0,u=0,d="",f="";for(;a<t.length;)if(a<t.length-1&&!t[a][1])t.splice(a,1);else switch(t[a][0]){case 1:u++,f+=t[a][1],a++;break;case-1:s++,d+=t[a][1],a++;break;case 0:var h=a-u-s-1;if(r){if(h>=0&&c(t[h][1])){var p=t[h][1].slice(-1);if(t[h][1]=t[h][1].slice(0,-1),d=p+d,f=p+f,!t[h][1]){t.splice(h,1),a--;var g=h-1;t[g]&&1===t[g][0]&&(u++,f=t[g][1]+f,g--),t[g]&&-1===t[g][0]&&(s++,d=t[g][1]+d,g--),h=g}}if(l(t[a][1])){p=t[a][1].charAt(0);t[a][1]=t[a][1].slice(1),d+=p,f+=p}}if(a<t.length-1&&!t[a][1]){t.splice(a,1);break}if(d.length>0||f.length>0){d.length>0&&f.length>0&&(0!==(n=i(f,d))&&(h>=0?t[h][1]+=f.substring(0,n):(t.splice(0,0,[0,f.substring(0,n)]),a++),f=f.substring(n),d=d.substring(n)),0!==(n=o(f,d))&&(t[a][1]=f.substring(f.length-n)+t[a][1],f=f.substring(0,f.length-n),d=d.substring(0,d.length-n)));var b=u+s;0===d.length&&0===f.length?(t.splice(a-b,b),a-=b):0===d.length?(t.splice(a-b,b,[1,f]),a=a-b+1):0===f.length?(t.splice(a-b,b,[-1,d]),a=a-b+1):(t.splice(a-b,b,[-1,d],[1,f]),a=a-b+2)}0!==a&&0===t[a-1][0]?(t[a-1][1]+=t[a][1],t.splice(a,1)):a++,u=0,s=0,d="",f=""}""===t[t.length-1][1]&&t.pop();var m=!1;a=1;for(;a<t.length-1;)0===t[a-1][0]&&0===t[a+1][0]&&(t[a][1].substring(t[a][1].length-t[a-1][1].length)===t[a-1][1]?(t[a][1]=t[a-1][1]+t[a][1].substring(0,t[a][1].length-t[a-1][1].length),t[a+1][1]=t[a-1][1]+t[a+1][1],t.splice(a-1,1),m=!0):t[a][1].substring(0,t[a+1][1].length)==t[a+1][1]&&(t[a-1][1]+=t[a+1][1],t[a][1]=t[a][1].substring(t[a+1][1].length)+t[a+1][1],t.splice(a+1,1),m=!0)),a++;m&&e(t,r)}(g,s),g}function n(e,t,n,i){var o=e.substring(0,n),a=t.substring(0,i),s=e.substring(n),l=t.substring(i),c=r(o,a),u=r(s,l);return c.concat(u)}function i(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(o,i)==t.substring(o,i)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return a(e.charCodeAt(i-1))&&i--,i}function o(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return s(e.charCodeAt(e.length-i))&&i--,i}function a(e){return e>=55296&&e<=56319}function s(e){return e>=56320&&e<=57343}function l(e){return s(e.charCodeAt(0))}function c(e){return a(e.charCodeAt(e.length-1))}function u(e,t,r,n){return c(e)||l(n)?null:function(e){for(var t=[],r=0;r<e.length;r++)e[r][1].length>0&&t.push(e[r]);return t}([[0,e],[-1,t],[1,r],[0,n]])}function d(e,t,n){return r(e,t,n,!0)}d.INSERT=1,d.DELETE=-1,d.EQUAL=0,e.exports=d},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(r(115)),a=n(r(117));!function(e){e.compose=function(e,t,r){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=o.default(t);for(var i in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},e.diff=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,n){return a.default(e[n],t[n])||(r[n]=void 0===t[n]?null:t[n]),r}),{});return Object.keys(r).length>0?r:void 0},e.invert=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=e||{};var r=Object.keys(t).reduce((function(r,n){return t[n]!==e[n]&&void 0!==e[n]&&(r[n]=t[n]),r}),{});return Object.keys(e).reduce((function(r,n){return e[n]!==t[n]&&void 0===t[n]&&(r[n]=null),r}),r)},e.transform=function(e,t,r){if(void 0===r&&(r=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}}(i||(i={})),t.default=i},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(118)),o=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=i.default.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e}();t.default=o},,function(e,t,r){"use strict";var n=r(120);class i extends n.a{}i.blotName="italic",i.tagName=["EM","I"],t.a=i},,,,,,,,,,,,,,,function(e,t,r){e.exports=r(65),r(128),r(81),r(164),r(129),r(165),r(130),r(166),r(167)},function(e,t,r){var n,i,o;!function(a){"use strict";i=[r(65),r(81)],void 0===(o="function"==typeof(n=function(e){"undefined"!=typeof fetch&&"undefined"!=typeof Request?e.fetchBlob=function(t,r,n){e.hasMetaOption(n)?fetch(new Request(t,n)).then((function(e){return e.blob()})).then(r).catch((function(e){console.log(e),r()})):r()}:"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof ProgressEvent&&(e.fetchBlob=function(t,r,n){if(e.hasMetaOption(n)){n=n||{};var i=new XMLHttpRequest;i.open(n.method||"GET",t),n.headers&&Object.keys(n.headers).forEach((function(e){i.setRequestHeader(e,n.headers[e])})),i.withCredentials="include"===n.credentials,i.responseType="blob",i.onload=function(){r(i.response)},i.onerror=i.onabort=i.ontimeout=function(e){console.log(e),r()},i.send(n.body)}else r()})})?n.apply(t,i):n)||(e.exports=o)}()},function(e,t,r){var n,i,o;!function(a){"use strict";i=[r(65),r(129)],void 0===(o="function"==typeof(n=function(e){e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,r=e.tags,n=e.map;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[r[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,r={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(r[t]=this.getText(t));return r}})?n.apply(t,i):n)||(e.exports=o)}()},function(e,t,r){var n,i,o;!function(a){"use strict";i=[r(65),r(130)],void 0===(o="function"==typeof(n=function(e){e.IptcMap.prototype.tags={3:"ObjectType",4:"ObjectAttribute",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectRef",15:"Category",20:"SupplCategory",22:"FixtureID",25:"Keywords",26:"ContentLocCode",27:"ContentLocName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"RefService",47:"RefDate",50:"RefNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"CountryName",103:"OrigTransRef",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",122:"WriterEditor",130:"ImageType",131:"ImageOrientation",135:"LanguageID"},e.IptcMap.prototype.getText=function(e){var t=this.get(e);return String(t)},function(e){var t,r=e.tags,n=e.map||{};for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[r[t]]=t)}(e.IptcMap.prototype),e.IptcMap.prototype.getAll=function(){var e,t,r={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(r[t]=this.getText(t));return r}})?n.apply(t,i):n)||(e.exports=o)}()},function(e,t,r){var n,i,o;!function(a){"use strict";i=[r(65),r(128),r(81)],void 0===(o="function"==typeof(n=function(e){var t=e.hasCanvasOption,r=e.hasMetaOption,n=e.transformCoordinates,i=e.getTransformedOptions;o=document.createElement("img"),o.onload=function(){e.orientation=1===o.width&&2===o.height},o.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",e.hasCanvasOption=function(r){return!0==!!r.orientation&&!e.orientation||r.orientation>1&&r.orientation<9||t.call(e,r)},e.hasMetaOption=function(t){return t&&!0===t.orientation&&!e.orientation||r.call(e,t)},e.transformCoordinates=function(t,r){n.call(e,t,r);var i=t.getContext("2d"),o=t.width,a=t.height,s=t.style.width,l=t.style.height,c=r.orientation;if(c>1&&c<9)switch(c>4&&(t.width=a,t.height=o,t.style.width=l,t.style.height=s),c){case 2:i.translate(o,0),i.scale(-1,1);break;case 3:i.translate(o,a),i.rotate(Math.PI);break;case 4:i.translate(0,a),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-a);break;case 7:i.rotate(.5*Math.PI),i.translate(o,-a),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-o,0)}},e.getTransformedOptions=function(t,r,n){var o,a,s=i.call(e,t,r),l=s.orientation;if(!0===l){if(e.orientation)return s;l=n&&n.exif&&n.exif.get("Orientation")}if(!(l>1&&l<9))return s;for(a in o={},s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a]);switch(o.orientation=l,l){case 2:o.left=s.right,o.right=s.left;break;case 3:o.left=s.right,o.top=s.bottom,o.right=s.left,o.bottom=s.top;break;case 4:o.top=s.bottom,o.bottom=s.top;break;case 5:o.left=s.top,o.top=s.left,o.right=s.bottom,o.bottom=s.right;break;case 6:o.left=s.top,o.top=s.right,o.right=s.bottom,o.bottom=s.left;break;case 7:o.left=s.bottom,o.top=s.right,o.right=s.top,o.bottom=s.left;break;case 8:o.left=s.bottom,o.top=s.left,o.right=s.top,o.bottom=s.right}return o.orientation>4&&(o.maxWidth=s.maxHeight,o.maxHeight=s.maxWidth,o.minWidth=s.minHeight,o.minHeight=s.minWidth,o.sourceWidth=s.sourceHeight,o.sourceHeight=s.sourceWidth),o};var o})?n.apply(t,i):n)||(e.exports=o)}()},,function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(63),i=r.n(n);class o extends i.a.Attributor.Class{add(e,t){if("+1"===t||"-1"===t){let r=this.value(e)||0;t="+1"===t?r+1:r-1}return 0===t?(this.remove(e),!0):super.add(e,t)}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t))}value(e){return parseInt(super.value(e))||void 0}}let a=new o("indent","ql-indent",{scope:i.a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]})},function(e,t,r){"use strict";var n=r(82);class i extends n.a{}i.blotName="strike",i.tagName="S",t.a=i}])]);