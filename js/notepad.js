/*! For license information please see notepad.js.LICENSE.txt */
(()=>{var t,e,n,r,i={8947:(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,{vI:()=>Ae,vz:()=>Ie});var u=function(){},l={},p={},h=null,d={mark:u,measure:u};try{"undefined"!=typeof window&&(l=window),"undefined"!=typeof document&&(p=document),"undefined"!=typeof MutationObserver&&(h=MutationObserver),"undefined"!=typeof performance&&(d=performance)}catch(t){}var f=(l.navigator||{}).userAgent,m=void 0===f?"":f,v=l,y=p,g=h,b=d,w=(v.document,!!y.documentElement&&!!y.head&&"function"==typeof y.addEventListener&&"function"==typeof y.createElement),_=~m.indexOf("MSIE")||~m.indexOf("Trident/"),x="svg-inline--fa",k="data-fa-i2svg",S="data-fa-pseudo-element",T="fontawesome-i2svg",O=["HTML","HEAD","STYLE","SCRIPT"],E=function(){try{return!0}catch(t){return!1}}(),C={fas:"solid",far:"regular",fal:"light",fad:"duotone",fab:"brands",fak:"kit",fa:"solid"},A={solid:"fas",regular:"far",light:"fal",duotone:"fad",brands:"fab",kit:"fak"},N="fa-layers-text",I=/Font Awesome ([5 ]*)(Solid|Regular|Light|Duotone|Brands|Free|Pro|Kit).*/i,D={900:"fas",400:"far",normal:"far",300:"fal"},M=[1,2,3,4,5,6,7,8,9,10],R=M.concat([11,12,13,14,15,16,17,18,19,20]),P=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],j={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},L=["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",j.GROUP,j.SWAP_OPACITY,j.PRIMARY,j.SECONDARY].concat(M.map((function(t){return"".concat(t,"x")}))).concat(R.map((function(t){return"w-".concat(t)}))),F=v.FontAwesomeConfig||{};if(y&&"function"==typeof y.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(t){var e=a(t,2),n=e[0],r=e[1],i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=y.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(n));null!=i&&(F[r]=i)}))}var B=s({},{familyPrefix:"fa",replacementClass:x,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},F);B.autoReplaceSvg||(B.observeMutations=!1);var z=s({},B);v.FontAwesomeConfig=z;var U=v||{};U.___FONT_AWESOME___||(U.___FONT_AWESOME___={}),U.___FONT_AWESOME___.styles||(U.___FONT_AWESOME___.styles={}),U.___FONT_AWESOME___.hooks||(U.___FONT_AWESOME___.hooks={}),U.___FONT_AWESOME___.shims||(U.___FONT_AWESOME___.shims=[]);var V=U.___FONT_AWESOME___,q=[],H=!1;function W(t){w&&(H?setTimeout(t,0):q.push(t))}w&&((H=(y.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(y.readyState))||y.addEventListener("DOMContentLoaded",(function t(){y.removeEventListener("DOMContentLoaded",t),H=1,q.map((function(t){return t()}))})));var K,$="pending",J="settled",Y="fulfilled",Z="rejected",X=function(){},G=void 0!==n.g&&void 0!==n.g.process&&"function"==typeof n.g.process.emit,Q="undefined"==typeof setImmediate?setTimeout:setImmediate,tt=[];function et(){for(var t=0;t<tt.length;t++)tt[t][0](tt[t][1]);tt=[],K=!1}function nt(t,e){tt.push([t,e]),K||(K=!0,Q(et,0))}function rt(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"==typeof i){n=Y;try{r=i(r)}catch(t){at(o,t)}}it(o,r)||(n===Y&&ot(o,r),n===Z&&at(o,r))}function it(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===r(e))){var i=e.then;if("function"==typeof i)return i.call(e,(function(r){n||(n=!0,e===r?st(t,r):ot(t,r))}),(function(e){n||(n=!0,at(t,e))})),!0}}catch(e){return n||at(t,e),!0}return!1}function ot(t,e){t!==e&&it(t,e)||st(t,e)}function st(t,e){t._state===$&&(t._state=J,t._data=e,nt(ut,t))}function at(t,e){t._state===$&&(t._state=J,t._data=e,nt(lt,t))}function ct(t){t._then=t._then.forEach(rt)}function ut(t){t._state=Y,ct(t)}function lt(t){t._state=Z,ct(t),!t._handled&&G&&n.g.process.emit("unhandledRejection",t._data,t)}function pt(t){n.g.process.emit("rejectionHandled",t)}function ht(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof ht==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){at(e,t)}try{t((function(t){ot(e,t)}),n)}catch(t){n(t)}}(t,this)}ht.prototype={constructor:ht,_state:$,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(X),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===Z&&G&&nt(pt,this)),this._state===Y||this._state===Z?nt(rt,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},ht.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new ht((function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),n):r[a]=s;i||e(r)}))},ht.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new ht((function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)}))},ht.resolve=function(t){return t&&"object"===r(t)&&t.constructor===ht?t:new ht((function(e){e(t)}))},ht.reject=function(t){return new ht((function(e,n){n(t)}))};var dt="function"==typeof Promise?Promise:ht,ft=16,mt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function vt(t){if(t&&w){var e=y.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=y.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}return y.head.insertBefore(e,r),t}}function yt(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function gt(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function bt(t){return t.classList?gt(t.classList):(t.getAttribute("class")||"").split(" ").filter((function(t){return t}))}function wt(t,e){var n,r=e.split("-"),i=r[0],o=r.slice(1).join("-");return i!==t||""===o||(n=o,~L.indexOf(n))?null:o}function _t(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xt(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n],";")}),"")}function kt(t){return t.size!==mt.size||t.x!==mt.x||t.y!==mt.y||t.rotate!==mt.rotate||t.flipX||t.flipY}function St(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var Tt={x:0,y:0,width:"100%",height:"100%"};function Ot(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Et(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,a=t.transform,c=t.symbol,u=t.title,l=t.maskId,p=t.titleId,h=t.extra,d=t.watchable,f=void 0!==d&&d,m=r.found?r:n,v=m.width,y=m.height,g="fak"===i,b=g?"":"fa-w-".concat(Math.ceil(v/y*16)),w=[z.replacementClass,o?"".concat(z.familyPrefix,"-").concat(o):"",b].filter((function(t){return-1===h.classes.indexOf(t)})).filter((function(t){return""!==t||!!t})).concat(h.classes).join(" "),_={children:[],attributes:s({},h.attributes,{"data-prefix":i,"data-icon":o,class:w,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(y)})},x=g&&!~h.classes.indexOf("fa-fw")?{width:"".concat(v/y*16*.0625,"em")}:{};f&&(_.attributes[k]=""),u&&_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(p||yt())},children:[u]});var S=s({},_,{prefix:i,iconName:o,main:n,mask:r,maskId:l,transform:a,symbol:c,styles:s({},x,h.styles)}),T=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,a=t.maskId,c=t.transform,u=i.width,l=i.icon,p=o.width,h=o.icon,d=St({transform:c,containerWidth:p,iconWidth:u}),f={tag:"rect",attributes:s({},Tt,{fill:"white"})},m=l.children?{children:l.children.map(Ot)}:{},v={tag:"g",attributes:s({},d.inner),children:[Ot(s({tag:l.tag,attributes:s({},l.attributes,d.path)},m))]},y={tag:"g",attributes:s({},d.outer),children:[v]},g="mask-".concat(a||yt()),b="clip-".concat(a||yt()),w={tag:"mask",attributes:s({},Tt,{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,y]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(e=h,"g"===e.tag?e.children:[e])},w]};return n.push(_,{tag:"rect",attributes:s({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(g,")")},Tt)}),{children:n,attributes:r}}(S):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=xt(t.styles);if(o.length>0&&(n.style=o),kt(i)){var a=St({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:s({},a.outer),children:[{tag:"g",attributes:s({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:s({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(S),O=T.children,E=T.attributes;return S.children=O,S.attributes=E,c?function(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:s({},i,{id:!0===o?"".concat(e,"-").concat(z.familyPrefix,"-").concat(n):o}),children:r}]}]}(S):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,a=t.transform;if(kt(a)&&n.found&&!r.found){var c={x:n.width/n.height/2,y:.5};i.style=xt(s({},o,{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(S)}function Ct(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,a=t.extra,c=t.watchable,u=void 0!==c&&c,l=s({},a.attributes,o?{title:o}:{},{class:a.classes.join(" ")});u&&(l[k]="");var p=s({},a.styles);kt(i)&&(p.transform=function(t){var e=t.transform,n=t.width,r=void 0===n?16:n,i=t.height,o=void 0===i?16:i,s=t.startCentered,a=void 0!==s&&s,c="";return c+=a&&_?"translate(".concat(e.x/ft-r/2,"em, ").concat(e.y/ft-o/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/ft,"em), calc(-50% + ").concat(e.y/ft,"em)) "):"translate(".concat(e.x/ft,"em, ").concat(e.y/ft,"em) "),c+="scale(".concat(e.size/ft*(e.flipX?-1:1),", ").concat(e.size/ft*(e.flipY?-1:1),") "),c+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),p["-webkit-transform"]=p.transform);var h=xt(p);h.length>0&&(l.style=h);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}function At(t){var e=t.content,n=t.title,r=t.extra,i=s({},r.attributes,n?{title:n}:{},{class:r.classes.join(" ")}),o=xt(r.styles);o.length>0&&(i.style=o);var a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}var Nt=function(){},It=z.measurePerformance&&b&&b.mark&&b.measure?b:{mark:Nt,measure:Nt},Dt='FA "5.15.4"',Mt=function(t){It.mark("".concat(Dt," ").concat(t," ends")),It.measure("".concat(Dt," ").concat(t),"".concat(Dt," ").concat(t," begins"),"".concat(Dt," ").concat(t," ends"))},Rt=function(t){return It.mark("".concat(Dt," ").concat(t," begins")),function(){return Mt(t)}},Pt=function(t,e,n,r){var i,o,s,a=Object.keys(t),c=a.length,u=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<c;i++)s=u(s,t[o=a[i]],o,t);return s};function jt(t){for(var e="",n=0;n<t.length;n++){e+=("000"+t.charCodeAt(n).toString(16)).slice(-4)}return e}function Lt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{});"function"!=typeof V.hooks.addPack||i?V.styles[t]=s({},V.styles[t]||{},o):V.hooks.addPack(t,o),"fas"===t&&Lt("fa",e)}var Ft=V.styles,Bt=V.shims,zt={},Ut={},Vt={},qt=function(){var t=function(t){return Pt(Ft,(function(e,n,r){return e[r]=Pt(n,t,{}),e}),{})};zt=t((function(t,e,n){return e[3]&&(t[e[3]]=n),t})),Ut=t((function(t,e,n){var r=e[2];return t[n]=n,r.forEach((function(e){t[e]=n})),t}));var e="far"in Ft;Vt=Pt(Bt,(function(t,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),t[r]={prefix:i,iconName:o},t}),{})};function Ht(t,e){return(zt[t]||{})[e]}qt();var Wt=V.styles;function Kt(t){return t.reduce((function(t,e){var n=wt(z.familyPrefix,e);if(Wt[e])t.prefix=e;else if(z.autoFetchSvg&&Object.keys(C).indexOf(e)>-1)t.prefix=e;else if(n){var r="fa"===t.prefix?Vt[n]||{prefix:null,iconName:null}:{};t.iconName=r.iconName||n,t.prefix=r.prefix||t.prefix}else e!==z.replacementClass&&0!==e.indexOf("fa-w-")&&t.rest.push(e);return t}),{prefix:null,iconName:null,rest:[]})}function $t(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function Jt(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?_t(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(_t(t[n]),'" ')}),"").trim()}(r),">").concat(o.map(Jt).join(""),"</").concat(e,">")}var Yt=function(){};function Zt(t){return"string"==typeof(t.getAttribute?t.getAttribute(k):null)}var Xt={replace:function(t){var e=t[0],n=t[1].map((function(t){return Jt(t)})).join("\n");if(e.parentNode&&e.outerHTML)e.outerHTML=n+(z.keepOriginalSource&&"svg"!==e.tagName.toLowerCase()?"\x3c!-- ".concat(e.outerHTML," Font Awesome fontawesome.com --\x3e"):"");else if(e.parentNode){var r=document.createElement("span");e.parentNode.replaceChild(r,e),r.outerHTML=n}},nest:function(t){var e=t[0],n=t[1];if(~bt(e).indexOf(z.replacementClass))return Xt.replace(t);var r=new RegExp("".concat(z.familyPrefix,"-.*"));delete n[0].attributes.style,delete n[0].attributes.id;var i=n[0].attributes.class.split(" ").reduce((function(t,e){return e===z.replacementClass||e.match(r)?t.toSvg.push(e):t.toNode.push(e),t}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" ");var o=n.map((function(t){return Jt(t)})).join("\n");e.setAttribute("class",i.toNode.join(" ")),e.setAttribute(k,""),e.innerHTML=o}};function Gt(t){t()}function Qt(t,e){var n="function"==typeof e?e:Yt;if(0===t.length)n();else{var r=Gt;"async"===z.mutateApproach&&(r=v.requestAnimationFrame||Gt),r((function(){var e=!0===z.autoReplaceSvg?Xt.replace:Xt[z.autoReplaceSvg]||Xt.replace,r=Rt("mutate");t.map(e),r(),n()}))}}var te=!1;function ee(){te=!1}var ne=null;function re(t){if(g&&z.observeMutations){var e=t.treeCallback,n=t.nodeCallback,r=t.pseudoElementsCallback,i=t.observeMutationsRoot,o=void 0===i?y:i;ne=new g((function(t){te||gt(t).forEach((function(t){if("childList"===t.type&&t.addedNodes.length>0&&!Zt(t.addedNodes[0])&&(z.searchPseudoElements&&r(t.target),e(t.target)),"attributes"===t.type&&t.target.parentNode&&z.searchPseudoElements&&r(t.target.parentNode),"attributes"===t.type&&Zt(t.target)&&~P.indexOf(t.attributeName))if("class"===t.attributeName){var i=Kt(bt(t.target)),o=i.prefix,s=i.iconName;o&&t.target.setAttribute("data-prefix",o),s&&t.target.setAttribute("data-icon",s)}else n(t.target)}))})),w&&ne.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function ie(t){var e,n,r=t.getAttribute("data-prefix"),i=t.getAttribute("data-icon"),o=void 0!==t.innerText?t.innerText.trim():"",s=Kt(bt(t));return r&&i&&(s.prefix=r,s.iconName=i),s.prefix&&o.length>1?s.iconName=(e=s.prefix,n=t.innerText,(Ut[e]||{})[n]):s.prefix&&1===o.length&&(s.iconName=Ht(s.prefix,jt(t.innerText))),s}var oe=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce((function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t}),e):e};function se(t){var e=ie(t),n=e.iconName,r=e.prefix,i=e.rest,o=function(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce((function(t,e){var n=e.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(t[r]=i.join(":").trim()),t}),{})),n}(t),s=function(t){return oe(t.getAttribute("data-fa-transform"))}(t),a=function(t){var e=t.getAttribute("data-fa-symbol");return null!==e&&(""===e||e)}(t),c=function(t){var e=gt(t.attributes).reduce((function(t,e){return"class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t}),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return z.autoA11y&&(n?e["aria-labelledby"]="".concat(z.replacementClass,"-title-").concat(r||yt()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),u=function(t){var e=t.getAttribute("data-fa-mask");return e?Kt(e.split(" ").map((function(t){return t.trim()}))):{prefix:null,iconName:null,rest:[]}}(t);return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:s,symbol:a,mask:u,maskId:t.getAttribute("data-fa-mask-id"),extra:{classes:i,styles:o,attributes:c}}}function ae(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae;var ce={fill:"currentColor"},ue={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},le={tag:"path",attributes:s({},ce,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},pe=s({},ue,{attributeName:"opacity"}),he={tag:"g",children:[le,{tag:"circle",attributes:s({},ce,{cx:"256",cy:"364",r:"28"}),children:[{tag:"animate",attributes:s({},ue,{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:s({},pe,{values:"1;0;1;1;0;1;"})}]},{tag:"path",attributes:s({},ce,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:[{tag:"animate",attributes:s({},pe,{values:"1;0;0;0;0;1;"})}]},{tag:"path",attributes:s({},ce,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:s({},pe,{values:"0;0;1;1;0;0;"})}]}]},de=V.styles;function fe(t){var e=t[0],n=t[1],r=a(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(z.familyPrefix,"-").concat(j.GROUP)},children:[{tag:"path",attributes:{class:"".concat(z.familyPrefix,"-").concat(j.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(z.familyPrefix,"-").concat(j.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function me(t,e){return new dt((function(n,r){var i={found:!1,width:512,height:512,icon:he};if(t&&e&&de[e]&&de[e][t])return n(fe(de[e][t]));t&&e&&!z.showMissingIcons?r(new ae("Icon is missing for prefix ".concat(e," with icon name ").concat(t))):n(i)}))}var ve=V.styles;function ye(t){var e=se(t);return~e.extra.classes.indexOf(N)?function(t,e){var n=e.title,r=e.transform,i=e.extra,o=null,s=null;if(_){var a=parseInt(getComputedStyle(t).fontSize,10),c=t.getBoundingClientRect();o=c.width/a,s=c.height/a}return z.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),dt.resolve([t,Ct({content:t.innerHTML,width:o,height:s,transform:r,title:n,extra:i,watchable:!0})])}(t,e):function(t,e){var n=e.iconName,r=e.title,i=e.titleId,o=e.prefix,s=e.transform,c=e.symbol,u=e.mask,l=e.maskId,p=e.extra;return new dt((function(e,h){dt.all([me(n,o),me(u.iconName,u.prefix)]).then((function(u){var h=a(u,2),d=h[0],f=h[1];e([t,Et({icons:{main:d,mask:f},prefix:o,iconName:n,transform:s,symbol:c,mask:f,maskId:l,title:r,titleId:i,extra:p,watchable:!0})])}))}))}(t,e)}function ge(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(w){var n=y.documentElement.classList,r=function(t){return n.add("".concat(T,"-").concat(t))},i=function(t){return n.remove("".concat(T,"-").concat(t))},o=z.autoFetchSvg?Object.keys(C):Object.keys(ve),s=[".".concat(N,":not([").concat(k,"])")].concat(o.map((function(t){return".".concat(t,":not([").concat(k,"])")}))).join(", ");if(0!==s.length){var a=[];try{a=gt(t.querySelectorAll(s))}catch(t){}if(a.length>0){r("pending"),i("complete");var c=Rt("onTree"),u=a.reduce((function(t,e){try{var n=ye(e);n&&t.push(n)}catch(t){E||t instanceof ae&&console.error(t)}return t}),[]);return new dt((function(t,n){dt.all(u).then((function(n){Qt(n,(function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),t()}))})).catch((function(){c(),n()}))}))}}}}function be(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ye(t).then((function(t){t&&Qt([t],e)}))}function we(t,e){var n="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new dt((function(r,i){if(null!==t.getAttribute(n))return r();var o=gt(t.children).filter((function(t){return t.getAttribute(S)===e}))[0],a=v.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(I),u=a.getPropertyValue("font-weight"),l=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==l&&""!==l){var p=a.getPropertyValue("content"),h=~["Solid","Regular","Light","Duotone","Brands","Kit"].indexOf(c[2])?A[c[2].toLowerCase()]:D[u],d=jt(3===p.length?p.substr(1,1):p),f=Ht(h,d),m=f;if(!f||o&&o.getAttribute("data-prefix")===h&&o.getAttribute("data-icon")===m)r();else{t.setAttribute(n,m),o&&t.removeChild(o);var g={iconName:null,title:null,titleId:null,prefix:null,transform:mt,symbol:!1,mask:null,maskId:null,extra:{classes:[],styles:{},attributes:{}}},b=g.extra;b.attributes[S]=e,me(f,h).then((function(i){var o=Et(s({},g,{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:h,iconName:m,extra:b,watchable:!0})),a=y.createElement("svg");":before"===e?t.insertBefore(a,t.firstChild):t.appendChild(a),a.outerHTML=o.map((function(t){return Jt(t)})).join("\n"),t.removeAttribute(n),r()})).catch(i)}}else r()}))}function _e(t){return dt.all([we(t,":before"),we(t,":after")])}function xe(t){return!(t.parentNode===document.head||~O.indexOf(t.tagName.toUpperCase())||t.getAttribute(S)||t.parentNode&&"svg"===t.parentNode.tagName)}function ke(t){if(w)return new dt((function(e,n){var r=gt(t.querySelectorAll("*")).filter(xe).map(_e),i=Rt("searchPseudoElements");te=!0,dt.all(r).then((function(){i(),ee(),e()})).catch((function(){i(),ee(),n()}))}))}function Se(){var t="fa",e=x,n=z.familyPrefix,r=z.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}function Te(){z.autoAddCss&&!Ne&&(vt(Se()),Ne=!0)}function Oe(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return Jt(t)}))}}),Object.defineProperty(t,"node",{get:function(){if(w){var e=y.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function Ee(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return $t(Ae.definitions,n,r)||$t(V.styles,n,r)}var Ce,Ae=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e,n,r;return e=t,(n=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(e){t.definitions[e]=s({},t.definitions[e]||{},i[e]),Lt(e,i[e]),qt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var r=n[e],i=r.prefix,o=r.iconName,s=r.icon;t[i]||(t[i]={}),t[i][o]=s})),t}}])&&i(e.prototype,n),r&&i(e,r),t}()),Ne=!1,Ie={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(w){Te();var e=t.node,n=void 0===e?y:e,r=t.callback,i=void 0===r?function(){}:r;return z.searchPseudoElements&&ke(n),ge(n,i)}return dt.reject("Operation requires a DOM of some kind.")},css:Se,insertCss:function(){Ne||(vt(Se()),Ne=!0)},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,n=t.observeMutationsRoot;!1===z.autoReplaceSvg&&(z.autoReplaceSvg=!0),z.observeMutations=!0,W((function(){Re({autoReplaceSvgRoot:e}),re({treeCallback:ge,nodeCallback:be,pseudoElementsCallback:ke,observeMutationsRoot:n})}))}},De=(Ce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?mt:n,i=e.symbol,o=void 0!==i&&i,a=e.mask,c=void 0===a?null:a,u=e.maskId,l=void 0===u?null:u,p=e.title,h=void 0===p?null:p,d=e.titleId,f=void 0===d?null:d,m=e.classes,v=void 0===m?[]:m,y=e.attributes,g=void 0===y?{}:y,b=e.styles,w=void 0===b?{}:b;if(t){var _=t.prefix,x=t.iconName,k=t.icon;return Oe(s({type:"icon"},t),(function(){return Te(),z.autoA11y&&(h?g["aria-labelledby"]="".concat(z.replacementClass,"-title-").concat(f||yt()):(g["aria-hidden"]="true",g.focusable="false")),Et({icons:{main:fe(k),mask:c?fe(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:x,transform:s({},mt,r),symbol:o,title:h,maskId:l,titleId:f,extra:{attributes:g,styles:w,classes:v}})}))}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:Ee(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:Ee(r||{})),Ce(n,s({},e,{mask:r}))}),Me={noAuto:function(){z.autoReplaceSvg=!1,z.observeMutations=!1,ne&&ne.disconnect()},config:z,dom:Ie,library:Ae,parse:{transform:function(t){return oe(t)}},findIconDefinition:Ee,icon:De,text:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?mt:n,i=e.title,o=void 0===i?null:i,a=e.classes,u=void 0===a?[]:a,l=e.attributes,p=void 0===l?{}:l,h=e.styles,d=void 0===h?{}:h;return Oe({type:"text",content:t},(function(){return Te(),Ct({content:t,transform:s({},mt,r),title:o,extra:{attributes:p,styles:d,classes:["".concat(z.familyPrefix,"-layers-text")].concat(c(u))}})}))},counter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.title,r=void 0===n?null:n,i=e.classes,o=void 0===i?[]:i,s=e.attributes,a=void 0===s?{}:s,u=e.styles,l=void 0===u?{}:u;return Oe({type:"counter",content:t},(function(){return Te(),At({content:t.toString(),title:r,extra:{attributes:a,styles:l,classes:["".concat(z.familyPrefix,"-layers-counter")].concat(c(o))}})}))},layer:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.classes,r=void 0===n?[]:n;return Oe({type:"layer"},(function(){Te();var e=[];return t((function(t){Array.isArray(t)?t.map((function(t){e=e.concat(t.abstract)})):e=e.concat(t.abstract)})),[{tag:"span",attributes:{class:["".concat(z.familyPrefix,"-layers")].concat(c(r)).join(" ")},children:e}]}))},toHtml:Jt},Re=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,n=void 0===e?y:e;(Object.keys(V.styles).length>0||z.autoFetchSvg)&&w&&z.autoReplaceSvg&&Me.dom.i2svg({node:n})}},1436:(t,e,n)=>{"use strict";n.d(e,{gc2:()=>r,c_t:()=>i,_jT:()=>o,dT$:()=>s,ca9:()=>a,gHg:()=>c,cJz:()=>u,nNP:()=>l,Kl4:()=>p,zc:()=>h,r8p:()=>d,Elr:()=>f});var r={prefix:"fas",iconName:"angle-down",icon:[320,512,[],"f107","M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"]},i={prefix:"fas",iconName:"bold",icon:[384,512,[],"f032","M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"]},o={prefix:"fas",iconName:"camera",icon:[512,512,[],"f030","M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"]},s={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"]},a={prefix:"fas",iconName:"file-export",icon:[576,512,[],"f56e","M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"]},c={prefix:"fas",iconName:"heading",icon:[512,512,[],"f1dc","M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"]},u={prefix:"fas",iconName:"italic",icon:[320,512,[],"f033","M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"]},l={prefix:"fas",iconName:"link",icon:[512,512,[],"f0c1","M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"]},p={prefix:"fas",iconName:"minus",icon:[448,512,[],"f068","M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},h={prefix:"fas",iconName:"play",icon:[448,512,[],"f04b","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"]},d={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},f={prefix:"fas",iconName:"quote-right",icon:[512,512,[],"f10e","M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"]}},6798:(t,e,n)=>{"use strict";n.d(e,{ML:()=>we,hj:()=>at,vc:()=>xe,NB:()=>_e,nU:()=>tt,ar:()=>Ee,Nl:()=>J,J1:()=>Oe,EG:()=>Ce,hT:()=>Ot,Cf:()=>Se,K9:()=>Te,P1:()=>X,x2:()=>ke,pr:()=>Ae});var r=n(6922),i=n(8780),o=n(8638),s=n(2629),a=n(896),c=n(1081);function u(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function l(t,e,n){var i=t.selection.$cursor;if(!i||(n?!n.endOfTextblock("backward",t):i.parentOffset>0))return!1;var o=d(i);if(!o){var s=i.blockRange(),a=s&&(0,c.k9)(s);return null!=a&&(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}var u=o.nodeBefore;if(!u.type.spec.isolating&&T(t,o,e))return!0;if(0==i.parent.content.size&&(p(u,"end")||r.qv.isSelectable(u))){if(e){var l=t.tr.deleteRange(i.before(),i.after());l.setSelection(p(u,"end")?r.Y1.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):r.qv.create(l.doc,o.pos-u.nodeSize)),e(l.scrollIntoView())}return!0}return!(!u.isAtom||o.depth!=i.depth-1)&&(e&&e(t.tr.delete(o.pos-u.nodeSize,o.pos).scrollIntoView()),!0)}function p(t,e,n){for(;t;t="start"==e?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(n&&1!=t.childCount)return!1}return!1}function h(t,e,n){var i=t.selection,o=i.$head,s=o;if(!i.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;s=d(o)}var a=s&&s.nodeBefore;return!(!a||!r.qv.isSelectable(a))&&(e&&e(t.tr.setSelection(r.qv.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)}function d(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function f(t,e,n){var i=t.selection.$cursor;if(!i||(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size))return!1;var o=v(i);if(!o)return!1;var s=o.nodeAfter;if(T(t,o,e))return!0;if(0==i.parent.content.size&&(p(s,"start")||r.qv.isSelectable(s))){if(e){var a=t.tr.deleteRange(i.before(),i.after());a.setSelection(p(s,"start")?r.Y1.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):r.qv.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}return!(!s.isAtom||o.depth!=i.depth-1)&&(e&&e(t.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0)}function m(t,e,n){var i=t.selection,o=i.$head,s=o;if(!i.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;s=v(o)}var a=s&&s.nodeAfter;return!(!a||!r.qv.isSelectable(a))&&(e&&e(t.tr.setSelection(r.qv.create(t.doc,s.pos)).scrollIntoView()),!0)}function v(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function y(t,e){var n=t.selection,r=n.$from,i=n.$to,o=r.blockRange(i),s=o&&(0,c.k9)(o);return null!=s&&(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)}function g(t,e){var n=t.selection,r=n.$head,i=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(i))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function b(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function w(t,e){var n=t.selection,i=n.$head,o=n.$anchor;if(!i.parent.type.spec.code||!i.sameParent(o))return!1;var s=i.node(-1),a=i.indexAfter(-1),c=b(s.contentMatchAt(a));if(!s.canReplaceWith(a,a,c))return!1;if(e){var u=i.after(),l=t.tr.replaceWith(u,u,c.createAndFill());l.setSelection(r.Y1.near(l.doc.resolve(u),1)),e(l.scrollIntoView())}return!0}function _(t,e){var n=t.selection,i=n.$from,o=n.$to;if(n instanceof r.C1||i.parent.inlineContent||o.parent.inlineContent)return!1;var s=b(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){var a=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,c=t.tr.insert(a,s.createAndFill());c.setSelection(r.Bs.create(c.doc,a+1)),e(c.scrollIntoView())}return!0}function x(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if((0,c.Ax)(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}var i=n.blockRange(),o=i&&(0,c.k9)(i);return null!=o&&(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)}function k(t,e){var n=t.selection,i=n.$from,o=n.$to;if(t.selection instanceof r.qv&&t.selection.node.isBlock)return!(!i.parentOffset||!(0,c.Ax)(t.doc,i.pos))&&(e&&e(t.tr.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;if(e){var s=o.parentOffset==o.parent.content.size,a=t.tr;(t.selection instanceof r.Bs||t.selection instanceof r.C1)&&a.deleteSelection();var u=0==i.depth?null:b(i.node(-1).contentMatchAt(i.indexAfter(-1))),l=s&&u?[{type:u}]:null,p=(0,c.Ax)(a.doc,a.mapping.map(i.pos),1,l);if(l||p||!(0,c.Ax)(a.doc,a.mapping.map(i.pos),1,u&&[{type:u}])||(l=[{type:u}],p=!0),p&&(a.split(a.mapping.map(i.pos),1,l),!s&&!i.parentOffset&&i.parent.type!=u)){var h=a.mapping.map(i.before()),d=a.doc.resolve(h);i.node(-1).canReplaceWith(d.index(),d.index()+1,u)&&a.setNodeMarkup(a.mapping.map(i.before()),u)}e(a.scrollIntoView())}return!0}function S(t,e){return e&&e(t.tr.setSelection(new r.C1(t.doc))),!0}function T(t,e,n){var i,s,a=e.nodeBefore,u=e.nodeAfter;if(a.type.spec.isolating||u.type.spec.isolating)return!1;if(function(t,e,n){var r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(o,o+1)||!i.isTextblock&&!(0,c.Mn)(t.doc,e.pos)||(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,n))return!0;var l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(i=(s=a.contentMatchAt(a.childCount)).findWrapping(u.type))&&s.matchType(i[0]||u.type).validEnd){if(n){for(var h=e.pos+u.nodeSize,d=o.HY.empty,f=i.length-1;f>=0;f--)d=o.HY.from(i[f].create(null,d));d=o.HY.from(a.copy(d));var m=t.tr.step(new c.FC(e.pos-1,h,e.pos,h,new o.p2(d,1,0),i.length,!0)),v=h+2*i.length;(0,c.Mn)(m.doc,v)&&m.join(v),n(m.scrollIntoView())}return!0}var y=r.Y1.findFrom(e,1),g=y&&y.$from.blockRange(y.$to),b=g&&(0,c.k9)(g);if(null!=b&&b>=e.depth)return n&&n(t.tr.lift(g,b).scrollIntoView()),!0;if(l&&p(u,"start",!0)&&p(a,"end")){for(var w=a,_=[];_.push(w),!w.isTextblock;)w=w.lastChild;for(var x=u,k=1;!x.isTextblock;x=x.firstChild)k++;if(w.canReplace(w.childCount,w.childCount,x.content)){if(n){for(var S=o.HY.empty,T=_.length-1;T>=0;T--)S=o.HY.from(_[T].copy(S));n(t.tr.step(new c.FC(e.pos-_.length,e.pos+u.nodeSize,e.pos+k,e.pos+u.nodeSize-k,new o.p2(S,_.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function O(t,e){return function(n,r){var i=n.selection,o=i.$from,s=i.$to,a=o.blockRange(s),u=a&&(0,c.nd)(a,t,e);return!!u&&(r&&r(n.tr.wrap(a,u).scrollIntoView()),!0)}}function E(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}var C=E(u,l,h),A=E(u,f,m),N={Enter:E(g,_,x,k),"Mod-Enter":w,Backspace:C,"Mod-Backspace":C,Delete:A,"Mod-Delete":A,"Mod-a":S},I={"Ctrl-h":N.Backspace,"Alt-Backspace":N["Mod-Backspace"],"Ctrl-d":N.Delete,"Ctrl-Alt-Backspace":N["Mod-Delete"],"Alt-Delete":N["Mod-Delete"],"Alt-d":N["Mod-Delete"]};for(var D in N)I[D]=N[D];"undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&os.platform();function M(t,e){return function(n,r){var i=n.selection,s=i.$from,a=i.$to,u=s.blockRange(a),l=!1,p=u;if(!u)return!1;if(u.depth>=2&&s.node(u.depth-1).type.compatibleContent(t)&&0==u.startIndex){if(0==s.index(u.depth-1))return!1;var h=n.doc.resolve(u.start-2);p=new o.Ts(h,h,u.depth),u.endIndex<u.parent.childCount&&(u=new o.Ts(s,n.doc.resolve(a.end(u.depth)),u.depth)),l=!0}var d=(0,c.nd)(p,t,e,u);return!!d&&(r&&r(function(t,e,n,r,i){for(var s=o.HY.empty,a=n.length-1;a>=0;a--)s=o.HY.from(n[a].type.create(n[a].attrs,s));t.step(new c.FC(e.start-(r?2:0),e.end,e.start,e.end,new o.p2(s,0,0),n.length,!0));for(var u=0,l=0;l<n.length;l++)n[l].type==i&&(u=l+1);for(var p=n.length-u,h=e.start+n.length-(r?2:0),d=e.parent,f=e.startIndex,m=e.endIndex,v=!0;f<m;f++,v=!1)!v&&(0,c.Ax)(t.doc,h,p)&&(t.split(h,p),h+=2*p),h+=d.child(f).nodeSize;return t}(n.tr,u,d,l,t).scrollIntoView()),!0)}}function R(t){return function(e,n){var r=e.selection,i=r.$from,s=r.$to,a=i.blockRange(s,(function(e){return e.childCount&&e.firstChild.type==t}));return!!a&&(!n||(i.node(a.depth-1).type==t?function(t,e,n,r){var i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new c.FC(s-1,a,s,a,new o.p2(o.HY.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new o.Ts(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));return e(i.lift(r,(0,c.k9)(r)).scrollIntoView()),!0}(e,n,t,a):function(t,e,n){for(var r=t.tr,i=n.parent,s=n.end,a=n.endIndex-1,u=n.startIndex;a>u;a--)s-=i.child(a).nodeSize,r.delete(s-1,s+1);var l=r.doc.resolve(n.start),p=l.nodeAfter,h=0==n.startIndex,d=n.endIndex==i.childCount,f=l.node(-1),m=l.index(-1);if(!f.canReplace(m+(h?0:1),m+1,p.content.append(d?o.HY.empty:o.HY.from(i))))return!1;var v=l.pos,y=v+p.nodeSize;return r.step(new c.FC(v-(h?1:0),y+(d?1:0),v+1,y-1,new o.p2((h?o.HY.empty:o.HY.from(i.copy(o.HY.empty))).append(d?o.HY.empty:o.HY.from(i.copy(o.HY.empty))),h?0:1,d?0:1),h?0:1)),e(r.scrollIntoView()),!0}(e,n,a)))}}function P(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function j(t,e){if("string"==typeof t){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function L(t,e){if("string"==typeof t){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function F(t,e){const n=L(e,t.schema),{from:r,to:i,empty:o}=t.selection;let s=[];o?s=t.selection.$head.marks():t.doc.nodesBetween(r,i,(t=>{s=[...s,...t.marks]}));const a=s.find((t=>t.type.name===n.name));return a?{...a.attrs}:{}}function B(t,e){const n=P("string"==typeof e?e:e.name,t.schema);return"node"===n?function(t,e){const n=j(e,t.schema),{from:r,to:i}=t.selection;let o=[];t.doc.nodesBetween(r,i,(t=>{o=[...o,t]}));const s=o.reverse().find((t=>t.type.name===n.name));return s?{...s.attrs}:{}}(t,e):"mark"===n?F(t,e):{}}function z(t,e,n={strict:!0}){const r=Object.keys(e);return!r.length||r.every((r=>{return n.strict?e[r]===t[r]:(i=e[r],"[object RegExp]"===Object.prototype.toString.call(i)?e[r].test(t[r]):e[r]===t[r]);var i}))}function U(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?j(e,t.schema):null;let a=[];if(t.doc.nodesBetween(r,i,((t,e)=>{if(!t.isText){const n=Math.max(r,e),o=Math.min(i,e+t.nodeSize);a=[...a,{node:t,from:n,to:o}]}})),o)return!!a.filter((t=>!s||s.name===t.node.type.name)).find((t=>z(t.node.attrs,n,{strict:!1})));const c=i-r;return a.filter((t=>!s||s.name===t.node.type.name)).filter((t=>z(t.node.attrs,n,{strict:!1}))).reduce(((t,e)=>t+(e.to-e.from)),0)>=c}function V(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?L(e,t.schema):null;if(o)return!!(t.storedMarks||t.selection.$from.marks()).filter((t=>!s||s.name===t.type.name)).find((t=>z(t.attrs,n,{strict:!1})));let a=0,c=[];if(t.doc.nodesBetween(r,i,((t,e)=>{if(t.isText){const n=Math.max(r,e),o=Math.min(i,e+t.nodeSize);a+=o-n,c=[...c,...t.marks.map((t=>({mark:t,from:n,to:o})))]}})),0===a)return!1;const u=c.filter((t=>!s||s.name===t.mark.type.name)).filter((t=>z(t.mark.attrs,n,{strict:!1}))).reduce(((t,e)=>t+(e.to-e.from)),0),l=c.filter((t=>!s||t.mark.type!==s&&t.mark.type.excludes(s))).reduce(((t,e)=>t+(e.to-e.from)),0);return(u>0?u+l:u)>=a}function q(t){const e=`<body>${t}</body>`;return(new window.DOMParser).parseFromString(e,"text/html").body}function H(t,e,n){if(n={slice:!0,parseOptions:{},...n},"object"==typeof t&&null!==t)try{return Array.isArray(t)?o.HY.fromArray(t.map((t=>e.nodeFromJSON(t)))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),H("",e,n)}if("string"==typeof t){const r=o.aw.fromSchema(e);return n.slice?r.parseSlice(q(t),n.parseOptions).content:r.parse(q(t),n.parseOptions)}return H("",e,n)}function W(t,e,n={}){return H(t,e,{slice:!1,parseOptions:n})}function K(t,e){const n=o.PW.fromSchema(e).serializeFragment(t.content),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}class ${constructor(t,e){this.editor=t,this.commands=e}createCommands(){const{commands:t,editor:e}=this,{state:n,view:r}=e,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map((([t,e])=>[t,(...t)=>{const n=e(...t)(o);return i.getMeta("preventDispatch")||r.dispatch(i),n}])))}createChain(t,e=!0){const{commands:n,editor:r}=this,{state:i,view:o}=r,s=[],a=!!t,c=t||i.tr,u={...Object.fromEntries(Object.entries(n).map((([t,n])=>[t,(...t)=>{const r=this.buildProps(c,e),i=n(...t)(r);return s.push(i),u}]))),run:()=>(a||!e||c.getMeta("preventDispatch")||o.dispatch(c),s.every((t=>!0===t)))};return u}createCan(t){const{commands:e,editor:n}=this,{state:r}=n,i=void 0,o=t||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(e).map((([t,e])=>[t,(...t)=>e(...t)({...s,dispatch:i})]))),chain:()=>this.createChain(o,i)}}buildProps(t,e=!0){const{editor:n,commands:r}=this,{state:i,view:o}=n;i.storedMarks&&t.setStoredMarks(i.storedMarks);const s={tr:t,editor:n,view:o,state:this.chainableState(t,i),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map((([t,e])=>[t,(...t)=>e(...t)(s)])))}};return s}chainableState(t,e){let{selection:n}=t,{doc:r}=t,{storedMarks:i}=t;return{...e,schema:e.schema,plugins:e.plugins,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return r},get tr(){return n=t.selection,r=t.doc,i=t.storedMarks,t}}}}function J(t,e,n={}){if(void 0===t.config[e]&&t.parent)return J(t.parent,e,n);if("function"==typeof t.config[e]){return t.config[e].bind({...n,parent:t.parent?J(t.parent,e,n):null})}return t.config[e]}function Y(t){return{baseExtensions:t.filter((t=>"extension"===t.type)),nodeExtensions:t.filter((t=>"node"===t.type)),markExtensions:t.filter((t=>"mark"===t.type))}}function Z(t){const e=[],{nodeExtensions:n,markExtensions:r}=Y(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return t.forEach((t=>{const n=J(t,"addGlobalAttributes",{name:t.name,options:t.options});if(!n)return;n().forEach((t=>{t.types.forEach((n=>{Object.entries(t.attributes).forEach((([t,r])=>{e.push({type:n,name:t,attribute:{...o,...r}})}))}))}))})),i.forEach((t=>{const n={name:t.name,options:t.options},r=J(t,"addAttributes",n);if(!r)return;const i=r();Object.entries(i).forEach((([n,r])=>{e.push({type:t.name,name:n,attribute:{...o,...r}})}))})),e}function X(...t){return t.filter((t=>!!t)).reduce(((t,e)=>{const n={...t};return Object.entries(e).forEach((([t,e])=>{n[t]?n[t]="class"===t?[n[t],e].join(" "):"style"===t?[n[t],e].join("; "):e:n[t]=e})),n}),{})}function G(t,e){return e.filter((t=>t.attribute.rendered)).map((e=>e.attribute.renderHTML?e.attribute.renderHTML(t.attrs)||{}:{[e.name]:t.attrs[e.name]})).reduce(((t,e)=>X(t,e)),{})}function Q(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(!1===r)return!1;const i=e.filter((t=>t.attribute.rendered)).reduce(((t,e)=>{const r=e.attribute.parseHTML?e.attribute.parseHTML(n)||{}:{[e.name]:(i=n.getAttribute(e.name),"string"!=typeof i?i:i.match(/^\d*(\.\d+)?$/)?Number(i):"true"===i||"false"!==i&&i)};var i;return{...t,...Object.fromEntries(Object.entries(r).filter((([,t])=>null!=t)))}}),{});return{...r,...i}}}}function tt(t,e,...n){return"function"==typeof t?e?t.bind(e)(...n):t(...n):t}function et(t){return Object.fromEntries(Object.entries(t).filter((([t,e])=>("attrs"!==t||!function(t={}){return 0===Object.keys(t).length&&t.constructor===Object}(e))&&null!=e)))}function nt(t){var e;const n=Z(t),{nodeExtensions:r,markExtensions:i}=Y(t),s=null===(e=r.find((t=>J(t,"topNode"))))||void 0===e?void 0:e.name,a=Object.fromEntries(r.map((e=>{const r=n.filter((t=>t.type===e.name)),i={name:e.name,options:e.options},o=et({...t.reduce(((t,n)=>{const r=J(n,"extendNodeSchema",i);return{...t,...r?r(e):{}}}),{}),content:tt(J(e,"content",i)),marks:tt(J(e,"marks",i)),group:tt(J(e,"group",i)),inline:tt(J(e,"inline",i)),atom:tt(J(e,"atom",i)),selectable:tt(J(e,"selectable",i)),draggable:tt(J(e,"draggable",i)),code:tt(J(e,"code",i)),defining:tt(J(e,"defining",i)),isolating:tt(J(e,"isolating",i)),attrs:Object.fromEntries(r.map((t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),s=tt(J(e,"parseHTML",i));s&&(o.parseDOM=s.map((t=>Q(t,r))));const a=J(e,"renderHTML",i);return a&&(o.toDOM=t=>a({node:t,HTMLAttributes:G(t,r)})),[e.name,o]}))),c=Object.fromEntries(i.map((e=>{const r=n.filter((t=>t.type===e.name)),i={name:e.name,options:e.options},o=et({...t.reduce(((t,n)=>{const r=J(n,"extendMarkSchema",i);return{...t,...r?r(e):{}}}),{}),inclusive:tt(J(e,"inclusive",i)),excludes:tt(J(e,"excludes",i)),group:tt(J(e,"group",i)),spanning:tt(J(e,"spanning",i)),attrs:Object.fromEntries(r.map((t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),s=tt(J(e,"parseHTML",i));s&&(o.parseDOM=s.map((t=>Q(t,r))));const a=J(e,"renderHTML",i);return a&&(o.toDOM=t=>a({mark:t,HTMLAttributes:G(t,r)})),[e.name,o]})));return new o.V_({topNode:s,nodes:a,marks:c})}function rt(t,e){return e.nodes[t]?e.nodes[t]:e.marks[t]?e.marks[t]:null}class it{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=it.resolve(t),this.schema=nt(this.extensions),this.extensions.forEach((t=>{var e;const n={name:t.name,options:t.options,editor:this.editor,type:rt(t.name,this.schema)};if("mark"===t.type){(null===(e=tt(J(t,"keepOnSplit",n)))||void 0===e||e)&&this.splittableMarks.push(t.name)}const r=J(t,"onBeforeCreate",n);r&&this.editor.on("beforeCreate",r);const i=J(t,"onCreate",n);i&&this.editor.on("create",i);const o=J(t,"onUpdate",n);o&&this.editor.on("update",o);const s=J(t,"onSelectionUpdate",n);s&&this.editor.on("selectionUpdate",s);const a=J(t,"onTransaction",n);a&&this.editor.on("transaction",a);const c=J(t,"onFocus",n);c&&this.editor.on("focus",c);const u=J(t,"onBlur",n);u&&this.editor.on("blur",u);const l=J(t,"onDestroy",n);l&&this.editor.on("destroy",l)}))}static resolve(t){return it.sort(it.flatten(t))}static flatten(t){return t.map((t=>{const e=J(t,"addExtensions",{name:t.name,options:t.options});return e?[t,...this.flatten(e())]:t})).flat(10)}static sort(t){return t.sort(((t,e)=>{const n=J(t,"priority")||100,r=J(e,"priority")||100;return n>r?-1:n<r?1:0}))}get commands(){return this.extensions.reduce(((t,e)=>{const n=J(e,"addCommands",{name:e.name,options:e.options,editor:this.editor,type:rt(e.name,this.schema)});return n?{...t,...n()}:t}),{})}get plugins(){return[...this.extensions].reverse().map((t=>{const e={name:t.name,options:t.options,editor:this.editor,type:rt(t.name,this.schema)},n=[],r=J(t,"addKeyboardShortcuts",e);if(r){const t=Object.fromEntries(Object.entries(r()).map((([t,e])=>[t,()=>e({editor:this.editor})]))),e=(0,s.h)(t);n.push(e)}const i=J(t,"addInputRules",e);if(this.editor.options.enableInputRules&&i){const t=i(),e=t.length?[(0,a.Hw)({rules:t})]:[];n.push(...e)}const o=J(t,"addPasteRules",e);if(this.editor.options.enablePasteRules&&o){const t=o();n.push(...t)}const c=J(t,"addProseMirrorPlugins",e);if(c){const t=c();n.push(...t)}return n})).flat()}get attributes(){return Z(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Y(this.extensions);return Object.fromEntries(e.filter((t=>!!J(t,"addNodeView"))).map((e=>{const n=this.attributes.filter((t=>t.type===e.name)),r={name:e.name,options:e.options,editor:t,type:j(e.name,this.schema)},i=J(e,"addNodeView",r);if(!i)return[];return[e.name,(r,o,s,a)=>{const c=G(r,n);return i()({editor:t,node:r,getPos:s,decorations:a,HTMLAttributes:c,extension:e})}]})))}get textSerializers(){const{editor:t}=this,{nodeExtensions:e}=Y(this.extensions);return Object.fromEntries(e.filter((t=>!!J(t,"renderText"))).map((e=>{const n=J(e,"renderText",{name:e.name,options:e.options,editor:t,type:j(e.name,this.schema)});if(!n)return[];return[e.name,t=>n(t)]})))}}function ot(t){return"Object"===function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)&&(t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype)}function st(t,e){const n={...t};return ot(t)&&ot(e)&&Object.keys(e).forEach((r=>{ot(e[r])?r in t?n[r]=st(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})})),n}class at{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions}static create(t={}){return new at(t)}configure(t={}){const e=this.extend();return e.options=st(this.options,t),e}extend(t={}){const e=new at(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e}}const ct=at.create({name:"editable",addProseMirrorPlugins(){return[new r.Sy({key:new r.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{from:e,to:n}=t.state.selection;return((t,e,n,r,i)=>{let o="",s=!0;return t.state.doc.nodesBetween(e,n,((a,c)=>{var u;const l=t.extensionManager.textSerializers[a.type.name];l?(o+=l({node:a}),s=!r):a.isText?(o+=null===(u=null==a?void 0:a.text)||void 0===u?void 0:u.slice(Math.max(e,c)-c,n-c),s=!r):a.isLeaf&&i?(o+=i,s=!r):!s&&a.isBlock&&(o+=r,s=!0)}),0),o})(t,e,n,"\n")}}})]}});var ut=Object.freeze({__proto__:null,blur:()=>({editor:t,view:e})=>(requestAnimationFrame((()=>{t.isDestroyed||e.dom.blur()})),!0)});var lt=Object.freeze({__proto__:null,clearContent:(t=!1)=>({commands:e})=>e.setContent("",t)});var pt=Object.freeze({__proto__:null,clearNodes:()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return i.forEach((r=>{t.doc.nodesBetween(r.$from.pos,r.$to.pos,((t,r)=>{if(t.type.isText)return;const i=e.doc.resolve(e.mapping.map(r)),o=e.doc.resolve(e.mapping.map(r+t.nodeSize)),s=i.blockRange(o);if(!s)return;const a=(0,c.k9)(s);if(t.type.isTextblock&&n){const{defaultType:t}=i.parent.contentMatchAt(i.index());e.setNodeMarkup(s.start,t)}(a||0===a)&&n&&e.lift(s,a)}))})),!0}});var ht=Object.freeze({__proto__:null,command:t=>e=>t(e)});var dt=Object.freeze({__proto__:null,createParagraphNear:()=>({state:t,dispatch:e})=>_(t,e)});var ft=Object.freeze({__proto__:null,deleteNode:t=>({tr:e,state:n,dispatch:r})=>{const i=j(t,n.schema),o=e.selection.$anchor;for(let t=o.depth;t>0;t-=1){if(o.node(t).type===i){if(r){const n=o.before(t),r=o.after(t);e.delete(n,r).scrollIntoView()}return!0}}return!1}});var mt=Object.freeze({__proto__:null,deleteRange:t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0}});var vt=Object.freeze({__proto__:null,deleteSelection:()=>({state:t,dispatch:e})=>u(t,e)});var yt=Object.freeze({__proto__:null,enter:()=>({commands:t})=>t.keyboardShortcut("Enter")});var gt=Object.freeze({__proto__:null,exitCode:()=>({state:t,dispatch:e})=>w(t,e)});function bt(t,e,n={}){return t.find((t=>t.type===e&&z(t.attrs,n)))}function wt(t,e,n={}){return!!bt(t,e,n)}function _t(t,e,n={}){if(!t||!e)return;const r=t.parent.childAfter(t.parentOffset);if(!r.node)return;const i=bt(r.node.marks,e,n);if(!i)return;let o=t.index(),s=t.start()+r.offset,a=o+1,c=s+r.node.nodeSize;for(bt(r.node.marks,e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;a<t.parent.childCount&&wt(t.parent.child(a).marks,e,n);)c+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:c}}var xt=Object.freeze({__proto__:null,extendMarkRange:(t,e={})=>({tr:n,state:i,dispatch:o})=>{const s=L(t,i.schema),{doc:a,selection:c}=n,{$from:u,from:l,to:p}=c;if(o){const t=_t(u,s,e);if(t&&t.from<=l&&t.to>=p){const e=r.Bs.create(a,t.from,t.to);n.setSelection(e)}}return!0}});var kt=Object.freeze({__proto__:null,first:t=>e=>{const n="function"==typeof t?t(e):t;for(let t=0;t<n.length;t+=1)if(n[t](e))return!0;return!1}});function St(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Tt(t){return t&&"object"==typeof t&&!Array.isArray(t)&&!function(t){var e;return"class"===(null===(e=t.constructor)||void 0===e?void 0:e.toString().substring(0,5))}(t)}function Ot(t){return Tt(t)&&t instanceof r.Bs}function Et(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Ct=Object.freeze({__proto__:null,focus:(t=null)=>({editor:e,view:n,tr:i,dispatch:o})=>{const s=()=>{Et()&&n.dom.focus(),requestAnimationFrame((()=>{e.isDestroyed||(n.focus(),e.commands.scrollIntoView())}))};if(n.hasFocus()&&null===t||!1===t)return!0;if(o&&null===t&&!Ot(e.state.selection))return s(),!0;const{from:a,to:c}=function(t,e=null){if(!e)return null;if("start"===e||!0===e)return{from:0,to:0};if("end"===e){const{size:e}=t.doc.content;return{from:e,to:e}}return{from:e,to:e}}(e.state,t)||e.state.selection,{doc:u,storedMarks:l}=i,p=r.Y1.atStart(u).from,h=r.Y1.atEnd(u).to,d=St(a,p,h),f=St(c,p,h),m=r.Bs.create(u,d,f),v=e.state.selection.eq(m);return o&&(v||i.setSelection(m),v&&l&&i.setStoredMarks(l),s()),!0}});var At=Object.freeze({__proto__:null,forEach:(t,e)=>n=>t.every(((t,r)=>e(t,{...n,index:r})))});var Nt=Object.freeze({__proto__:null,insertContent:(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e)});var It=Object.freeze({__proto__:null,insertContentAt:(t,e,n)=>({tr:i,dispatch:o,editor:s})=>{if(o){const o=H(e,s.schema,{parseOptions:{preserveWhitespace:"full"},...n||{}});if("<>"===o.toString())return!0;const{from:a,to:u}="number"==typeof t?{from:t,to:t}:t;i.replaceWith(a,u,o),function(t,e,n){const i=t.steps.length-1;if(i<e)return;const o=t.steps[i];if(!(o instanceof c.Pu||o instanceof c.FC))return;const s=t.mapping.maps[i];let a=0;s.forEach(((t,e,n,r)=>{0===a&&(a=r)})),t.setSelection(r.Y1.near(t.doc.resolve(a),n))}(i,i.steps.length-1,1)}return!0}});var Dt=Object.freeze({__proto__:null,joinBackward:()=>({state:t,dispatch:e})=>l(t,e)});var Mt=Object.freeze({__proto__:null,joinForward:()=>({state:t,dispatch:e})=>f(t,e)});const Rt="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var Pt=Object.freeze({__proto__:null,keyboardShortcut:t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=function(t){const e=t.split(/-(?!$)/);let n,r,i,o,s=e[e.length-1];"Space"===s&&(s=" ");for(let t=0;t<e.length-1;t+=1){const s=e[t];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else if(/^s(hift)?$/i.test(s))i=!0;else{if(!/^mod$/i.test(s))throw new Error(`Unrecognized modifier name: ${s}`);Rt?o=!0:r=!0}}return n&&(s=`Alt-${s}`),r&&(s=`Ctrl-${s}`),o&&(s=`Meta-${s}`),i&&(s=`Shift-${s}`),s}(t).split(/-(?!$)/),s=o.find((t=>!["Alt","Ctrl","Meta","Shift"].includes(t))),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction((()=>{n.someProp("handleKeyDown",(t=>t(n,a)))}));return null==c||c.steps.forEach((t=>{const e=t.map(r.mapping);e&&i&&r.maybeStep(e)})),!0}});var jt=Object.freeze({__proto__:null,lift:(t,e={})=>({state:n,dispatch:r})=>!!U(n,j(t,n.schema),e)&&y(n,r)});var Lt=Object.freeze({__proto__:null,liftEmptyBlock:()=>({state:t,dispatch:e})=>x(t,e)});var Ft=Object.freeze({__proto__:null,liftListItem:t=>({state:e,dispatch:n})=>R(j(t,e.schema))(e,n)});var Bt=Object.freeze({__proto__:null,newlineInCode:()=>({state:t,dispatch:e})=>g(t,e)});function zt(t,e){const n="string"==typeof e?[e]:e;return Object.keys(t).reduce(((e,r)=>(n.includes(r)||(e[r]=t[r]),e)),{})}var Ut=Object.freeze({__proto__:null,resetAttributes:(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=P("string"==typeof t?t:t.name,r.schema);return!!a&&("node"===a&&(o=j(t,r.schema)),"mark"===a&&(s=L(t,r.schema)),i&&n.selection.ranges.forEach((t=>{r.doc.nodesBetween(t.$from.pos,t.$to.pos,((t,r)=>{o&&o===t.type&&n.setNodeMarkup(r,void 0,zt(t.attrs,e)),s&&t.marks.length&&t.marks.forEach((i=>{s===i.type&&n.addMark(r,r+t.nodeSize,s.create(zt(i.attrs,e)))}))}))})),!0)}});var Vt=Object.freeze({__proto__:null,scrollIntoView:()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0)});var qt=Object.freeze({__proto__:null,selectAll:()=>({state:t,dispatch:e})=>S(t,e)});var Ht=Object.freeze({__proto__:null,selectNodeBackward:()=>({state:t,dispatch:e})=>h(t,e)});var Wt=Object.freeze({__proto__:null,selectNodeForward:()=>({state:t,dispatch:e})=>m(t,e)});var Kt=Object.freeze({__proto__:null,selectParentNode:()=>({state:t,dispatch:e})=>function(t,e){var n,i=t.selection,o=i.$from,s=i.to,a=o.sharedDepth(s);return 0!=a&&(n=o.before(a),e&&e(t.tr.setSelection(r.qv.create(t.doc,n))),!0)}(t,e)});var $t=Object.freeze({__proto__:null,setContent:(t,e=!1,n={})=>({tr:i,editor:o,dispatch:s})=>{const{doc:a}=i,c=W(t,o.schema,n),u=r.Bs.create(a,0,a.content.size);return s&&i.setSelection(u).replaceSelectionWith(c,!1).setMeta("preventUpdate",!e),!0}});var Jt=Object.freeze({__proto__:null,setMark:(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,c=L(t,r.schema);if(i)if(s){const t=F(r,c);n.addStoredMark(c.create({...t,...e}))}else a.forEach((t=>{const i=t.$from.pos,o=t.$to.pos;r.doc.nodesBetween(i,o,((t,r)=>{const s=Math.max(r,i),a=Math.min(r+t.nodeSize,o);t.marks.find((t=>t.type===c))?t.marks.forEach((t=>{c===t.type&&n.addMark(s,a,c.create({...t.attrs,...e}))})):n.addMark(s,a,c.create(e))}))}));return!0}});var Yt=Object.freeze({__proto__:null,setMeta:(t,e)=>({tr:n})=>(n.setMeta(t,e),!0)});var Zt=Object.freeze({__proto__:null,setNode:(t,e={})=>({state:n,dispatch:r})=>{const i=j(t,n.schema);return(o=i,s=e,function(t,e){var n=t.selection,r=n.from,i=n.to,a=!1;return t.doc.nodesBetween(r,i,(function(e,n){if(a)return!1;if(e.isTextblock&&!e.hasMarkup(o,s))if(e.type==o)a=!0;else{var r=t.doc.resolve(n),i=r.index();a=r.parent.canReplaceWith(i,i+1,o)}})),!!a&&(e&&e(t.tr.setBlockType(r,i,o,s).scrollIntoView()),!0)})(n,r);var o,s}});var Xt=Object.freeze({__proto__:null,setNodeSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,i=r.Y1.atStart(n).from,o=r.Y1.atEnd(n).to,s=St(t,i,o),a=r.qv.create(n,s);e.setSelection(a)}return!0}});var Gt=Object.freeze({__proto__:null,setTextSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,{from:i,to:o}="number"==typeof t?{from:t,to:t}:t,s=r.Y1.atStart(n).from,a=r.Y1.atEnd(n).to,c=St(i,s,a),u=St(o,s,a),l=r.Bs.create(n,c,u);e.setSelection(l)}return!0}});var Qt=Object.freeze({__proto__:null,sinkListItem:t=>({state:e,dispatch:n})=>{const r=j(t,e.schema);return(i=r,function(t,e){var n=t.selection,r=n.$from,s=n.$to,a=r.blockRange(s,(function(t){return t.childCount&&t.firstChild.type==i}));if(!a)return!1;var u=a.startIndex;if(0==u)return!1;var l=a.parent,p=l.child(u-1);if(p.type!=i)return!1;if(e){var h=p.lastChild&&p.lastChild.type==l.type,d=o.HY.from(h?i.create():null),f=new o.p2(o.HY.from(i.create(null,o.HY.from(l.type.create(null,d)))),h?3:1,0),m=a.start,v=a.end;e(t.tr.step(new c.FC(m-(h?3:1),v,m,v,f,1,!0)).scrollIntoView())}return!0})(e,n);var i}});function te(t,e,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const r=t.find((t=>t.type===e&&t.name===n));return!!r&&r.attribute.keepOnSplit})))}function ee(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter((t=>null==e?void 0:e.includes(t.type.name)));t.tr.ensureMarks(r)}}var ne=Object.freeze({__proto__:null,splitBlock:({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:o})=>{const{selection:s,doc:a}=e,{$from:u,$to:l}=s,p=te(o.extensionManager.attributes,u.node().type.name,u.node().attrs);if(s instanceof r.qv&&s.node.isBlock)return!(!u.parentOffset||!(0,c.Ax)(a,u.pos))&&(i&&(t&&ee(n,o.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;if(i){const i=l.parentOffset===l.parent.content.size;s instanceof r.Bs&&e.deleteSelection();const a=0===u.depth?void 0:function(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(u.node(-1).contentMatchAt(u.indexAfter(-1)));let h=i&&a?[{type:a,attrs:p}]:void 0,d=(0,c.Ax)(e.doc,e.mapping.map(u.pos),1,h);if(h||d||!(0,c.Ax)(e.doc,e.mapping.map(u.pos),1,a?[{type:a}]:void 0)||(d=!0,h=a?[{type:a,attrs:p}]:void 0),d&&(e.split(e.mapping.map(u.pos),1,h),a&&!i&&!u.parentOffset&&u.parent.type!==a)){const t=e.mapping.map(u.before()),n=e.doc.resolve(t);u.node(-1).canReplaceWith(n.index(),n.index()+1,a)&&e.setNodeMarkup(e.mapping.map(u.before()),a)}t&&ee(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return!0}});var re=Object.freeze({__proto__:null,splitListItem:t=>({tr:e,state:n,dispatch:i,editor:s})=>{var a;const u=j(t,n.schema),{$from:l,$to:p}=n.selection,h=n.selection.node;if(h&&h.isBlock||l.depth<2||!l.sameParent(p))return!1;const d=l.node(-1);if(d.type!==u)return!1;const f=s.extensionManager.attributes;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==u||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let t=o.HY.empty;const n=l.index(-1)?1:l.index(-2)?2:3;for(let e=l.depth-n;e>=l.depth-3;e-=1)t=o.HY.from(l.node(e).copy(t));const i=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,s=te(f,l.node().type.name,l.node().attrs),c=(null===(a=u.contentMatch.defaultType)||void 0===a?void 0:a.createAndFill(s))||void 0;t=t.append(o.HY.from(u.createAndFill(null,c)||void 0));const p=l.before(l.depth-(n-1));e.replace(p,l.after(-i),new o.p2(t,4-n,0));let h=-1;e.doc.nodesBetween(p,e.doc.content.size,((t,e)=>{if(h>-1)return!1;t.isTextblock&&0===t.content.size&&(h=e+1)})),h>-1&&e.setSelection(r.Bs.near(e.doc.resolve(h))),e.scrollIntoView()}return!0}const m=p.pos===l.end()?d.contentMatchAt(0).defaultType:null,v=te(f,d.type.name,d.attrs),y=te(f,l.node().type.name,l.node().attrs);e.delete(l.pos,p.pos);const g=m?[{type:u,attrs:v},{type:m,attrs:y}]:[{type:u,attrs:v}];return!!(0,c.Ax)(e.doc,l.pos,2)&&(i&&e.split(l.pos,2,g).scrollIntoView(),!0)}});function ie(t,e){const{nodeExtensions:n}=Y(e),r=n.find((e=>e.name===t));if(!r)return!1;const i=tt(J(r,"group",{name:r.name,options:r.options}));return"string"==typeof i&&i.split(" ").includes("list")}var oe=Object.freeze({__proto__:null,toggleList:(t,e)=>({editor:n,tr:r,state:i,dispatch:o,chain:s,commands:a,can:c})=>{const{extensions:u}=n.extensionManager,l=j(t,i.schema),p=j(e,i.schema),{selection:h}=i,{$from:d,$to:f}=h,m=d.blockRange(f);if(!m)return!1;const v=(y=t=>ie(t.type.name,u),t=>function(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}(t.$from,y))(h);var y;if(m.depth>=1&&v&&m.depth-v.depth<=1){if(v.node.type===l)return a.liftListItem(p);if(ie(v.node.type.name,u)&&l.validContent(v.node.content)&&o)return r.setNodeMarkup(v.pos,l),!0}return c().wrapInList(l)?a.wrapInList(l):s().clearNodes().wrapInList(l).run()}});var se=Object.freeze({__proto__:null,toggleMark:(t,e={})=>({state:n,commands:r})=>{const i=L(t,n.schema);return V(n,i,e)?r.unsetMark(i):r.setMark(i,e)}});var ae=Object.freeze({__proto__:null,toggleNode:(t,e,n={})=>({state:r,commands:i})=>{const o=j(t,r.schema),s=j(e,r.schema);return U(r,o,n)?i.setNode(s):i.setNode(o,n)}});var ce=Object.freeze({__proto__:null,toggleWrap:(t,e={})=>({state:n,dispatch:r})=>{const i=j(t,n.schema);return U(n,i,e)?y(n,r):O(i,e)(n,r)}});var ue=Object.freeze({__proto__:null,undoInputRule:()=>({state:t,dispatch:e})=>(0,a.dU)(t,e)});var le=Object.freeze({__proto__:null,unsetAllMarks:()=>({tr:t,state:e,dispatch:n})=>{const{selection:r}=t,{empty:i,ranges:o}=r;return i||n&&Object.entries(e.schema.marks).forEach((([,e])=>{o.forEach((n=>{t.removeMark(n.$from.pos,n.$to.pos,e)}))})),!0}});var pe=Object.freeze({__proto__:null,unsetMark:t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=e,o=L(t,n.schema),{$from:s,empty:a,ranges:c}=i;if(r){if(a){let{from:t,to:n}=i;const r=_t(s,o);r&&(t=r.from,n=r.to),e.removeMark(t,n,o)}else c.forEach((t=>{e.removeMark(t.$from.pos,t.$to.pos,o)}));e.removeStoredMark(o)}return!0}});var he=Object.freeze({__proto__:null,updateAttributes:(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=P("string"==typeof t?t:t.name,r.schema);return!!a&&("node"===a&&(o=j(t,r.schema)),"mark"===a&&(s=L(t,r.schema)),i&&n.selection.ranges.forEach((t=>{const i=t.$from.pos,a=t.$to.pos;r.doc.nodesBetween(i,a,((t,r)=>{o&&o===t.type&&n.setNodeMarkup(r,void 0,{...t.attrs,...e}),s&&t.marks.length&&t.marks.forEach((o=>{if(s===o.type){const c=Math.max(r,i),u=Math.min(r+t.nodeSize,a);n.addMark(c,u,s.create({...o.attrs,...e}))}}))}))})),!0)}});var de=Object.freeze({__proto__:null,wrapIn:(t,e={})=>({state:n,dispatch:r})=>{const i=j(t,n.schema);return!U(n,i,e)&&O(i,e)(n,r)}});var fe=Object.freeze({__proto__:null,wrapInList:(t,e={})=>({state:n,dispatch:r})=>M(j(t,n.schema),e)(n,r)});const me=at.create({name:"commands",addCommands:()=>({...ut,...lt,...pt,...ht,...dt,...ft,...mt,...vt,...yt,...gt,...xt,...kt,...Ct,...At,...Nt,...It,...Dt,...Mt,...Pt,...jt,...Lt,...Ft,...Bt,...Ut,...Vt,...qt,...Ht,...Wt,...Kt,...$t,...Jt,...Yt,...Zt,...Xt,...Gt,...Qt,...ne,...re,...oe,...se,...ae,...ce,...ue,...le,...pe,...he,...de,...fe})}),ve=at.create({name:"editable",addProseMirrorPlugins(){return[new r.Sy({key:new r.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ye=at.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new r.Sy({key:new r.H$("focusEvents"),props:{attributes:{tabindex:"0"},handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),ge=at.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first((({commands:t})=>[()=>t.undoInputRule(),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()])),e=()=>this.editor.commands.first((({commands:t})=>[()=>t.deleteSelection(),()=>t.joinForward(),()=>t.selectNodeForward()]));return{Enter:()=>this.editor.commands.first((({commands:t})=>[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:()=>t(),"Mod-Backspace":()=>t(),Delete:()=>e(),"Mod-Delete":()=>e()}}});var be=Object.freeze({__proto__:null,ClipboardTextSerializer:ct,Commands:me,Editable:ve,FocusEvents:ye,Keymap:ge});class we extends class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach((t=>t.apply(this,e))),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter((t=>t!==e)):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}{constructor(t={}){super(),this.isFocused=!1,this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))}),0)}get commands(){return this.commandManager.createCommands()}chain(){return this.commandManager.createChain()}can(){return this.commandManager.createCan()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(t){const e=document.querySelector("style[data-tiptap-style]");if(null!==e)return e;const n=document.createElement("style");return n.setAttribute("data-tiptap-style",""),n.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(n),n}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}'))}setOptions(t={}){this.options={...this.options,...t},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t){this.setOptions({editable:t})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n="function"==typeof e?e(t,this.state.plugins):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(t){if(this.isDestroyed)return;const e="string"==typeof t?`${t}$`:t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((t=>!t.key.startsWith(e)))});this.view.updateState(n)}createExtensionManager(){const t=[...Object.entries(be).map((([,t])=>t)),...this.options.extensions].filter((t=>["extension","node","mark"].includes(null==t?void 0:t.type)));this.extensionManager=new it(t,this)}createCommandManager(){this.commandManager=new $(this,this.extensionManager.commands)}createSchema(){this.schema=this.extensionManager.schema}createView(){this.view=new i.tk(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:r.yy.create({doc:W(this.options.content,this.schema,this.options.parseOptions)})});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.createNodeViews();this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.isCapturingTransaction)return this.capturedTransaction?void t.steps.forEach((t=>{var e;return null===(e=this.capturedTransaction)||void 0===e?void 0:e.step(t)})):void(this.capturedTransaction=t);const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const r=t.getMeta("focus"),i=t.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:t}),i&&this.emit("blur",{editor:this,event:i.event,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return B(this.state,t)}isActive(t,e){const n="string"==typeof t?t:null,r="string"==typeof t?e:t;return function(t,e,n={}){if(!e)return U(t,null,n)||V(t,null,n);const r=P(e,t.schema);return"node"===r?U(t,e,n):"mark"===r&&V(t,e,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return K(this.state.doc,this.schema)}get isEmpty(){return function(t){var e;const n=null===(e=t.type.createAndFill())||void 0===e?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}(this.state.doc)}getCharacterCount(){return this.state.doc.content.size-2}destroy(){var t;this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners(),(t=this.css)&&t.parentNode&&t.parentNode.removeChild(t)}get isDestroyed(){var t;return!(null===(t=this.view)||void 0===t?void 0:t.docView)}}class _e{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions}static create(t={}){return new _e(t)}configure(t={}){const e=this.extend();return e.options=st(this.options,t),e}extend(t={}){const e=new _e(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e}}class xe{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions}static create(t={}){return new xe(t)}configure(t={}){const e=this.extend();return e.options=st(this.options,t),e}extend(t={}){const e=new xe(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e}}function ke(t,e,n){return new a.VK(t,((t,r,i,o)=>{const s=n instanceof Function?n(r):n,{tr:a}=t;return r[0]&&a.replaceWith(i-1,o,e.create(s)),a}))}function Se(t,e,n){return new a.VK(t,((t,r,i,o)=>{const s=n instanceof Function?n(r):n,{tr:a}=t,c=r[r.length-1],u=r[0];let l=o;if(c){const n=u.search(/\S/),r=i+u.indexOf(c),p=r+c.length;if(function(t,e,n){let r=[];return n.doc.nodesBetween(t,e,((t,e)=>{r=[...r,...t.marks.map((n=>({from:e,to:e+t.nodeSize,mark:n})))]})),r}(i,o,t).filter((t=>{const{excluded:n}=t.mark.type;return n.find((t=>t.name===e.name))})).filter((t=>t.to>r)).length)return null;p<o&&a.delete(p,o),r>i&&a.delete(i+n,r),l=i+n+c.length,a.addMark(i+n,l,e.create(s)),a.removeStoredMark(e)}return a}))}function Te(t,e,n){const i=(r,s)=>{const a=[];return r.forEach((r=>{if(r.isText&&r.text){const{text:i}=r;let o,c=0;for(;null!==(o=t.exec(i));){const t=Math.max(o.length-2,0),i=Math.max(o.length-1,0);if(null==s?void 0:s.type.allowsMarkType(e)){const s=o.index+o[0].indexOf(o[t]),u=s+o[t].length,l=s+o[t].lastIndexOf(o[i]),p=l+o[i].length,h=n instanceof Function?n(o):n;if(!h&&void 0!==h)continue;s>0&&a.push(r.cut(c,s)),a.push(r.cut(l,p).mark(e.create(h).addToSet(r.marks))),c=u}}c<i.length&&a.push(r.cut(c))}else a.push(r.copy(i(r.content,r)))})),o.HY.fromArray(a)};return new r.Sy({key:new r.H$("markPasteRule"),props:{transformPasted:t=>new o.p2(i(t.content),t.openStart,t.openEnd)}})}function Oe(t){return nt(it.resolve(t))}function Ee(t,e){const n=Oe(e);return K(o.NB.fromJSON(n,t),n)}function Ce(t){return Tt(t)&&t instanceof r.qv}function Ae(t,e,n){const r=t.coordsAtPos(e),i=t.coordsAtPos(n,-1),o=Math.min(r.top,i.top),s=Math.max(r.bottom,i.bottom),a=Math.min(r.left,i.left),c=Math.max(r.right,i.right),u={top:o,bottom:s,left:a,right:c,width:c-a,height:s-o,x:a,y:o};return{...u,toJSON:()=>u}}},3584:(t,e,n)=>{"use strict";function r(t,e,n){return void 0===t||n!==t[e]?{...t,[e]:n}:t}n.d(e,{EG:()=>c,NG:()=>u,p:()=>i});const i={req:t=>({type:{},attribute:t}),opt:t=>({type:{},attribute:t,optional:!0})},o=[];let s=-1,a=!0;function c(t){const e=(null==t?void 0:t.mapper)||r;return n=>{const r=function(t,e,n){var r;const i=((r=class extends HTMLElement{constructor(){super(),this._props={},this.isScheduledNext=!1;for(const t in e){const r=e[t];let i;"type"in r&&(i=r.attribute),Reflect.defineProperty(this,t,{get:()=>this.props[t],set:e=>{this.props=n.apply(this,[this.props,t,e,i])},enumerable:!0})}}static get observedAttributes(){return Object.values(this.attributes)}set props(t){void 0!==t&&this.props!==t&&(this._props=t,this.next())}get props(){return this._props}async next(){if(!this.isScheduledNext&&null!=this.generation){this.isScheduledNext=!0;const t=await Promise.resolve(this.generation);this.isScheduledNext=!1,t.next(this.props)}}connectedCallback(){this.generation=t.apply(this,[this.props]),a=!0,this.generation.next(this.props),a=!1}attributeChangedCallback(t,e,n){if(e!==n)for(const[e,r]of Object.entries(this.constructor.attributes))if(r===t&&this[e]!==n){this[e]=n;break}}disconnectedCallback(){o.length=0}}).attributes={},r),s=Reflect.get(i,"attributes");for(const t in e){const n=e[t];"type"in n&&void 0!==n.attribute&&Reflect.defineProperty(i,"attributes",{value:{...s,[t]:n.attribute},enumerable:!0,writable:!0})}return i}(n,(null==t?void 0:t.props)||{},e);return(t,e)=>{try{customElements.define(t,r,e)}catch(t){console.warn(t)}const n=async e=>customElements.whenDefined(t).then((()=>customElements.get(t)));return n.element=r,n.adapter=(e,n)=>e(t,n),n}}}function u(t){return e=>{const n=new WeakMap;return(r={})=>{const i=null==e?(c={current:null},a?(o.push(c),c):(s++,s=s>=o.length?0:s,o[s])):e;var c;let u=n.get(i);if(null==u){const e={...i,props:r,isScheduledNext:!1},o=Reflect.apply(t,e,[r]);e.generator=o,e.next=async function(){if(!this.isScheduledNext){this.isScheduledNext=!0;const t=await Promise.resolve(o);this.isScheduledNext=!1,this.value=t.next(this.props).value}},u=e,n.set(i,u)}return u.props=r,u.value=u.generator.next(r).value,u.value}}}},745:(t,e,n)=>{"use strict";n.d(e,{yB:()=>r,Qr:()=>i,Lj:()=>a,vg:()=>o,SB:()=>s});class r extends HTMLElement{constructor(t,e=!1,n="open"){super(),this.connected=!1,this.attr={},this._state={};this._attach=(e=>{this.connected&&t(e,this.render())}).bind(null,e?this.attachShadow({mode:n}):this)}set state(t){void 0!==t&&this.state!==t&&(this._state=t,this._attach())}get state(){return this._state}static get observedAttributes(){return Object.values(this.attributes)}connectedCallback(){this.connected=!0,this._attach()}attributeChangedCallback(t,e,n){if(e!==n){this.attr[t]!==n&&(this.attr[t]=n);for(const[e,r]of Object.entries(this.constructor.attributes))if(r===t&&this[e]!==n){this[e]=n,void 0===this.state[e]&&this._attach();break}}}forceUpdate(){this._attach()}_attach(){}}function i(t){return e=>{try{customElements.define(t,e)}catch(t){console.warn(t)}}}function o(t){var e;let n="function"==typeof(null===(e=t)||void 0===e?void 0:e.mapper)?t.mapper:function(t,e,n){return n!==t[e]?Object.assign(Object.assign({},t),{[e]:n}):void 0};return function(e,r,i){var o;if(c(e,r,n,i),null===(o=t)||void 0===o?void 0:o.attribute){const n=Reflect.get(e.constructor,"attributes");Reflect.defineProperty(e.constructor,"attributes",{value:Object.assign(Object.assign({},n),{[r]:("object"==typeof t?t.attribute:t)||r}),enumerable:!0,writable:!0})}}}function s(t){return"function"!=typeof t&&(t=(t,e,n)=>n!==t[e]?Object.assign(Object.assign({},t),{[e]:n}):void 0),function(e,n,r){c(e,n,t,r)}}function a(t){return function(e,n,r){if("object"==typeof t&&"function"==typeof t.converter)if(r){const n=r.set||function(){};r.set=function(r){r=t.converter.call(e,r),n.call(e,r)}}else{const r=Symbol(n);Reflect.defineProperty(e,n,{set(n){e[r]=t.converter.call(e,n)},get:()=>e[r],enumerable:!0,configurable:!0})}const i=Reflect.get(e.constructor,"attributes");Reflect.defineProperty(e.constructor,"attributes",{value:Object.assign(Object.assign({},i),{[n]:("object"==typeof t?t.name:t)||n}),enumerable:!0,writable:!0})}}function c(t,e,n,r){if(r){const t=r.set||function(){};r.set=function(e){t.apply(this,[e]),this._attach()}}else Reflect.defineProperty(t,e,{set(t){Reflect.defineProperty(this,e,{get(){return this.state[e]},set(t){this.state=n.call(this,this.state,e,t)},enumerable:!0}),this.state=n.call(this,this.state,e,t)},enumerable:!0,configurable:!0})}r.attributes={}},6201:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(3445);const i=(t,e)=>{(0,r.sY)(e,t)}},5550:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>ze});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var o=i((function(t){var e,n;e=r,n=function(){function t(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var n=t.shift();t[0]=n+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<t.length;r++){var i=t[r];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(r>0&&(i=i.replace(/^[\/]+/,"")),i=r<t.length-1?i.replace(/[\/]+$/,""):i.replace(/[\/]+$/,"/"),e.push(i))}var o=e.join("/"),s=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return s.shift()+(s.length>0?"?":"")+s.join("&")}return function(){return t("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},t.exports?t.exports=n():e.urljoin=n()})),s=Object.prototype.hasOwnProperty,a=Array.isArray,c=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),u=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n},l={arrayToObject:u,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],o=i.obj[i.prop],s=Object.keys(o),c=0;c<s.length;++c){var u=s[c],l=o[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:o,prop:u}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(a(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var r=t;if("symbol"==typeof t?r=Symbol.prototype.toString.call(t):"string"!=typeof t&&(r=String(t)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var i="",o=0;o<r.length;++o){var s=r.charCodeAt(o);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?i+=r.charAt(o):s<128?i+=c[s]:s<2048?i+=c[192|s>>6]+c[128|63&s]:s<55296||s>=57344?i+=c[224|s>>12]+c[128|s>>6&63]+c[128|63&s]:(o+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(o)),i+=c[240|s>>18]+c[128|s>>12&63]+c[128|s>>6&63]+c[128|63&s])}return i},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(a(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,r){if(!n)return e;if("object"!=typeof n){if(a(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(r&&(r.plainObjects||r.allowPrototypes)||!s.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var i=e;return a(e)&&!a(n)&&(i=u(e,r)),a(e)&&a(n)?(n.forEach((function(n,i){if(s.call(e,i)){var o=e[i];o&&"object"==typeof o&&n&&"object"==typeof n?e[i]=t(o,n,r):e.push(n)}else e[i]=n})),e):Object.keys(n).reduce((function(e,i){var o=n[i];return s.call(e,i)?e[i]=t(e[i],o,r):e[i]=o,e}),i)}},p=String.prototype.replace,h=/%20/g,d={RFC1738:"RFC1738",RFC3986:"RFC3986"},f=l.assign({default:d.RFC3986,formatters:{RFC1738:function(t){return p.call(t,h,"+")},RFC3986:function(t){return String(t)}}},d),m=Object.prototype.hasOwnProperty,v={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},y=Array.isArray,g=Array.prototype.push,b=function(t,e){g.apply(t,y(e)?e:[e])},w=Date.prototype.toISOString,_=f.default,x={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:l.encode,encodeValuesOnly:!1,format:_,formatter:f.formatters[_],indices:!1,serializeDate:function(t){return w.call(t)},skipNulls:!1,strictNullHandling:!1},k=function t(e,n,r,i,o,s,a,c,u,p,h,d,f){var m=e;if("function"==typeof a?m=a(n,m):m instanceof Date?m=p(m):"comma"===r&&y(m)&&(m=l.maybeMap(m,(function(t){return t instanceof Date?p(t):t})).join(",")),null===m){if(i)return s&&!d?s(n,x.encoder,f,"key"):n;m=""}if(function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t}(m)||l.isBuffer(m))return s?[h(d?n:s(n,x.encoder,f,"key"))+"="+h(s(m,x.encoder,f,"value"))]:[h(n)+"="+h(String(m))];var v,g=[];if(void 0===m)return g;if(y(a))v=a;else{var w=Object.keys(m);v=c?w.sort(c):w}for(var _=0;_<v.length;++_){var k=v[_],S=m[k];if(!o||null!==S){var T=y(m)?"function"==typeof r?r(n,k):n:n+(u?"."+k:"["+k+"]");b(g,t(S,T,r,i,o,s,a,c,u,p,h,d,f))}}return g},S=Object.prototype.hasOwnProperty,T=Array.isArray,O={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:l.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},E=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},C=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},A=function(t,e,n,r){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(i),a=s?i.slice(0,s.index):i,c=[];if(a){if(!n.plainObjects&&S.call(Object.prototype,a)&&!n.allowPrototypes)return;c.push(a)}for(var u=0;n.depth>0&&null!==(s=o.exec(i))&&u<n.depth;){if(u+=1,!n.plainObjects&&S.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+i.slice(s.index)+"]"),function(t,e,n,r){for(var i=r?e:C(e,n),o=t.length-1;o>=0;--o){var s,a=t[o];if("[]"===a&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[])[u]=i:s[c]=i:s={0:i}}i=s}return i}(c,e,n,r)}},N=function(t,e){var n,r=t,i=function(t){if(!t)return x;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||x.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=f.default;if(void 0!==t.format){if(!m.call(f.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=f.formatters[n],i=x.filter;return("function"==typeof t.filter||y(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:x.addQueryPrefix,allowDots:void 0===t.allowDots?x.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:x.charsetSentinel,delimiter:void 0===t.delimiter?x.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:x.encode,encoder:"function"==typeof t.encoder?t.encoder:x.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:x.encodeValuesOnly,filter:i,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:x.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:x.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:x.strictNullHandling}}(e);"function"==typeof i.filter?r=(0,i.filter)("",r):y(i.filter)&&(n=i.filter);var o,s=[];if("object"!=typeof r||null===r)return"";o=e&&e.arrayFormat in v?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var a=v[o];n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=0;c<n.length;++c){var u=n[c];i.skipNulls&&null===r[u]||b(s,k(r[u],u,a,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.formatter,i.encodeValuesOnly,i.charset))}var l=s.join(i.delimiter),p=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),l.length>0?p+l:""},I=i((function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}})),D=P;P.default=P,P.stable=L,P.stableStringify=L;var M=[],R=[];function P(t,e,n){var r;for(function t(e,n,r,i){var o;if("object"==typeof e&&null!==e){for(o=0;o<r.length;o++)if(r[o]===e){var s=Object.getOwnPropertyDescriptor(i,n);return void(void 0!==s.get?s.configurable?(Object.defineProperty(i,n,{value:"[Circular]"}),M.push([i,n,e,s])):R.push([e,n]):(i[n]="[Circular]",M.push([i,n,e])))}if(r.push(e),Array.isArray(e))for(o=0;o<e.length;o++)t(e[o],o,r,e);else{var a=Object.keys(e);for(o=0;o<a.length;o++){var c=a[o];t(e[c],c,r,e)}}r.pop()}}(t,"",[],void 0),r=0===R.length?JSON.stringify(t,e,n):JSON.stringify(t,F(e),n);0!==M.length;){var i=M.pop();4===i.length?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return r}function j(t,e){return t<e?-1:t>e?1:0}function L(t,e,n){var r,i=function t(e,n,r,i){var o;if("object"==typeof e&&null!==e){for(o=0;o<r.length;o++)if(r[o]===e){var s=Object.getOwnPropertyDescriptor(i,n);return void(void 0!==s.get?s.configurable?(Object.defineProperty(i,n,{value:"[Circular]"}),M.push([i,n,e,s])):R.push([e,n]):(i[n]="[Circular]",M.push([i,n,e])))}if("function"==typeof e.toJSON)return;if(r.push(e),Array.isArray(e))for(o=0;o<e.length;o++)t(e[o],o,r,e);else{var a={},c=Object.keys(e).sort(j);for(o=0;o<c.length;o++){var u=c[o];t(e[u],u,r,e),a[u]=e[u]}if(void 0===i)return a;M.push([i,n,e]),i[n]=a}r.pop()}}(t,"",[],void 0)||t;for(r=0===R.length?JSON.stringify(i,e,n):JSON.stringify(i,F(e),n);0!==M.length;){var o=M.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return r}function F(t){return t=void 0!==t?t:function(t,e){return e},function(e,n){if(R.length>0)for(var r=0;r<R.length;r++){var i=R[r];if(i[1]===e&&i[0]===n){n="[Circular]",R.splice(r,1);break}}return t.call(this,e,n)}}function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var z=function(t){return null!==t&&"object"===B(t)};function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var V=q;function q(t){if(t)return function(t){for(var e in q.prototype)Object.prototype.hasOwnProperty.call(q.prototype,e)&&(t[e]=q.prototype[e]);return t}(t)}q.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},q.prototype.parse=function(t){return this._parser=t,this},q.prototype.responseType=function(t){return this._responseType=t,this},q.prototype.serialize=function(t){return this._serializer=t,this},q.prototype.timeout=function(t){if(!t||"object"!==U(t))return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this},q.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var H=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];q.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!==e.status)return!0;if(t){if(t.code&&H.includes(t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},q.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},q.prototype.then=function(t,e){var n=this;if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(t,e){r.on("abort",(function(){if(!(n._maxRetries&&n._maxRetries>n._retries))if(n.timedout&&n.timedoutError)e(n.timedoutError);else{var t=new Error("Aborted");t.code="ABORTED",t.status=n.status,t.method=n.method,t.url=n.url,e(t)}})),r.end((function(n,r){n?e(n):t(r)}))}))}return this._fullfilledPromise.then(t,e)},q.prototype.catch=function(t){return this.then(void 0,t)},q.prototype.use=function(t){return t(this),this},q.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},q.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},q.prototype.get=function(t){return this._header[t.toLowerCase()]},q.prototype.getHeader=q.prototype.get,q.prototype.set=function(t,e){if(z(t)){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},q.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},q.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(z(t)){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&this.field(n,t[n]);return this}if(Array.isArray(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.field(t,e[r]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=String(e)),this._getFormData().append(t,e),this},q.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},q.prototype._auth=function(t,e,n,r){switch(n.type){case"basic":this.set("Authorization","Basic ".concat(r("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},q.prototype.withCredentials=function(t){return void 0===t&&(t=!0),this._withCredentials=t,this},q.prototype.redirects=function(t){return this._maxRedirects=t,this},q.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},q.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},q.prototype.send=function(t){var e=z(t),n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&z(this._data))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this._data[r]=t[r]);else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"===n?this._data?"".concat(this._data,"&").concat(t):t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)||n||this.type("json"),this},q.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},q.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.slice(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.slice(0,e)+"?"+n.join("&")}}},q.prototype._appendQueryString=function(){console.warn("Unsupported")},q.prototype._timeoutError=function(t,e,n){if(!this._aborted){var r=new Error("".concat(t+e,"ms exceeded"));r.timeout=e,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.timedoutError=r,this.abort(),this.callback(r)}},q.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))};var W=K;function K(t){if(t)return function(t){for(var e in K.prototype)Object.prototype.hasOwnProperty.call(K.prototype,e)&&(t[e]=K.prototype[e]);return t}(t)}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J(){this._defaults=[]}K.prototype.get=function(t){return this.header[t.toLowerCase()]},K.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=e.split(/ *; */).shift();var n=function(t){return t.split(/ *; */).reduce((function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t}),{})}(e);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(this[r]=n[r]);this.links={};try{t.link&&(this.links=function(t){return t.split(/ *, */).reduce((function(t,e){var n=e.split(/ *; */),r=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=r,t}),{})}(t.link))}catch(t){}},K.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1===e,this.ok=2===e,this.redirect=3===e,this.clientError=4===e,this.serverError=5===e,this.error=(4===e||5===e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(t){J.prototype[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._defaults.push({fn:t,args:n}),this}})),J.prototype._setDefaults=function(t){this._defaults.forEach((function(e){t[e.fn].apply(t,function(t){return function(t){if(Array.isArray(t))return $(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.args))}))};for(var Y=J,Z=i((function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;function i(){}"undefined"!=typeof window?r=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),r=void 0):r=self,t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1===arguments.length?new e.Request("GET",t):new e.Request(t,n)};var o=e=t.exports;e.Request=h,o.getXHR=function(){if(r.XMLHttpRequest&&(!r.location||"file:"!==r.location.protocol||!r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("Browser-only version of superagent could not find XHR")};var s="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function a(t){if(!z(t))return t;var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&c(e,n,t[n]);return e.join("&")}function c(t,e,n){if(void 0!==n)if(null!==n)if(Array.isArray(n))n.forEach((function(n){c(t,e,n)}));else if(z(n))for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&c(t,"".concat(e,"[").concat(r,"]"),n[r]);else t.push(encodeURI(e)+"="+encodeURIComponent(n));else t.push(encodeURI(e))}function u(t){for(var e,n,r={},i=t.split("&"),o=0,s=i.length;o<s;++o)-1===(n=(e=i[o]).indexOf("="))?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return r}function l(t){return/[/+]json($|[^-\w])/.test(t)}function p(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=function(t){for(var e,n,r,i,o=t.split(/\r?\n/),a={},c=0,u=o.length;c<u;++c)-1!==(e=(n=o[c]).indexOf(":"))&&(r=n.slice(0,e).toLowerCase(),i=s(n.slice(e+1)),a[r]=i);return a}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function h(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",(function(){var t,e=null,r=null;try{r=new p(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",r);try{n._isResponseOK(r)||(t=new Error(r.statusText||r.text||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=r,t.status=r.status,n.callback(t,r)):n.callback(null,r)}))}function d(t,e,n){var r=o("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}o.serializeObject=a,o.parseString=u,o.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},o.serialize={"application/x-www-form-urlencoded":a,"application/json":D},o.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},W(p.prototype),p.prototype._parseBody=function(t){var e=o.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&l(this.type)&&(e=o.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)},p.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot ".concat(e," ").concat(n," (").concat(this.status,")"),i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},o.Response=p,I(h.prototype),V(h.prototype),h.prototype.type=function(t){return this.set("Content-Type",o.types[t]||t),this},h.prototype.accept=function(t){return this.set("Accept",o.types[t]||t),this},h.prototype.auth=function(t,e,r){1===arguments.length&&(e=""),"object"===n(e)&&null!==e&&(r=e,e=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var i=function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,r,i)},h.prototype.query=function(t){return"string"!=typeof t&&(t=a(t)),t&&this._query.push(t),this},h.prototype.attach=function(t,e,n){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},h.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},h.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},h.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},h.prototype.ca=h.prototype.agent,h.prototype.buffer=h.prototype.ca,h.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},h.prototype.pipe=h.prototype.write,h.prototype._isHost=function(t){return t&&"object"===n(t)&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},h.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||i,this._finalizeQueryString(),this._end()},h.prototype._setUploadTimeout=function(){var t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},h.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var t=this;this.xhr=o.getXHR();var e=this.xhr,n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4===n){var r;try{r=e.status}catch(t){r=0}if(!r){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var r=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(t._uploadTimeoutTimer)),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.addEventListener("progress",r.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",r.bind(null,"upload"))}catch(t){}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],s=this._serializer||o.serialize[i?i.split(";")[0]:""];!s&&l(i)&&(s=o.serialize["application/json"]),s&&(n=s(n))}for(var a in this.header)null!==this.header[a]&&Object.prototype.hasOwnProperty.call(this.header,a)&&e.setRequestHeader(a,this.header[a]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0===n?null:n)},o.agent=function(){return new Y},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(t){Y.prototype[t.toLowerCase()]=function(e,n){var r=new o.Request(t,e);return this._setDefaults(r),n&&r.end(n),r}})),Y.prototype.del=Y.prototype.delete,o.get=function(t,e,n){var r=o("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},o.head=function(t,e,n){var r=o("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},o.options=function(t,e,n){var r=o("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},o.del=d,o.delete=d,o.patch=function(t,e,n){var r=o("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},o.post=function(t,e,n){var r=o("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},o.put=function(t,e,n){var r=o("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}})),X=(Z.Request,[]),G=[],Q=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),tt=0,et=Q.length;tt<et;++tt)X[tt]=Q[tt],G[Q.charCodeAt(tt)]=tt;function nt(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function rt(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(X[(i=r)>>18&63]+X[i>>12&63]+X[i>>6&63]+X[63&i]);return o.join("")}G["-".charCodeAt(0)]=62,G["_".charCodeAt(0)]=63;var it=function(t){for(var e,n=t.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(rt(t,o,o+16383>s?s:o+16383));return 1===r?(e=t[n-1],i.push(X[e>>2]+X[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(X[e>>10]+X[e>>4&63]+X[e<<2&63]+"=")),i.join("")},ot=function(t){return it(function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(t)).replace(/\+/g,"-").replace(/\//g,"_")},st={raw:"9.16.2"},at=Object.prototype.toString;function ct(t,e,n,r){if(n="array"===n?"object":n,t&&typeof t[e]!==n)throw new Error(r)}function ut(t,e,n){if(typeof t!==e)throw new Error(n)}function lt(t,e,n){if(-1===e.indexOf(t))throw new Error(n)}var pt={check:function(t,e,n){if(e.optional&&!t||ut(t,e.type,e.message),"object"===e.type&&n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i];n[o].optional&&!t[o]||n[o].condition&&!n[o].condition(t)||(ct(t,o,n[o].type,n[o].message),n[o].values&&lt(t[o],n[o].values,n[o].value_message))}},attribute:ct,variable:ut,value:lt,isArray:function(t){return this.supportsIsArray()?Array.isArray(t):"[object Array]"===at.call(t)},supportsIsArray:function(){return null!=Array.isArray}};function ht(t){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i=Object.keys(Object(r)),o=0,s=i.length;o<s;o++){var a=i[o],c=Object.getOwnPropertyDescriptor(r,a);void 0!==c&&c.enumerable&&(e[a]=r[a])}}return e}var dt=function(){return Object.assign?Object.assign:ht};function ft(t,e){return e.reduce((function(e,n){return t[n]&&(e[n]=t[n]),e}),{})}function mt(t){var e=[];for(var n in t)e.push(t[n]);return e}function vt(){var t=mt(arguments);return t.unshift({}),dt().apply(void 0,t)}function yt(t){var e=t.match(/^(https?:|file:|chrome-extension:)\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return e&&{href:t,protocol:e[1],host:e[2],hostname:e[3],port:e[4],pathname:e[5],search:e[6],hash:e[7]}}function gt(t,e){var n=vt(t);return t[e]&&(n[e]=t[e].trim()),n}var bt={toSnakeCase:function t(e,n){return"object"!=typeof e||pt.isArray(e)||null===e?e:(n=n||[],Object.keys(e).reduce((function(r,i){return r[-1===n.indexOf(i)?function(t){for(var e,n="",r=0,i=!0,o=!0;r<t.length;)e=t.charCodeAt(r),!o&&e>=65&&e<=90||!i&&e>=48&&e<=57?(n+="_",n+=t[r].toLowerCase()):n+=t[r].toLowerCase(),i=e>=48&&e<=57,o=e>=65&&e<=90,r++;return n}(i):i]=t(e[i]),r}),{}))},toCamelCase:function t(e,n,r){return"object"!=typeof e||pt.isArray(e)||null===e?e:(n=n||[],r=r||{},Object.keys(e).reduce((function(i,o){var s,a=-1===n.indexOf(o)?(s=o.split("_")).reduce((function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)}),s.shift()):o;return i[a]=t(e[a]||e[o],[],r),r.keepOriginal&&(i[o]=t(e[o],[],r)),i}),{}))},blacklist:function(t,e){return Object.keys(t).reduce((function(n,r){return-1===e.indexOf(r)&&(n[r]=t[r]),n}),{})},merge:function(t,e){return{base:e?ft(t,e):t,with:function(t,e){return t=e?ft(t,e):t,vt(this.base,t)}}},pick:ft,getKeysNotIn:function(t,e){var n=[];for(var r in t)-1===e.indexOf(r)&&n.push(r);return n},extend:vt,getOriginFromUrl:function(t){if(t){var e=yt(t);if(!e)return null;var n=e.protocol+"//"+e.hostname;return e.port&&(n+=":"+e.port),n}},getLocationFromUrl:yt,trimUserDetails:function(t){return function(t,e){return["username","email","phoneNumber"].reduce(gt,t)}(t)},updatePropertyOn:function t(e,n,r){"string"==typeof n&&(n=n.split("."));var i=n[0];e.hasOwnProperty(i)&&(1===n.length?e[i]=r:t(e[i],n.slice(1),r))}};function wt(t){this.request=t,this.method=t.method,this.url=t.url,this.body=t._data,this.headers=t._header}function _t(t){this.request=t}function xt(t){this._sendTelemetry=!1!==t._sendTelemetry||t._sendTelemetry,this._telemetryInfo=t._telemetryInfo||null,this._timesToRetryFailedRequests=t._timesToRetryFailedRequests,this.headers=t.headers||{},this._universalLoginPage=t.universalLoginPage}function kt(){return window}wt.prototype.abort=function(){this.request.abort()},wt.prototype.getMethod=function(){return this.method},wt.prototype.getBody=function(){return this.body},wt.prototype.getUrl=function(){return this.url},wt.prototype.getHeaders=function(){return this.headers},_t.prototype.set=function(t,e){return this.request=this.request.set(t,e),this},_t.prototype.send=function(t){return this.request=this.request.send(bt.trimUserDetails(t)),this},_t.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},_t.prototype.end=function(t){return this.request.end(t),new wt(this.request)},xt.prototype.setCommonConfiguration=function(t,e){if(e=e||{},this._timesToRetryFailedRequests>0&&(t=t.retry(this._timesToRetryFailedRequests)),e.noHeaders)return t;var n=this.headers;t=t.set("Content-Type","application/json");for(var r=Object.keys(this.headers),i=0;i<r.length;i++)t=t.set(r[i],n[r[i]]);return this._sendTelemetry&&(t=t.set("Auth0-Client",this.getTelemetryData())),t},xt.prototype.getTelemetryData=function(){var t=this._universalLoginPage?"auth0.js-ulp":"auth0.js",e={name:t,version:st.raw};this._telemetryInfo&&((e=bt.extend({},this._telemetryInfo)).env=bt.extend({},this._telemetryInfo.env),e.env[t]=st.raw);var n=JSON.stringify(e);return ot(n)},xt.prototype.get=function(t,e){return new _t(this.setCommonConfiguration(Z.get(t),e))},xt.prototype.post=function(t,e){return new _t(this.setCommonConfiguration(Z.post(t),e))},xt.prototype.patch=function(t,e){return new _t(this.setCommonConfiguration(Z.patch(t),e))};var St={redirect:function(t){kt().location=t},getDocument:function(){return kt().document},getWindow:kt,getOrigin:function(){var t=kt().location,e=t.origin;return e||(e=bt.getOriginFromUrl(t.href)),e}};function Tt(){}Tt.prototype.getItem=function(){return null},Tt.prototype.removeItem=function(){},Tt.prototype.setItem=function(){};var Ot=i((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,!0!==o[c]&&(a+="="+o[c].split(";")[0]));return document.cookie=e+"="+n+a}}function s(t,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=e(a[0]);if(c=(r.read||r)(c,u)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(i[u]=c,t===u)break}catch(t){}}return t?i[t]:i}}return i.set=o,i.get=function(t){return s(t,!1)},i.getJSON=function(t){return s(t,!0)},i.remove=function(e,n){o(e,"",t(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},t.exports=n()}));function Et(){}function Ct(t){this.disableWarnings=t.disableWarnings}function At(t){if(this.warn=new Ct({}),this.storage=new Et,!0===t.__tryLocalStorageFirst)try{var e=St.getWindow().localStorage;e&&(this.storage=e)}catch(t){this.warn.warning(t),this.warn.warning("Can't use localStorage. Using CookieStorage instead.")}}function Nt(t){this.handler=new At(t)}function It(t){this.storage=new Nt(t)}function Dt(t,e){return{error:t,errorDescription:e}}Et.prototype.getItem=function(t){return Ot.get(t)},Et.prototype.removeItem=function(t){Ot.remove(t)},Et.prototype.setItem=function(t,e,n){var r=bt.extend({expires:1},n);"https:"===St.getWindow().location.protocol&&(r.secure=!0),Ot.set(t,e,r)},Ct.prototype.warning=function(t){this.disableWarnings||console.warn(t)},At.prototype.failover=function(){this.storage instanceof Tt?this.warn.warning("DummyStorage: ignore failover"):this.storage instanceof Et?(this.warn.warning("CookieStorage: failing over DummyStorage"),this.storage=new Tt):(this.warn.warning("LocalStorage: failing over CookieStorage"),this.storage=new Et)},At.prototype.getItem=function(t){try{return this.storage.getItem(t)}catch(e){return this.warn.warning(e),this.failover(),this.getItem(t)}},At.prototype.removeItem=function(t){try{return this.storage.removeItem(t)}catch(e){return this.warn.warning(e),this.failover(),this.removeItem(t)}},At.prototype.setItem=function(t,e,n){try{return this.storage.setItem(t,e,n)}catch(r){return this.warn.warning(r),this.failover(),this.setItem(t,e,n)}},Nt.prototype.getItem=function(t){var e=this.handler.getItem(t);try{return JSON.parse(e)}catch(t){return e}},Nt.prototype.removeItem=function(t){return this.handler.removeItem(t)},Nt.prototype.setItem=function(t,e,n){var r=JSON.stringify(e);return this.handler.setItem(t,r,n)},It.prototype.set=function(t,e){var n={lastUsedConnection:t,lastUsedSub:e};this.storage.setItem("auth0.ssodata",JSON.stringify(n))},It.prototype.get=function(){var t=this.storage.getItem("auth0.ssodata");if(t)return JSON.parse(t)};var Mt={buildResponse:Dt,invalidToken:function(t){return Dt("invalid_token",t)}};function Rt(t,e){return(e=e||{}).ignoreCasing=!!e.ignoreCasing&&e.ignoreCasing,function(n,r){var i;return n||r?(!n&&r.err&&(n=r.err,r=null),!n&&r.error&&(n=r,r=null),n?(i={original:n},bt.updatePropertyOn(i,"original.response.req._data.password","*****"),n.response&&n.response.statusCode&&(i.statusCode=n.response.statusCode),n.response&&n.response.statusText&&(i.statusText=n.response.statusText),n.response&&n.response.body&&(n=n.response.body),n.err&&(n=n.err),i.code=n.code||n.error||n.error_code||n.status||null,i.description=n.errorDescription||n.error_description||n.description||n.error||n.details||n.err||null,e.forceLegacyError&&(i.error=i.code,i.error_description=i.description),n.error_codes&&n.error_details&&(i.errorDetails={codes:n.error_codes,details:n.error_details}),n.name&&(i.name=n.name),n.policy&&(i.policy=n.policy),t(i)):!r.type||"text/html"!==r.type&&"text/plain"!==r.type?e.ignoreCasing?t(null,r.body||r):t(null,bt.toCamelCase(r.body||r,[],{keepOriginal:e.keepOriginalCasing})):t(null,r.text)):t(Mt.buildResponse("generic_error","Something went wrong"))}}var Pt=["realm","audience","otp","client_id","client_secret","redirect_uri","scope","code","grant_type","username","password","refresh_token","assertion","client_assertion","client_assertion_type","code_verifier"],jt=["connection","connection_scope","auth0Client","owp","device","realm","organization","invitation","protocol","_csrf","_intstate","login_ticket","client_id","response_type","response_mode","redirect_uri","audience","scope","state","nonce","display","prompt","screen_hint","max_age","ui_locales","claims_locales","id_token_hint","login_hint","acr_values","claims","registration","request","request_uri","code_challenge","code_challenge_method","access_type","display"],Lt=function(t,e){return bt.pick(e,Pt)},Ft=function(t,e){var n=bt.getKeysNotIn(e,jt);return n.length>0&&t.warning("Following parameters are not allowed on the `/authorize` endpoint: ["+n.join(",")+"]"),e},Bt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function zt(t){var e={exports:{}};return t(e,e.exports),e.exports}var Ut=zt((function(t,e){t.exports=function(){function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,r=void 0,i=void 0,o=function(t,e){h[n]=t,h[n+1]=e,2===(n+=2)&&(i?i(d):g())},s="undefined"!=typeof window?window:void 0,a=s||{},c=a.MutationObserver||a.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(d,1)}}var h=new Array(1e3);function d(){for(var t=0;t<n;t+=2)(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0;n=0}var f,m,v,y,g=void 0;function b(t,e){var n=this,r=new this.constructor(x);void 0===r[_]&&M(r);var i=n._state;if(i){var s=arguments[i-1];o((function(){return I(i,r,s,n._result)}))}else A(n,r,t,e);return r}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(x);return T(e,t),e}g=u?function(){return process.nextTick(d)}:c?(m=0,v=new c(d),y=document.createTextNode(""),v.observe(y,{characterData:!0}),function(){y.data=m=++m%2}):l?((f=new MessageChannel).port1.onmessage=d,function(){return f.port2.postMessage(0)}):void 0===s?function(){try{var t=Function("return this")().require("vertx");return void 0!==(r=t.runOnLoop||t.runOnContext)?function(){r(d)}:p()}catch(t){return p()}}():p();var _=Math.random().toString(36).substring(2);function x(){}var k=void 0;function S(e,n,r){n.constructor===e.constructor&&r===b&&n.constructor.resolve===w?function(t,e){1===e._state?E(t,e._result):2===e._state?C(t,e._result):A(e,void 0,(function(e){return T(t,e)}),(function(e){return C(t,e)}))}(e,n):void 0===r?E(e,n):t(r)?function(t,e,n){o((function(t){var r=!1,i=function(n,i,o,s){try{n.call(i,(function(n){r||(r=!0,e!==n?T(t,n):E(t,n))}),(function(e){r||(r=!0,C(t,e))}))}catch(t){return t}}(n,e);!r&&i&&(r=!0,C(t,i))}),t)}(e,n,r):E(e,n)}function T(t,e){if(t===e)C(t,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=e),null===r||"object"!==i&&"function"!==i)E(t,e);else{var n=void 0;try{n=e.then}catch(e){return void C(t,e)}S(t,e,n)}var r,i}function O(t){t._onerror&&t._onerror(t._result),N(t)}function E(t,e){t._state===k&&(t._result=e,t._state=1,0!==t._subscribers.length&&o(N,t))}function C(t,e){t._state===k&&(t._state=2,t._result=e,o(O,t))}function A(t,e,n,r){var i=t._subscribers,s=i.length;t._onerror=null,i[s]=e,i[s+1]=n,i[s+2]=r,0===s&&t._state&&o(N,t)}function N(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s+n],(r=e[s])?I(n,r,i,o):i(o);t._subscribers.length=0}}function I(e,n,r,i){var o=t(r),s=void 0,a=void 0,c=!0;if(o){try{s=r(i)}catch(e){c=!1,a=e}if(n===s)return void C(n,new TypeError("A promises callback cannot return that same promise."))}else s=i;n._state!==k||(o&&c?T(n,s):!1===c?C(n,a):1===e?E(n,s):2===e&&C(n,s))}var D=0;function M(t){t[_]=D++,t._state=void 0,t._result=void 0,t._subscribers=[]}var R=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(x),this.promise[_]||M(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&E(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===k&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===w){var i=void 0,o=void 0,s=!1;try{i=t.then}catch(t){s=!0,o=t}if(i===b&&t._state!==k)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===P){var a=new n(x);s?C(a,o):S(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===k&&(this._remaining--,2===t?C(r,n):this._result[e]=n),0===this._remaining&&E(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),P=function(){function e(t){this[_]=D++,this._result=this._state=void 0,this._subscribers=[],x!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){T(t,e)}),(function(e){C(t,e)}))}catch(e){C(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this,r=n.constructor;return t(e)?n.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();return P.prototype.then=b,P.all=function(t){return new R(this,t).promise},P.race=function(t){var n=this;return e(t)?new n((function(e,r){for(var i=t.length,o=0;o<i;o++)n.resolve(t[o]).then(e,r)})):new n((function(t,e){return e(new TypeError("You must pass an array to race."))}))},P.resolve=w,P.reject=function(t){var e=new this(x);return C(e,t),e},P._setScheduler=function(t){i=t},P._setAsap=function(t){o=t},P._asap=o,P.polyfill=function(){var t=void 0;if(void 0!==Bt)t=Bt;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=P},P.Promise=P,P}()})),Vt=zt((function(t,e){var n;t.exports=n=n||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++)e[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){e=e;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var a=i(4294967296*(n||t.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,e)}}),a=r.enc={},c=a.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(n,e/2)}},u=a.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(n,e)}},l=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},p=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),c=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,u=t.min(4*c,i);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(r,l);var p=r.splice(0,c);n.sigBytes-=u}return new s.init(p,u)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=p.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}});var h=r.algo={};return r}(Math)})),qt=zt((function(t,e){var n;t.exports=(n=Vt,function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,a=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),c[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],p=n[6],h=n[7],d=0;d<64;d++){if(d<16)u[d]=0|t[e+d];else{var f=u[d-15],m=u[d-2];u[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+u[d-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+u[d-16]}var v=r&i^r&o^i&o,y=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&p)+c[d]+u[d];h=p,p=l,l=a,a=s+y|0,s=o,o=i,i=r,r=y+(((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+v)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+p|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(l),e.HmacSHA256=o._createHmacHelper(l)}(Math),n.SHA256)})),Ht=zt((function(t,e){var n,r;t.exports=(r=(n=Vt).lib.WordArray,n.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return function(t,e,n){for(var i=[],o=0,s=0;s<e;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2,c=n[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|c)<<24-o%4*8,o++}return r.create(i,o)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)})),Wt=zt((function(t,e){t.exports=Vt.enc.Hex})),Kt=zt((function(t,e){(function(){var e;function n(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):this.fromString(t,null==e&&"string"!=typeof t?256:e))}function r(){return new n(null)}var i="undefined"!=typeof navigator;i&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(t,e,n,r,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var c=32767&this[t],u=this[t++]>>15,l=a*c+u*s;i=((c=s*c+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*u+(i>>>30),n[r++]=1073741823&c}return i},e=30):i&&"Netscape"!=navigator.appName?(n.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},e=26):(n.prototype.am=function(t,e,n,r,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var c=16383&this[t],u=this[t++]>>14,l=a*c+u*s;i=((c=s*c+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*u,n[r++]=268435455&c}return i},e=28),n.prototype.DB=e,n.prototype.DM=(1<<e)-1,n.prototype.DV=1<<e,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-e,n.prototype.F2=2*e-52;var o,s,a=new Array;for(o="0".charCodeAt(0),s=0;s<=9;++s)a[o++]=s;for(o="a".charCodeAt(0),s=10;s<36;++s)a[o++]=s;for(o="A".charCodeAt(0),s=10;s<36;++s)a[o++]=s;function c(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function u(t,e){var n=a[t.charCodeAt(e)];return null==n?-1:n}function l(t){var e=r();return e.fromInt(t),e}function p(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function h(t){this.m=t}function d(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function f(t,e){return t&e}function m(t,e){return t|e}function v(t,e){return t^e}function y(t,e){return t&~e}function g(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function b(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function w(){}function _(t){return t}function x(t){this.r2=r(),this.q3=r(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}h.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},h.prototype.revert=function(t){return t},h.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},h.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},h.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},d.prototype.convert=function(t){var e=r();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e},d.prototype.revert=function(t){var e=r();return t.copyTo(e),this.reduce(e),e},d.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},d.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},d.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},n.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},n.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},n.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var i=t.length,o=!1,s=0;--i>=0;){var a=8==r?255&t[i]:u(t,i);a<0?"-"==t.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},n.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},n.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},n.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},n.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},n.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},n.prototype.multiplyTo=function(t,e){var r=this.abs(),i=t.abs(),o=r.t;for(e.t=o+i.t;--o>=0;)e[o]=0;for(o=0;o<i.t;++o)e[o+r.t]=r.am(0,i[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)},n.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},n.prototype.divRemTo=function(t,e,i){var o=t.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=r());var a=r(),c=this.s,u=t.s,l=this.DB-p(o[o.t-1]);l>0?(o.lShiftTo(l,a),s.lShiftTo(l,i)):(o.copyTo(a),s.copyTo(i));var h=a.t,d=a[h-1];if(0!=d){var f=d*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),m=this.FV/f,v=(1<<this.F1)/f,y=1<<this.F2,g=i.t,b=g-h,w=null==e?r():e;for(a.dlShiftTo(b,w),i.compareTo(w)>=0&&(i[i.t++]=1,i.subTo(w,i)),n.ONE.dlShiftTo(h,w),w.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--b>=0;){var _=i[--g]==d?this.DM:Math.floor(i[g]*m+(i[g-1]+y)*v);if((i[g]+=a.am(0,_,i,b,0,h))<_)for(a.dlShiftTo(b,w),i.subTo(w,i);i[g]<--_;)i.subTo(w,i)}null!=e&&(i.drShiftTo(h,e),c!=u&&n.ZERO.subTo(e,e)),i.t=h,i.clamp(),l>0&&i.rShiftTo(l,i),c<0&&n.ZERO.subTo(i,i)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(t,e){if(t>4294967295||t<1)return n.ONE;var i=r(),o=r(),s=e.convert(this),a=p(t)-1;for(s.copyTo(i);--a>=0;)if(e.sqrTo(i,o),(t&1<<a)>0)e.mulTo(o,s,i);else{var c=i;i=o,o=c}return e.revert(i)},n.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=c(n));s>=0;)a<e?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.DB-e)):(n=this[s]>>(a-=e)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=c(n));return i?o:"0"},n.prototype.negate=function(){var t=r();return n.ZERO.subTo(this,t),t},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(t){var e=r();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e},n.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new h(e):new d(e),this.exp(t,n)},n.ZERO=l(0),n.ONE=l(1),w.prototype.convert=_,w.prototype.revert=_,w.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},w.prototype.sqrTo=function(t,e){t.squareTo(e)},x.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=r();return t.copyTo(e),this.reduce(e),e},x.prototype.revert=function(t){return t},x.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},x.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},x.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var k,S,T,O=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],E=(1<<26)/O[O.length-1];function C(){var t;t=(new Date).getTime(),S[T++]^=255&t,S[T++]^=t>>8&255,S[T++]^=t>>16&255,S[T++]^=t>>24&255,T>=P&&(T-=P)}if(n.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},n.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=l(n),o=r(),s=r(),a="";for(this.divRemTo(i,o,s);o.signum()>0;)a=(n+s.intValue()).toString(t).substr(1)+a,o.divRemTo(i,o,s);return s.intValue().toString(t)+a},n.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),o=!1,s=0,a=0,c=0;c<t.length;++c){var l=u(t,c);l<0?"-"==t.charAt(c)&&0==this.signum()&&(o=!0):(a=e*a+l,++s>=r&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),o&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=1+(t>>3),e.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},n.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},n.prototype.changeBit=function(t,e){var r=n.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},n.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},n.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},n.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},n.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},n.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},n.prototype.millerRabin=function(t){var e=this.subtract(n.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var o=e.shiftRight(i);(t=t+1>>1)>O.length&&(t=O.length);for(var s=r(),a=0;a<t;++a){s.fromInt(O[Math.floor(Math.random()*O.length)]);var c=s.modPow(o,this);if(0!=c.compareTo(n.ONE)&&0!=c.compareTo(e)){for(var u=1;u++<i&&0!=c.compareTo(e);)if(0==(c=c.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=c.compareTo(e))return!1}}return!0},n.prototype.clone=function(){var t=r();return this.copyTo(t),t},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},n.prototype.equals=function(t){return 0==this.compareTo(t)},n.prototype.min=function(t){return this.compareTo(t)<0?this:t},n.prototype.max=function(t){return this.compareTo(t)>0?this:t},n.prototype.and=function(t){var e=r();return this.bitwiseTo(t,f,e),e},n.prototype.or=function(t){var e=r();return this.bitwiseTo(t,m,e),e},n.prototype.xor=function(t){var e=r();return this.bitwiseTo(t,v,e),e},n.prototype.andNot=function(t){var e=r();return this.bitwiseTo(t,y,e),e},n.prototype.not=function(){for(var t=r(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},n.prototype.shiftLeft=function(t){var e=r();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},n.prototype.shiftRight=function(t){var e=r();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},n.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+g(this[t]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=b(this[n]^e);return t},n.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},n.prototype.setBit=function(t){return this.changeBit(t,m)},n.prototype.clearBit=function(t){return this.changeBit(t,y)},n.prototype.flipBit=function(t){return this.changeBit(t,v)},n.prototype.add=function(t){var e=r();return this.addTo(t,e),e},n.prototype.subtract=function(t){var e=r();return this.subTo(t,e),e},n.prototype.multiply=function(t){var e=r();return this.multiplyTo(t,e),e},n.prototype.divide=function(t){var e=r();return this.divRemTo(t,e,null),e},n.prototype.remainder=function(t){var e=r();return this.divRemTo(t,null,e),e},n.prototype.divideAndRemainder=function(t){var e=r(),n=r();return this.divRemTo(t,e,n),new Array(e,n)},n.prototype.modPow=function(t,e){var n,i,o=t.bitLength(),s=l(1);if(o<=0)return s;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new h(e):e.isEven()?new x(e):new d(e);var a=new Array,c=3,u=n-1,f=(1<<n)-1;if(a[1]=i.convert(this),n>1){var m=r();for(i.sqrTo(a[1],m);c<=f;)a[c]=r(),i.mulTo(m,a[c-2],a[c]),c+=2}var v,y,g=t.t-1,b=!0,w=r();for(o=p(t[g])-1;g>=0;){for(o>=u?v=t[g]>>o-u&f:(v=(t[g]&(1<<o+1)-1)<<u-o,g>0&&(v|=t[g-1]>>this.DB+o-u)),c=n;0==(1&v);)v>>=1,--c;if((o-=c)<0&&(o+=this.DB,--g),b)a[v].copyTo(s),b=!1;else{for(;c>1;)i.sqrTo(s,w),i.sqrTo(w,s),c-=2;c>0?i.sqrTo(s,w):(y=s,s=w,w=y),i.mulTo(w,a[v],s)}for(;g>=0&&0==(t[g]&1<<o);)i.sqrTo(s,w),y=s,s=w,w=y,--o<0&&(o=this.DB-1,--g)}return i.revert(s)},n.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var r=t.clone(),i=this.clone(),o=l(1),s=l(0),a=l(0),c=l(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(t,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);r.compareTo(i)>=0?(r.subTo(i,r),e&&o.subTo(a,o),s.subTo(c,s)):(i.subTo(r,i),e&&a.subTo(o,a),c.subTo(s,c))}return 0!=i.compareTo(n.ONE)?n.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c},n.prototype.pow=function(t){return this.exp(t,new w)},n.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},n.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=O[O.length-1]){for(e=0;e<O.length;++e)if(n[0]==O[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<O.length;){for(var r=O[e],i=e+1;i<O.length&&r<E;)r*=O[i++];for(r=n.modInt(r);e<i;)if(r%O[e++]==0)return!1}return n.millerRabin(t)},n.prototype.square=function(){var t=r();return this.squareTo(t),t},n.prototype.Barrett=x,null==S){var A;if(S=new Array,T=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var N=new Uint8Array(32);for(window.crypto.getRandomValues(N),A=0;A<32;++A)S[T++]=N[A]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var I=window.crypto.random(32);for(A=0;A<I.length;++A)S[T++]=255&I.charCodeAt(A)}for(;T<P;)A=Math.floor(65536*Math.random()),S[T++]=A>>>8,S[T++]=255&A;T=0,C()}function D(){if(null==k){for(C(),(k=new R).init(S),T=0;T<S.length;++T)S[T]=0;T=0}return k.next()}function M(){}function R(){this.i=0,this.j=0,this.S=new Array}M.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=D()},R.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)r=this.S[e],this.S[e]=this.S[n=n+this.S[e]+t[e%t.length]&255],this.S[n]=r;this.i=0,this.j=0},R.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var P=256;t.exports={default:n,BigInteger:n,SecureRandom:M}}).call(Bt)})),$t={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},Jt={sha256:qt};function Yt(t,e){if(this.n=null,this.e=0,!(null!=t&&null!=e&&t.length>0&&e.length>0))throw new Error("Invalid key data");this.n=new Kt.BigInteger(t,16),this.e=parseInt(e,16)}Yt.prototype.verify=function(t,e){e=e.replace(/[^0-9a-f]|[\s\n]]/gi,"");var n=new Kt.BigInteger(e,16);if(n.bitLength()>this.n.bitLength())throw new Error("Signature does not match with the key modulus.");var r=function(t){for(var e in $t){var n=$t[e],r=n.length;if(t.substring(0,r)===n)return{alg:e,hash:t.substring(r)}}return[]}(n.modPowInt(this.e,this.n).toString(16).replace(/^1f+00/,""));if(0===r.length)return!1;if(!Jt.hasOwnProperty(r.alg))throw new Error("Hashing algorithm is not supported.");var i=Jt[r.alg](t).toString();return r.hash===i};for(var Zt=[],Xt=[],Gt="undefined"!=typeof Uint8Array?Uint8Array:Array,Qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te=0,ee=Qt.length;te<ee;++te)Zt[te]=Qt[te],Xt[Qt.charCodeAt(te)]=te;Xt["-".charCodeAt(0)]=62,Xt["_".charCodeAt(0)]=63;var ne=function(t){var e,n,r=function(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}(t),i=r[0],o=r[1],s=new Gt(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),a=0,c=o>0?i-4:i;for(n=0;n<c;n+=4)e=Xt[t.charCodeAt(n)]<<18|Xt[t.charCodeAt(n+1)]<<12|Xt[t.charCodeAt(n+2)]<<6|Xt[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===o&&(e=Xt[t.charCodeAt(n)]<<2|Xt[t.charCodeAt(n+1)]>>4,s[a++]=255&e),1===o&&(e=Xt[t.charCodeAt(n)]<<10|Xt[t.charCodeAt(n+1)]<<4|Xt[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s};function re(t){var e=t.length%4;return 0===e?t:t+new Array(4-e+1).join("=")}function ie(t){return t=re(t).replace(/\-/g,"+").replace(/_/g,"/"),decodeURIComponent(function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}(ne(t)).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function oe(t){return function(t){for(var e="",n=0;n<t.length;n++){var r=t[n].toString(16);e+=2===r.length?r:"0"+r}return e}(ne(re(t)))}var se=zt((function(t){var e,n;e=Bt,n=function(){function t(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var n=t.shift();t[0]=n+t[0]}t[0]=t[0].match(/^file:\/\/\//)?t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<t.length;r++){var i=t[r];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(r>0&&(i=i.replace(/^[\/]+/,"")),i=i.replace(/[\/]+$/,r<t.length-1?"":"/"),e.push(i))}var o=e.join("/"),s=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return s.shift()+(s.length>0?"?":"")+s.join("&")}return function(){return t("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},t.exports?t.exports=n():e.urljoin=n()}));function ae(t,e){return e=e||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},c=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return s},get:function(t){return a[t.toLowerCase()]},has:function(t){return t.toLowerCase()in a}}}};for(var u in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),s.push([e,n]),a[e]=a[e]?a[e]+","+n:n})),n(c())},i.onerror=r,i.withCredentials="include"==e.credentials,e.headers)i.setRequestHeader(u,e.headers[u]);i.send(e.body||null)}))}function ce(t){if(t.ok)return t.json();var e=new Error(t.statusText);return e.response=t,Promise.reject(e)}function ue(t){this.name="ConfigurationError",this.message=t||""}function le(t){this.name="TokenValidationError",this.message=t||""}ue.prototype=Error.prototype,le.prototype=Error.prototype;var pe=function(){function t(){}var e=t.prototype;return e.get=function(){return null},e.has=function(){return null},e.set=function(){return null},t}();Ut.polyfill();var he=function(t){return"number"==typeof t},de=function(){return new Date};function fe(t){var e=t||{};if(this.jwksCache=e.jwksCache||new pe,this.expectedAlg=e.expectedAlg||"RS256",this.issuer=e.issuer,this.audience=e.audience,this.leeway=0===e.leeway?0:e.leeway||60,this.jwksURI=e.jwksURI,this.maxAge=e.maxAge,this.__clock="function"==typeof e.__clock?e.__clock:de,this.leeway<0||this.leeway>300)throw new ue("The leeway should be positive and lower than five minutes.");if("RS256"!==this.expectedAlg)throw new ue('Signature algorithm of "'+this.expectedAlg+'" is not supported. Expected the ID token to be signed with "RS256".')}function me(t,e){this.plugins=e;for(var n=0;n<this.plugins.length;n++){if(this.plugins[n].version!==st.raw){var r="";throw this.plugins[n].constructor&&this.plugins[n].constructor.name&&(r=this.plugins[n].constructor.name),new Error("Plugin "+r+" version ("+this.plugins[n].version+") is not compatible with the SDK version ("+st.raw+")")}this.plugins[n].setWebAuth(t)}}fe.prototype.verify=function(t,e,n){if(!n&&e&&"function"==typeof e&&(n=e,e=void 0),!t)return n(new le("ID token is required but missing"),null);var r=this.decode(t);if(r instanceof Error)return n(new le("ID token could not be decoded"),null);var i=r.encoded.header+"."+r.encoded.payload,o=oe(r.encoded.signature),s=r.header.alg,a=r.header.kid,c=r.payload.aud,u=r.payload.sub,l=r.payload.iss,p=r.payload.exp,h=r.payload.nbf,d=r.payload.iat,f=r.payload.azp,m=r.payload.auth_time,v=r.payload.nonce,y=this.__clock(),g=this;if(g.expectedAlg!==s)return n(new le('Signature algorithm of "'+s+'" is not supported. Expected the ID token to be signed with "RS256".'),null);this.getRsaVerifier(l,a,(function(t,s){if(t)return n(t,null);if(!s.verify(i,o))return n(new le("Invalid ID token signature."),null);if(!l||"string"!=typeof l)return n(new le("Issuer (iss) claim must be a string present in the ID token"),null);if(g.issuer!==l)return n(new le('Issuer (iss) claim mismatch in the ID token, expected "'+g.issuer+'", found "'+l+'"'),null);if(!u||"string"!=typeof u)return n(new le("Subject (sub) claim must be a string present in the ID token"),null);if(!c||"string"!=typeof c&&!Array.isArray(c))return n(new le("Audience (aud) claim must be a string or array of strings present in the ID token"),null);if(Array.isArray(c)&&!c.includes(g.audience))return n(new le('Audience (aud) claim mismatch in the ID token; expected "'+g.audience+'" but was not one of "'+c.join(", ")+'"'),null);if("string"==typeof c&&g.audience!==c)return n(new le('Audience (aud) claim mismatch in the ID token; expected "'+g.audience+'" but found "'+c+'"'),null);if(e){if(!v||"string"!=typeof v)return n(new le("Nonce (nonce) claim must be a string present in the ID token"),null);if(v!==e)return n(new le('Nonce (nonce) claim value mismatch in the ID token; expected "'+e+'", found "'+v+'"'),null)}if(Array.isArray(c)&&c.length>1){if(!f||"string"!=typeof f)return n(new le("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values"),null);if(f!==g.audience)return n(new le('Authorized Party (azp) claim mismatch in the ID token; expected "'+g.audience+'", found "'+f+'"'),null)}if(!p||!he(p))return n(new le("Expiration Time (exp) claim must be a number present in the ID token"),null);if(!d||!he(d))return n(new le("Issued At (iat) claim must be a number present in the ID token"),null);var a=p+g.leeway,b=new Date(0);if(b.setUTCSeconds(a),y>b)return n(new le('Expiration Time (exp) claim error in the ID token; current time "'+y+'" is after expiration time "'+b+'"'),null);if(h&&he(h)){var w=h-g.leeway,_=new Date(0);if(_.setUTCSeconds(w),y<_)return n(new le('Not Before Time (nbf) claim error in the ID token; current time "'+y+'" is before the not before time "'+_+'"'),null)}if(g.maxAge){if(!m||!he(m))return n(new le("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified"),null);var x=m+g.maxAge+g.leeway,k=new Date(0);if(k.setUTCSeconds(x),y>k)return n(new le('Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time "'+y+'" is after last auth time at "'+k+'"'),null)}return n(null,r.payload)}))},fe.prototype.getRsaVerifier=function(t,e,n){var r=this,i=t+e;Promise.resolve(this.jwksCache.has(i)).then((function(n){return n?r.jwksCache.get(i):(o={jwksURI:r.jwksURI,iss:t,kid:e},("undefined"==typeof fetch?ae:fetch)(o.jwksURI||se(o.iss,".well-known","jwks.json")).then(ce).then((function(t){var e,n,r,i=null;for(e=0;e<t.keys.length&&null===i;e++)(n=t.keys[e]).kid===o.kid&&(i=n);if(!i)throw new Error('Could not find a public key for Key ID (kid) "'+o.kid+'"');return{modulus:oe((r=i).n),exp:oe(r.e)}})).catch((function(t){throw t})));var o})).then((function(t){if(!t||!t.modulus||!t.exp)throw new Error("Empty keyInfo in response");return Promise.resolve(r.jwksCache.set(i,t)).then((function(){n&&n(null,new Yt(t.modulus,t.exp))}))})).catch((function(t){n&&n(t)}))},fe.prototype.decode=function(t){var e,n,r=t.split(".");if(3!==r.length)return new le("Cannot decode a malformed JWT");try{e=JSON.parse(ie(r[0])),n=JSON.parse(ie(r[1]))}catch(t){return new le("Token header or payload is not valid JSON")}return{header:e,payload:n,encoded:{header:r[0],payload:r[1],signature:r[2]}}},fe.prototype.validateAccessToken=function(t,e,n,r){if(this.expectedAlg!==e)return r(new le('Signature algorithm of "'+e+'" is not supported. Expected "'+this.expectedAlg+'"'));var i,o=qt(t),s=Wt.stringify(o),a=s.substring(0,s.length/2),c=Wt.parse(a),u=Ht.stringify(c);return r((i={"+":"-","/":"_","=":""},u.replace(/[+/=]/g,(function(t){return i[t]}))!==n?new le("Invalid access_token"):null))},me.prototype.get=function(t){for(var e=0;e<this.plugins.length;e++)if(this.plugins[e].supports(t))return this.plugins[e].init();return null};var ve=function(t){var e=new Uint8Array(t),n=[],r="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~",i=St.getWindow().crypto||St.getWindow().msCrypto;if(!i)return null;for(var o=i.getRandomValues(e),s=0;s<o.length;s++)n.push(r[o[s]%r.length]);return n.join("")};function ye(t){var e=t.transaction||{};this.namespace=e.namespace||"com.auth0.auth.",this.keyLength=e.keyLength||32,this.storage=new Nt(t),this.options=t}function ge(t){if(this.url=t.url,this.callback=t.callback,this.timeout=t.timeout||6e4,this.timeoutCallback=t.timeoutCallback||null,this.eventListenerType=t.eventListenerType||"message",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=t.eventValidator||{isValid:function(){return!0}},"function"!=typeof this.callback)throw new Error("options.callback must be a function")}function be(t){this.webAuth=t,this.warn=new Ct(t.baseOptions)}function we(t,e){this.webAuth=t,this.baseOptions=e,this.request=new xt(e),this.webMessageHandler=new be(t),this.storage=new Nt(e)}function _e(t,e){return["co/verifier",encodeURIComponent(t),encodeURIComponent(e)].join("/")}function xe(t,e){this.webAuth=t,this.baseOptions=e,this.crossOriginAuthentication=new we(t,this.baseOptions),this.warn=new Ct({disableWarnings:!!e._disableDeprecationWarnings})}ye.prototype.process=function(t){if(!t.responseType)throw new Error("responseType is required");var e=t.realm||t.connection,n=-1!==t.responseType.indexOf("id_token"),r=this.generateTransaction(t.appState,t.state,t.nonce,e,n,t.organization);return t.state||(t.state=r.state),n&&!t.nonce&&(t.nonce=r.nonce),t},ye.prototype.generateTransaction=function(t,e,n,r,i,o){if(e=e||ve(this.keyLength),n=n||(i?ve(this.keyLength):null),St.getWindow().location.host!==this.options.domain){var s={nonce:n,appState:t,state:e,lastUsedConnection:r};o&&(s.organization=o),this.storage.setItem(this.namespace+e,s,{expires:1/48})}return{state:e,nonce:n}},ye.prototype.getStoredTransaction=function(t){var e;return e=this.storage.getItem(this.namespace+t),this.clearTransaction(t),e},ye.prototype.clearTransaction=function(t){this.storage.removeItem(this.namespace+t)},ge.prototype.init=function(){var t=this,e=St.getWindow();switch(this.iframe=e.document.createElement("iframe"),this.iframe.style.display="none",this.proxyEventListener=function(e){t.eventListener(e)},this.eventListenerType){case"message":this.eventSourceObject=e;break;case"load":this.eventSourceObject=this.iframe;break;default:throw new Error("Unsupported event listener type: "+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),e.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout((function(){t.timeoutHandler()}),this.timeout)},ge.prototype.eventListener=function(t){var e={event:t,sourceObject:this.eventSourceObject};this.eventValidator.isValid(e)&&(this.destroy(),this.callback(e))},ge.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},ge.prototype.destroy=function(){var t=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout((function(){t.eventSourceObject.removeEventListener(t.eventListenerType,t.proxyEventListener,!1),t.iframe.parentNode&&t.iframe.parentNode.removeChild(t.iframe)}),0)},be.prototype.run=function(t,e){var n=this;t.responseMode="web_message",t.prompt="none";var r=St.getOrigin(),i=bt.getOriginFromUrl(t.redirectUri);if(i&&r!==i)return e({error:"origin_mismatch",error_description:"The redirectUri's origin ("+i+") should match the window's origin ("+r+")."});!function(t,e,n){new ge({url:t,eventListenerType:"message",callback:function(t){n(null,t)},timeout:e.timeout,eventValidator:{isValid:function(t){return"authorization_response"===t.event.data.type&&e.state===t.event.data.response.state}},timeoutCallback:function(){n({error:"timeout",error_description:"Timeout during executing web_message communication",state:e.state})}}).init()}(this.webAuth.client.buildAuthorizeUrl(t),t,(function(r,i){var o=r;if(!r&&i.event.data.response.error&&(o=i.event.data.response),!o){var s=i.event.data.response;return n.webAuth.validateAuthenticationResponse(t,s,e)}return"consent_required"===o.error&&"localhost"===St.getWindow().location.hostname&&n.warn.warning("Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients"),n.webAuth.transactionManager.clearTransaction(o.state),e(bt.pick(o,["error","error_description"]))}))},we.prototype.login=function(t,e){var n=this,r=o(this.baseOptions.rootUrl,"/co/authenticate");t.username=t.username||t.email,delete t.email;var i={client_id:t.clientID||this.baseOptions.clientID,username:t.username};t.password&&(i.password=t.password),t.otp&&(i.otp=t.otp);var s=t.realm||this.baseOptions.realm;if(s){var a=t.credentialType||this.baseOptions.credentialType||"http://auth0.com/oauth/grant-type/password-realm";i.realm=s,i.credential_type=a}else i.credential_type="password";this.request.post(r).withCredentials().send(i).end((function(r,i){if(r){var o=r.response&&r.response.body||{error:"request_error",error_description:JSON.stringify(r)};return Rt(e,{forceLegacyError:!0})(o)}function s(){var r=!0===t.popup;t=bt.blacklist(t,["password","credentialType","otp","popup","onRedirecting"]);var o=bt.merge(t).with({loginTicket:i.body.login_ticket}),s=_e(n.baseOptions.rootUrl,i.body.co_id);n.storage.setItem(s,i.body.co_verifier,{expires:1/96}),r?n.webMessageHandler.run(o,Rt(e,{forceLegacyError:!0})):n.webAuth.authorize(o)}"function"==typeof t.onRedirecting?t.onRedirecting(s):s()}))},we.prototype.callback=function(){var t=decodeURIComponent(function(t){var e=("&"+St.getWindow().location.hash.substring(1)).split("&origin=");if(2===e.length)return e.pop().split("&").shift()}()),e=St.getWindow(),n=this;e.addEventListener("message",(function(t){if("co_verifier_request"===t.data.type){var e=_e(t.origin,t.data.request.id),r=function(t,e){try{var n=t.getItem(e);return t.removeItem(e),n||""}catch(t){return""}}(n.storage,e);t.source.postMessage({type:"co_verifier_response",response:{verifier:r}},t.origin)}})),e.parent.postMessage({type:"ready"},t)},xe.prototype.loginWithCredentials=function(t,e){t.realm=t.realm||t.connection,delete t.connection,this.crossOriginAuthentication.login(t,e)},xe.prototype.signupAndLogin=function(t,e){var n=this;return this.webAuth.client.dbConnection.signup(t,(function(r){return r?e(r):(t.realm=t.realm||t.connection,delete t.connection,n.webAuth.login(t,e))}))};var ke=i((function(t){var e=function(){function t(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function e(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function n(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}var r=function(){if("undefined"==typeof navigator)return!1;var t=-1,e=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)):e.indexOf("Trident")>-1&&null!==new RegExp("rv:([0-9]{2,2}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)),t>=8}();return"undefined"!=typeof window&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage?{open:function(i,o){if(!o)throw"missing required callback argument";var s,a;i.url||(s="missing required 'url' parameter"),i.relay_url||(s="missing required 'relay_url' parameter"),s&&setTimeout((function(){o(s)}),0),i.window_name||(i.window_name=null),i.window_features&&!function(){try{var t=navigator.userAgent;return-1!=t.indexOf("Fennec/")||-1!=t.indexOf("Firefox/")&&-1!=t.indexOf("Android")}catch(t){}return!1}()||(i.window_features=void 0);var c,u=i.origin||n(i.url);if(u!==n(i.relay_url))return setTimeout((function(){o("invalid arguments: origin of url and relay_url must match")}),0);r&&((a=document.createElement("iframe")).setAttribute("src",i.relay_url),a.style.display="none",a.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(a),c=a.contentWindow);var l=i.popup||window.open(i.url,i.window_name,i.window_features);i.popup&&(l.location.href=i.url),c||(c=l);var p=setInterval((function(){l&&l.closed&&(d(),o&&(o("User closed the popup window"),o=null))}),500),h=JSON.stringify({a:"request",d:i.params});function d(){if(a&&document.body.removeChild(a),a=void 0,p&&(p=clearInterval(p)),e(window,"message",f),e(window,"unload",d),l)try{l.close()}catch(t){c.postMessage("die",u)}l=c=void 0}function f(t){if(t.origin===u){try{var e=JSON.parse(t.data)}catch(t){if(o)return o(t);throw t}"ready"===e.a?c.postMessage(h,u):"error"===e.a?(d(),o&&(o(e.d),o=null)):"response"===e.a&&(d(),o&&(o(null,e.d),o=null))}}return t(window,"unload",d),t(window,"message",f),{originalPopup:l,close:d,focus:function(){if(l)try{l.focus()}catch(t){}}}},onOpen:function(n){var i="*",o=r?function(){for(var t=window.opener.frames,e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(t){}}():window.opener;if(!o)throw"can't find relay frame";function s(t){t=JSON.stringify(t),r?o.doPost(t,i):o.postMessage(t,i)}function a(t){if("die"===t.data)try{window.close()}catch(t){}}t(r?o:window,"message",(function t(r){var o;try{o=JSON.parse(r.data)}catch(t){}o&&"request"===o.a&&(e(window,"message",t),i=r.origin,n&&setTimeout((function(){n(i,o.d,(function(t){n=void 0,s({a:"response",d:t})}))}),0))})),t(r?o:window,"message",a);try{s({a:"ready"})}catch(e){t(o,"load",(function(t){s({a:"ready"})}))}var c=function(){try{e(r?o:window,"message",a)}catch(t){}n&&s({a:"error",d:"client closed window"}),n=void 0;try{window.close()}catch(t){}};return t(window,"unload",c),{detach:function(){e(window,"unload",c)}}}}:{open:function(t,e,n,r){setTimeout((function(){r("unsupported browser")}),0)},onOpen:function(t){setTimeout((function(){t("unsupported browser")}),0)}}}();t.exports&&(t.exports=e)})),Se=function(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[-_a-zA-Z.0-9:]+)/.exec(t);return e?e[1]:t};function Te(){this._current_popup=null}function Oe(t,e){this.baseOptions=e,this.baseOptions.popupOrigin=e.popupOrigin,this.client=t.client,this.webAuth=t,this.transactionManager=new ye(this.baseOptions),this.crossOriginAuthentication=new we(t,this.baseOptions),this.warn=new Ct({disableWarnings:!!e._disableDeprecationWarnings})}function Ee(t){this.authenticationUrl=t.authenticationUrl,this.timeout=t.timeout||6e4,this.handler=null,this.postMessageDataType=t.postMessageDataType||!1,this.postMessageOrigin=t.postMessageOrigin||St.getWindow().location.origin||St.getWindow().location.protocol+"//"+St.getWindow().location.hostname+(St.getWindow().location.port?":"+St.getWindow().location.port:"")}function Ce(t){this.baseOptions=t,this.request=new xt(t),this.transactionManager=new ye(this.baseOptions)}function Ae(t,e){this.baseOptions=e,this.client=t,this.baseOptions.universalLoginPage=!0,this.request=new xt(this.baseOptions),this.warn=new Ct({disableWarnings:!!e._disableDeprecationWarnings})}Te.prototype.calculatePosition=function(t){var e=t.width||500,n=t.height||600,r=St.getWindow(),i=void 0!==r.screenX?r.screenX:r.screenLeft,o=void 0!==r.screenY?r.screenY:r.screenTop,s=void 0!==r.outerWidth?r.outerWidth:r.document.body.clientWidth,a=void 0!==r.outerHeight?r.outerHeight:r.document.body.clientHeight;return{width:e,height:n,left:t.left||i+(s-e)/2,top:t.top||o+(a-n)/2}},Te.prototype.preload=function(t){var e=this,n=St.getWindow(),r=this.calculatePosition(t.popupOptions||{}),i=bt.merge(r).with(t.popupOptions),o=t.url||"about:blank",s=N(i,{encode:!1,delimiter:","});return this._current_popup&&!this._current_popup.closed||(this._current_popup=n.open(o,"auth0_signup_popup",s),this._current_popup.kill=function(){this.close(),e._current_popup=null}),this._current_popup},Te.prototype.load=function(t,e,n,r){var i=this,o=this.calculatePosition(n.popupOptions||{}),s=bt.merge(o).with(n.popupOptions),a=bt.merge({url:t,relay_url:e,window_features:N(s,{delimiter:",",encode:!1}),popup:this._current_popup}).with(n),c=ke.open(a,(function(t,e){if(!t||"SyntaxError"!==t.name)return i._current_popup=null,r(t,e)}));return c.focus(),c},Oe.prototype.buildPopupHandler=function(){var t=this.baseOptions.plugins.get("popup.getPopupHandler");return t?t.getPopupHandler():new Te},Oe.prototype.preload=function(t){t=t||{};var e=this.buildPopupHandler();return e.preload(t),e},Oe.prototype.getPopupHandler=function(t,e){return t.popupHandler?t.popupHandler:e?this.preload(t):this.buildPopupHandler()},Oe.prototype.callback=function(t){var e=this,n=St.getWindow(),r=(t=t||{}).popupOrigin||this.baseOptions.popupOrigin||St.getOrigin();n.opener?ke.onOpen((function(n,i,o){if(n!==r)return o({error:"origin_mismatch",error_description:"The popup's origin ("+n+") should match the `popupOrigin` parameter ("+r+")."});e.webAuth.parseHash(t||{},(function(t,e){return o(t||e)}))})):n.doPost=function(t){n.parent&&n.parent.postMessage(t,r)}},Oe.prototype.authorize=function(t,e){var n,r,i={},s=this.baseOptions.plugins.get("popup.authorize"),a=bt.merge(this.baseOptions,["clientID","scope","domain","audience","tenant","responseType","redirectUri","_csrf","state","_intstate","nonce","organization","invitation"]).with(bt.blacklist(t,["popupHandler"]));return pt.check(a,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),r=o(this.baseOptions.rootUrl,"relay.html"),t.owp?a.owp=!0:(i.origin=Se(a.redirectUri),r=a.redirectUri),t.popupOptions&&(i.popupOptions=bt.pick(t.popupOptions,["width","height","top","left"])),s&&(a=s.processParams(a)),(a=this.transactionManager.process(a)).scope=a.scope||"openid profile email",delete a.domain,n=this.client.buildAuthorizeUrl(a),this.getPopupHandler(t).load(n,r,i,Rt(e,{keepOriginalCasing:!0}))},Oe.prototype.loginWithCredentials=function(t,e){t.realm=t.realm||t.connection,t.popup=!0,t=bt.merge(this.baseOptions,["redirectUri","responseType","state","nonce"]).with(bt.blacklist(t,["popupHandler","connection"])),t=this.transactionManager.process(t),this.crossOriginAuthentication.login(t,e)},Oe.prototype.passwordlessVerify=function(t,e){var n=this;return this.client.passwordless.verify(bt.blacklist(t,["popupHandler"]),(function(r){if(r)return e(r);t.username=t.phoneNumber||t.email,t.password=t.verificationCode,delete t.email,delete t.phoneNumber,delete t.verificationCode,delete t.type,n.client.loginWithResourceOwner(t,e)}))},Oe.prototype.signupAndLogin=function(t,e){var n=this;return this.client.dbConnection.signup(t,(function(r){if(r)return e(r);n.loginWithCredentials(t,e)}))},Ee.create=function(t){return new Ee(t)},Ee.prototype.login=function(t,e){this.handler=new ge({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:t?"message":"load",callback:this.getCallbackHandler(e,t),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){e(null,"#error=timeout&error_description=Timeout+during+authentication+renew.")},usePostMessage:t||!1}),this.handler.init()},Ee.prototype.getEventValidator=function(){var t=this;return{isValid:function(e){switch(e.event.type){case"message":return e.event.origin===t.postMessageOrigin&&e.event.source===t.handler.iframe.contentWindow&&(!1===t.postMessageDataType||e.event.data.type&&e.event.data.type===t.postMessageDataType);case"load":if("about:"===e.sourceObject.contentWindow.location.protocol)return!1;default:return!0}}}},Ee.prototype.getCallbackHandler=function(t,e){return function(n){var r;r=e?"object"==typeof n.event.data&&n.event.data.hash?n.event.data.hash:n.event.data:n.sourceObject.contentWindow.location.hash,t(null,r)}},Ce.prototype.login=function(t,e){var n,r;return n=o(this.baseOptions.rootUrl,"usernamepassword","login"),t.username=t.username||t.email,t=bt.blacklist(t,["email","onRedirecting"]),r=bt.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience"]).with(t),r=this.transactionManager.process(r),r=bt.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(Rt(e))},Ce.prototype.callback=function(t){var e,n=St.getDocument();(e=n.createElement("div")).innerHTML=t,n.body.appendChild(e).children[0].submit()},Ae.prototype.login=function(t,e){if(St.getWindow().location.host!==this.baseOptions.domain)throw new Error("This method is meant to be used only inside the Universal Login Page.");var n,r=bt.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return pt.check(r,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(n=new Ce(this.baseOptions)).login(r,(function(r,i){if(r)return e(r);function o(){n.callback(i)}if("function"==typeof t.onRedirecting)return t.onRedirecting((function(){o()}));o()}))},Ae.prototype.signupAndLogin=function(t,e){var n=this;return n.client.client.dbConnection.signup(t,(function(r){return r?e(r):n.login(t,e)}))},Ae.prototype.getSSOData=function(t,e){var n,r="";return"function"==typeof t&&(e=t,t=!1),pt.check(t,{type:"boolean",message:"withActiveDirectories parameter is not valid"}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),t&&(r="?"+N({ldaps:1,client_id:this.baseOptions.clientID})),n=o(this.baseOptions.rootUrl,"user","ssodata",r),this.request.get(n,{noHeaders:!0}).withCredentials().end(Rt(e))};var Ne=function(){},Ie={lang:"en",templates:{auth0:function(t){var e="code"===t.type?"Enter the code shown above":"Solve the formula shown above";return'<div class="captcha-challenge">\n  <img src="'+t.image+'" />\n  <button type="button" class="captcha-reload"></button>\n</div>\n<input type="text" name="captcha"\n  class="form-control captcha-control"\n  placeholder="'+e+'" />'},recaptcha_v2:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},recaptcha_enterprise:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},error:function(){return'<div class="error" style="color: red;">Error getting the bot detection challenge. Please contact the system administrator.</div>'}}};function De(t){switch(t){case"recaptcha_v2":return window.grecaptcha;case"recaptcha_enterprise":return window.grecaptcha.enterprise;default:throw new Error("Unknown captcha provider")}}var Me=function(t,e,n,r){function i(r){r=r||Ne,t.getChallenge((function(t,o){return t?(e.innerHTML=n.templates.error(t),r(t)):o.required?(e.style.display="","auth0"===o.provider?function(t,e,n,r){t.innerHTML=e.templates[n.provider](n),t.querySelector(".captcha-reload").addEventListener("click",(function(t){t.preventDefault(),r()}))}(e,n,o,i):"recaptcha_v2"!==o.provider&&"recaptcha_enterprise"!==o.provider||function(t,e,n){var r=t.hasAttribute("data-wid")&&t.getAttribute("data-wid");function i(e){t.querySelector('input[name="captcha"]').value=e||""}if(r)return i(),void De(n.provider).reset(r);t.innerHTML=e.templates[n.provider](n);var o=t.querySelector(".recaptcha");!function(t,e,n){var r="recaptchaCallback_"+Math.floor(1000001*Math.random());window[r]=function(){delete window[r],n()};var i=window.document.createElement("script");i.src=function(t,e,n){switch(t){case"recaptcha_v2":return"https://www.recaptcha.net/recaptcha/api.js?hl="+e+"&onload="+n;case"recaptcha_enterprise":return"https://www.recaptcha.net/recaptcha/enterprise.js?render=explicit&hl="+e+"&onload="+n;default:throw new Error("Unknown captcha provider")}}(e.provider,e.lang,r),i.async=!0,window.document.body.appendChild(i)}(0,{lang:e.lang,provider:n.provider},(function(){var e=De(n.provider);r=e.render(o,{callback:i,"expired-callback":function(){i()},"error-callback":function(){i()},sitekey:n.siteKey}),t.setAttribute("data-wid",r)}))}(e,n,o),void r()):(e.style.display="none",void(e.innerHTML=""))}))}return n=bt.merge(Ie).with(n||{}),i(r),{reload:i,getValue:function(){var t=e.querySelector('input[name="captcha"]');if(t)return t.value}}};function Re(){return new Date}function Pe(t){pt.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},popupOrigin:{optional:!0,type:"string",message:"popupOrigin is not valid"},leeway:{optional:!0,type:"number",message:"leeway is not valid"},plugins:{optional:!0,type:"array",message:"plugins is not valid"},maxAge:{optional:!0,type:"number",message:"maxAge is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"},_timesToRetryFailedRequests:{optional:!0,type:"number",message:"_timesToRetryFailedRequests option is not valid"}}),t.overrides&&pt.check(t.overrides,{type:"object",message:"overrides option is not valid"},{__tenant:{optional:!0,type:"string",message:"__tenant option is required"},__token_issuer:{optional:!0,type:"string",message:"__token_issuer option is required"},__jwks_uri:{optional:!0,type:"string",message:"__jwks_uri is required"}}),this.baseOptions=t,this.baseOptions.plugins=new me(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=t._timesToRetryFailedRequests?parseInt(t._timesToRetryFailedRequests,0):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(".")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||"https://"+this.baseOptions.domain+"/",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,this.transactionManager=new ye(this.baseOptions),this.client=new Fe(this.baseOptions),this.redirect=new xe(this,this.baseOptions),this.popup=new Oe(this,this.baseOptions),this.crossOriginAuthentication=new we(this,this.baseOptions),this.webMessageHandler=new be(this),this._universalLogin=new Ae(this,this.baseOptions),this.ssodataStorage=new It(this.baseOptions)}function je(t,e){this.baseOptions=e,this.request=t}function Le(t,e){this.baseOptions=e,this.request=t}function Fe(t,e){2===arguments.length?this.auth0=t:e=t,pt.check(e,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=e,this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl=this.baseOptions.domain&&0===this.baseOptions.domain.toLowerCase().indexOf("http")?this.baseOptions.domain:"https://"+this.baseOptions.domain,this.request=new xt(this.baseOptions),this.passwordless=new je(this.request,this.baseOptions),this.dbConnection=new Le(this.request,this.baseOptions),this.warn=new Ct({disableWarnings:!!e._disableDeprecationWarnings}),this.ssodataStorage=new It(this.baseOptions)}function Be(t){pt.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=t,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new xt(this.baseOptions),this.baseOptions.rootUrl=o("https://"+this.baseOptions.domain,"api","v2")}Pe.prototype.parseHash=function(t,e){var n,r;e||"function"!=typeof t?t=t||{}:(e=t,t={});var i=St.getWindow(),o=void 0===t.hash?i.location.hash:t.hash;if((n=function(t,e){var n=function(t){if(!t)return O;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?O.charset:t.charset;return{allowDots:void 0===t.allowDots?O.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:O.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:O.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:O.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:O.comma,decoder:"function"==typeof t.decoder?t.decoder:O.decoder,delimiter:"string"==typeof t.delimiter||l.isRegExp(t.delimiter)?t.delimiter:O.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:O.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:O.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:O.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:O.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:O.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof t?function(t,e){var n,r={},i=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=e.parameterLimit===1/0?void 0:e.parameterLimit,s=i.split(e.delimiter,o),a=-1,c=e.charset;if(e.charsetSentinel)for(n=0;n<s.length;++n)0===s[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[n]?c="utf-8":"utf8=%26%2310003%3B"===s[n]&&(c="iso-8859-1"),a=n,n=s.length);for(n=0;n<s.length;++n)if(n!==a){var u,p,h=s[n],d=h.indexOf("]="),f=-1===d?h.indexOf("="):d+1;-1===f?(u=e.decoder(h,O.decoder,c,"key"),p=e.strictNullHandling?null:""):(u=e.decoder(h.slice(0,f),O.decoder,c,"key"),p=l.maybeMap(C(h.slice(f+1),e),(function(t){return e.decoder(t,O.decoder,c,"value")}))),p&&e.interpretNumericEntities&&"iso-8859-1"===c&&(p=E(p)),h.indexOf("[]=")>-1&&(p=T(p)?[p]:p),S.call(r,u)?r[u]=l.combine(r[u],p):r[u]=p}return r}(t,n):t,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],c=A(a,r[a],n,"string"==typeof t);i=l.merge(i,c,n)}return l.compact(i)}(o=o.replace(/^#?\/?/,""))).hasOwnProperty("error"))return r=Mt.buildResponse(n.error,n.error_description),n.state&&(r.state=n.state),e(r);if(!n.hasOwnProperty("access_token")&&!n.hasOwnProperty("id_token")&&!n.hasOwnProperty("refresh_token"))return e(null,null);var s=(this.baseOptions.responseType||t.responseType||"").split(" ");return s.length>0&&-1!==s.indexOf("token")&&!n.hasOwnProperty("access_token")?e(Mt.buildResponse("invalid_hash","response_type contains `token`, but the parsed hash does not contain an `access_token` property")):s.length>0&&-1!==s.indexOf("id_token")&&!n.hasOwnProperty("id_token")?e(Mt.buildResponse("invalid_hash","response_type contains `id_token`, but the parsed hash does not contain an `id_token` property")):this.validateAuthenticationResponse(t,n,e)},Pe.prototype.validateAuthenticationResponse=function(t,e,n){var r=this;t.__enableIdPInitiatedLogin=t.__enableIdPInitiatedLogin||t.__enableImpersonation;var i=e.state,o=this.transactionManager.getStoredTransaction(i),s=t.state||o&&o.state||null,a=s===i;if((i||s||!t.__enableIdPInitiatedLogin)&&!a)return n({error:"invalid_token",errorDescription:"`state` does not match."});var c=t.nonce||o&&o.nonce||null,u=o&&o.organization,l=t.state||o&&o.appState||null,p=function(t,i){return t?n(t):(o&&o.lastUsedConnection&&(i&&(s=i.sub),r.ssodataStorage.set(o.lastUsedConnection,s)),n(null,function(t,e,n){return{accessToken:t.access_token||null,idToken:t.id_token||null,idTokenPayload:n||null,appState:e||null,refreshToken:t.refresh_token||null,state:t.state||null,expiresIn:t.expires_in?parseInt(t.expires_in,10):null,tokenType:t.token_type||null,scope:t.scope||null}}(e,l,i)));var s};return e.id_token?this.validateToken(e.id_token,c,(function(t,n){if(!t){if(u){if(!n.org_id)return p(Mt.invalidToken("Organization Id (org_id) claim must be a string present in the ID token"));if(n.org_id!==u)return p(Mt.invalidToken('Organization Id (org_id) claim value mismatch in the ID token; expected "'+u+'", found "'+n.org_id+'"'))}return e.access_token&&n.at_hash?(new fe).validateAccessToken(e.access_token,"RS256",n.at_hash,(function(t){return t?p(Mt.invalidToken(t.message)):p(null,n)})):p(null,n)}if("invalid_token"!==t.error||t.errorDescription&&t.errorDescription.indexOf("Nonce (nonce) claim value mismatch in the ID token")>-1)return p(t);var i=(new fe).decode(e.id_token);return"HS256"!==i.header.alg?p(t):(i.payload.nonce||null)!==c?p({error:"invalid_token",errorDescription:'Nonce (nonce) claim value mismatch in the ID token; expected "'+c+'", found "'+i.payload.nonce+'"'}):e.access_token?r.client.userInfo(e.access_token,(function(t,e){return t?p(t):p(null,e)})):p({error:"invalid_token",description:"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) cant store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token"})})):p(null,null)},Pe.prototype.validateToken=function(t,e,n){new fe({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||60,maxAge:this.baseOptions.maxAge,__clock:this.baseOptions.__clock||Re}).verify(t,e,(function(t,e){if(t)return n(Mt.invalidToken(t.message));n(null,e)}))},Pe.prototype.renewAuth=function(t,e){var n=!!t.usePostMessage,r=t.postMessageDataType||!1,i=t.postMessageOrigin||St.getWindow().origin,o=t.timeout,s=this,a=bt.merge(this.baseOptions,["clientID","redirectUri","responseType","scope","audience","_csrf","state","_intstate","nonce"]).with(t);a.responseType=a.responseType||"token",a.responseMode=a.responseMode||"fragment",a=this.transactionManager.process(a),pt.check(a,{type:"object",message:"options parameter is not valid"}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),a.prompt="none",a=bt.blacklist(a,["usePostMessage","tenant","postMessageDataType","postMessageOrigin"]),Ee.create({authenticationUrl:this.client.buildAuthorizeUrl(a),postMessageDataType:r,postMessageOrigin:i,timeout:o}).login(n,(function(t,n){if("object"==typeof n)return e(t,n);s.parseHash({hash:n},e)}))},Pe.prototype.checkSession=function(t,e){var n=bt.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return"code"===n.responseType?e({error:"error",error_description:"responseType can't be `code`"}):(t.nonce||(n=this.transactionManager.process(n)),n.redirectUri?(pt.check(n,{type:"object",message:"options parameter is not valid"}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),n=bt.blacklist(n,["usePostMessage","tenant","postMessageDataType"]),void this.webMessageHandler.run(n,Rt(e,{forceLegacyError:!0,ignoreCasing:!0}))):e({error:"error",error_description:"redirectUri can't be empty"}))},Pe.prototype.changePassword=function(t,e){return this.client.dbConnection.changePassword(t,e)},Pe.prototype.passwordlessStart=function(t,e){var n=bt.merge(this.baseOptions,["responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t.authParams);return t.authParams=this.transactionManager.process(n),this.client.passwordless.start(t,e)},Pe.prototype.signup=function(t,e){return this.client.dbConnection.signup(t,e)},Pe.prototype.authorize=function(t){var e=bt.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","organization","invitation"]).with(t);pt.check(e,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(e=this.transactionManager.process(e)).scope=e.scope||"openid profile email",St.redirect(this.client.buildAuthorizeUrl(e))},Pe.prototype.signupAndAuthorize=function(t,e){var n=this;return this.client.dbConnection.signup(bt.blacklist(t,["popupHandler"]),(function(r){if(r)return e(r);t.realm=t.connection,t.username||(t.username=t.email),n.client.login(t,e)}))},Pe.prototype.login=function(t,e){var n=bt.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting","organization","invitation"]).with(t);n=this.transactionManager.process(n),St.getWindow().location.host===this.baseOptions.domain?(n.connection=n.realm,delete n.realm,this._universalLogin.login(n,e)):this.crossOriginAuthentication.login(n,e)},Pe.prototype.passwordlessLogin=function(t,e){var n=bt.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(t);if(n=this.transactionManager.process(n),St.getWindow().location.host===this.baseOptions.domain)this.passwordlessVerify(n,e);else{var r=bt.extend({credentialType:"http://auth0.com/oauth/grant-type/passwordless/otp",realm:n.connection,username:n.email||n.phoneNumber,otp:n.verificationCode},bt.blacklist(n,["connection","email","phoneNumber","verificationCode"]));this.crossOriginAuthentication.login(r,e)}},Pe.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},Pe.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},Pe.prototype.logout=function(t){St.redirect(this.client.buildLogoutUrl(t))},Pe.prototype.passwordlessVerify=function(t,e){var n=this,r=bt.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(t);return pt.check(r,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),r=this.transactionManager.process(r),this.client.passwordless.verify(r,(function(i){if(i)return e(i);function o(){St.redirect(n.client.passwordless.buildVerifyUrl(r))}if("function"==typeof t.onRedirecting)return t.onRedirecting((function(){o()}));o()}))},Pe.prototype.renderCaptcha=function(t,e,n){return Me(this.client,t,e,n)},je.prototype.buildVerifyUrl=function(t){var e,n;return pt.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(t){return!t.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(t){return!t.phoneNumber}}}),e=bt.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","protocol","nonce"]).with(t),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e=bt.toSnakeCase(e,["auth0Client"]),n=N(e),o(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+n)},je.prototype.start=function(t,e){var n,r;return pt.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},send:{type:"string",message:"send option is required",values:["link","code"],value_message:"send is not valid ([link, code])"},phoneNumber:{optional:!0,type:"string",message:"phoneNumber option is required",condition:function(t){return"code"===t.send||!t.email}},email:{optional:!0,type:"string",message:"email option is required",condition:function(t){return"link"===t.send||!t.phoneNumber}},authParams:{optional:!0,type:"object",message:"authParams option is required"}}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"passwordless","start"),(r=bt.merge(this.baseOptions,["clientID","responseType","redirectUri","scope"]).with(t)).scope&&(r.authParams=r.authParams||{},r.authParams.scope=r.authParams.scope||r.scope),r.redirectUri&&(r.authParams=r.authParams||{},r.authParams.redirect_uri=r.authParams.redirectUri||r.redirectUri),r.responseType&&(r.authParams=r.authParams||{},r.authParams.response_type=r.authParams.responseType||r.responseType),delete r.redirectUri,delete r.responseType,delete r.scope,r=bt.toSnakeCase(r,["auth0Client","authParams"]),this.request.post(n).send(r).end(Rt(e))},je.prototype.verify=function(t,e){var n,r;return pt.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(t){return!t.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(t){return!t.phoneNumber}}}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),r=bt.pick(t,["connection","verificationCode","phoneNumber","email","auth0Client"]),r=bt.toSnakeCase(r,["auth0Client"]),n=o(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(n).send(r).end(Rt(e))},Le.prototype.signup=function(t,e){var n,r,i;return pt.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"dbconnections","signup"),i=(r=bt.merge(this.baseOptions,["clientID","state"]).with(t)).user_metadata||r.userMetadata,r=bt.blacklist(r,["scope","userMetadata","user_metadata"]),r=bt.toSnakeCase(r,["auth0Client"]),i&&(r.user_metadata=i),this.request.post(n).send(r).end(Rt(e))},Le.prototype.changePassword=function(t,e){var n,r;return pt.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"dbconnections","change_password"),r=bt.merge(this.baseOptions,["clientID"]).with(t,["email","connection"]),r=bt.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(Rt(e))},Fe.prototype.buildAuthorizeUrl=function(t){var e,n;return pt.check(t,{type:"object",message:"options parameter is not valid"}),e=bt.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience"]).with(t),pt.check(e,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},redirectUri:{optional:!0,type:"string",message:"redirectUri option is required"},responseType:{type:"string",message:"responseType option is required"},nonce:{type:"string",message:"nonce option is required",condition:function(t){return-1===t.responseType.indexOf("code")&&-1!==t.responseType.indexOf("id_token")}},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e.connection_scope&&pt.isArray(e.connection_scope)&&(e.connection_scope=e.connection_scope.join(",")),e=bt.blacklist(e,["username","popupOptions","domain","tenant","timeout","appState"]),e=bt.toSnakeCase(e,["auth0Client"]),e=Ft(this.warn,e),n=N(e),o(this.baseOptions.rootUrl,"authorize","?"+n)},Fe.prototype.buildLogoutUrl=function(t){var e,n;return pt.check(t,{optional:!0,type:"object",message:"options parameter is not valid"}),e=bt.merge(this.baseOptions,["clientID"]).with(t||{}),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e=bt.toSnakeCase(e,["auth0Client","returnTo"]),n=N(bt.blacklist(e,["federated"])),t&&void 0!==t.federated&&!1!==t.federated&&"false"!==t.federated&&(n+="&federated"),o(this.baseOptions.rootUrl,"v2","logout","?"+n)},Fe.prototype.loginWithDefaultDirectory=function(t,e){return pt.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),t.grantType="password",this.oauthToken(t,e)},Fe.prototype.login=function(t,e){return pt.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},realm:{type:"string",message:"realm option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),t.grantType="http://auth0.com/oauth/grant-type/password-realm",this.oauthToken(t,e)},Fe.prototype.oauthToken=function(t,e){var n,r;return pt.check(t,{type:"object",message:"options parameter is not valid"}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"oauth","token"),r=bt.merge(this.baseOptions,["clientID","scope","audience"]).with(t),pt.check(r,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},grantType:{type:"string",message:"grantType option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),r=bt.toSnakeCase(r,["auth0Client"]),r=Lt(this.warn,r),this.request.post(n).send(r).end(Rt(e))},Fe.prototype.loginWithResourceOwner=function(t,e){var n,r;return pt.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{optional:!0,type:"string",message:"scope option is required"}}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"oauth","ro"),r=bt.merge(this.baseOptions,["clientID","scope"]).with(t,["username","password","scope","connection","device"]),(r=bt.toSnakeCase(r,["auth0Client"])).grant_type=r.grant_type||"password",this.request.post(n).send(r).end(Rt(e))},Fe.prototype.getSSOData=function(t,e){if(this.auth0||(this.auth0=new Pe(this.baseOptions)),St.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(t,e);"function"==typeof t&&(e=t),pt.check(e,{type:"function",message:"cb parameter is not valid"});var n=this.baseOptions.clientID,r=this.ssodataStorage.get()||{};this.auth0.checkSession({responseType:"token id_token",scope:"openid profile email",connection:r.lastUsedConnection,timeout:5e3},(function(t,i){return t?"login_required"===t.error?e(null,{sso:!1}):("consent_required"===t.error&&(t.error_description="Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`."),e(t,{sso:!1})):r.lastUsedSub&&r.lastUsedSub!==i.idTokenPayload.sub?e(t,{sso:!1}):e(null,{lastUsedConnection:{name:r.lastUsedConnection},lastUsedUserID:i.idTokenPayload.sub,lastUsedUsername:i.idTokenPayload.email||i.idTokenPayload.name,lastUsedClientID:n,sessionClients:[n],sso:!0})}))},Fe.prototype.userInfo=function(t,e){var n;return pt.check(t,{type:"string",message:"accessToken parameter is not valid"}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"userinfo"),this.request.get(n).set("Authorization","Bearer "+t).end(Rt(e,{ignoreCasing:!0}))},Fe.prototype.getChallenge=function(t){if(pt.check(t,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return t();var e=o(this.baseOptions.rootUrl,"usernamepassword","challenge");return this.request.post(e).send({state:this.baseOptions.state}).end(Rt(t,{ignoreCasing:!0}))},Fe.prototype.delegation=function(t,e){var n,r;return pt.check(t,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"delegation"),r=bt.merge(this.baseOptions,["clientID"]).with(t),r=bt.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(Rt(e))},Fe.prototype.getUserCountry=function(t){var e;return pt.check(t,{type:"function",message:"cb parameter is not valid"}),e=o(this.baseOptions.rootUrl,"user","geoloc","country"),this.request.get(e).end(Rt(t))},Be.prototype.getUser=function(t,e){var n;return pt.check(t,{type:"string",message:"userId parameter is not valid"}),pt.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"users",t),this.request.get(n).end(Rt(e,{ignoreCasing:!0}))},Be.prototype.patchUserMetadata=function(t,e,n){var r;return pt.check(t,{type:"string",message:"userId parameter is not valid"}),pt.check(e,{type:"object",message:"userMetadata parameter is not valid"}),pt.check(n,{type:"function",message:"cb parameter is not valid"}),r=o(this.baseOptions.rootUrl,"users",t),this.request.patch(r).send({user_metadata:e}).end(Rt(n,{ignoreCasing:!0}))},Be.prototype.patchUserAttributes=function(t,e,n){var r;return pt.check(t,{type:"string",message:"userId parameter is not valid"}),pt.check(e,{type:"object",message:"user parameter is not valid"}),pt.check(n,{type:"function",message:"cb parameter is not valid"}),r=o(this.baseOptions.rootUrl,"users",t),this.request.patch(r).send(e).end(Rt(n,{ignoreCasing:!0}))},Be.prototype.linkUser=function(t,e,n){var r;return pt.check(t,{type:"string",message:"userId parameter is not valid"}),pt.check(e,{type:"string",message:"secondaryUserToken parameter is not valid"}),pt.check(n,{type:"function",message:"cb parameter is not valid"}),r=o(this.baseOptions.rootUrl,"users",t,"identities"),this.request.post(r).send({link_with:e}).end(Rt(n,{ignoreCasing:!0}))};const ze={Authentication:Fe,Management:Be,WebAuth:Pe,version:st}},9367:function(t,e){var n,r,i;r=[t,e],void 0===(i="function"==typeof(n=function(t,e){"use strict";var n,r,i="function"==typeof Map?new Map:(n=[],r=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return r[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),r.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),r.splice(e,1))}}),o=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){o=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function s(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!i.has(t)){var e=null,n=null,r=null,s=function(){t.clientWidth!==n&&h()},a=function(e){window.removeEventListener("resize",s,!1),t.removeEventListener("input",h,!1),t.removeEventListener("keyup",h,!1),t.removeEventListener("autosize:destroy",a,!1),t.removeEventListener("autosize:update",h,!1),Object.keys(e).forEach((function(n){t.style[n]=e[n]})),i.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",a,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",h,!1),window.addEventListener("resize",s,!1),t.addEventListener("input",h,!1),t.addEventListener("autosize:update",h,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",i.set(t,{destroy:a,update:h}),c()}function c(){var n=window.getComputedStyle(t,null);"vertical"===n.resize?t.style.resize="none":"both"===n.resize&&(t.style.resize="horizontal"),e="content-box"===n.boxSizing?-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),isNaN(e)&&(e=0),h()}function u(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function l(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function p(){if(0!==t.scrollHeight){var r=l(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+e+"px",n=t.clientWidth,r.forEach((function(t){t.node.scrollTop=t.scrollTop})),i&&(document.documentElement.scrollTop=i)}}function h(){p();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(i<e?"hidden"===n.overflowY&&(u("scroll"),p(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(u("hidden"),p(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),r!==i){r=i;var s=o("autosize:resized");try{t.dispatchEvent(s)}catch(t){}}}}function a(t){var e=i.get(t);e&&e.destroy()}function c(t){var e=i.get(t);e&&e.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(t){return t}).destroy=function(t){return t},u.update=function(t){return t}):((u=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return s(t,e)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],a),t},u.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],c),t}),e.default=u,t.exports=e.default})?n.apply(e,r):n)||(t.exports=i)},3724:(t,e,n)=>{"use strict";n.d(e,{S:()=>Qt});var r=n(8687),i=n(7253),o=n(9514),s=n(3135);var a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;Object.create;function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var u="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function l(t,e){for(var n,r=/\r\n|[\n\r]/g,i=1,o=e+1;(n=r.exec(t.body))&&n.index<e;)i+=1,o=e+1-(n.index+n[0].length);return{line:i,column:o}}function p(t){return h(t.source,l(t.source,t.start))}function h(t,e){var n=t.locationOffset.column-1,r=f(n)+t.body,i=e.line-1,o=t.locationOffset.line-1,s=e.line+o,a=1===e.line?n:0,c=e.column+a,u="".concat(t.name,":").concat(s,":").concat(c,"\n"),l=r.split(/\r\n|[\n\r]/g),p=l[i];if(p.length>120){for(var h=Math.floor(c/80),m=c%80,v=[],y=0;y<p.length;y+=80)v.push(p.slice(y,y+80));return u+d([["".concat(s),v[0]]].concat(v.slice(1,h+1).map((function(t){return["",t]})),[[" ",f(m-1)+"^"],["",v[h+1]]]))}return u+d([["".concat(s-1),l[i-1]],["".concat(s),p],["",f(c-1)+"^"],["".concat(s+1),l[i+1]]])}function d(t){var e=t.filter((function(t){t[0];return void 0!==t[1]})),n=Math.max.apply(Math,e.map((function(t){return t[0].length})));return e.map((function(t){var e,r=t[0],i=t[1];return f(n-(e=r).length)+e+(i?" | "+i:" |")})).join("\n")}function f(t){return Array(t+1).join(" ")}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){var e="function"==typeof Map?new Map:void 0;return(b=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return w(t,arguments,k(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),x(r,t)})(t)}function w(t,e,n){return(w=_()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&x(i,n.prototype),i}).apply(null,arguments)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(a,t);var e,n,r,i,o,s=(e=a,n=_(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return y(this,t)});function a(t,e,n,r,i,o,u){var p,h,d,f,m;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),m=s.call(this,t);var v,b=Array.isArray(e)?0!==e.length?e:void 0:e?[e]:void 0,w=n;!w&&b&&(w=null===(v=b[0].loc)||void 0===v?void 0:v.source);var _,x=r;!x&&b&&(x=b.reduce((function(t,e){return e.loc&&t.push(e.loc.start),t}),[])),x&&0===x.length&&(x=void 0),r&&n?_=r.map((function(t){return l(n,t)})):b&&(_=b.reduce((function(t,e){return e.loc&&t.push(l(e.loc.source,e.loc.start)),t}),[]));var k,S=u;if(null==S&&null!=o){var T=o.extensions;"object"==c(k=T)&&null!==k&&(S=T)}return Object.defineProperties(g(m),{name:{value:"GraphQLError"},message:{value:t,enumerable:!0,writable:!0},locations:{value:null!==(p=_)&&void 0!==p?p:void 0,enumerable:null!=_},path:{value:null!=i?i:void 0,enumerable:null!=i},nodes:{value:null!=b?b:void 0},source:{value:null!==(h=w)&&void 0!==h?h:void 0},positions:{value:null!==(d=x)&&void 0!==d?d:void 0},originalError:{value:o},extensions:{value:null!==(f=S)&&void 0!==f?f:void 0,enumerable:null!=S}}),null!=o&&o.stack?(Object.defineProperty(g(m),"stack",{value:o.stack,writable:!0,configurable:!0}),y(m)):(Error.captureStackTrace?Error.captureStackTrace(g(m),a):Object.defineProperty(g(m),"stack",{value:Error().stack,writable:!0,configurable:!0}),m)}return r=a,(i=[{key:"toString",value:function(){return function(t){var e=t.message;if(t.nodes)for(var n=0,r=t.nodes;n<r.length;n++){var i=r[n];i.loc&&(e+="\n\n"+p(i.loc))}else if(t.source&&t.locations)for(var o=0,s=t.locations;o<s.length;o++){var a=s[o];e+="\n\n"+h(t.source,a)}return e}(this)}},{key:u,get:function(){return"Object"}}])&&v(r.prototype,i),o&&v(r,o),a}(b(Error));function T(t,e,n){return new S("Syntax Error: ".concat(n),void 0,t,[e])}var O=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});const E="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function C(t){var e=t.prototype.toJSON;"function"==typeof e||function(t,e){if(!Boolean(t))throw new Error(null!=e?e:"Unexpected invariant triggered.")}(0),t.prototype.inspect=e,E&&(t.prototype[E]=e)}var A=function(){function t(t,e,n){this.start=t.start,this.end=e.end,this.startToken=t,this.endToken=e,this.source=n}return t.prototype.toJSON=function(){return{start:this.start,end:this.end}},t}();C(A);var N=function(){function t(t,e,n,r,i,o,s){this.kind=t,this.start=e,this.end=n,this.line=r,this.column=i,this.value=s,this.prev=o,this.next=null}return t.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();C(N);var I=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t){return R(t,[])}function R(t,e){switch(D(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return null===t?"null":function(t,e){if(-1!==e.indexOf(t))return"[Circular]";var n=[].concat(e,[t]),r=function(t){var e=t[String(E)];if("function"==typeof e)return e;if("function"==typeof t.inspect)return t.inspect}(t);if(void 0!==r){var i=r.call(t);if(i!==t)return"string"==typeof i?i:R(i,n)}else if(Array.isArray(t))return function(t,e){if(0===t.length)return"[]";if(e.length>2)return"[Array]";for(var n=Math.min(10,t.length),r=t.length-n,i=[],o=0;o<n;++o)i.push(R(t[o],e));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(t,n);return function(t,e){var n=Object.keys(t);if(0===n.length)return"{}";if(e.length>2)return"["+function(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"==typeof t.constructor){var n=t.constructor.name;if("string"==typeof n&&""!==n)return n}return e}(t)+"]";return"{ "+n.map((function(n){return n+": "+R(t[n],e)})).join(", ")+" }"}(t,n)}(t,e);default:return String(t)}}function P(t,e){if(!Boolean(t))throw new Error(e)}const j=function(t,e){return t instanceof e};function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var F=function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof t||P(0,"Body must be a string. Received: ".concat(M(t),".")),this.body=t,this.name=e,this.locationOffset=n,this.locationOffset.line>0||P(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||P(0,"column in locationOffset is 1-indexed and must be positive.")}var e,n,r;return e=t,(n=[{key:u,get:function(){return"Source"}}])&&L(e.prototype,n),r&&L(e,r),t}();var B=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function z(t){var e=t.split(/\r\n|[\n\r]/g),n=function(t){for(var e,n=!0,r=!0,i=0,o=null,s=0;s<t.length;++s)switch(t.charCodeAt(s)){case 13:10===t.charCodeAt(s+1)&&++s;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(e=o)&&void 0!==e?e:0}(t);if(0!==n)for(var r=1;r<e.length;r++)e[r]=e[r].slice(n);for(var i=0;i<e.length&&U(e[i]);)++i;for(var o=e.length;o>i&&U(e[o-1]);)--o;return e.slice(i,o).join("\n")}function U(t){for(var e=0;e<t.length;++e)if(" "!==t[e]&&"\t"!==t[e])return!1;return!0}var V=function(){function t(t){var e=new N(I.SOF,0,0,0,0,null);this.source=t,this.lastToken=e,this.token=e,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},e.lookahead=function(){var t=this.token;if(t.kind!==I.EOF)do{var e;t=null!==(e=t.next)&&void 0!==e?e:t.next=H(this,t)}while(t.kind===I.COMMENT);return t},t}();function q(t){return isNaN(t)?I.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function H(t,e){for(var n=t.source,r=n.body,i=r.length,o=e.end;o<i;){var s=r.charCodeAt(o),a=t.line,c=1+o-t.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++t.line,t.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++t.line,t.lineStart=o;continue;case 33:return new N(I.BANG,o,o+1,a,c,e);case 35:return K(n,o,a,c,e);case 36:return new N(I.DOLLAR,o,o+1,a,c,e);case 38:return new N(I.AMP,o,o+1,a,c,e);case 40:return new N(I.PAREN_L,o,o+1,a,c,e);case 41:return new N(I.PAREN_R,o,o+1,a,c,e);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new N(I.SPREAD,o,o+3,a,c,e);break;case 58:return new N(I.COLON,o,o+1,a,c,e);case 61:return new N(I.EQUALS,o,o+1,a,c,e);case 64:return new N(I.AT,o,o+1,a,c,e);case 91:return new N(I.BRACKET_L,o,o+1,a,c,e);case 93:return new N(I.BRACKET_R,o,o+1,a,c,e);case 123:return new N(I.BRACE_L,o,o+1,a,c,e);case 124:return new N(I.PIPE,o,o+1,a,c,e);case 125:return new N(I.BRACE_R,o,o+1,a,c,e);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?Z(n,o,a,c,e,t):Y(n,o,a,c,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return $(n,o,s,a,c,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return G(n,o,a,c,e)}throw T(n,o,W(s))}var u=t.line,l=1+o-t.lineStart;return new N(I.EOF,i,i,u,l,e)}function W(t){return t<32&&9!==t&&10!==t&&13!==t?"Cannot contain the invalid character ".concat(q(t),"."):39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(q(t),".")}function K(t,e,n,r,i){var o,s=t.body,a=e;do{o=s.charCodeAt(++a)}while(!isNaN(o)&&(o>31||9===o));return new N(I.COMMENT,e,a,n,r,i,s.slice(e+1,a))}function $(t,e,n,r,i,o){var s=t.body,a=n,c=e,u=!1;if(45===a&&(a=s.charCodeAt(++c)),48===a){if((a=s.charCodeAt(++c))>=48&&a<=57)throw T(t,c,"Invalid number, unexpected digit after 0: ".concat(q(a),"."))}else c=J(t,c,a),a=s.charCodeAt(c);if(46===a&&(u=!0,a=s.charCodeAt(++c),c=J(t,c,a),a=s.charCodeAt(c)),69!==a&&101!==a||(u=!0,43!==(a=s.charCodeAt(++c))&&45!==a||(a=s.charCodeAt(++c)),c=J(t,c,a),a=s.charCodeAt(c)),46===a||function(t){return 95===t||t>=65&&t<=90||t>=97&&t<=122}(a))throw T(t,c,"Invalid number, expected digit but got: ".concat(q(a),"."));return new N(u?I.FLOAT:I.INT,e,c,r,i,o,s.slice(e,c))}function J(t,e,n){var r=t.body,i=e,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw T(t,i,"Invalid number, expected digit but got: ".concat(q(o),"."))}function Y(t,e,n,r,i){for(var o,s,a,c,u=t.body,l=e+1,p=l,h=0,d="";l<u.length&&!isNaN(h=u.charCodeAt(l))&&10!==h&&13!==h;){if(34===h)return d+=u.slice(p,l),new N(I.STRING,e,l+1,n,r,i,d);if(h<32&&9!==h)throw T(t,l,"Invalid character within String: ".concat(q(h),"."));if(++l,92===h){switch(d+=u.slice(p,l-1),h=u.charCodeAt(l)){case 34:d+='"';break;case 47:d+="/";break;case 92:d+="\\";break;case 98:d+="\b";break;case 102:d+="\f";break;case 110:d+="\n";break;case 114:d+="\r";break;case 116:d+="\t";break;case 117:var f=(o=u.charCodeAt(l+1),s=u.charCodeAt(l+2),a=u.charCodeAt(l+3),c=u.charCodeAt(l+4),X(o)<<12|X(s)<<8|X(a)<<4|X(c));if(f<0){var m=u.slice(l+1,l+5);throw T(t,l,"Invalid character escape sequence: \\u".concat(m,"."))}d+=String.fromCharCode(f),l+=4;break;default:throw T(t,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}p=++l}}throw T(t,l,"Unterminated string.")}function Z(t,e,n,r,i,o){for(var s=t.body,a=e+3,c=a,u=0,l="";a<s.length&&!isNaN(u=s.charCodeAt(a));){if(34===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2))return l+=s.slice(c,a),new N(I.BLOCK_STRING,e,a+3,n,r,i,z(l));if(u<32&&9!==u&&10!==u&&13!==u)throw T(t,a,"Invalid character within String: ".concat(q(u),"."));10===u?(++a,++o.line,o.lineStart=a):13===u?(10===s.charCodeAt(a+1)?a+=2:++a,++o.line,o.lineStart=a):92===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2)&&34===s.charCodeAt(a+3)?(l+=s.slice(c,a)+'"""',c=a+=4):++a}throw T(t,a,"Unterminated string.")}function X(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function G(t,e,n,r,i){for(var o=t.body,s=o.length,a=e+1,c=0;a!==s&&!isNaN(c=o.charCodeAt(a))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++a;return new N(I.NAME,e,a,n,r,i,o.slice(e,a))}var Q=function(){function t(t,e){var n=function(t){return j(t,F)}(t)?t:new F(t);this._lexer=new V(n),this._options=e}var e=t.prototype;return e.parseName=function(){var t=this.expectToken(I.NAME);return{kind:O.NAME,value:t.value,loc:this.loc(t)}},e.parseDocument=function(){var t=this._lexer.token;return{kind:O.DOCUMENT,definitions:this.many(I.SOF,this.parseDefinition,I.EOF),loc:this.loc(t)}},e.parseDefinition=function(){if(this.peek(I.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(I.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var t=this._lexer.token;if(this.peek(I.BRACE_L))return{kind:O.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)};var e,n=this.parseOperationType();return this.peek(I.NAME)&&(e=this.parseName()),{kind:O.OPERATION_DEFINITION,operation:n,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseOperationType=function(){var t=this.expectToken(I.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(t)},e.parseVariableDefinitions=function(){return this.optionalMany(I.PAREN_L,this.parseVariableDefinition,I.PAREN_R)},e.parseVariableDefinition=function(){var t=this._lexer.token;return{kind:O.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(I.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(I.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(t)}},e.parseVariable=function(){var t=this._lexer.token;return this.expectToken(I.DOLLAR),{kind:O.VARIABLE,name:this.parseName(),loc:this.loc(t)}},e.parseSelectionSet=function(){var t=this._lexer.token;return{kind:O.SELECTION_SET,selections:this.many(I.BRACE_L,this.parseSelection,I.BRACE_R),loc:this.loc(t)}},e.parseSelection=function(){return this.peek(I.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var t,e,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(I.COLON)?(t=r,e=this.parseName()):e=r,{kind:O.FIELD,alias:t,name:e,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(I.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(t){var e=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(I.PAREN_L,e,I.PAREN_R)},e.parseArgument=function(){var t=this._lexer.token,e=this.parseName();return this.expectToken(I.COLON),{kind:O.ARGUMENT,name:e,value:this.parseValueLiteral(!1),loc:this.loc(t)}},e.parseConstArgument=function(){var t=this._lexer.token;return{kind:O.ARGUMENT,name:this.parseName(),value:(this.expectToken(I.COLON),this.parseValueLiteral(!0)),loc:this.loc(t)}},e.parseFragment=function(){var t=this._lexer.token;this.expectToken(I.SPREAD);var e=this.expectOptionalKeyword("on");return!e&&this.peek(I.NAME)?{kind:O.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(t)}:{kind:O.INLINE_FRAGMENT,typeCondition:e?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseFragmentDefinition=function(){var t,e=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(t=this._options)||void 0===t?void 0:t.experimentalFragmentVariables)?{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}:{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},e.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(t){var e=this._lexer.token;switch(e.kind){case I.BRACKET_L:return this.parseList(t);case I.BRACE_L:return this.parseObject(t);case I.INT:return this._lexer.advance(),{kind:O.INT,value:e.value,loc:this.loc(e)};case I.FLOAT:return this._lexer.advance(),{kind:O.FLOAT,value:e.value,loc:this.loc(e)};case I.STRING:case I.BLOCK_STRING:return this.parseStringLiteral();case I.NAME:switch(this._lexer.advance(),e.value){case"true":return{kind:O.BOOLEAN,value:!0,loc:this.loc(e)};case"false":return{kind:O.BOOLEAN,value:!1,loc:this.loc(e)};case"null":return{kind:O.NULL,loc:this.loc(e)};default:return{kind:O.ENUM,value:e.value,loc:this.loc(e)}}case I.DOLLAR:if(!t)return this.parseVariable()}throw this.unexpected()},e.parseStringLiteral=function(){var t=this._lexer.token;return this._lexer.advance(),{kind:O.STRING,value:t.value,block:t.kind===I.BLOCK_STRING,loc:this.loc(t)}},e.parseList=function(t){var e=this,n=this._lexer.token;return{kind:O.LIST,values:this.any(I.BRACKET_L,(function(){return e.parseValueLiteral(t)}),I.BRACKET_R),loc:this.loc(n)}},e.parseObject=function(t){var e=this,n=this._lexer.token;return{kind:O.OBJECT,fields:this.any(I.BRACE_L,(function(){return e.parseObjectField(t)}),I.BRACE_R),loc:this.loc(n)}},e.parseObjectField=function(t){var e=this._lexer.token,n=this.parseName();return this.expectToken(I.COLON),{kind:O.OBJECT_FIELD,name:n,value:this.parseValueLiteral(t),loc:this.loc(e)}},e.parseDirectives=function(t){for(var e=[];this.peek(I.AT);)e.push(this.parseDirective(t));return e},e.parseDirective=function(t){var e=this._lexer.token;return this.expectToken(I.AT),{kind:O.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t),loc:this.loc(e)}},e.parseTypeReference=function(){var t,e=this._lexer.token;return this.expectOptionalToken(I.BRACKET_L)?(t=this.parseTypeReference(),this.expectToken(I.BRACKET_R),t={kind:O.LIST_TYPE,type:t,loc:this.loc(e)}):t=this.parseNamedType(),this.expectOptionalToken(I.BANG)?{kind:O.NON_NULL_TYPE,type:t,loc:this.loc(e)}:t},e.parseNamedType=function(){var t=this._lexer.token;return{kind:O.NAMED_TYPE,name:this.parseName(),loc:this.loc(t)}},e.parseTypeSystemDefinition=function(){var t=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(t.kind===I.NAME)switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(t)},e.peekDescription=function(){return this.peek(I.STRING)||this.peek(I.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(I.BRACE_L,this.parseOperationTypeDefinition,I.BRACE_R);return{kind:O.SCHEMA_DEFINITION,description:e,directives:n,operationTypes:r,loc:this.loc(t)}},e.parseOperationTypeDefinition=function(){var t=this._lexer.token,e=this.parseOperationType();this.expectToken(I.COLON);var n=this.parseNamedType();return{kind:O.OPERATION_TYPE_DEFINITION,operation:e,type:n,loc:this.loc(t)}},e.parseScalarTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:O.SCALAR_TYPE_DEFINITION,description:e,name:n,directives:r,loc:this.loc(t)}},e.parseObjectTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:O.OBJECT_TYPE_DEFINITION,description:e,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(t)}},e.parseImplementsInterfaces=function(){var t;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLImplementsInterfaces)){var e=[];this.expectOptionalToken(I.AMP);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(I.AMP)||this.peek(I.NAME));return e}return this.delimitedMany(I.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var t;return!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLEmptyFields)&&this.peek(I.BRACE_L)&&this._lexer.lookahead().kind===I.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(I.BRACE_L,this.parseFieldDefinition,I.BRACE_R)},e.parseFieldDefinition=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(I.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:O.FIELD_DEFINITION,description:e,name:n,arguments:r,type:i,directives:o,loc:this.loc(t)}},e.parseArgumentDefs=function(){return this.optionalMany(I.PAREN_L,this.parseInputValueDef,I.PAREN_R)},e.parseInputValueDef=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName();this.expectToken(I.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(I.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:O.INPUT_VALUE_DEFINITION,description:e,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(t)}},e.parseInterfaceTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:O.INTERFACE_TYPE_DEFINITION,description:e,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(t)}},e.parseUnionTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:O.UNION_TYPE_DEFINITION,description:e,name:n,directives:r,types:i,loc:this.loc(t)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(I.EQUALS)?this.delimitedMany(I.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:O.ENUM_TYPE_DEFINITION,description:e,name:n,directives:r,values:i,loc:this.loc(t)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(I.BRACE_L,this.parseEnumValueDefinition,I.BRACE_R)},e.parseEnumValueDefinition=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:O.ENUM_VALUE_DEFINITION,description:e,name:n,directives:r,loc:this.loc(t)}},e.parseInputObjectTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:O.INPUT_OBJECT_TYPE_DEFINITION,description:e,name:n,directives:r,fields:i,loc:this.loc(t)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(I.BRACE_L,this.parseInputValueDef,I.BRACE_R)},e.parseTypeSystemExtension=function(){var t=this._lexer.lookahead();if(t.kind===I.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)},e.parseSchemaExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var e=this.parseDirectives(!0),n=this.optionalMany(I.BRACE_L,this.parseOperationTypeDefinition,I.BRACE_R);if(0===e.length&&0===n.length)throw this.unexpected();return{kind:O.SCHEMA_EXTENSION,directives:e,operationTypes:n,loc:this.loc(t)}},e.parseScalarTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var e=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:O.SCALAR_TYPE_EXTENSION,name:e,directives:n,loc:this.loc(t)}},e.parseObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var e=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:O.OBJECT_TYPE_EXTENSION,name:e,interfaces:n,directives:r,fields:i,loc:this.loc(t)}},e.parseInterfaceTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var e=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:O.INTERFACE_TYPE_EXTENSION,name:e,interfaces:n,directives:r,fields:i,loc:this.loc(t)}},e.parseUnionTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:O.UNION_TYPE_EXTENSION,name:e,directives:n,types:r,loc:this.loc(t)}},e.parseEnumTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:O.ENUM_TYPE_EXTENSION,name:e,directives:n,values:r,loc:this.loc(t)}},e.parseInputObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:O.INPUT_OBJECT_TYPE_EXTENSION,name:e,directives:n,fields:r,loc:this.loc(t)}},e.parseDirectiveDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("directive"),this.expectToken(I.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:O.DIRECTIVE_DEFINITION,description:e,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(t)}},e.parseDirectiveLocations=function(){return this.delimitedMany(I.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var t=this._lexer.token,e=this.parseName();if(void 0!==B[e.value])return e;throw this.unexpected(t)},e.loc=function(t){var e;if(!0!==(null===(e=this._options)||void 0===e?void 0:e.noLocation))return new A(t,this._lexer.lastToken,this._lexer.source)},e.peek=function(t){return this._lexer.token.kind===t},e.expectToken=function(t){var e=this._lexer.token;if(e.kind===t)return this._lexer.advance(),e;throw T(this._lexer.source,e.start,"Expected ".concat(et(t),", found ").concat(tt(e),"."))},e.expectOptionalToken=function(t){var e=this._lexer.token;if(e.kind===t)return this._lexer.advance(),e},e.expectKeyword=function(t){var e=this._lexer.token;if(e.kind!==I.NAME||e.value!==t)throw T(this._lexer.source,e.start,'Expected "'.concat(t,'", found ').concat(tt(e),"."));this._lexer.advance()},e.expectOptionalKeyword=function(t){var e=this._lexer.token;return e.kind===I.NAME&&e.value===t&&(this._lexer.advance(),!0)},e.unexpected=function(t){var e=null!=t?t:this._lexer.token;return T(this._lexer.source,e.start,"Unexpected ".concat(tt(e),"."))},e.any=function(t,e,n){this.expectToken(t);for(var r=[];!this.expectOptionalToken(n);)r.push(e.call(this));return r},e.optionalMany=function(t,e,n){if(this.expectOptionalToken(t)){var r=[];do{r.push(e.call(this))}while(!this.expectOptionalToken(n));return r}return[]},e.many=function(t,e,n){this.expectToken(t);var r=[];do{r.push(e.call(this))}while(!this.expectOptionalToken(n));return r},e.delimitedMany=function(t,e){this.expectOptionalToken(t);var n=[];do{n.push(e.call(this))}while(this.expectOptionalToken(t));return n},t}();function tt(t){var e=t.value;return et(t.kind)+(null!=e?' "'.concat(e,'"'):"")}function et(t){return function(t){return t===I.BANG||t===I.DOLLAR||t===I.AMP||t===I.PAREN_L||t===I.PAREN_R||t===I.SPREAD||t===I.COLON||t===I.EQUALS||t===I.AT||t===I.BRACKET_L||t===I.BRACKET_R||t===I.BRACE_L||t===I.PIPE||t===I.BRACE_R}(t)?'"'.concat(t,'"'):t}var nt=new Map,rt=new Map,it=!0,ot=!1;function st(t){return t.replace(/[\s,]+/g," ").trim()}function at(t){var e=new Set,n=[];return t.definitions.forEach((function(t){if("FragmentDefinition"===t.kind){var r=t.name.value,i=st((s=t.loc).source.body.substring(s.start,s.end)),o=rt.get(r);o&&!o.has(i)?it&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||rt.set(r,o=new Set),o.add(i),e.has(i)||(e.add(i),n.push(t))}else n.push(t);var s})),a(a({},t),{definitions:n})}function ct(t){var e=st(t);if(!nt.has(e)){var n=function(t,e){return new Q(t,e).parseDocument()}(t,{experimentalFragmentVariables:ot});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");nt.set(e,function(t){var e=new Set(t.definitions);e.forEach((function(t){t.loc&&delete t.loc,Object.keys(t).forEach((function(n){var r=t[n];r&&"object"==typeof r&&e.add(r)}))}));var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}(at(n)))}return nt.get(e)}function ut(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];"string"==typeof t&&(t=[t]);var r=t[0];return e.forEach((function(e,n){e&&"Document"===e.kind?r+=e.loc.source.body:r+=e,r+=t[n+1]})),ct(r)}var lt,pt=ut,ht=function(){nt.clear(),rt.clear()},dt=function(){it=!1},ft=function(){ot=!0},mt=function(){ot=!1};(lt=ut||(ut={})).gql=pt,lt.resetCaches=ht,lt.disableFragmentWarnings=dt,lt.enableExperimentalFragmentVariables=ft,lt.disableExperimentalFragmentVariables=mt,ut.default=ut;const vt=ut;var yt,gt,bt,wt,_t,xt,kt,St,Tt,Ot,Et,Ct,At,Nt,It,Dt,Mt;!function(t){t.AuthorAuth0UserIdKey="author_auth0UserId_key",t.AuthorPkey="author_pkey"}(yt||(yt={})),function(t){t.Auth0Id="auth0_id",t.CreatedAt="created_at",t.Email="email",t.Id="id",t.LastSeen="last_seen",t.Name="name"}(gt||(gt={})),function(t){t.Auth0Id="auth0_id",t.CreatedAt="created_at",t.Email="email",t.Id="id",t.LastSeen="last_seen",t.Name="name"}(bt||(bt={})),function(t){t.DraftPkey="draft_pkey"}(wt||(wt={})),function(t){t.AuthorId="author_id",t.CreatedAt="created_at",t.EndedAt="ended_at",t.Id="id",t.TableOfContents="table_of_contents",t.UpdatedAt="updated_at"}(_t||(_t={})),function(t){t.AuthorId="author_id",t.CreatedAt="created_at",t.EndedAt="ended_at",t.Id="id",t.TableOfContents="table_of_contents",t.UpdatedAt="updated_at"}(xt||(xt={})),function(t){t.MarginPkey="margin_pkey"}(kt||(kt={})),function(t){t.CreatedAt="created_at",t.EndedAt="ended_at",t.Id="id",t.Img="img",t.Name="name",t.Options="options",t.PageId="page_id",t.UpdatedAt="updated_at"}(St||(St={})),function(t){t.CreatedAt="created_at",t.EndedAt="ended_at",t.Id="id",t.Img="img",t.Name="name",t.Options="options",t.PageId="page_id",t.UpdatedAt="updated_at"}(Tt||(Tt={})),function(t){t.NotePkey="note_pkey",t.UqNoteDraftIdEndedAt="uq_note_draft_id_ended_at"}(Ot||(Ot={})),function(t){t.AuthorId="author_id",t.CreatedAt="created_at",t.DraftId="draft_id",t.EndedAt="ended_at",t.Id="id",t.Name="name",t.Preview="preview",t.StaticLink="static_link",t.UpdatedAt="updated_at"}(Et||(Et={})),function(t){t.AuthorId="author_id",t.CreatedAt="created_at",t.DraftId="draft_id",t.EndedAt="ended_at",t.Id="id",t.Name="name",t.Preview="preview",t.StaticLink="static_link",t.UpdatedAt="updated_at"}(Ct||(Ct={})),function(t){t.LastSeen="last_seen",t.Name="name"}(At||(At={})),function(t){t.Asc="asc",t.AscNullsFirst="asc_nulls_first",t.AscNullsLast="asc_nulls_last",t.Desc="desc",t.DescNullsFirst="desc_nulls_first",t.DescNullsLast="desc_nulls_last"}(Nt||(Nt={})),function(t){t.PagePkey="page_pkey"}(It||(It={})),function(t){t.Content="content",t.CreatedAt="created_at",t.DraftId="draft_id",t.EndedAt="ended_at",t.Id="id",t.Order="order",t.UpdatedAt="updated_at"}(Dt||(Dt={})),function(t){t.Content="content",t.CreatedAt="created_at",t.DraftId="draft_id",t.EndedAt="ended_at",t.Id="id",t.Order="order",t.UpdatedAt="updated_at"}(Mt||(Mt={}));const Rt=vt`
    query findAuthorByAuth0($auth0_id: String!) {
  author(where: {auth0_id: {_eq: $auth0_id}}) {
    id
    email
    name
    last_seen
    created_at
  }
}
    `,Pt=vt`
    query getAllDrafts {
  drafts: draft(order_by: {updated_at: desc}, where: {ended_at: {_is_null: true}}) {
    id
    pages(order_by: {created_at: asc}, where: {ended_at: {_is_null: true}}) {
      content
    }
    created_at
    updated_at
    author {
      id
      email
      name
    }
    notes(order_by: {created_at: asc}, where: {ended_at: {_is_null: true}}) {
      static_link
    }
  }
}
    `,jt=vt`
    query getDraftById($id: uuid!) {
  draft: draft_by_pk(id: $id) {
    id
    created_at
    updated_at
    table_of_contents
    notes(order_by: {created_at: asc}, where: {ended_at: {_is_null: true}}) {
      id
    }
    pages(order_by: {created_at: asc}, where: {ended_at: {_is_null: true}}) {
      id
      content
      order
      margins(order_by: {created_at: asc}, where: {ended_at: {_is_null: true}}) {
        id
        name
      }
    }
  }
}
    `,Lt=vt`
    mutation updateDraftTOC($id: uuid!, $table_of_contents: jsonb!, $updated_at: timestamptz!) {
  update_draft_by_pk(
    pk_columns: {id: $id}
    _set: {table_of_contents: $table_of_contents, updated_at: $updated_at}
  ) {
    table_of_contents
    updated_at
    id
  }
}
    `,Ft=vt`
    mutation createNewDraft($author_id: uuid, $content: jsonb) {
  insert_draft_one(
    object: {author_id: $author_id, pages: {data: {content: $content}}}
  ) {
    id
    pages {
      id
      content
    }
  }
}
    `,Bt=vt`
    mutation deleteDraftById($id: uuid!, $ended_at: timestamptz) {
  update_draft_by_pk(pk_columns: {id: $id}, _set: {ended_at: $ended_at}) {
    id
  }
}
    `,zt=vt`
    query getMarginById($id: uuid!) {
  margin: margin_by_pk(id: $id) {
    id
    pageId: page_id
    img
    imgBase64
    options
  }
}
    `,Ut=vt`
    mutation createMargin($page_id: uuid!, $created_at: timestamptz!) {
  insert_margin_one(object: {page_id: $page_id, created_at: $created_at}) {
    id
  }
}
    `,Vt=vt`
    mutation saveMargin($id: uuid!, $updated_at: timestamptz!, $options: jsonb!, $img: bytea!, $name: String) {
  update_margin_by_pk(
    pk_columns: {id: $id}
    _set: {updated_at: $updated_at, options: $options, img: $img, name: $name}
  ) {
    updated_at
    id
  }
}
    `,qt=vt`
    query getAllNotes {
  notes: note(order_by: {created_at: desc}, where: {ended_at: {_is_null: true}}) {
    id
    name
    preview
    draft_id
    static_link
    updated_at
    created_at
    author {
      id
      name
      email
    }
  }
}
    `,Ht=vt`
    mutation createNode($author_id: uuid!, $created_at: timestamptz, $draft_id: uuid!, $ended_at: timestamptz, $name: String!, $preview: jsonb, $static_link: String) {
  insert_note_one(
    object: {author_id: $author_id, created_at: $created_at, draft_id: $draft_id, ended_at: $ended_at, name: $name, preview: $preview, static_link: $static_link}
  ) {
    id
    updated_at
    created_at
  }
}
    `,Wt=vt`
    mutation updateNode($id: uuid!, $ended_at: timestamptz, $name: String, $preview: jsonb, $static_link: String, $updated_at: timestamptz!) {
  update_note_by_pk(
    pk_columns: {id: $id}
    _set: {ended_at: $ended_at, name: $name, preview: $preview, static_link: $static_link, updated_at: $updated_at}
  ) {
    id
    updated_at
    created_at
  }
}
    `,Kt=vt`
    mutation updatePageById($id: uuid!, $content: jsonb!, $updated_at: timestamptz!) {
  update_page_by_pk(
    pk_columns: {id: $id}
    _set: {content: $content, updated_at: $updated_at}
  ) {
    id
  }
}
    `,$t=vt`
    mutation addPageToDraft($created_at: timestamptz!, $draft_id: uuid!, $order: Int!) {
  update_page(
    where: {draft_id: {_eq: $draft_id}, ended_at: {_is_null: true}, order: {_gte: $order}}
    _inc: {order: 1}
  ) {
    returning {
      id
      order
    }
  }
  insert_page_one(
    object: {created_at: $created_at, draft_id: $draft_id, order: $order}
  ) {
    id
    order
    content
    margins {
      id
    }
  }
}
    `,Jt=vt`
    mutation deletePage($id: uuid!, $ended_at: timestamptz!, $draft_id: uuid!, $order: Int!) {
  update_page_by_pk(pk_columns: {id: $id}, _set: {ended_at: $ended_at}) {
    id
  }
  update_page(
    where: {draft_id: {_eq: $draft_id}, ended_at: {_is_null: true}, order: {_gte: $order}}
    _inc: {order: -1}
  ) {
    returning {
      id
      order
    }
  }
}
    `,Yt=(t,e)=>t();const Zt="https://inscriptum-hasura.herokuapp.com/v1/graphql";let Xt={credentials:"include",mode:"cors",cache:"no-cache",method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"}},Gt=new r.GraphQLClient(Zt,Xt);i.f.pipe((0,o.P)((t=>{var e;return null!=(null===(e=t.data)||void 0===e?void 0:e.accessToken)&&!t.isLoading}))).subscribe((t=>{var e,n;console.log("API AUTH_ACTION.AUTH_DONE"),Xt=s.v.isAuthDisabled?Object.assign(Object.assign({},Xt),{headers:Object.assign(Object.assign({},Xt.headers),{"x-hasura-user-id":String(null===(e=t.data)||void 0===e?void 0:e.userInfo.auth0Id)})}):Object.assign(Object.assign({},Xt),{headers:Object.assign(Object.assign({},Xt.headers),{Authorization:`Bearer ${null===(n=t.data)||void 0===n?void 0:n.accessToken}`})}),Gt=new r.GraphQLClient(Zt,Xt)}));const Qt=()=>function(t,e=Yt){return{findAuthorByAuth0:(n,r)=>e((e=>t.request(Rt,n,Object.assign(Object.assign({},r),e))),"findAuthorByAuth0"),getAllDrafts:(n,r)=>e((e=>t.request(Pt,n,Object.assign(Object.assign({},r),e))),"getAllDrafts"),getDraftById:(n,r)=>e((e=>t.request(jt,n,Object.assign(Object.assign({},r),e))),"getDraftById"),updateDraftTOC:(n,r)=>e((e=>t.request(Lt,n,Object.assign(Object.assign({},r),e))),"updateDraftTOC"),createNewDraft:(n,r)=>e((e=>t.request(Ft,n,Object.assign(Object.assign({},r),e))),"createNewDraft"),deleteDraftById:(n,r)=>e((e=>t.request(Bt,n,Object.assign(Object.assign({},r),e))),"deleteDraftById"),getMarginById:(n,r)=>e((e=>t.request(zt,n,Object.assign(Object.assign({},r),e))),"getMarginById"),createMargin:(n,r)=>e((e=>t.request(Ut,n,Object.assign(Object.assign({},r),e))),"createMargin"),saveMargin:(n,r)=>e((e=>t.request(Vt,n,Object.assign(Object.assign({},r),e))),"saveMargin"),getAllNotes:(n,r)=>e((e=>t.request(qt,n,Object.assign(Object.assign({},r),e))),"getAllNotes"),createNode:(n,r)=>e((e=>t.request(Ht,n,Object.assign(Object.assign({},r),e))),"createNode"),updateNode:(n,r)=>e((e=>t.request(Wt,n,Object.assign(Object.assign({},r),e))),"updateNode"),updatePageById:(n,r)=>e((e=>t.request(Kt,n,Object.assign(Object.assign({},r),e))),"updatePageById"),addPageToDraft:(n,r)=>e((e=>t.request($t,n,Object.assign(Object.assign({},r),e))),"addPageToDraft"),deletePage:(n,r)=>e((e=>t.request(Jt,n,Object.assign(Object.assign({},r),e))),"deletePage")}}(Gt)},4807:(t,e,n)=>{"use strict";n.r(e),n.d(e,{draftListElement:()=>h});var r=n(1640),i=n(3584),o=n(5161),s=n.n(o),a=(n(5090),n(3057)),c=n(6273),u=n(1359);const l=(0,c.newDraftIconNode)(),p=(0,u.saveIconNode)(),h=(0,i.EG)()((function*(){const t=[];let e=[],i=!0;const o=t=>{t.preventDefault();const n=JSON.stringify(e),r=document.createElement("a"),i=new Blob([n],{type:"application/octet-stream"});r.href=window.URL.createObjectURL(i),r.download="drafts.json",r.click()},c=({detail:t})=>{switch(t.type){case a.DraftAction.delete:v(t.id)}},{$:u,_:h}=(0,a.doSubject)(a.getAllDrafts),{$:d,_:f}=(0,a.doSubject)(a.createNewDraft),{$:m,_:v}=(0,a.doSubject)(a.deleteDraftById);t.push(u.subscribe((t=>{e=t,i=!1,this.next()}))),t.push(d.subscribe((t=>{s()("/draft/"+t.id)}))),t.push(m.subscribe((t=>{e=e.filter((e=>e.id!==t.id)),this.next()}))),h();try{for(;;)yield(0,r.sY)(r.dy`
          <style>$${n(3510)}</style>

          <um-preloader .loading=${i}>
            <div class="row">
              <div class="twelve columns um-drafts__submenu">
                <button class="btn btn_icon" title="Export all drafts" @click=${o}>
                  ${p({})}
                </button>
                <button class="btn btn_icon" title="Create a new draft" @click=${f}>
                  ${l({})}
                </button>
              </div>
            </div>

            <inscriptum-list @action=${c} .value=${e}></inscriptum-list>
          </um-preloader>
        `,this)}finally{t.forEach((t=>t.unsubscribe()))}}))},3057:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DraftAction:()=>d,getAllDrafts:()=>f,createNewDraft:()=>m,deleteDraftById:()=>v,doSubject:()=>y});var r=n(3724),i=n(211),o=n(1410),s=n(3135),a=n(4938),c=n(7848),u=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const l="Can't find ID for a new draft",p="Author was not found",h=t=>`Can't delete draft ${t}`;var d;function f(){return u(this,void 0,void 0,(function*(){return yield(0,c.G)((()=>u(this,void 0,void 0,(function*(){const{drafts:t}=yield(0,r.S)().getAllDrafts();return t.map((t=>{const e=t.pages[0].content,{description:n,title:r,image:i}=null!=e&&"ops"in e?(0,a.Ro)(e):(0,a.WV)(e),o=t.notes.length>0?[{code:"note",link:null!=t.notes[0].static_link?{href:t.notes[0].static_link+(s.v.isDevMode?".html":""),rel:"external"}:void 0}]:void 0;return{id:t.id,preview:{title:r,description:n,image:i},linkUrl:"/draft/"+t.id,actions:[{label:"delete",type:d.delete}],tags:o}}))}))))}))}function m(){return u(this,void 0,void 0,(function*(){return yield(0,c.G)((t=>u(this,void 0,void 0,(function*(){const e=(yield(0,r.S)().findAuthorByAuth0({auth0_id:t.userInfo.auth0Id})).author[0];if(null==e)throw alert(p),new Error(p);const{insert_draft_one:n}=yield(0,r.S)().createNewDraft({author_id:e.id});if(null==n)throw alert(l),new Error(l);return n}))))}))}function v(t){return u(this,void 0,void 0,(function*(){return yield(0,c.G)((()=>u(this,void 0,void 0,(function*(){const{update_draft_by_pk:e}=yield(0,r.S)().deleteDraftById({id:t,ended_at:(new Date).toISOString()});if(null==e)throw alert(l),new Error(h(t));return e}))))}))}function y(t){const e=new i.xQ;return{$:e.asObservable(),_:(...n)=>(0,o.P)((()=>t(...n))).subscribe(e)}}!function(t){t[t.delete=0]="delete",t[t.publish=1]="publish"}(d||(d={}))},6273:(t,e,n)=>{"use strict";n.r(e),n.d(e,{newDraftIconNode:()=>s});var r=n(3584),i=n(1640),o=n(669);const s=(0,r.NG)((function*(){for(;;)yield(0,o.$)(i.YP`
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-file-text" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M14 3v4a1 1 0 0 0 1 1h4"></path>
          <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"></path>
          <line x1="9" y1="9" x2="10" y2="9"></line>
          <line x1="9" y1="13" x2="15" y2="13"></line>
          <line x1="9" y1="17" x2="15" y2="17"></line>
        </svg>
      `,this)}))},1359:(t,e,n)=>{"use strict";n.r(e),n.d(e,{saveIconNode:()=>s});var r=n(3584),i=n(1640),o=n(669);const s=(0,r.NG)((function*(){for(;;)yield(0,o.$)(i.YP`
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-device-floppy" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"></path>
          <circle cx="12" cy="14" r="2"></circle>
          <polyline points="14 4 14 8 8 8 8 4"></polyline>
        </svg>
      `,this)}))},4615:(t,e,n)=>{"use strict";n.d(e,{e:()=>s});var r=n(9233),i=n(5550),o=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class s{constructor(t,e=document.URL){this._storageService=t,this._redirectUrl=e,this.$authenticated=new r.X(null);const n=()=>new i.ZP.WebAuth({domain:"inscriptum.auth0.com",clientID:"sSGAFDwnRqJUsJw7v12KV8SAeuYtl3Cd",redirectUri:e,responseType:"token id_token",scope:"openid email",audience:"https://inscriptum.js.org"});if(s.instance)return s.instance._redirectUrl!==e&&(s.instance.webAuth=n()),s.instance;this.webAuth=n(),"true"===localStorage.getItem("isLoggedIn")?this.renewTokens():this.handleAuthentication(),s.instance=this}handleAuthentication(){var t;const e=null!==(t=sessionStorage.windowLocationHash)&&void 0!==t?t:window.location.hash;this.webAuth.parseHash({hash:e},((t,e)=>{e&&e.accessToken&&e.idToken?(window.location.hash="",this.localLogin(e)):(t&&console.warn("Error: "+t.error+". Check the console for further details."),this.$authenticated.next(!1))}))}renewTokens(){this.webAuth.checkSession({},((t,e)=>{e&&e.accessToken&&e.idToken?this.localLogin(e):t&&(console.warn("Could not get a new token "+t.error+":"+t.errorDescription+"."),this.logout())}))}login(){this.webAuth.authorize()}logout(){localStorage.removeItem("isLoggedIn"),this.accessToken="",this.idToken="",this.expiresAt=0,this.$authenticated.next(!1)}localLogin(t){return o(this,void 0,void 0,(function*(){localStorage.setItem("isLoggedIn","true"),this.expiresAt=Number(JSON.stringify(1e3*t.expiresIn+(new Date).getTime())),this.accessToken=t.accessToken,this.idToken=t.idToken;const e=yield new Promise(((t,e)=>{this.webAuth.client.userInfo(this.accessToken,((n,r)=>{n?e(n):t(r)}))}));this.userInfo=e,yield this._storageService.authenticateAuthor(this.idToken,e),void 0!==this.userInfo&&this.$authenticated.next(!0)}))}isAuthenticated(){var t=this.expiresAt||0;return"true"===localStorage.getItem("isLoggedIn")&&(new Date).getTime()<t}}},8201:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AbstractRoute:()=>a});var r=n(5161),i=n.n(r);class o{static routing(t,e){setTimeout((()=>{o.page.stop(),e.forEach((e=>{o.page(t+e.path,e.callback)})),o.page.start()}))}}o.page=i();var s=n(9233);class a{constructor(t=document.querySelector("main")||document.body){this.routerOutlet=t,this.page=o.page,this.runCallbackEvent=new s.X(void 0);const e=this.getRouter(),n=(t,e)=>{this.runCallbackEvent.next({path:t.path,ctx:t,next:e}),t.handled=!0},r=e.routers.map((t=>({path:t.path,callback:t.callback||n})));o.routing(e.rootPath,r)}}},6136:(t,e,n)=>{"use strict";n.r(e),n.d(e,{T:()=>o,draftSave:()=>s,getPageContent:()=>a,isEdit:()=>c,updateEditableText:()=>u,sanitize:()=>p,uploadDataToBlob:()=>h,showError:()=>d,updateEditable:()=>f,storageDelete:()=>m,draftClear:()=>v});var r=n(9367),i=n.n(r);let o={apiUrl:"https://inscriptum.js.org",datetime:0,pageId:0};function s(t,e){if(!t)return!1;if(!o.pageId){var n=a(!0,e);if(t!=n)return t=n,function(t,e){try{return localStorage.setItem(t,e),!!localStorage.getItem(t)}catch(t){return!1}}("draft",n)}return!1}function a(t,e){let n=e.scroll.domNode;n.querySelectorAll("textarea,input").forEach((t=>{t.setAttribute("data-value",t.value)}));let r=n.cloneNode(!0);n.querySelectorAll("textarea,input").forEach((t=>{t.removeAttribute("data-value")})),r.querySelectorAll("textarea,input").forEach((t=>{t.value=t.getAttribute("data-value")||"",t.removeAttribute("data-value")})),u(r,!1);r.querySelectorAll("[contenteditable]").forEach((t=>t.removeAttribute("contenteditable")));r.querySelectorAll("[data-placeholder]").forEach((t=>t.removeAttribute("data-placeholder")));r.querySelectorAll("[data-label]").forEach((t=>t.removeAttribute("data-label")));r.querySelectorAll("[data-title]").forEach((t=>t.removeAttribute("data-title")));r.querySelectorAll(".editable_text").forEach((t=>t.classList.remove("editable_text")));r.querySelectorAll(".focus").forEach((t=>t.classList.remove("focus")));r.querySelectorAll(".empty").forEach((t=>t.classList.remove("empty")));r.querySelectorAll('[class=""]').forEach((t=>t.removeAttribute("class")));r.querySelectorAll(".file_progress").forEach((t=>t.remove()));if(r.querySelectorAll(".cursor_wrapper").forEach((t=>t.remove())),!t){const t=r.querySelector("h1,address");t&&t.remove();const e=r.querySelector("br.inline");return e&&e.replaceWith("\n"),{data:JSON.stringify(l(r).children),length:r.innerHTML.length}}return r.querySelectorAll("h1").forEach((t=>{t.querySelector("br")||t.append(document.createElement("br"))})),r.querySelectorAll("address").forEach((t=>{t.querySelector("br")||t.append(document.createElement("br"))})),r.innerHTML}function c(){return document.getElementsByClassName("tl_article_edit").length>0}function u(t,e){void 0===e&&(e=c()),e?t.querySelectorAll(".editable_text").forEach((t=>{let e=!1;if(t.childNodes.forEach((t=>{!e&&t&&t.classList&&(e=t.classList.contains("editable_input"))})),!e){let e=t.textContent||"",n=document.createElement("textarea");n.classList.add("editable_input"),n.setAttribute("tabindex","-1"),n.setAttribute("rows","1"),n.value=e,e||t.classList.add("empty"),t.innerHTML="",t.append(n),i()(n)}})):t.querySelectorAll(".editable_text > .editable_input").forEach((t=>{let e=t.value,n=t.parentNode;n.innerHTML="",n.textContent=e}))}function l(t){if(!t.tagName)return t.data;let e={tag:t.tagName.toLowerCase()};if(t.attributes.length){e.attrs={};for(var n=0;n<t.attributes.length;n++){let r=t.attributes[n];e.attrs[r.name]=r.value}}if(t.childNodes.length){e.children=[];for(n=0;n<t.childNodes.length;n++)e.children.push(l(t.childNodes[n]))}return e}function p(t,e){let n=document.createElement("a");n.href=t;let r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}function h(t){for(var e=atob(t.base64_data),n=[],r=0;r<e.length;r++)n.push(e.charCodeAt(r));return new Blob([new Uint8Array(n)],{type:t.type})}function d(t){let e=document.querySelector("#_error_msg");e.textContent=t,clearTimeout(e.to),e.classList.add("shown"),e.to=setTimeout((()=>{e.classList.remove("shown")}),3e3)}function f(t,e,n,r,i,o){if(r&&r.classList.toggle("tl_article_edit",t),u(document.body),e&&(e.enable(t),t&&e.focus()),!t&&i&&o){const t=i.querySelector("h1"),r=t?t.textContent:"",s=i.querySelector("address"),a=s?s.textContent:"",c=i.querySelector("address a"),u=c&&c.getAttribute("href");o.querySelector("h1").textContent=r,o.querySelector("address a").textContent=a,u?o.querySelector("address a").setAttribute("href",u):o.querySelector("address a").removeAttribute("href"),n.hideFormatTooltip(e),n.hideBlocksTooltip()}}function m(t){try{return localStorage.removeItem(t),!0}catch(t){return!1}}function v(){m("draft")}!function(){var t=document.querySelector("time");if(t&&o.datetime){var e=new Date(1e3*o.datetime);let n="January February March April May June July August September October November December".split(" ")[e.getMonth()],r=e.getDate();t.textContent=n+" "+(10>r?"0":"")+r+", "+e.getFullYear()}}()},8770:(t,e,n)=>{"use strict";n.r(e),n.d(e,{uploadFileService:()=>r});function r(t,e){return new Promise(((n,r)=>{var i=new XMLHttpRequest,o=new FormData;i.open("POST","https://api.cloudinary.com/v1_1/inscriptum/upload",!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.upload.addEventListener("progress",(function(t){t.lengthComputable&&e&&e(t.loaded,t.total)})),e&&e(0,1),o.append("upload_preset","cz5pibn5"),o.append("tags","browser_upload"),o.append("file",t),i.send(o),i.onreadystatechange=t=>{if(4==i.readyState&&200==i.status){var e=JSON.parse(i.responseText);console.log(1111,e),e.src=e.secure_url,n(e)}},i.onerror=function(){r(new Error("Network Error"))}}))}},5090:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ListComponent:()=>f});var r=n(745),i=n(3445),o=n(7157),s=n(6201),a=n(8947),c=n(1436),u={prefix:"far",iconName:"save",icon:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"]};const l=new WeakMap,p=(0,i.XM)((t=>e=>{const n=l.get(e);if(void 0===t&&e instanceof i._l){if(void 0!==n||!l.has(e)){const t=e.committer.name;e.committer.element.removeAttribute(t)}}else t!==n&&e.setValue(t);l.set(e,t)}));var h=n(1943),d=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};a.vI.add(c.gc2,u);let f=class extends r.yB{constructor(){super(s.Z,!1),this.styles=i.dy`
    <style>
      ${n(7432)}
      ${n(7880)}
    </style>
  `,this._list=[]}set value(t){void 0!==t&&(this._list=t)}connectedCallback(){super.connectedCallback(),document.addEventListener("click",this.closePopovers.bind(this))}disconnectedCallback(){document.removeEventListener("click",this.closePopovers.bind(this))}render(){if(this._list.length<1)return i.dy``;const t=(t,e=[])=>e.length>0?i.dy`
            <div class="um-drafts__item-actions">
              <span @click=${this.openPopover.bind(this)} class="um-drafts__item-subcontent" data-popover=${t}>
                ${t} <i class="fas fa-angle-down" style="color:#999"></i>
              </span>
              <div id=${t} class="popover popover_right">
                <ul class="popover-list">
                  ${e.map((e=>i.dy`
                      <li class="popover-item">
                        <a class="popover-link" @click=${this.dispatchAction.bind(this,{type:e.type,id:t})}>${e.label}</a>
                      </li>
                    `))}
                </ul>
              </div>
            </div>
          `:"",e=(0,o.r)(this._list,(t=>t.id),((e,n)=>{var r,o;return i.dy`
        <div class="um-drafts__item">
          ${(e.tags||[]).map((t=>null!=t.link?i.dy`<a href="/${t.link.href}" rel=${p(t.link.rel)}>${t.code}</a>`:t.code))}
          <h6 class="docs-header">${e.preview.title}</h6>
          <div class="row">
            ${(null===(r=e.preview.image)||void 0===r?void 0:r.length)>0?i.dy`
                  <div class="two columns draft-preview">
                    <img class="draft-preview__img" src="${e.preview.image}" />
                  </div>
                `:""}
            <div class=${(null===(o=e.preview.image)||void 0===o?void 0:o.length)>0?"ten columns":""}>
              <a class="um-drafts__item-link" href=${e.linkUrl} rel=${p(e.linkRel)}>
                <p class="docs-preview">${(0,h.A)(e.preview.description)}</p>
              </a>
              ${t(e.id,"function"==typeof e.actions?e.actions():e.actions)}
            </div>
          </div>
        </div>
      `}));return i.dy`
      ${this.styles}
      <div class="container">${e}</div>
    `}dispatchAction(t){this.dispatchEvent(new CustomEvent("action",{detail:t}))}openPopover(t){var e;t.preventDefault(),this.closePopovers();const n=null===(e=t.target)||void 0===e?void 0:e.dataset.popover,r=this.querySelector(`[id="${n}"]`);null!==r&&r.classList.add("open"),t.stopImmediatePropagation()}closePopovers(){this.querySelectorAll(".popover.open").forEach((t=>{t.classList.remove("open")}))}};d([(0,r.SB)()],f.prototype,"_list",void 0),f=d([(0,r.Qr)("inscriptum-list")],f)},5467:(t,e,n)=>{"use strict";n.d(e,{C:()=>i});const r="AUTH_ACTION",i={AUTH:Symbol(`[${r}] AUTH`),AUTH_DONE:Symbol(`[${r}] AUTH_DONE`),AUTH_FAIL:Symbol(`[${r}] AUTH_FAIL`)}},7253:(t,e,n)=>{"use strict";n.d(e,{f:()=>Vs});var r=n(5467),i=n(9048),o=n(1410),s=n(7507),a=n(3375),c=n(3109);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return(0,s.K)(n)?(t.pop(),(0,c.r)(t,n)):(0,a.n)(t)}var l=n(6008),p=n(6381),h=n(5709),d=n(486),f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function y(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function g(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function b(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function w(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function _(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function k(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function S(t,e){return t(e={exports:{}},e.exports),e.exports}var T,O,E=function(t){return t&&t.Math==Math&&t},C=E("object"==typeof globalThis&&globalThis)||E("object"==typeof window&&window)||E("object"==typeof self&&self)||E("object"==typeof x&&x)||function(){return this}()||Function("return this")(),A=function(t){try{return!!t()}catch(t){return!0}},N=!A((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),I={}.propertyIsEnumerable,D=Object.getOwnPropertyDescriptor,M={f:D&&!I.call({1:2},1)?function(t){var e=D(this,t);return!!e&&e.enumerable}:I},R=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},P={}.toString,j=function(t){return P.call(t).slice(8,-1)},L="".split,F=A((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==j(t)?L.call(t,""):Object(t)}:Object,B=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},z=function(t){return F(B(t))},U=function(t){return"function"==typeof t},V=function(t){return"object"==typeof t?null!==t:U(t)},q=function(t){return U(t)?t:void 0},H=function(t,e){return arguments.length<2?q(C[t]):C[t]&&C[t][e]},W=H("navigator","userAgent")||"",K=C.process,$=C.Deno,J=K&&K.versions||$&&$.version,Y=J&&J.v8;Y?O=(T=Y.split("."))[0]<4?1:T[0]+T[1]:W&&(!(T=W.match(/Edge\/(\d+)/))||T[1]>=74)&&(T=W.match(/Chrome\/(\d+)/))&&(O=T[1]);var Z=O&&+O,X=!!Object.getOwnPropertySymbols&&!A((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Z&&Z<41})),G=X&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Q=G?function(t){return"symbol"==typeof t}:function(t){var e=H("Symbol");return U(e)&&Object(t)instanceof e},tt=function(t){try{return String(t)}catch(t){return"Object"}},et=function(t){if(U(t))return t;throw TypeError(tt(t)+" is not a function")},nt=function(t,e){var n=t[e];return null==n?void 0:et(n)},rt=function(t,e){try{Object.defineProperty(C,t,{value:e,configurable:!0,writable:!0})}catch(n){C[t]=e}return e},it=C["__core-js_shared__"]||rt("__core-js_shared__",{}),ot=S((function(t){(t.exports=function(t,e){return it[t]||(it[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.18.2",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})})),st=function(t){return Object(B(t))},at={}.hasOwnProperty,ct=Object.hasOwn||function(t,e){return at.call(st(t),e)},ut=0,lt=Math.random(),pt=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++ut+lt).toString(36)},ht=ot("wks"),dt=C.Symbol,ft=G?dt:dt&&dt.withoutSetter||pt,mt=function(t){return ct(ht,t)&&(X||"string"==typeof ht[t])||(X&&ct(dt,t)?ht[t]=dt[t]:ht[t]=ft("Symbol."+t)),ht[t]},vt=mt("toPrimitive"),yt=function(t){var e=function(t,e){if(!V(t)||Q(t))return t;var n,r=nt(t,vt);if(r){if(void 0===e&&(e="default"),n=r.call(t,e),!V(n)||Q(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&U(n=t.toString)&&!V(r=n.call(t)))return r;if(U(n=t.valueOf)&&!V(r=n.call(t)))return r;if("string"!==e&&U(n=t.toString)&&!V(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(t,e)}(t,"string");return Q(e)?e:String(e)},gt=C.document,bt=V(gt)&&V(gt.createElement),wt=function(t){return bt?gt.createElement(t):{}},_t=!N&&!A((function(){return 7!=Object.defineProperty(wt("div"),"a",{get:function(){return 7}}).a})),xt=Object.getOwnPropertyDescriptor,kt={f:N?xt:function(t,e){if(t=z(t),e=yt(e),_t)try{return xt(t,e)}catch(t){}if(ct(t,e))return R(!M.f.call(t,e),t[e])}},St=function(t){if(V(t))return t;throw TypeError(String(t)+" is not an object")},Tt=Object.defineProperty,Ot={f:N?Tt:function(t,e,n){if(St(t),e=yt(e),St(n),_t)try{return Tt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Et=N?function(t,e,n){return Ot.f(t,e,R(1,n))}:function(t,e,n){return t[e]=n,t},Ct=Function.toString;U(it.inspectSource)||(it.inspectSource=function(t){return Ct.call(t)});var At,Nt,It,Dt=it.inspectSource,Mt=C.WeakMap,Rt=U(Mt)&&/native code/.test(Dt(Mt)),Pt=ot("keys"),jt=function(t){return Pt[t]||(Pt[t]=pt(t))},Lt={},Ft=C.WeakMap;if(Rt||it.state){var Bt=it.state||(it.state=new Ft),zt=Bt.get,Ut=Bt.has,Vt=Bt.set;At=function(t,e){if(Ut.call(Bt,t))throw new TypeError("Object already initialized");return e.facade=t,Vt.call(Bt,t,e),e},Nt=function(t){return zt.call(Bt,t)||{}},It=function(t){return Ut.call(Bt,t)}}else{var qt=jt("state");Lt[qt]=!0,At=function(t,e){if(ct(t,qt))throw new TypeError("Object already initialized");return e.facade=t,Et(t,qt,e),e},Nt=function(t){return ct(t,qt)?t[qt]:{}},It=function(t){return ct(t,qt)}}var Ht={set:At,get:Nt,has:It,enforce:function(t){return It(t)?Nt(t):At(t,{})},getterFor:function(t){return function(e){var n;if(!V(e)||(n=Nt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Wt=Function.prototype,Kt=N&&Object.getOwnPropertyDescriptor,$t=ct(Wt,"name"),Jt={EXISTS:$t,PROPER:$t&&"something"===function(){}.name,CONFIGURABLE:$t&&(!N||N&&Kt(Wt,"name").configurable)},Yt=S((function(t){var e=Jt.CONFIGURABLE,n=Ht.get,r=Ht.enforce,i=String(String).split("String");(t.exports=function(t,n,o,s){var a,c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,l=!!s&&!!s.noTargetGet,p=s&&void 0!==s.name?s.name:n;U(o)&&("Symbol("===String(p).slice(0,7)&&(p="["+String(p).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!ct(o,"name")||e&&o.name!==p)&&Et(o,"name",p),(a=r(o)).source||(a.source=i.join("string"==typeof p?p:""))),t!==C?(c?!l&&t[n]&&(u=!0):delete t[n],u?t[n]=o:Et(t,n,o)):u?t[n]=o:rt(n,o)})(Function.prototype,"toString",(function(){return U(this)&&n(this).source||Dt(this)}))})),Zt=Math.ceil,Xt=Math.floor,Gt=function(t){var e=+t;return e!=e||0===e?0:(e>0?Xt:Zt)(e)},Qt=Math.max,te=Math.min,ee=Math.min,ne=function(t){return t>0?ee(Gt(t),9007199254740991):0},re=function(t){return ne(t.length)},ie=function(t){return function(e,n,r){var i,o=z(e),s=re(o),a=function(t,e){var n=Gt(t);return n<0?Qt(n+e,0):te(n,e)}(r,s);if(t&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},oe={includes:ie(!0),indexOf:ie(!1)},se=oe.indexOf,ae=function(t,e){var n,r=z(t),i=0,o=[];for(n in r)!ct(Lt,n)&&ct(r,n)&&o.push(n);for(;e.length>i;)ct(r,n=e[i++])&&(~se(o,n)||o.push(n));return o},ce=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ue=ce.concat("length","prototype"),le={f:Object.getOwnPropertyNames||function(t){return ae(t,ue)}},pe={f:Object.getOwnPropertySymbols},he=H("Reflect","ownKeys")||function(t){var e=le.f(St(t)),n=pe.f;return n?e.concat(n(t)):e},de=function(t,e){for(var n=he(e),r=Ot.f,i=kt.f,o=0;o<n.length;o++){var s=n[o];ct(t,s)||r(t,s,i(e,s))}},fe=/#|\.prototype\./,me=function(t,e){var n=ye[ve(t)];return n==be||n!=ge&&(U(e)?A(e):!!e)},ve=me.normalize=function(t){return String(t).replace(fe,".").toLowerCase()},ye=me.data={},ge=me.NATIVE="N",be=me.POLYFILL="P",we=me,_e=kt.f,xe=function(t,e){var n,r,i,o,s,a=t.target,c=t.global,u=t.stat;if(n=c?C:u?C[a]||rt(a,{}):(C[a]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(s=_e(n,r))&&s.value:n[r],!we(c?r:a+(u?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;de(o,i)}(t.sham||i&&i.sham)&&Et(o,"sham",!0),Yt(n,r,o,t)}},ke={};ke[mt("toStringTag")]="z";var Se,Te="[object z]"===String(ke),Oe=mt("toStringTag"),Ee="Arguments"==j(function(){return arguments}()),Ce=Te?j:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Oe))?n:Ee?j(e):"Object"==(r=j(e))&&U(e.callee)?"Arguments":r},Ae=function(t){if("Symbol"===Ce(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)},Ne=mt("match"),Ie=function(t){if(function(t){var e;return V(t)&&(void 0!==(e=t[Ne])?!!e:"RegExp"==j(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},De=mt("match"),Me=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[De]=!1,"/./"[t](e)}catch(t){}}return!1},Re=kt.f,Pe="".startsWith,je=Math.min,Le=Me("startsWith"),Fe=!(Le||(Se=Re(String.prototype,"startsWith"),!Se||Se.writable));xe({target:"String",proto:!0,forced:!Fe&&!Le},{startsWith:function(t){var e=Ae(B(this));Ie(t);var n=ne(je(arguments.length>1?arguments[1]:void 0,e.length)),r=Ae(t);return Pe?Pe.call(e,r,n):e.slice(n,n+r.length)===r}});var Be=function(t,e,n){if(et(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},ze=Function.call,Ue=function(t,e,n){return Be(ze,C[t].prototype[e],n)};Ue("String","startsWith");var Ve=Array.isArray||function(t){return"Array"==j(t)},qe=function(t,e,n){var r=yt(e);r in t?Ot.f(t,r,R(0,n)):t[r]=n},He=[],We=H("Reflect","construct"),Ke=/^\s*(?:class|function)\b/,$e=Ke.exec,Je=!Ke.exec((function(){})),Ye=function(t){if(!U(t))return!1;try{return We(Object,He,t),!0}catch(t){return!1}},Ze=!We||A((function(){var t;return Ye(Ye.call)||!Ye(Object)||!Ye((function(){t=!0}))||t}))?function(t){if(!U(t))return!1;switch(Ce(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Je||!!$e.call(Ke,Dt(t))}:Ye,Xe=mt("species"),Ge=function(t,e){return new(function(t){var e;return Ve(t)&&(e=t.constructor,(Ze(e)&&(e===Array||Ve(e.prototype))||V(e)&&null===(e=e[Xe]))&&(e=void 0)),void 0===e?Array:e}(t))(0===e?0:e)},Qe=mt("species"),tn=mt("isConcatSpreadable"),en=Z>=51||!A((function(){var t=[];return t[tn]=!1,t.concat()[0]!==t})),nn=("concat",Z>=51||!A((function(){var t=[];return(t.constructor={})[Qe]=function(){return{foo:1}},1!==t.concat(Boolean).foo}))),rn=function(t){if(!V(t))return!1;var e=t[tn];return void 0!==e?!!e:Ve(t)};xe({target:"Array",proto:!0,forced:!en||!nn},{concat:function(t){var e,n,r,i,o,s=st(this),a=Ge(s,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(rn(o=-1===e?s:arguments[e])){if(c+(i=re(o))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,c++)n in o&&qe(a,c,o[n])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");qe(a,c++,o)}return a.length=c,a}});var on=Te?{}.toString:function(){return"[object "+Ce(this)+"]"};Te||Yt(Object.prototype,"toString",on,{unsafe:!0});var sn,an=Object.keys||function(t){return ae(t,ce)},cn=N?Object.defineProperties:function(t,e){St(t);for(var n,r=an(e),i=r.length,o=0;i>o;)Ot.f(t,n=r[o++],e[n]);return t},un=H("document","documentElement"),ln=jt("IE_PROTO"),pn=function(){},hn=function(t){return"<script>"+t+"<\/script>"},dn=function(t){t.write(hn("")),t.close();var e=t.parentWindow.Object;return t=null,e},fn=function(){try{sn=new ActiveXObject("htmlfile")}catch(t){}var t,e;fn="undefined"!=typeof document?document.domain&&sn?dn(sn):((e=wt("iframe")).style.display="none",un.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(hn("document.F=Object")),t.close(),t.F):dn(sn);for(var n=ce.length;n--;)delete fn.prototype[ce[n]];return fn()};Lt[ln]=!0;var mn=Object.create||function(t,e){var n;return null!==t?(pn.prototype=St(t),n=new pn,pn.prototype=null,n[ln]=t):n=fn(),void 0===e?n:cn(n,e)},vn=le.f,yn={}.toString,gn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],bn={f:function(t){return gn&&"[object Window]"==yn.call(t)?function(t){try{return vn(t)}catch(t){return gn.slice()}}(t):vn(z(t))}},wn={f:mt},_n=C,xn=Ot.f,kn=function(t){var e=_n.Symbol||(_n.Symbol={});ct(e,t)||xn(e,t,{value:wn.f(t)})},Sn=Ot.f,Tn=mt("toStringTag"),On=function(t,e,n){t&&!ct(t=n?t:t.prototype,Tn)&&Sn(t,Tn,{configurable:!0,value:e})},En=[].push,Cn=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,s=7==t,a=5==t||o;return function(c,u,l,p){for(var h,d,f=st(c),m=F(f),v=Be(u,l,3),y=re(m),g=0,b=p||Ge,w=e?b(c,y):n||s?b(c,0):void 0;y>g;g++)if((a||g in m)&&(d=v(h=m[g],g,f),t))if(e)w[g]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:En.call(w,h)}else switch(t){case 4:return!1;case 7:En.call(w,h)}return o?-1:r||i?i:w}},An=[Cn(0),Cn(1),Cn(2),Cn(3),Cn(4),Cn(5),Cn(6),Cn(7)][0],Nn=jt("hidden"),In=mt("toPrimitive"),Dn=Ht.set,Mn=Ht.getterFor("Symbol"),Rn=Object.prototype,Pn=C.Symbol,jn=H("JSON","stringify"),Ln=kt.f,Fn=Ot.f,Bn=bn.f,zn=M.f,Un=ot("symbols"),Vn=ot("op-symbols"),qn=ot("string-to-symbol-registry"),Hn=ot("symbol-to-string-registry"),Wn=ot("wks"),Kn=C.QObject,$n=!Kn||!Kn.prototype||!Kn.prototype.findChild,Jn=N&&A((function(){return 7!=mn(Fn({},"a",{get:function(){return Fn(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Ln(Rn,e);r&&delete Rn[e],Fn(t,e,n),r&&t!==Rn&&Fn(Rn,e,r)}:Fn,Yn=function(t,e){var n=Un[t]=mn(Pn.prototype);return Dn(n,{type:"Symbol",tag:t,description:e}),N||(n.description=e),n},Zn=function(t,e,n){t===Rn&&Zn(Vn,e,n),St(t);var r=yt(e);return St(n),ct(Un,r)?(n.enumerable?(ct(t,Nn)&&t[Nn][r]&&(t[Nn][r]=!1),n=mn(n,{enumerable:R(0,!1)})):(ct(t,Nn)||Fn(t,Nn,R(1,{})),t[Nn][r]=!0),Jn(t,r,n)):Fn(t,r,n)},Xn=function(t,e){St(t);var n=z(e),r=an(n).concat(er(n));return An(r,(function(e){N&&!Gn.call(n,e)||Zn(t,e,n[e])})),t},Gn=function(t){var e=yt(t),n=zn.call(this,e);return!(this===Rn&&ct(Un,e)&&!ct(Vn,e))&&(!(n||!ct(this,e)||!ct(Un,e)||ct(this,Nn)&&this[Nn][e])||n)},Qn=function(t,e){var n=z(t),r=yt(e);if(n!==Rn||!ct(Un,r)||ct(Vn,r)){var i=Ln(n,r);return!i||!ct(Un,r)||ct(n,Nn)&&n[Nn][r]||(i.enumerable=!0),i}},tr=function(t){var e=Bn(z(t)),n=[];return An(e,(function(t){ct(Un,t)||ct(Lt,t)||n.push(t)})),n},er=function(t){var e=t===Rn,n=Bn(e?Vn:z(t)),r=[];return An(n,(function(t){!ct(Un,t)||e&&!ct(Rn,t)||r.push(Un[t])})),r};if(X||(Yt((Pn=function(){if(this instanceof Pn)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Ae(arguments[0]):void 0,e=pt(t),n=function(t){this===Rn&&n.call(Vn,t),ct(this,Nn)&&ct(this[Nn],e)&&(this[Nn][e]=!1),Jn(this,e,R(1,t))};return N&&$n&&Jn(Rn,e,{configurable:!0,set:n}),Yn(e,t)}).prototype,"toString",(function(){return Mn(this).tag})),Yt(Pn,"withoutSetter",(function(t){return Yn(pt(t),t)})),M.f=Gn,Ot.f=Zn,kt.f=Qn,le.f=bn.f=tr,pe.f=er,wn.f=function(t){return Yn(mt(t),t)},N&&(Fn(Pn.prototype,"description",{configurable:!0,get:function(){return Mn(this).description}}),Yt(Rn,"propertyIsEnumerable",Gn,{unsafe:!0}))),xe({global:!0,wrap:!0,forced:!X,sham:!X},{Symbol:Pn}),An(an(Wn),(function(t){kn(t)})),xe({target:"Symbol",stat:!0,forced:!X},{for:function(t){var e=Ae(t);if(ct(qn,e))return qn[e];var n=Pn(e);return qn[e]=n,Hn[n]=e,n},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol");if(ct(Hn,t))return Hn[t]},useSetter:function(){$n=!0},useSimple:function(){$n=!1}}),xe({target:"Object",stat:!0,forced:!X,sham:!N},{create:function(t,e){return void 0===e?mn(t):Xn(mn(t),e)},defineProperty:Zn,defineProperties:Xn,getOwnPropertyDescriptor:Qn}),xe({target:"Object",stat:!0,forced:!X},{getOwnPropertyNames:tr,getOwnPropertySymbols:er}),xe({target:"Object",stat:!0,forced:A((function(){pe.f(1)}))},{getOwnPropertySymbols:function(t){return pe.f(st(t))}}),jn){var nr=!X||A((function(){var t=Pn();return"[null]"!=jn([t])||"{}"!=jn({a:t})||"{}"!=jn(Object(t))}));xe({target:"JSON",stat:!0,forced:nr},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(V(e)||void 0!==t)&&!Q(t))return Ve(e)||(e=function(t,e){if(U(r)&&(e=r.call(this,t,e)),!Q(e))return e}),i[1]=e,jn.apply(null,i)}})}if(!Pn.prototype[In]){var rr=Pn.prototype.valueOf;Yt(Pn.prototype,In,(function(){return rr.apply(this,arguments)}))}On(Pn,"Symbol"),Lt[Nn]=!0,kn("asyncIterator");var ir=Ot.f,or=C.Symbol;if(N&&U(or)&&(!("description"in or.prototype)||void 0!==or().description)){var sr={},ar=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof ar?new or(t):void 0===t?or():or(t);return""===t&&(sr[e]=!0),e};de(ar,or);var cr=ar.prototype=or.prototype;cr.constructor=ar;var ur=cr.toString,lr="Symbol(test)"==String(or("test")),pr=/^Symbol\((.*)\)[^)]+$/;ir(cr,"description",{configurable:!0,get:function(){var t=V(this)?this.valueOf():this,e=ur.call(t);if(ct(sr,t))return"";var n=lr?e.slice(7,-1):e.replace(pr,"$1");return""===n?void 0:n}}),xe({global:!0,forced:!0},{Symbol:ar})}kn("hasInstance"),kn("isConcatSpreadable"),kn("iterator"),kn("match"),kn("matchAll"),kn("replace"),kn("search"),kn("species"),kn("split"),kn("toPrimitive"),kn("toStringTag"),kn("unscopables"),On(C.JSON,"JSON",!0),On(Math,"Math",!0),xe({global:!0},{Reflect:{}}),On(C.Reflect,"Reflect",!0),_n.Symbol;var hr,dr,fr,mr=function(t){return function(e,n){var r,i,o=Ae(B(e)),s=Gt(n),a=o.length;return s<0||s>=a?t?"":void 0:(r=o.charCodeAt(s))<55296||r>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?t?o.charAt(s):r:t?o.slice(s,s+2):i-56320+(r-55296<<10)+65536}},vr={codeAt:mr(!1),charAt:mr(!0)},yr=!A((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),gr=jt("IE_PROTO"),br=Object.prototype,wr=yr?Object.getPrototypeOf:function(t){var e=st(t);if(ct(e,gr))return e[gr];var n=e.constructor;return U(n)&&e instanceof n?n.prototype:e instanceof Object?br:null},_r=mt("iterator"),xr=!1;[].keys&&("next"in(fr=[].keys())?(dr=wr(wr(fr)))!==Object.prototype&&(hr=dr):xr=!0),(null==hr||A((function(){var t={};return hr[_r].call(t)!==t})))&&(hr={}),U(hr[_r])||Yt(hr,_r,(function(){return this}));var kr={IteratorPrototype:hr,BUGGY_SAFARI_ITERATORS:xr},Sr={},Tr=kr.IteratorPrototype,Or=function(){return this},Er=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return St(n),function(t){if("object"==typeof t||U(t))return t;throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Cr=Jt.PROPER,Ar=Jt.CONFIGURABLE,Nr=kr.IteratorPrototype,Ir=kr.BUGGY_SAFARI_ITERATORS,Dr=mt("iterator"),Mr=function(){return this},Rr=function(t,e,n,r,i,o,s){!function(t,e,n){var r=e+" Iterator";t.prototype=mn(Tr,{next:R(1,n)}),On(t,r,!1),Sr[r]=Or}(n,e,r);var a,c,u,l=function(t){if(t===i&&m)return m;if(!Ir&&t in d)return d[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},p=e+" Iterator",h=!1,d=t.prototype,f=d[Dr]||d["@@iterator"]||i&&d[i],m=!Ir&&f||l(i),v="Array"==e&&d.entries||f;if(v&&(a=wr(v.call(new t)))!==Object.prototype&&a.next&&(wr(a)!==Nr&&(Er?Er(a,Nr):U(a[Dr])||Yt(a,Dr,Mr)),On(a,p,!0)),Cr&&"values"==i&&f&&"values"!==f.name&&(Ar?Et(d,"name","values"):(h=!0,m=function(){return f.call(this)})),i)if(c={values:l("values"),keys:o?m:l("keys"),entries:l("entries")},s)for(u in c)(Ir||h||!(u in d))&&Yt(d,u,c[u]);else xe({target:e,proto:!0,forced:Ir||h},c);return d[Dr]!==m&&Yt(d,Dr,m,{name:i}),Sr[e]=m,c},Pr=vr.charAt,jr=Ht.set,Lr=Ht.getterFor("String Iterator");Rr(String,"String",(function(t){jr(this,{type:"String Iterator",string:Ae(t),index:0})}),(function(){var t,e=Lr(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Pr(n,r),e.index+=t.length,{value:t,done:!1})}));var Fr=function(t,e,n){var r,i;St(t);try{if(!(r=nt(t,"return"))){if("throw"===e)throw n;return n}r=r.call(t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return St(r),n},Br=function(t,e,n,r){try{return r?e(St(n)[0],n[1]):e(n)}catch(e){Fr(t,"throw",e)}},zr=mt("iterator"),Ur=Array.prototype,Vr=function(t){return void 0!==t&&(Sr.Array===t||Ur[zr]===t)},qr=mt("iterator"),Hr=function(t){if(null!=t)return nt(t,qr)||nt(t,"@@iterator")||Sr[Ce(t)]},Wr=function(t,e){var n=arguments.length<2?Hr(t):e;if(et(n))return St(n.call(t));throw TypeError(String(t)+" is not iterable")},Kr=mt("iterator"),$r=!1;try{var Jr=0,Yr={next:function(){return{done:!!Jr++}},return:function(){$r=!0}};Yr[Kr]=function(){return this},Array.from(Yr,(function(){throw 2}))}catch(f){}var Zr=function(t,e){if(!e&&!$r)return!1;var n=!1;try{var r={};r[Kr]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Xr=!Zr((function(t){Array.from(t)}));xe({target:"Array",stat:!0,forced:Xr},{from:function(t){var e=st(t),n=Ze(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=Be(i,r>2?arguments[2]:void 0,2));var s,a,c,u,l,p,h=Hr(e),d=0;if(!h||this==Array&&Vr(h))for(s=re(e),a=n?new this(s):Array(s);s>d;d++)p=o?i(e[d],d):e[d],qe(a,d,p);else for(l=(u=Wr(e,h)).next,a=n?new this:[];!(c=l.call(u)).done;d++)p=o?Br(u,i,[c.value,d],!0):c.value,qe(a,d,p);return a.length=d,a}}),_n.Array.from;var Gr,Qr,ti,ei="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,ni=Ot.f,ri=C.Int8Array,ii=ri&&ri.prototype,oi=C.Uint8ClampedArray,si=oi&&oi.prototype,ai=ri&&wr(ri),ci=ii&&wr(ii),ui=Object.prototype,li=ui.isPrototypeOf,pi=mt("toStringTag"),hi=pt("TYPED_ARRAY_TAG"),di=pt("TYPED_ARRAY_CONSTRUCTOR"),fi=ei&&!!Er&&"Opera"!==Ce(C.opera),mi=!1,vi={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},yi={BigInt64Array:8,BigUint64Array:8},gi=function(t){if(!V(t))return!1;var e=Ce(t);return ct(vi,e)||ct(yi,e)};for(Gr in vi)(ti=(Qr=C[Gr])&&Qr.prototype)?Et(ti,di,Qr):fi=!1;for(Gr in yi)(ti=(Qr=C[Gr])&&Qr.prototype)&&Et(ti,di,Qr);if((!fi||!U(ai)||ai===Function.prototype)&&(ai=function(){throw TypeError("Incorrect invocation")},fi))for(Gr in vi)C[Gr]&&Er(C[Gr],ai);if((!fi||!ci||ci===ui)&&(ci=ai.prototype,fi))for(Gr in vi)C[Gr]&&Er(C[Gr].prototype,ci);if(fi&&wr(si)!==ci&&Er(si,ci),N&&!ct(ci,pi))for(Gr in mi=!0,ni(ci,pi,{get:function(){return V(this)?this[hi]:void 0}}),vi)C[Gr]&&Et(C[Gr],hi,Gr);var bi={NATIVE_ARRAY_BUFFER_VIEWS:fi,TYPED_ARRAY_CONSTRUCTOR:di,TYPED_ARRAY_TAG:mi&&hi,aTypedArray:function(t){if(gi(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(U(t)&&(!Er||li.call(ai,t)))return t;throw TypeError(tt(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(N){if(n)for(var r in vi){var i=C[r];if(i&&ct(i.prototype,t))try{delete i.prototype[t]}catch(t){}}ci[t]&&!n||Yt(ci,t,n?e:fi&&ii[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(N){if(Er){if(n)for(r in vi)if((i=C[r])&&ct(i,t))try{delete i[t]}catch(t){}if(ai[t]&&!n)return;try{return Yt(ai,t,n?e:fi&&ai[t]||e)}catch(t){}}for(r in vi)!(i=C[r])||i[t]&&!n||Yt(i,t,e)}},isView:function(t){if(!V(t))return!1;var e=Ce(t);return"DataView"===e||ct(vi,e)||ct(yi,e)},isTypedArray:gi,TypedArray:ai,TypedArrayPrototype:ci},wi=mt("species"),_i=bi.TYPED_ARRAY_CONSTRUCTOR,xi=bi.aTypedArrayConstructor,ki=bi.aTypedArray,Si=[].slice;(0,bi.exportTypedArrayMethod)("slice",(function(t,e){for(var n=Si.call(ki(this),t,e),r=xi(function(t,e){var n,r=St(t).constructor;return void 0===r||null==(n=St(r)[wi])?e:function(t){if(Ze(t))return t;throw TypeError(tt(t)+" is not a constructor")}(n)}(this,this[_i])),i=0,o=n.length,s=new r(o);o>i;)s[i]=n[i++];return s}),A((function(){new Int8Array(1).slice()})));var Ti=mt("unscopables"),Oi=Array.prototype;null==Oi[Ti]&&Ot.f(Oi,Ti,{configurable:!0,value:mn(null)});var Ei=function(t){Oi[Ti][t]=!0},Ci=oe.includes;xe({target:"Array",proto:!0},{includes:function(t){return Ci(this,t,arguments.length>1?arguments[1]:void 0)}}),Ei("includes"),Ue("Array","includes"),xe({target:"String",proto:!0,forced:!Me("includes")},{includes:function(t){return!!~Ae(B(this)).indexOf(Ae(Ie(t)),arguments.length>1?arguments[1]:void 0)}}),Ue("String","includes");var Ai=Ht.set,Ni=Ht.getterFor("Array Iterator");Rr(Array,"Array",(function(t,e){Ai(this,{type:"Array Iterator",target:z(t),index:0,kind:e})}),(function(){var t=Ni(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),Sr.Arguments=Sr.Array,Ei("keys"),Ei("values"),Ei("entries");var Ii=!A((function(){return Object.isExtensible(Object.preventExtensions({}))})),Di=S((function(t){var e=Ot.f,n=!1,r=pt("meta"),i=0,o=Object.isExtensible||function(){return!0},s=function(t){e(t,r,{value:{objectID:"O"+i++,weakData:{}}})},a=t.exports={enable:function(){a.enable=function(){},n=!0;var t=le.f,e=[].splice,i={};i[r]=1,t(i).length&&(le.f=function(n){for(var i=t(n),o=0,s=i.length;o<s;o++)if(i[o]===r){e.call(i,o,1);break}return i},xe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:bn.f}))},fastKey:function(t,e){if(!V(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ct(t,r)){if(!o(t))return"F";if(!e)return"E";s(t)}return t[r].objectID},getWeakData:function(t,e){if(!ct(t,r)){if(!o(t))return!0;if(!e)return!1;s(t)}return t[r].weakData},onFreeze:function(t){return Ii&&n&&o(t)&&!ct(t,r)&&s(t),t}};Lt[r]=!0}));Di.enable,Di.fastKey,Di.getWeakData,Di.onFreeze;var Mi=function(t,e){this.stopped=t,this.result=e},Ri=function(t,e,n){var r,i,o,s,a,c,u,l=n&&n.that,p=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),f=Be(e,l,1+p+d),m=function(t){return r&&Fr(r,"normal",t),new Mi(!0,t)},v=function(t){return p?(St(t),d?f(t[0],t[1],m):f(t[0],t[1])):d?f(t,m):f(t)};if(h)r=t;else{if(!(i=Hr(t)))throw TypeError(String(t)+" is not iterable");if(Vr(i)){for(o=0,s=re(t);s>o;o++)if((a=v(t[o]))&&a instanceof Mi)return a;return new Mi(!1)}r=Wr(t,i)}for(c=r.next;!(u=c.call(r)).done;){try{a=v(u.value)}catch(t){Fr(r,"throw",t)}if("object"==typeof a&&a&&a instanceof Mi)return a}return new Mi(!1)},Pi=function(t,e,n){if(t instanceof e)return t;throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")},ji=function(t,e,n){for(var r in e)Yt(t,r,e[r],n);return t},Li=mt("species"),Fi=Ot.f,Bi=Di.fastKey,zi=Ht.set,Ui=Ht.getterFor;function Vi(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}function qi(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(e){o(t,e)}),(function(n){r[t]={status:"rejected",reason:n},0==--i&&e(r)}))}r[t]={status:"fulfilled",value:n},0==--i&&e(r)}for(var s=0;s<r.length;s++)o(s,r[s])}))}!function(t,e,n){var r=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),o=r?"set":"add",s=C[t],a=s&&s.prototype,c=s,u={},l=function(t){var e=a[t];Yt(a,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!V(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!V(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!V(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(we(t,!U(s)||!(i||a.forEach&&!A((function(){(new s).entries().next()})))))c=n.getConstructor(e,t,r,o),Di.enable();else if(we(t,!0)){var p=new c,h=p[o](i?{}:-0,1)!=p,d=A((function(){p.has(1)})),f=Zr((function(t){new s(t)})),m=!i&&A((function(){for(var t=new s,e=5;e--;)t[o](e,e);return!t.has(-0)}));f||((c=e((function(e,n){Pi(e,c,t);var i=function(t,e,n){var r,i;return Er&&U(r=e.constructor)&&r!==n&&V(i=r.prototype)&&i!==n.prototype&&Er(t,i),t}(new s,e,c);return null!=n&&Ri(n,i[o],{that:i,AS_ENTRIES:r}),i}))).prototype=a,a.constructor=c),(d||m)&&(l("delete"),l("has"),r&&l("get")),(m||h)&&l(o),i&&a.clear&&delete a.clear}u[t]=c,xe({global:!0,forced:c!=s},u),On(c,t),i||n.setStrong(c,t,r)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,n,r){var i=t((function(t,o){Pi(t,i,e),zi(t,{type:e,index:mn(null),first:void 0,last:void 0,size:0}),N||(t.size=0),null!=o&&Ri(o,t[r],{that:t,AS_ENTRIES:n})})),o=Ui(e),s=function(t,e,n){var r,i,s=o(t),c=a(t,e);return c?c.value=n:(s.last=c={index:i=Bi(e,!0),key:e,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=c),r&&(r.next=c),N?s.size++:t.size++,"F"!==i&&(s.index[i]=c)),t},a=function(t,e){var n,r=o(t),i=Bi(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return ji(i.prototype,{clear:function(){for(var t=o(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,N?t.size=0:this.size=0},delete:function(t){var e=this,n=o(e),r=a(e,t);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first==r&&(n.first=i),n.last==r&&(n.last=s),N?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=o(this),r=Be(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),ji(i.prototype,n?{get:function(t){var e=a(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),N&&Fi(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=Ui(e),o=Ui(r);Rr(t,e,(function(t,e){zi(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(t){var e=H(t),n=Ot.f;N&&e&&!e[Li]&&n(e,Li,{configurable:!0,get:function(){return this}})}(e)}}),_n.Set;var Hi=setTimeout;function Wi(t){return Boolean(t&&void 0!==t.length)}function Ki(){}function $i(t){if(!(this instanceof $i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Qi(t,this)}function Ji(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,$i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void Zi(e.promise,t)}Yi(e.promise,r)}else(1===t._state?Yi:Zi)(e.promise,t._value)}))):t._deferreds.push(e)}function Yi(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof $i)return t._state=3,t._value=e,void Xi(t);if("function"==typeof n)return void Qi((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,Xi(t)}catch(e){Zi(t,e)}var r,i}function Zi(t,e){t._state=2,t._value=e,Xi(t)}function Xi(t){2===t._state&&0===t._deferreds.length&&$i._immediateFn((function(){t._handled||$i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)Ji(t,t._deferreds[e]);t._deferreds=null}function Gi(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function Qi(t,e){var n=!1;try{t((function(t){n||(n=!0,Yi(e,t))}),(function(t){n||(n=!0,Zi(e,t))}))}catch(t){if(n)return;n=!0,Zi(e,t)}}$i.prototype.catch=function(t){return this.then(null,t)},$i.prototype.then=function(t,e){var n=new this.constructor(Ki);return Ji(this,new Gi(t,e,n)),n},$i.prototype.finally=Vi,$i.all=function(t){return new $i((function(e,n){if(!Wi(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){o(t,e)}),n)}r[t]=s,0==--i&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)o(s,r[s])}))},$i.allSettled=qi,$i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===$i?t:new $i((function(e){e(t)}))},$i.reject=function(t){return new $i((function(e,n){n(t)}))},$i.race=function(t){return new $i((function(e,n){if(!Wi(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)$i.resolve(t[r]).then(e,n)}))},$i._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){Hi(t,0)},$i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var to=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();"function"!=typeof to.Promise?to.Promise=$i:to.Promise.prototype.finally?to.Promise.allSettled||(to.Promise.allSettled=qi):to.Promise.prototype.finally=Vi,function(t){function e(){}function n(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===i.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(t){for(var e=0,n=Math.min(65536,t.length+1),r=new Uint16Array(n),i=[],o=0;;){var s=e<t.length;if(!s||o>=n-1){if(i.push(String.fromCharCode.apply(null,r.subarray(0,o))),!s)return i.join("");t=t.subarray(e),o=e=0}if(0==(128&(s=t[e++])))r[o++]=s;else if(192==(224&s)){var a=63&t[e++];r[o++]=(31&s)<<6|a}else if(224==(240&s)){a=63&t[e++];var c=63&t[e++];r[o++]=(31&s)<<12|a<<6|c}else 240==(248&s)&&(65535<(s=(7&s)<<18|(a=63&t[e++])<<12|(c=63&t[e++])<<6|63&t[e++])&&(s-=65536,r[o++]=s>>>10&1023|55296,s=56320|1023&s),r[o++]=s)}}if(t.TextEncoder&&t.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var n=t.length,r=0,i=Math.max(32,n+(n>>>1)+7),o=new Uint8Array(i>>>3<<3);e<n;){var s=t.charCodeAt(e++);if(55296<=s&&56319>=s){if(e<n){var a=t.charCodeAt(e);56320==(64512&a)&&(++e,s=((1023&s)<<10)+(1023&a)+65536)}if(55296<=s&&56319>=s)continue}if(r+4>o.length&&(i+=8,i=(i*=1+e/t.length*2)>>>3<<3,(a=new Uint8Array(i)).set(o),o=a),0==(4294967168&s))o[r++]=s;else{if(0==(4294965248&s))o[r++]=s>>>6&31|192;else if(0==(4294901760&s))o[r++]=s>>>12&15|224,o[r++]=s>>>6&63|128;else{if(0!=(4292870144&s))continue;o[r++]=s>>>18&7|240,o[r++]=s>>>12&63|128,o[r++]=s>>>6&63|128}o[r++]=63&s|128}}return o.slice?o.slice(0,r):o.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var o=r;"function"==typeof Buffer&&Buffer.from?o=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(o=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n.responseText}catch(e){return r(t)}finally{URL.revokeObjectURL(e)}}),n.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),o(t)},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:x),function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?s(t):e}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i(t);if(e){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=u(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var p=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(e,[{key:"addEventListener",value:function(t,e,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:n})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],r=0,i=n.length;r<i;r++)if(n[r].callback===e)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var e=this.listeners[t.type].slice(),n=0,r=e.length;n<r;n++){var i=e[n];try{i.callback.call(this,t)}catch(t){Promise.resolve().then((function(){throw t}))}i.options&&i.options.once&&this.removeEventListener(t.type,i.callback)}return!t.defaultPrevented}}}]),e}(),h=function(e){r(a,e);var o=c(a);function a(){var e;return t(this,a),(e=o.call(this)).listeners||p.call(s(e)),Object.defineProperty(s(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return n(a,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),l(i(a.prototype),"dispatchEvent",this).call(this,t)}}]),a}(p),d=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return n(e,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),function(t){(function(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController})(t)&&(t.AbortController=d,t.AbortSignal=h)}("undefined"!=typeof self?self:x)}();var eo=S((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,n){var r=t.locked.get(e);void 0===r?void 0===n?t.locked.set(e,[]):t.locked.set(e,[n]):void 0!==n&&(r.unshift(n),t.locked.set(e,r))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise((function(n,r){t.isLocked(e)?t.addToLocked(e,n):(t.addToLocked(e),n())}))},this.unlock=function(e){var n=t.locked.get(e);if(void 0!==n&&0!==n.length){var r=n.pop();t.locked.set(e,n),void 0!==r&&setTimeout(r,0)}else t.locked.delete(e)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return n.getInstance()}}));k(eo);var no=k(S((function(t,e){var n=x&&x.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}c((r=r.apply(t,e||[])).next())}))},r=x&&x.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var i="browser-tabs-lock-key";function o(t){return new Promise((function(e){return setTimeout(e,t)}))}function s(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}var a=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+s(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,a){return void 0===a&&(a=5e3),n(this,void 0,void 0,(function(){var n,c,u,l,p,h;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+s(4),c=Date.now()+a,u=i+"-"+e,l=window.localStorage,r.label=1;case 1:return Date.now()<c?[4,o(30)]:[3,8];case 2:return r.sent(),null!==l.getItem(u)?[3,5]:(p=this.id+"-"+e+"-"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return r.sent(),l.setItem(u,JSON.stringify({id:this.id,iat:n,timeoutKey:p,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return r.sent(),null!==(h=l.getItem(u))&&(h=JSON.parse(h)).id===this.id&&h.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(c)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+s(4),[3,1];case 8:return[2,!1]}}))}))},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,(function(){var i=this;return r(this,(function(o){return setTimeout((function(){return n(i,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return[4,eo.default().lock(e)];case 1:return r.sent(),this.acquiredIatSet.has(e)?(n=window.localStorage,null===(i=n.getItem(t))?(eo.default().unlock(e),[2]):((i=JSON.parse(i)).timeRefreshed=Date.now(),n.setItem(t,JSON.stringify(i)),eo.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2])):(eo.default().unlock(e),[2])}}))}))}),1e3),[2]}))}))},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=!1,i=Date.now(),o=!1;function s(){if(o||(window.removeEventListener("storage",s),t.removeFromWaiting(s),clearTimeout(a),o=!0),!r){r=!0;var e=50-(Date.now()-i);e>0?setTimeout(n,e):n()}}window.addEventListener("storage",s),t.addToWaiting(s);var a=setTimeout(s,Math.max(0,e-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter((function(t){return t!==e})))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach((function(t){return t()}))},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,(function(){var n,o,s;return r(this,(function(r){switch(r.label){case 0:return n=window.localStorage,o=i+"-"+e,null===(s=n.getItem(o))?[2]:(s=JSON.parse(s)).id!==this.id?[3,2]:[4,eo.default().lock(s.iat)];case 1:r.sent(),this.acquiredIatSet.delete(s.iat),n.removeItem(o),eo.default().unlock(s.iat),t.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},t.lockCorrector=function(){for(var e=Date.now()-5e3,n=window.localStorage,r=Object.keys(n),o=!1,s=0;s<r.length;s++){var a=r[s];if(a.includes(i)){var c=n.getItem(a);null!==c&&(void 0===(c=JSON.parse(c)).timeRefreshed&&c.timeAcquired<e||void 0!==c.timeRefreshed&&c.timeRefreshed<e)&&(n.removeItem(a),o=!0)}}o&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=a}))),ro={timeoutInSeconds:60},io=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],oo={name:"auth0-spa-js",version:"1.19.2"},so=function(){return Date.now()},ao=function(t){function e(n,r){var i=t.call(this,r)||this;return i.error=n,i.error_description=r,Object.setPrototypeOf(i,e.prototype),i}return m(e,t),e.fromPayload=function(t){return new e(t.error,t.error_description)},e}(Error),co=function(t){function e(n,r,i,o){void 0===o&&(o=null);var s=t.call(this,n,r)||this;return s.state=i,s.appState=o,Object.setPrototypeOf(s,e.prototype),s}return m(e,t),e}(ao),uo=function(t){function e(){var n=t.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,e.prototype),n}return m(e,t),e}(ao),lo=function(t){function e(n){var r=t.call(this)||this;return r.popup=n,Object.setPrototypeOf(r,e.prototype),r}return m(e,t),e}(uo),po=function(t){function e(n){var r=t.call(this,"cancelled","Popup closed")||this;return r.popup=n,Object.setPrototypeOf(r,e.prototype),r}return m(e,t),e}(ao),ho=function(t){function e(n,r,i){var o=t.call(this,n,r)||this;return o.mfa_token=i,Object.setPrototypeOf(o,e.prototype),o}return m(e,t),e}(ao),fo=function(t){return new Promise((function(e,n){var r,i=setInterval((function(){t.popup&&t.popup.closed&&(clearInterval(i),clearTimeout(o),window.removeEventListener("message",r,!1),n(new po(t.popup)))}),1e3),o=setTimeout((function(){clearInterval(i),n(new lo(t.popup)),window.removeEventListener("message",r,!1)}),1e3*(t.timeoutInSeconds||60));r=function(s){if(s.data&&"authorization_response"===s.data.type){if(clearTimeout(o),clearInterval(i),window.removeEventListener("message",r,!1),t.popup.close(),s.data.response.error)return n(ao.fromPayload(s.data.response));e(s.data.response)}},window.addEventListener("message",r)}))},mo=function(){return window.crypto||window.msCrypto},vo=function(){var t=mo();return t.subtle||t.webkitSubtle},yo=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(mo().getRandomValues(new Uint8Array(43))).forEach((function(n){return e+=t[n%t.length]})),e},go=function(t){return btoa(t)},bo=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},wo=function(t){return g(void 0,void 0,void 0,(function(){var e;return b(this,(function(n){switch(n.label){case 0:return e=vo().digest({name:"SHA-256"},(new TextEncoder).encode(t)),window.msCrypto?[2,new Promise((function(t,n){e.oncomplete=function(e){t(e.target.result)},e.onerror=function(t){n(t.error)},e.onabort=function(){n("The digest operation was aborted")}}))]:[4,e];case 1:return[2,n.sent()]}}))}))},_o=function(t){return function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(t.replace(/_/g,"/").replace(/-/g,"+"))},xo=function(t){var e=new Uint8Array(t);return function(t){var e={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,(function(t){return e[t]}))}(window.btoa(String.fromCharCode.apply(String,_([],w(Array.from(e)),!1))))},ko=function(t,e){return g(void 0,void 0,void 0,(function(){var n,r;return b(this,(function(i){switch(i.label){case 0:return[4,(o=t,s=e,s=s||{},new Promise((function(t,e){var n=new XMLHttpRequest,r=[],i=[],a={},c=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:c,headers:{keys:function(){return r},entries:function(){return i},get:function(t){return a[t.toLowerCase()]},has:function(t){return t.toLowerCase()in a}}}};for(var u in n.open(s.method||"get",o,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){r.push(e=e.toLowerCase()),i.push([e,n]),a[e]=a[e]?a[e]+","+n:n})),t(c())},n.onerror=e,n.withCredentials="include"==s.credentials,s.headers)n.setRequestHeader(u,s.headers[u]);n.send(s.body||null)})))];case 1:return n=i.sent(),r={ok:n.ok},[4,n.json()];case 2:return[2,(r.json=i.sent(),r)]}var o,s}))}))},So=function(t,e,n){return g(void 0,void 0,void 0,(function(){var r,i;return b(this,(function(o){return r=new AbortController,e.signal=r.signal,[2,Promise.race([ko(t,e),new Promise((function(t,e){i=setTimeout((function(){r.abort(),e(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(i)}))]}))}))},To=function(t,e,n,r,i,o,s){return g(void 0,void 0,void 0,(function(){return b(this,(function(a){return[2,(c={auth:{audience:e,scope:n},timeout:i,fetchUrl:t,fetchOptions:r,useFormData:s},u=o,new Promise((function(t,e){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?e(new Error(n.data.error)):t(n.data)},u.postMessage(c,[n.port2])})))];var c,u}))}))},Oo=function(t,e,n,r,i,o,s){return void 0===s&&(s=1e4),g(void 0,void 0,void 0,(function(){return b(this,(function(a){return i?[2,To(t,e,n,r,s,i,o)]:[2,So(t,r,s)]}))}))};function Eo(t,e,n,r,i,o,s){return g(this,void 0,void 0,(function(){var a,c,u,l,p,h,d,f,m;return b(this,(function(v){switch(v.label){case 0:a=null,u=0,v.label=1;case 1:if(!(u<3))return[3,6];v.label=2;case 2:return v.trys.push([2,4,,5]),[4,Oo(t,n,r,i,o,s,e)];case 3:return c=v.sent(),a=null,[3,6];case 4:return l=v.sent(),a=l,[3,5];case 5:return u++,[3,1];case 6:if(a)throw a.message=a.message||"Failed to fetch",a;if(p=c.json,h=p.error,d=p.error_description,f=y(p,["error","error_description"]),!c.ok){if(m=d||"HTTP error. Unable to fetch "+t,"mfa_required"===h)throw new ho(h,m,f.mfa_token);throw new ao(h||"request_error",m)}return[2,f]}}))}))}function Co(t,e){var n=t.baseUrl,r=t.timeout,i=t.audience,o=t.scope,s=t.auth0Client,a=t.useFormData,c=y(t,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);return g(this,void 0,void 0,(function(){var t;return b(this,(function(u){switch(u.label){case 0:return t=a?bo(c):JSON.stringify(c),[4,Eo(n+"/oauth/token",r,i||"default",o,{method:"POST",body:t,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(s||oo))}},e,a)];case 1:return[2,u.sent()]}}))}))}var Ao=function(t){return Array.from(new Set(t))},No=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ao(t.join(" ").trim().split(/\s+/)).join(" ")},Io=function(){function t(t,e){void 0===e&&(e="@@auth0spajs@@"),this.prefix=e,this.client_id=t.client_id,this.scope=t.scope,this.audience=t.audience}return t.prototype.toKey=function(){return this.prefix+"::"+this.client_id+"::"+this.audience+"::"+this.scope},t.fromKey=function(e){var n=w(e.split("::"),4),r=n[0],i=n[1],o=n[2];return new t({client_id:i,scope:n[3],audience:o},r)},t.fromCacheEntry=function(e){return new t({scope:e.scope,audience:e.audience,client_id:e.client_id})},t}(),Do=function(){function t(){}return t.prototype.set=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.prototype.get=function(t){var e=window.localStorage.getItem(t);if(e)try{return JSON.parse(e)}catch(t){return}},t.prototype.remove=function(t){localStorage.removeItem(t)},t.prototype.allKeys=function(){return Object.keys(window.localStorage).filter((function(t){return t.startsWith("@@auth0spajs@@")}))},t}(),Mo=function(){var t;this.enclosedCache=(t={},{set:function(e,n){t[e]=n},get:function(e){var n=t[e];if(n)return n},remove:function(e){delete t[e]},allKeys:function(){return Object.keys(t)}})},Ro=function(){function t(t,e,n){this.cache=t,this.keyManifest=e,this.nowProvider=n,this.nowProvider=this.nowProvider||so}return t.prototype.get=function(t,e){var n;return void 0===e&&(e=0),g(this,void 0,void 0,(function(){var r,i,o,s,a;return b(this,(function(c){switch(c.label){case 0:return[4,this.cache.get(t.toKey())];case 1:return(r=c.sent())?[3,4]:[4,this.getCacheKeys()];case 2:return(i=c.sent())?(o=this.matchExistingCacheKey(t,i),[4,this.cache.get(o)]):[2];case 3:r=c.sent(),c.label=4;case 4:return r?[4,this.nowProvider()]:[2];case 5:return s=c.sent(),a=Math.floor(s/1e3),r.expiresAt-e<a?r.body.refresh_token?(r.body={refresh_token:r.body.refresh_token},[4,this.cache.set(t.toKey(),r)]):[3,7]:[3,10];case 6:return c.sent(),[2,r.body];case 7:return[4,this.cache.remove(t.toKey())];case 8:return c.sent(),[4,null===(n=this.keyManifest)||void 0===n?void 0:n.remove(t.toKey())];case 9:return c.sent(),[2];case 10:return[2,r.body]}}))}))},t.prototype.set=function(t){var e;return g(this,void 0,void 0,(function(){var n,r;return b(this,(function(i){switch(i.label){case 0:return n=new Io({client_id:t.client_id,scope:t.scope,audience:t.audience}),[4,this.wrapCacheEntry(t)];case 1:return r=i.sent(),[4,this.cache.set(n.toKey(),r)];case 2:return i.sent(),[4,null===(e=this.keyManifest)||void 0===e?void 0:e.add(n.toKey())];case 3:return i.sent(),[2]}}))}))},t.prototype.clear=function(t){var e;return g(this,void 0,void 0,(function(){var n,r=this;return b(this,(function(i){switch(i.label){case 0:return[4,this.getCacheKeys()];case 1:return(n=i.sent())?[4,n.filter((function(e){return!t||e.includes(t)})).reduce((function(t,e){return g(r,void 0,void 0,(function(){return b(this,(function(n){switch(n.label){case 0:return[4,t];case 1:return n.sent(),[4,this.cache.remove(e)];case 2:return n.sent(),[2]}}))}))}),Promise.resolve())]:[2];case 2:return i.sent(),[4,null===(e=this.keyManifest)||void 0===e?void 0:e.clear()];case 3:return i.sent(),[2]}}))}))},t.prototype.clearSync=function(t){var e=this,n=this.cache.allKeys();n&&n.filter((function(e){return!t||e.includes(t)})).forEach((function(t){e.cache.remove(t)}))},t.prototype.wrapCacheEntry=function(t){return g(this,void 0,void 0,(function(){var e,n,r;return b(this,(function(i){switch(i.label){case 0:return[4,this.nowProvider()];case 1:return e=i.sent(),n=Math.floor(e/1e3)+t.expires_in,r=Math.min(n,t.decodedToken.claims.exp),[2,{body:t,expiresAt:r}]}}))}))},t.prototype.getCacheKeys=function(){var t;return g(this,void 0,void 0,(function(){var e;return b(this,(function(n){switch(n.label){case 0:return this.keyManifest?[4,this.keyManifest.get()]:[3,2];case 1:return e=null===(t=n.sent())||void 0===t?void 0:t.keys,[3,4];case 2:return[4,this.cache.allKeys()];case 3:e=n.sent(),n.label=4;case 4:return[2,e]}}))}))},t.prototype.matchExistingCacheKey=function(t,e){return e.filter((function(e){var n=Io.fromKey(e),r=new Set(n.scope&&n.scope.split(" ")),i=t.scope.split(" "),o=n.scope&&i.reduce((function(t,e){return t&&r.has(e)}),!0);return"@@auth0spajs@@"===n.prefix&&n.client_id===t.client_id&&n.audience===t.audience&&o}))[0]},t}(),Po=function(){function t(t,e){this.storage=t,this.clientId=e,this.storageKey="a0.spajs.txs."+e,this.transaction=this.storage.get(this.storageKey)}return t.prototype.create=function(t){this.transaction=t,this.storage.save(this.storageKey,t,{daysUntilExpire:1})},t.prototype.get=function(){return this.transaction},t.prototype.remove=function(){delete this.transaction,this.storage.remove(this.storageKey)},t}(),jo=function(t){return"number"==typeof t},Lo=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Fo=function(t){if(!t.id_token)throw new Error("ID token is required but missing");var e=function(t){var e=t.split("."),n=w(e,3),r=n[0],i=n[1],o=n[2];if(3!==e.length||!r||!i||!o)throw new Error("ID token could not be decoded");var s=JSON.parse(_o(i)),a={__raw:t},c={};return Object.keys(s).forEach((function(t){a[t]=s[t],Lo.includes(t)||(c[t]=s[t])})),{encoded:{header:r,payload:i,signature:o},header:JSON.parse(_o(r)),claims:a,user:c}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==e.header.alg)throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||"string"!=typeof e.claims.aud&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!jo(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!jo(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!jo(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=t.leeway||60,r=new Date(t.now||Date.now()),i=new Date(0),o=new Date(0),s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),i.setUTCSeconds(e.claims.exp+n),o.setUTCSeconds(e.claims.nbf-n),r>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+i+")");if(jo(e.claims.nbf)&&r<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+o);if(jo(e.claims.auth_time)&&r>s)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+s);if(t.organizationId){if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(t.organizationId!==e.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'+t.organizationId+'", found "'+e.claims.org_id+'"')}return e},Bo=S((function(t,e){var n=x&&x.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function r(t,e){if(!e)return"";var n="; "+t;return!0===e?n:n+"="+e}function i(t,e,n){return encodeURIComponent(t).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(t){if("number"==typeof t.expires){var e=new Date;e.setMilliseconds(e.getMilliseconds()+864e5*t.expires),t.expires=e}return r("Expires",t.expires?t.expires.toUTCString():"")+r("Domain",t.domain)+r("Path",t.path)+r("Secure",t.secure)+r("SameSite",t.sameSite)}(n)}function o(t){for(var e={},n=t?t.split("; "):[],r=/(%[\dA-F]{2})+/gi,i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1));try{e[o[0].replace(r,decodeURIComponent)]=s.replace(r,decodeURIComponent)}catch(t){}}return e}function s(){return o(document.cookie)}function a(t,e,r){document.cookie=i(t,e,n({path:"/"},r))}e.__esModule=!0,e.encode=i,e.parse=o,e.getAll=s,e.get=function(t){return s()[t]},e.set=a,e.remove=function(t,e){a(t,"",n(n({},e),{expires:-1}))}}));k(Bo),Bo.encode,Bo.parse,Bo.getAll;var zo=Bo.get,Uo=Bo.set,Vo=Bo.remove,qo={get:function(t){var e=zo(t);if(void 0!==e)return JSON.parse(e)},save:function(t,e,n){var r={};"https:"===window.location.protocol&&(r={secure:!0,sameSite:"none"}),(null==n?void 0:n.daysUntilExpire)&&(r.expires=n.daysUntilExpire),Uo(t,JSON.stringify(e),r)},remove:function(t){Vo(t)}},Ho={get:function(t){return qo.get(t)||qo.get("_legacy_"+t)},save:function(t,e,n){var r={};"https:"===window.location.protocol&&(r={secure:!0}),(null==n?void 0:n.daysUntilExpire)&&(r.expires=n.daysUntilExpire),Uo("_legacy_"+t,JSON.stringify(e),r),qo.save(t,e,n)},remove:function(t){qo.remove(t),qo.remove("_legacy_"+t)}},Wo={get:function(t){if("undefined"!=typeof sessionStorage){var e=sessionStorage.getItem(t);if(void 0!==e)return JSON.parse(e)}},save:function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove:function(t){sessionStorage.removeItem(t)}};var Ko,$o=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyLHQsbil7cmV0dXJuIG5ldyh0fHwodD1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcyhlKXt0cnl7dShuLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIGkoZSl7dHJ5e3Uobi50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gdShlKXt2YXIgcjtlLmRvbmU/byhlLnZhbHVlKToocj1lLnZhbHVlLHIgaW5zdGFuY2VvZiB0P3I6bmV3IHQoKGZ1bmN0aW9uKGUpe2Uocil9KSkpLnRoZW4ocyxpKX11KChuPW4uYXBwbHkoZSxyfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gdChlLHIpe3ZhciB0LG4sbyxhLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGE9e25leHQ6aSgwKSx0aHJvdzppKDEpLHJldHVybjppKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoYVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxhO2Z1bmN0aW9uIGkoYSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihhKXtpZih0KXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO3M7KXRyeXtpZih0PTEsbiYmKG89MiZhWzBdP24ucmV0dXJuOmFbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixhWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihhPVsyJmFbMF0sby52YWx1ZV0pLGFbMF0pe2Nhc2UgMDpjYXNlIDE6bz1hO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTphWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssbj1hWzFdLGE9WzBdO2NvbnRpbnVlO2Nhc2UgNzphPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1hWzBdJiYyIT09YVswXSkpe3M9MDtjb250aW51ZX1pZigzPT09YVswXSYmKCFvfHxhWzFdPm9bMF0mJmFbMV08b1szXSkpe3MubGFiZWw9YVsxXTticmVha31pZig2PT09YVswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1hO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2goYSk7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfWE9ci5jYWxsKGUscyl9Y2F0Y2goZSl7YT1bNixlXSxuPTB9ZmluYWxseXt0PW89MH1pZig1JmFbMF0pdGhyb3cgYVsxXTtyZXR1cm57dmFsdWU6YVswXT9hWzFdOnZvaWQgMCxkb25lOiEwfX0oW2EsaV0pfX19dmFyIG49e30sbz1mdW5jdGlvbihlLHIpe3JldHVybiBlKyJ8IityfTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24oYSl7dmFyIHM9YS5kYXRhLGk9cy50aW1lb3V0LHU9cy5hdXRoLGM9cy5mZXRjaFVybCxmPXMuZmV0Y2hPcHRpb25zLGw9cy51c2VGb3JtRGF0YSxoPWZ1bmN0aW9uKGUscil7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCF0KXJldHVybiBlO3ZhciBuLG8sYT10LmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09cnx8ci0tID4wKSYmIShuPWEubmV4dCgpKS5kb25lOylzLnB1c2gobi52YWx1ZSl9Y2F0Y2goZSl7bz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHQ9YS5yZXR1cm4pJiZ0LmNhbGwoYSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBzfShhLnBvcnRzLDEpWzBdO3JldHVybiByKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGEscyxwLHksYixkLHYsdyxnO3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cz0oYT11fHx7fSkuYXVkaWVuY2UscD1hLnNjb3BlLHQubGFiZWw9MTtjYXNlIDE6aWYodC50cnlzLnB1c2goWzEsNywsOF0pLCEoeT1sPyhrPWYuYm9keSxTPW5ldyBVUkxTZWFyY2hQYXJhbXMoayksXz17fSxTLmZvckVhY2goKGZ1bmN0aW9uKGUscil7X1tyXT1lfSkpLF8pOkpTT04ucGFyc2UoZi5ib2R5KSkucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09eS5ncmFudF90eXBlKXtpZighKGI9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbltvKGUscildfShzLHApKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4iKTtmLmJvZHk9bD9uZXcgVVJMU2VhcmNoUGFyYW1zKGUoZSh7fSx5KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkoZShlKHt9LHkpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixmLnNpZ25hbD1kLnNpZ25hbCksdj12b2lkIDAsdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdC50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKG09aSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSxtKX0pKSksZmV0Y2goYyxlKHt9LGYpKV0pXTtjYXNlIDM6cmV0dXJuIHY9dC5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiB3PXQuc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOncubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHY/WzQsdi5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4ocj10LnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24oZSxyLHQpe25bbyhyLHQpXT1lfShyLnJlZnJlc2hfdG9rZW4scyxwKSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbihlLHIpe2RlbGV0ZSBuW28oZSxyKV19KHMscCksaC5wb3N0TWVzc2FnZSh7b2s6di5vayxqc29uOnJ9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIGc9dC5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Zy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIG0sayxTLF99KSl9KSl9KSl9KCk7Cgo=",null,!1,function(t){return Ko=Ko||function(t,e,n){var r=void 0===e?null:e,i=function(t,e){var n=atob(t);if(e){for(var r=new Uint8Array(n.length),i=0,o=n.length;i<o;++i)r[i]=n.charCodeAt(i);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}(t,void 0!==n&&n),o=i.indexOf("\n",10)+1,s=i.substring(o)+(r?"//# sourceMappingURL="+r:""),a=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(a)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyLHQsbil7cmV0dXJuIG5ldyh0fHwodD1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYSl7ZnVuY3Rpb24gcyhlKXt0cnl7dShuLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIGkoZSl7dHJ5e3Uobi50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gdShlKXt2YXIgcjtlLmRvbmU/byhlLnZhbHVlKToocj1lLnZhbHVlLHIgaW5zdGFuY2VvZiB0P3I6bmV3IHQoKGZ1bmN0aW9uKGUpe2Uocil9KSkpLnRoZW4ocyxpKX11KChuPW4uYXBwbHkoZSxyfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gdChlLHIpe3ZhciB0LG4sbyxhLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGE9e25leHQ6aSgwKSx0aHJvdzppKDEpLHJldHVybjppKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoYVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxhO2Z1bmN0aW9uIGkoYSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihhKXtpZih0KXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO3M7KXRyeXtpZih0PTEsbiYmKG89MiZhWzBdP24ucmV0dXJuOmFbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixhWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihhPVsyJmFbMF0sby52YWx1ZV0pLGFbMF0pe2Nhc2UgMDpjYXNlIDE6bz1hO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTphWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssbj1hWzFdLGE9WzBdO2NvbnRpbnVlO2Nhc2UgNzphPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1hWzBdJiYyIT09YVswXSkpe3M9MDtjb250aW51ZX1pZigzPT09YVswXSYmKCFvfHxhWzFdPm9bMF0mJmFbMV08b1szXSkpe3MubGFiZWw9YVsxXTticmVha31pZig2PT09YVswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1hO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2goYSk7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfWE9ci5jYWxsKGUscyl9Y2F0Y2goZSl7YT1bNixlXSxuPTB9ZmluYWxseXt0PW89MH1pZig1JmFbMF0pdGhyb3cgYVsxXTtyZXR1cm57dmFsdWU6YVswXT9hWzFdOnZvaWQgMCxkb25lOiEwfX0oW2EsaV0pfX19dmFyIG49e30sbz1mdW5jdGlvbihlLHIpe3JldHVybiBlKyJ8IityfTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24oYSl7dmFyIHM9YS5kYXRhLGk9cy50aW1lb3V0LHU9cy5hdXRoLGM9cy5mZXRjaFVybCxmPXMuZmV0Y2hPcHRpb25zLGw9cy51c2VGb3JtRGF0YSxoPWZ1bmN0aW9uKGUscil7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCF0KXJldHVybiBlO3ZhciBuLG8sYT10LmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09cnx8ci0tID4wKSYmIShuPWEubmV4dCgpKS5kb25lOylzLnB1c2gobi52YWx1ZSl9Y2F0Y2goZSl7bz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHQ9YS5yZXR1cm4pJiZ0LmNhbGwoYSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBzfShhLnBvcnRzLDEpWzBdO3JldHVybiByKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGEscyxwLHksYixkLHYsdyxnO3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cz0oYT11fHx7fSkuYXVkaWVuY2UscD1hLnNjb3BlLHQubGFiZWw9MTtjYXNlIDE6aWYodC50cnlzLnB1c2goWzEsNywsOF0pLCEoeT1sPyhrPWYuYm9keSxTPW5ldyBVUkxTZWFyY2hQYXJhbXMoayksXz17fSxTLmZvckVhY2goKGZ1bmN0aW9uKGUscil7X1tyXT1lfSkpLF8pOkpTT04ucGFyc2UoZi5ib2R5KSkucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09eS5ncmFudF90eXBlKXtpZighKGI9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbltvKGUscildfShzLHApKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4iKTtmLmJvZHk9bD9uZXcgVVJMU2VhcmNoUGFyYW1zKGUoZSh7fSx5KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkoZShlKHt9LHkpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixmLnNpZ25hbD1kLnNpZ25hbCksdj12b2lkIDAsdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdC50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKG09aSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSxtKX0pKSksZmV0Y2goYyxlKHt9LGYpKV0pXTtjYXNlIDM6cmV0dXJuIHY9dC5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiB3PXQuc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOncubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHY/WzQsdi5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4ocj10LnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24oZSxyLHQpe25bbyhyLHQpXT1lfShyLnJlZnJlc2hfdG9rZW4scyxwKSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbihlLHIpe2RlbGV0ZSBuW28oZSxyKV19KHMscCksaC5wb3N0TWVzc2FnZSh7b2s6di5vayxqc29uOnJ9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIGc9dC5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Zy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIG0sayxTLF99KSl9KSl9KSl9KCk7Cgo=",null,false),new Worker(Ko,t)}),Jo={},Yo=function(){function t(t,e){this.cache=t,this.clientId=e,this.manifestKey=this.createManifestKeyFrom(this.clientId)}return t.prototype.add=function(t){var e;return g(this,void 0,void 0,(function(){var n,r;return b(this,(function(i){switch(i.label){case 0:return r=Set.bind,[4,this.cache.get(this.manifestKey)];case 1:return(n=new(r.apply(Set,[void 0,(null===(e=i.sent())||void 0===e?void 0:e.keys)||[]]))).add(t),[4,this.cache.set(this.manifestKey,{keys:_([],w(n),!1)})];case 2:return i.sent(),[2]}}))}))},t.prototype.remove=function(t){return g(this,void 0,void 0,(function(){var e,n;return b(this,(function(r){switch(r.label){case 0:return[4,this.cache.get(this.manifestKey)];case 1:return(e=r.sent())?((n=new Set(e.keys)).delete(t),n.size>0?[4,this.cache.set(this.manifestKey,{keys:_([],w(n),!1)})]:[3,3]):[3,5];case 2:return[2,r.sent()];case 3:return[4,this.cache.remove(this.manifestKey)];case 4:return[2,r.sent()];case 5:return[2]}}))}))},t.prototype.get=function(){return this.cache.get(this.manifestKey)},t.prototype.clear=function(){return this.cache.remove(this.manifestKey)},t.prototype.createManifestKeyFrom=function(t){return"@@auth0spajs@@::"+t},t}(),Zo=new no,Xo={memory:function(){return(new Mo).enclosedCache},localstorage:function(){return new Do}},Go=function(t){return Xo[t]},Qo=function(){function t(t){var e,n,r;if(this.options=t,"undefined"!=typeof window&&function(){if(!mo())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===vo())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),t.cache&&t.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),t.cache)r=t.cache;else{if(this.cacheLocation=t.cacheLocation||"memory",!Go(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');r=Go(this.cacheLocation)()}this.cookieStorage=!1===t.legacySameSiteCookie?qo:Ho,this.orgHintCookieName="auth0."+this.options.client_id+".organization_hint",this.isAuthenticatedCookieName=function(t){return"auth0."+t+".is.authenticated"}(this.options.client_id),this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1;var i,o=t.useCookiesForTransactions?this.cookieStorage:Wo;this.scope=this.options.scope,this.transactionManager=new Po(o,this.options.client_id),this.nowProvider=this.options.nowProvider||so,this.cacheManager=new Ro(r,r.allKeys?null:new Yo(r,this.options.client_id),this.nowProvider),this.domainUrl=(i=this.options.domain,/^https?:\/\//.test(i)?i:"https://"+i),this.tokenIssuer=function(t,e){return t?t.startsWith("https://")?t:"https://"+t+"/":e+"/"}(this.options.issuer,this.domainUrl),this.defaultScope=No("openid",void 0!==(null===(n=null===(e=this.options)||void 0===e?void 0:e.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=No(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new $o),this.customOptions=function(t){return t.advancedOptions,t.audience,t.auth0Client,t.authorizeTimeoutInSeconds,t.cacheLocation,t.client_id,t.domain,t.issuer,t.leeway,t.max_age,t.redirect_uri,t.scope,t.useRefreshTokens,t.useCookiesForTransactions,t.useFormData,y(t,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens","useCookiesForTransactions","useFormData"])}(t)}return t.prototype._url=function(t){var e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||oo)));return""+this.domainUrl+t+"&auth0Client="+e},t.prototype._getParams=function(t,e,n,r,i){var o=this.options;o.domain,o.leeway,o.useRefreshTokens,o.useCookiesForTransactions,o.useFormData,o.auth0Client,o.cacheLocation,o.advancedOptions;var s=y(o,["domain","leeway","useRefreshTokens","useCookiesForTransactions","useFormData","auth0Client","cacheLocation","advancedOptions"]);return v(v(v({},s),t),{scope:No(this.defaultScope,this.scope,t.scope),response_type:"code",response_mode:"query",state:e,nonce:n,redirect_uri:i||this.options.redirect_uri,code_challenge:r,code_challenge_method:"S256"})},t.prototype._authorizeUrl=function(t){return this._url("/authorize?"+bo(t))},t.prototype._verifyIdToken=function(t,e,n){return g(this,void 0,void 0,(function(){var r;return b(this,(function(i){switch(i.label){case 0:return[4,this.nowProvider()];case 1:return r=i.sent(),[2,Fo({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:e,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age),now:r})]}}))}))},t.prototype._parseNumber=function(t){return"string"!=typeof t?t:parseInt(t,10)||void 0},t.prototype._processOrgIdHint=function(t){t?this.cookieStorage.save(this.orgHintCookieName,t):this.cookieStorage.remove(this.orgHintCookieName)},t.prototype.buildAuthorizeUrl=function(t){return void 0===t&&(t={}),g(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u,l,p,h;return b(this,(function(d){switch(d.label){case 0:return e=t.redirect_uri,n=t.appState,r=y(t,["redirect_uri","appState"]),i=go(yo()),o=go(yo()),s=yo(),[4,wo(s)];case 1:return a=d.sent(),c=xo(a),u=t.fragment?"#"+t.fragment:"",l=this._getParams(r,i,o,c,e),p=this._authorizeUrl(l),h=t.organization||this.options.organization,this.transactionManager.create(v({nonce:o,code_verifier:s,appState:n,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri},h&&{organizationId:h})),[2,p+u]}}))}))},t.prototype.loginWithPopup=function(t,e){return g(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,l,p,h,d,f;return b(this,(function(m){switch(m.label){case 0:return t=t||{},(e=e||{}).popup||(e.popup=function(t){var e=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup","left="+e+",top="+n+",width=400,height=600,resizable,scrollbars=yes,status=1")}()),n=y(t,[]),r=go(yo()),i=go(yo()),o=yo(),[4,wo(o)];case 1:return s=m.sent(),a=xo(s),c=this._getParams(n,r,i,a,this.options.redirect_uri||window.location.origin),u=this._authorizeUrl(v(v({},c),{response_mode:"web_message"})),e.popup.location.href=u,[4,fo(v(v({},e),{timeoutInSeconds:e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(l=m.sent(),r!==l.state)throw new Error("Invalid state");return[4,Co({audience:c.audience,scope:c.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:l.code,grant_type:"authorization_code",redirect_uri:c.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData},this.worker)];case 3:return p=m.sent(),h=t.organization||this.options.organization,[4,this._verifyIdToken(p.id_token,i,h)];case 4:return d=m.sent(),f=v(v({},p),{decodedToken:d,scope:c.scope,audience:c.audience||"default",client_id:this.options.client_id}),[4,this.cacheManager.set(f)];case 5:return m.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),this._processOrgIdHint(d.claims.org_id),[2]}}))}))},t.prototype.getUser=function(t){return void 0===t&&(t={}),g(this,void 0,void 0,(function(){var e,n,r;return b(this,(function(i){switch(i.label){case 0:return e=t.audience||this.options.audience||"default",n=No(this.defaultScope,this.scope,t.scope),[4,this.cacheManager.get(new Io({client_id:this.options.client_id,audience:e,scope:n}))];case 1:return[2,(r=i.sent())&&r.decodedToken&&r.decodedToken.user]}}))}))},t.prototype.getIdTokenClaims=function(t){return void 0===t&&(t={}),g(this,void 0,void 0,(function(){var e,n,r;return b(this,(function(i){switch(i.label){case 0:return e=t.audience||this.options.audience||"default",n=No(this.defaultScope,this.scope,t.scope),[4,this.cacheManager.get(new Io({client_id:this.options.client_id,audience:e,scope:n}))];case 1:return[2,(r=i.sent())&&r.decodedToken&&r.decodedToken.claims]}}))}))},t.prototype.loginWithRedirect=function(t){return void 0===t&&(t={}),g(this,void 0,void 0,(function(){var e,n,r;return b(this,(function(i){switch(i.label){case 0:return e=t.redirectMethod,n=y(t,["redirectMethod"]),[4,this.buildAuthorizeUrl(n)];case 1:return r=i.sent(),window.location[e||"assign"](r),[2]}}))}))},t.prototype.handleRedirectCallback=function(t){return void 0===t&&(t=window.location.href),g(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u,l;return b(this,(function(p){switch(p.label){case 0:if(0===(e=t.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(t){t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#")));var e=t.split("&"),n={};return e.forEach((function(t){var e=w(t.split("="),2),r=e[0],i=e[1];n[r]=decodeURIComponent(i)})),n.expires_in&&(n.expires_in=parseInt(n.expires_in)),n}(e.join("")),r=n.state,i=n.code,o=n.error,s=n.error_description,!(a=this.transactionManager.get())||!a.code_verifier)throw new Error("Invalid state");if(this.transactionManager.remove(),o)throw new co(o,s,r,a.appState);return c={audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a.code_verifier,grant_type:"authorization_code",code:i,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData},void 0!==a.redirect_uri&&(c.redirect_uri=a.redirect_uri),[4,Co(c,this.worker)];case 1:return u=p.sent(),[4,this._verifyIdToken(u.id_token,a.nonce,a.organizationId)];case 2:return l=p.sent(),[4,this.cacheManager.set(v(v({},u),{decodedToken:l,audience:a.audience,scope:a.scope,client_id:this.options.client_id}))];case 3:return p.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),this._processOrgIdHint(l.claims.org_id),[2,{appState:a.appState}]}}))}))},t.prototype.checkSession=function(t){return g(this,void 0,void 0,(function(){var e;return b(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),this.cookieStorage.remove("auth0.is.authenticated")}n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(t)];case 2:return n.sent(),[3,4];case 3:if(e=n.sent(),!io.includes(e.error))throw e;return[3,4];case 4:return[2]}}))}))},t.prototype.getTokenSilently=function(t){return void 0===t&&(t={}),g(this,void 0,void 0,(function(){var e,n,r,i=this;return b(this,(function(o){return e=v(v({audience:this.options.audience,ignoreCache:!1},t),{scope:No(this.defaultScope,this.scope,t.scope)}),n=e.ignoreCache,r=y(e,["ignoreCache"]),[2,(s=function(){return i._getTokenSilently(v({ignoreCache:n},r))},a=this.options.client_id+"::"+r.audience+"::"+r.scope,c=Jo[a],c||(c=s().finally((function(){delete Jo[a],c=null})),Jo[a]=c),c)];var s,a,c}))}))},t.prototype._getTokenSilently=function(t){return void 0===t&&(t={}),g(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u;return b(this,(function(l){switch(l.label){case 0:return e=t.ignoreCache,n=y(t,["ignoreCache"]),e?[3,2]:[4,this._getEntryFromCache({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id,getDetailedEntry:t.detailedResponse})];case 1:if(r=l.sent())return[2,r];l.label=2;case 2:return[4,(p=function(){return Zo.acquireLock("auth0.lock.getTokenSilently",5e3)},h=10,void 0===h&&(h=3),g(void 0,void 0,void 0,(function(){var t;return b(this,(function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<h?[4,p()]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return t++,[3,1];case 4:return[2,!1]}}))})))];case 3:if(!l.sent())return[3,15];l.label=4;case 4:return l.trys.push([4,,12,14]),e?[3,6]:[4,this._getEntryFromCache({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id,getDetailedEntry:t.detailedResponse})];case 5:if(r=l.sent())return[2,r];l.label=6;case 6:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(n)]:[3,8];case 7:return o=l.sent(),[3,10];case 8:return[4,this._getTokenFromIFrame(n)];case 9:o=l.sent(),l.label=10;case 10:return i=o,[4,this.cacheManager.set(v({client_id:this.options.client_id},i))];case 11:return l.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays}),t.detailedResponse?(s=i.id_token,a=i.access_token,c=i.oauthTokenScope,u=i.expires_in,[2,v(v({id_token:s,access_token:a},c?{scope:c}:null),{expires_in:u})]):[2,i.access_token];case 12:return[4,Zo.releaseLock("auth0.lock.getTokenSilently")];case 13:return l.sent(),[7];case 14:return[3,16];case 15:throw new uo;case 16:return[2]}var p,h}))}))},t.prototype.getTokenWithPopup=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),g(this,void 0,void 0,(function(){return b(this,(function(n){switch(n.label){case 0:return t.audience=t.audience||this.options.audience,t.scope=No(this.defaultScope,this.scope,t.scope),e=v(v({},ro),e),[4,this.loginWithPopup(t,e)];case 1:return n.sent(),[4,this.cacheManager.get(new Io({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id}))];case 2:return[2,n.sent().access_token]}}))}))},t.prototype.isAuthenticated=function(){return g(this,void 0,void 0,(function(){return b(this,(function(t){switch(t.label){case 0:return[4,this.getUser()];case 1:return[2,!!t.sent()]}}))}))},t.prototype.buildLogoutUrl=function(t){void 0===t&&(t={}),null!==t.client_id?t.client_id=t.client_id||this.options.client_id:delete t.client_id;var e=t.federated,n=y(t,["federated"]),r=e?"&federated":"";return this._url("/v2/logout?"+bo(n))+r},t.prototype.logout=function(t){var e=this;void 0===t&&(t={});var n=t.localOnly,r=y(t,["localOnly"]);if(n&&r.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");var i=function(){if(e.cookieStorage.remove(e.orgHintCookieName),e.cookieStorage.remove(e.isAuthenticatedCookieName),!n){var t=e.buildLogoutUrl(r);window.location.assign(t)}};if(this.options.cache)return this.cacheManager.clear().then((function(){return i()}));this.cacheManager.clearSync(),i()},t.prototype._getTokenFromIFrame=function(t){return g(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u,l,p,h,d,f,m,g;return b(this,(function(b){switch(b.label){case 0:return e=go(yo()),n=go(yo()),r=yo(),[4,wo(r)];case 1:i=b.sent(),o=xo(i),s=this._getParams(t,e,n,o,t.redirect_uri||this.options.redirect_uri||window.location.origin),(a=this.cookieStorage.get(this.orgHintCookieName))&&!s.organization&&(s.organization=a),c=this._authorizeUrl(v(v({},s),{prompt:"none",response_mode:"web_message"})),u=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,b.label=2;case 2:if(b.trys.push([2,6,,7]),window.crossOriginIsolated)throw new ao("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");return[4,(w=c,_=this.domainUrl,x=u,void 0===x&&(x=60),new Promise((function(t,e){var n=window.document.createElement("iframe");n.setAttribute("width","0"),n.setAttribute("height","0"),n.style.display="none";var r,i=function(){window.document.body.contains(n)&&(window.document.body.removeChild(n),window.removeEventListener("message",r,!1))},o=setTimeout((function(){e(new uo),i()}),1e3*x);r=function(n){if(n.origin==_&&n.data&&"authorization_response"===n.data.type){var s=n.source;s&&s.close(),n.data.response.error?e(ao.fromPayload(n.data.response)):t(n.data.response),clearTimeout(o),window.removeEventListener("message",r,!1),setTimeout(i,2e3)}},window.addEventListener("message",r,!1),window.document.body.appendChild(n),n.setAttribute("src",w)})))];case 3:if(l=b.sent(),e!==l.state)throw new Error("Invalid state");return p=t.scope,h=t.audience,d=y(t,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,Co(v(v(v({},this.customOptions),d),{scope:p,audience:h,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:r,code:l.code,grant_type:"authorization_code",redirect_uri:s.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData}),this.worker)];case 4:return f=b.sent(),[4,this._verifyIdToken(f.id_token,n)];case 5:return m=b.sent(),this._processOrgIdHint(m.claims.org_id),[2,v(v({},f),{decodedToken:m,scope:s.scope,oauthTokenScope:f.scope,audience:s.audience||"default"})];case 6:throw"login_required"===(g=b.sent()).error&&this.logout({localOnly:!0}),g;case 7:return[2]}var w,_,x}))}))},t.prototype._getTokenUsingRefreshToken=function(t){return g(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u;return b(this,(function(l){switch(l.label){case 0:return t.scope=No(this.defaultScope,this.options.scope,t.scope),[4,this.cacheManager.get(new Io({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id}))];case 1:return(e=l.sent())&&e.refresh_token||this.worker?[3,3]:[4,this._getTokenFromIFrame(t)];case 2:return[2,l.sent()];case 3:n=t.redirect_uri||this.options.redirect_uri||window.location.origin,i=t.scope,o=t.audience,s=y(t,["scope","audience","ignoreCache","timeoutInSeconds"]),a="number"==typeof t.timeoutInSeconds?1e3*t.timeoutInSeconds:null,l.label=4;case 4:return l.trys.push([4,6,,9]),[4,Co(v(v(v(v(v({},this.customOptions),s),{audience:o,scope:i,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:n}),a&&{timeout:a}),{auth0Client:this.options.auth0Client,useFormData:this.options.useFormData}),this.worker)];case 5:return r=l.sent(),[3,9];case 6:return"The web worker is missing the refresh token"===(c=l.sent()).message||c.message&&c.message.indexOf("invalid refresh token")>-1?[4,this._getTokenFromIFrame(t)]:[3,8];case 7:return[2,l.sent()];case 8:throw c;case 9:return[4,this._verifyIdToken(r.id_token)];case 10:return u=l.sent(),[2,v(v({},r),{decodedToken:u,scope:t.scope,oauthTokenScope:r.scope,audience:t.audience||"default"})]}}))}))},t.prototype._getEntryFromCache=function(t){var e=t.scope,n=t.audience,r=t.client_id,i=t.getDetailedEntry,o=void 0!==i&&i;return g(this,void 0,void 0,(function(){var t,i,s,a,c;return b(this,(function(u){switch(u.label){case 0:return[4,this.cacheManager.get(new Io({scope:e,audience:n,client_id:r}),60)];case 1:return(t=u.sent())&&t.access_token?o?(i=t.id_token,s=t.access_token,a=t.oauthTokenScope,c=t.expires_in,[2,v(v({id_token:i,access_token:s},a?{scope:a}:null),{expires_in:c})]):[2,t.access_token]:[2]}}))}))},t}();var ts=n(3135),es=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};let ns=null;function rs(){return es(this,void 0,void 0,(function*(){return null!=ns?ns:ns=yield function(t){return g(this,void 0,void 0,(function(){var e;return b(this,(function(n){switch(n.label){case 0:return[4,(e=new Qo(t)).checkSession()];case 1:return n.sent(),[2,e]}}))}))}({domain:"inscriptum.auth0.com",client_id:"sSGAFDwnRqJUsJw7v12KV8SAeuYtl3Cd",audience:"https://inscriptum.js.org"})}))}function is(t){return es(this,void 0,void 0,(function*(){if(ts.v.isAuthDisabled){const t=new Date;return{accessToken:"",expiresAt:t.setDate(t.getDate()+1),userInfo:{auth0Id:"auth0|5c2b3430c12e3e5be73e5b35",email:"test@test.test"}}}const e=window.location.search;return e.includes("code=")&&e.includes("state=")?function(t){return es(this,void 0,void 0,(function*(){const e=yield rs();try{(yield e.isAuthenticated())||(yield e.handleRedirectCallback()),window.history.replaceState({},document.title,t)}catch(t){throw new Error(t)}return os()}))}(t):function(t){return es(this,void 0,void 0,(function*(){const e=sessionStorage.getItem("accessToken"),n=sessionStorage.getItem("userInfo"),r=Number(sessionStorage.getItem("expiresAt"));if(null!=e&&null!=n&&r>Date.now()){return{accessToken:e,userInfo:JSON.parse(n),expiresAt:r}}const i=yield rs();return(yield i.isAuthenticated())||(yield i.loginWithRedirect({redirect_uri:t})),os()}))}(t)}))}function os(){return es(this,void 0,void 0,(function*(){const t=yield rs(),e=yield t.getTokenSilently(),n=yield t.getUser();if(null==n)throw new Error("Can't find user info");console.log(e),console.log(JSON.stringify(n));const r={auth0Id:n.sub,email:n.email},i=new Date,o=i.setDate(i.getDate()+1);return sessionStorage.setItem("accessToken",e),sessionStorage.setItem("userInfo",JSON.stringify(r)),sessionStorage.setItem("expiresAt",JSON.stringify(o)),{accessToken:e,userInfo:r,expiresAt:o}}))}const ss=i.Z.$.pipe((0,l.h)((t=>r.C.AUTH===t.type)),(0,p.w)((t=>(0,o.P)((()=>is(t.payload.redirectUri))).pipe((0,h.U)((t=>({type:r.C.AUTH_DONE,payload:t}))),(0,d.K)((t=>(console.warn(t),u({type:r.C.AUTH_FAIL,payload:t}))))))));var as=n(4370),cs=n(2156);function us(){return(0,cs.J)(1)}function ls(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return us()(u.apply(void 0,t))}var ps=n(5987),hs=n(979);var ds=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new fs(t,this.accumulator,this.seed,this.hasSeed))},t}(),fs=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return ps.ZT(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(hs.L),ms=n(2039),vs=n(7407);var ys,gs=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new bs(t,this.keySelector,this.flushes))},t}(),bs=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=n,i.values=new Set,r&&i.add((0,vs.D)(i,r)),i}return ps.ZT(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(ms.L),ws=n(211),_s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return ps.ZT(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n(6114).o),xs=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ps.ZT(e,t),e}(n(2980).v))(_s),ks=n(8760),Ss=n(5631),Ts=n(1244);function Os(t){var e=t.error;t.subscriber.error(e)}ys||(ys={});var Es=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t,e;switch(this.kind){case"N":return u(this.value);case"E":return t=this.error,e?new Ts.y((function(n){return e.schedule(Os,0,{error:t,subscriber:n})})):new Ts.y((function(e){return e.error(t)}));case"C":return(0,Ss.c)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var Cs=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return ps.ZT(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new As(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Es.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Es.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Es.createComplete()),this.unsubscribe()},e}(hs.L),As=function(){return function(t,e){this.notification=t,this.destination=e}}(),Ns=n(1016),Is=n(8253),Ds=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return ps.ZT(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new Ms(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Ns.N;if(this.isStopped||this.hasError?e=ks.w.EMPTY:(this.observers.push(t),e=new Is.W(this,t)),i&&t.add(t=new Cs(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||xs).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(ws.xQ),Ms=function(){return function(t,e){this.time=t,this.value=e}}();function Rs(){return function(t){return t.lift(new Ps(t))}}var Ps=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new js(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),js=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return ps.ZT(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(hs.L),Ls=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return ps.ZT(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new ks.w).add(this.source.subscribe(new Bs(this.getSubject(),this))),t.closed&&(this._connection=null,t=ks.w.EMPTY)),t},e.prototype.refCount=function(){return Rs()(this)},e}(Ts.y),Fs=function(){var t=Ls.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),Bs=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return ps.ZT(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(ws.Yc);hs.L;var zs=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();var Us=n(6925);const Vs=(0,as.T)(i.Z.$,ss).pipe((0,Us.Z)(r.C),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return(0,s.K)(n)?(t.pop(),function(e){return ls(t,e,n)}):function(e){return ls(t,e)}}({isLoading:!1}),function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ds(t,e,n))}}((function(t,e){switch(e.type){case r.C.AUTH:return Object.assign(Object.assign({},t),{error:null,isLoading:!0});case r.C.AUTH_DONE:return Object.assign(Object.assign({},t),{data:e.payload,isLoading:!1});case r.C.AUTH_FAIL:return Object.assign(Object.assign({},t),{error:e.payload,isLoading:!1});default:return t}})),(function(t){return t.lift(new gs(qs,Hs))}),function(t,e,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new Ds(t,e,r);return function(t){return function(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new zs(r,e));var i=Object.create(n,Fs);return i.source=n,i.subjectFactory=r,i}}((function(){return o}),i)(t)}}(1),Rs());var qs,Hs},9048:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(211),i=n(5467);const o=new r.xQ;const s={$:o.asObservable(),dispatch:function(t){console.log(t),function(t){var e,n;"error"in t.payload&&Array.isArray(null===(n=null===(e=t.payload.error)||void 0===e?void 0:e.response)||void 0===n?void 0:n.errors)&&t.payload.error.response.errors.some((t=>{var e;return null===(e=t.message)||void 0===e?void 0:e.startWith("Could not verify JWT: JWTExpired")}))&&s.dispatch({type:i.C.AUTH,payload:{redirectUri:`${document.location.origin}/drafts`}})}(t),o.next(t)}}},6106:(t,e,n)=>{"use strict";n.d(e,{j7:()=>u,Bc:()=>l});var r=n(6798),i=n(6136),o=n(8770),s=n(8638),a=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const c=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,u="figure",l=r.NB.create({name:u,draggable:!0,defining:!0,selectable:!0,content:()=>"text*",defaultOptions:{inline:!1,HTMLAttributes:{}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML:()=>[{tag:"figure",contentElement:"figcaption",getAttrs:t=>{const e=t.querySelector("img");return{src:null==e?void 0:e.getAttribute("src"),alt:null==e?void 0:e.getAttribute("alt"),title:null==e?void 0:e.getAttribute("title")}}},{tag:"img[src]",preserveWhitespace:!0,getContent:(t,e)=>s.HY.from(e.text(t.alt.length>0?t.alt:" ")),getAttrs:t=>({src:t.getAttribute("src")})}],renderHTML({HTMLAttributes:t}){return["figure",["img",(0,r.P1)(this.options.HTMLAttributes,t)],["figcaption",0]]},addCommands(){return{setFigure:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[(0,r.x2)(c,this.type,(t=>{const[,e,n,r]=t;return{src:n,alt:e,title:r}}))]},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("figure");s.setAttribute("draggable","true");const c=document.createElement("div"),u=document.createElement("figcaption");c.classList.add("figure_wrapper"),c.contentEditable="false",u.classList.add("editable_text"),u.classList.add("empty"),u.setAttribute("data-placeholder","Caption (optional)");const l=t.content.firstChild;(null==l?void 0:l.isText)&&null!=l.text&&l.text.trim().length>0&&u.classList.remove("empty"),s.appendChild(c),s.appendChild(u);const h=function(t,e){const n=document.createElement("img");return n.setAttribute("src",p(t)),e.appendChild(n),n}(t.attrs.src,c);t.attrs.alt&&h.setAttribute("alt",t.attrs.alt),t.attrs.title&&h.setAttribute("title",t.attrs.title);const d=function(t){const e=t.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/);if(null!=e)return{type:e[1],base64_data:e[2]}}(t.attrs.src);if(null!=d){const t=document.createElement("div"),e=document.createElement("div");t.classList.add("file_progress"),e.classList.add("file_progress_bar"),c.classList.add("loading"),t.appendChild(e),c.appendChild(t),function(t,e,n){!function(t,e,n,r){a(this,void 0,void 0,(function*(){try{const r=yield(0,o.uploadFileService)((0,i.uploadDataToBlob)(t),e);n&&n(r)}catch(t){r&&r(t)}}))}(t,((t,e)=>{let r=0;e&&t&&(r=100*t/e,r=Math.min(100,r)),n.style.width=r+"%"}),(t=>{if(t){const n=p(t.src),r=e.querySelector("img");null!=r&&(r.src=n),e.classList.remove("loading")}}),(t=>(0,i.showError)(t)))}(d,c,e)}return h.onclick=()=>{"function"==typeof n&&this.editor.commands.setNodeSelection(n())},{dom:s,contentDOM:u,ignoreMutation:e=>"attributes"===e.type&&null!=e.attributeName&&(["src","title","alt"].includes(e.attributeName)&&(t.attrs[e.attributeName]=e.target.getAttribute(e.attributeName)),!0),update:t=>t.type===this.type&&(u.classList.toggle("empty",0===t.content.size),!0)}}}});function p(t){return function(t,e){const n=document.createElement("a");n.href=t;const r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}(t,["http","https","data"])?t:"//:0"}},9586:(t,e,n)=>{"use strict";n.d(e,{W:()=>i,V:()=>o});var r=n(6798);const i="topicSummary",o=r.NB.create({name:i,group:"topicDoc",content:"inline*",addAttributes:()=>({"data-placeholder":{default:"Summary of the text"},"data-label":{default:"Summary"},role:{default:"definition"}}),parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",(0,r.P1)(this.options.HTMLAttributes,t),0]}})},9059:(t,e,n)=>{"use strict";n.d(e,{H:()=>i,l:()=>o});var r=n(6798);const i="topicTitle",o=r.NB.create({name:i,content:"inline*",group:"topicDoc",defining:!0,selectable:!0,addAttributes:()=>({"data-placeholder":{default:"Title"},"data-label":{default:"Title"}}),parseHTML:()=>[{tag:"h1"}],renderHTML({HTMLAttributes:t}){return["h1",(0,r.P1)(this.options.HTMLAttributes,t),0]}})},3135:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});const r=Object.freeze({isDevMode:!1,isAuthDisabled:!1,nodeListFileName:"list.json"})},6799:(t,e,n)=>{"use strict";n.d(e,{n:()=>i});var r=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};function i(t){const e={findByAuth0:"\n      query AUTHOR_FIND_BY_AUTH0($auth0_id: String) {\n        authors: author(where: { auth0_id: { _eq: $auth0_id } }) {\n          id\n          email\n          name\n          last_seen\n          created_at\n        }\n      }\n    "};return{findByAuth0:function(n){return r(this,void 0,void 0,(function*(){const{authors:r}=yield t.request(e.findByAuth0,n);return r[0]}))}}}},9047:(t,e,n)=>{"use strict";n.d(e,{u:()=>i});var r=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};function i(t){return{findById:function(e){return r(this,void 0,void 0,(function*(){const n={id:e},{draft:r}=yield t.request("\n        query DRAFT_FIND_BY_ID($id: uuid!) {\n          draft: draft_by_pk(id: $id) {\n            id\n            created_at\n            updated_at\n            notes(order_by: { created_at: asc }, where: { ended_at: { _is_null: true } }) {\n              id\n            }\n            pages(order_by: { created_at: asc }, where: { ended_at: { _is_null: true } }) {\n              id\n              content\n            }\n          }\n        }\n      ",n);if(Array.isArray(r.notes)&&r.notes.length>1)throw new Error(`There are more then one active notes for ${r.id} draft`);return r}))},getAll:function(){return r(this,void 0,void 0,(function*(){const{drafts:e}=yield t.request("\n      query DRAFT_GET_ALL {\n        drafts: draft(order_by: { updated_at: desc }, where: { ended_at: { _is_null: true } }) {\n          id\n          pages(order_by: { created_at: asc }, where: { ended_at: { _is_null: true } }) {\n            content\n          }\n          created_at\n          updated_at\n          author {\n            id\n            email\n            name\n          }\n          notes(order_by: { created_at: asc }, where: { ended_at: { _is_null: true } }) {\n            static_link\n          }\n        }\n      }\n    ");return e}))},create:function(e,n){return r(this,void 0,void 0,(function*(){const r={author_id:e,content:n},{insert_draft_one:i}=yield t.request("\n        mutation DRAFT_CREATE($author_id: uuid, $content: jsonb) {\n          insert_draft_one(object: { author_id: $author_id, pages: { data: { content: $content } } }) {\n            id\n            pages {\n              id\n              content\n            }\n          }\n        }\n      ",r);return i}))},deleteById:function(e){return r(this,void 0,void 0,(function*(){const{update_draft_by_pk:n}=yield t.request("\n        mutation DRAFT_DELETE_LOGICALLY($id: uuid!, $ended_at: timestamptz) {\n          update_draft_by_pk(pk_columns: { id: $id }, _set: { ended_at: $ended_at }) {\n            id\n          }\n        }\n      ",Object.assign(Object.assign({},e),{ended_at:(new Date).toISOString()}));return n}))}}}},5283:(t,e,n)=>{"use strict";n.d(e,{p:()=>i});var r=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};function i(t){return{getAll:function(){return r(this,void 0,void 0,(function*(){const{notes:e}=yield t.request("\n      query NOTE_GET_ALL {\n        notes: note(order_by: { created_at: desc }, where: { ended_at: { _is_null: true } }) {\n          id\n          name\n          preview\n          draft_id\n          static_link\n          updated_at\n          created_at\n          author {\n            id\n            name\n            email\n          }\n        }\n      }\n    ");return e}))},findById:function(e){return r(this,void 0,void 0,(function*(){const n={id:e},{note:r}=yield t.request("\n        query NOTE_BY_ID($id: uuid!) {\n          note: note_by_pk(id: $id) {\n            draft {\n              id\n              pages(order_by: { created_at: asc }, where: { ended_at: { _is_null: true } }) {\n                id\n                content\n              }\n            }\n          }\n        }\n      ",n);return r}))},updateById:function(e,n,i,o){return r(this,void 0,void 0,(function*(){const r={id:e,name:n,preview:i,static_link:o,updated_at:(new Date).toISOString()},{update_note_by_pk:s}=yield t.request("\n        mutation NOTE_UPDATE_BY_ID($id: uuid!, $name: String, $preview: jsonb, $static_link: String, $updated_at: timestamptz) {\n          update_note_by_pk(\n            pk_columns: { id: $id }\n            _set: { name: $name, preview: $preview, static_link: $static_link, updated_at: $updated_at }\n          ) {\n            id\n            updated_at\n            created_at\n          }\n        }\n      ",r);return s}))},create:function(e,n,i,o,s){return r(this,void 0,void 0,(function*(){const r={author_id:e,name:n,draft_id:i,preview:o,static_link:s},{insert_note_one:a}=yield t.request("\n        mutation NOTE_CREATE($author_id: uuid, $name: String, $draft_id: uuid, $preview: jsonb, $static_link: String) {\n          insert_note_one(\n            object: { author_id: $author_id, name: $name, draft_id: $draft_id, preview: $preview, static_link: $static_link }\n          ) {\n            id\n            created_at\n            updated_at\n          }\n        }\n      ",r);return a}))}}}},5116:(t,e,n)=>{"use strict";n.d(e,{D:()=>i});var r=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};function i(t){return{updateById:function(e,n){return r(this,void 0,void 0,(function*(){const r={id:e,content:n,updated_at:(new Date).toISOString()},{update_page_by_pk:i}=yield t.request("\n        mutation PAGE_UPDATE_BY_ID($id: uuid!, $content: jsonb, $updated_at: timestamptz) {\n          update_page_by_pk(pk_columns: { id: $id }, _set: { content: $content, updated_at: $updated_at }) {\n            id\n          }\n        }\n      ",r);return i.id}))}}}},1966:(t,e,n)=>{"use strict";n.d(e,{V:()=>u});var r=n(8687),i=n(9047),o=n(6799),s=n(5283),a=n(5116),c=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class u{constructor(){if(this._graphQLClientOptions={credentials:"include",mode:"cors",cache:"no-cache",method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"}},this._graphQLClientEndpoint="https://inscriptum-hasura.herokuapp.com/v1/graphql",u.instance)return u.instance;this.prepareApi(),u.instance=this}prepareApi(){const t=new r.GraphQLClient(this._graphQLClientEndpoint,this._graphQLClientOptions);this.api={draft:(0,i.u)(t),author:(0,o.n)(t),note:(0,s.p)(t),page:(0,a.D)(t)}}sendBeacon4UpdateDraft(t,e){const n=`\n      mutation {\n        updateDraft(id: ${t}, contents: ${e}){\n          id\n        }\n      }\n    `,r={type:"application/x-www-form-urlencoded",Authorization:(this._graphQLClientOptions.headers||{}).Authorization,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"};Object.keys(JSON.stringify(n)).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n)})).join("&");let i=new Blob([encodeURIComponent("query")+"="+encodeURIComponent(n)],r);navigator.sendBeacon(this._graphQLClientEndpoint,i)}authenticateAuthor(t,e){return c(this,void 0,void 0,(function*(){this._addAuthInfoToGraphQLClient(t),this.author=yield this.api.author.findByAuth0({auth0_id:e["https://hasura.io/jwt/claims"]["x-hasura-user-id"]})}))}_addAuthInfoToGraphQLClient(t){this._graphQLClientOptions=Object.assign(Object.assign({},this._graphQLClientOptions),{headers:Object.assign(Object.assign({},this._graphQLClientOptions.headers),{Authorization:`Bearer ${t}`})}),this.prepareApi()}}},4938:(t,e,n)=>{"use strict";n.d(e,{X7:()=>s,Ro:()=>a,WV:()=>c,iv:()=>p,u:()=>h});var r=n(6106),i=n(9586),o=n(9059);function s(t){if(!document.getElementById(t)){var e=document.getElementsByTagName("head")[0],n=document.createElement("link");n.id=t,n.rel="stylesheet",n.type="text/css",n.href=document.location.origin+t,n.media="all",e.appendChild(n)}}function a(t){let e="<noname>",n="...",r="";if(Array.isArray(null==t?void 0:t.ops)&&t.ops.length>0){e=String(t.ops[0].insert),n=String(t.ops[2].insert);const i=t.ops.find((t=>void 0!==l(t,["insert","blockFigure","image"])));if(null!=i&&(r=l(i,["insert","blockFigure","image"])),n.length<3){for(const[e,i]of t.ops.entries())if(e>2){if(n.length>100)break;void 0!==l(i,["insert","blockFigure","image"])?r=l(i,["insert","blockFigure","image"]):n+=" "+i.insert}n+="..."}}return n=n.trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/`/g,"&DiacriticalGrave;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),{title:e,description:n,image:r}}function c(t){var e,n,s;let a="<noname>",c="...",l="";if(null!=t){const p=u(t,o.H);null!=(null==p?void 0:p.content)&&(a=null!==(e=p.content[0].text)&&void 0!==e?e:a);const h=u(t,i.W);null!=(null==h?void 0:h.content)&&(c=null!==(n=h.content[0].text)&&void 0!==n?n:c);const d=u(t,r.j7);null!=(null==d?void 0:d.attrs)&&(l=null!==(s=d.attrs.src)&&void 0!==s?s:l)}return c=c.trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/`/g,"&DiacriticalGrave;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),{title:a,description:c,image:l}}function u(t,e){if(t.type===e)return t;if(Array.isArray(t.content))for(const n of t.content){const t=u(n,e);if(null!=t)return t}return null}function l(t,e){return e.reduce(((t,e)=>t&&"undefined"!==t[e]?t[e]:void 0),t)}const p=String.raw;function h(t,e=!1){const n="                                            ".split(/ +/g),r="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g);for(let i=0;i<n.length;i++)t=(t=t.split(e?r[i]:n[i]).join(e?n[i]:r[i])).split(e?r[i].toUpperCase():n[i].toUpperCase()).join(e?n[i].toUpperCase():r[i].toUpperCase());return t}},7848:(t,e,n)=>{"use strict";n.d(e,{G:()=>u});var r=n(5467),i=n(9048),o=n(7253),s=n(4217),a=n(9514),c=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};function u(t,e=`${document.location.origin}/drafts`){return c(this,void 0,void 0,(function*(){return new Promise((n=>{o.f.pipe((0,s.q)(1)).subscribe((t=>{var n;null!=(null===(n=t.data)||void 0===n?void 0:n.accessToken)||t.isLoading||i.Z.dispatch({type:r.C.AUTH,payload:{redirectUri:e}})})),o.f.pipe((0,a.P)((t=>null!=t.data&&!t.isLoading))).subscribe((e=>{console.log("authorizedWork AUTH_ACTION.AUTH_DONE"),n(t(e.data))}))}))}))}},669:(t,e,n)=>{"use strict";n.d(e,{$:()=>c});var r=n(1640),i=n(8147),o=n(3255);class s extends i.s{render(t,e){return e.current=this,t}}const a=(0,o.XM)(s);function c(t,e){if(!(e.current instanceof HTMLElement))return e.current instanceof s&&e.current.setValue(t),a(t,e);(0,r.sY)(t,e.current)}},6925:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(6008);function i(t){return(0,r.h)((e=>Object.values(t).includes(e.type)))}},4098:function(t,e){var n="undefined"!=typeof self?self:this,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function p(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function v(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=v(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t,e,n,r=d(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=f(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=u(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},h.prototype.delete=function(t){delete this.map[u(t)]},h.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},h.prototype.set=function(t,e){this.map[u(t)]=l(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),p(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),p(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),p(t)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var n,r,i=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),g.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];_.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function k(t,n){return new Promise((function(r,o){var s=new b(t,n);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new _(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,t.fetch||(t.fetch=k,t.Headers=h,t.Request=b,t.Response=_),e.Headers=h,e.Request=b,e.Response=_,e.fetch=k,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},7584:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(3645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,'@font-face{font-family:"Inter";font-style:normal;font-weight:100 900;font-display:swap;src:url(/fonts/inter/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:"Inter";font-style:normal;font-weight:100 900;font-display:swap;src:url(/fonts/inter/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"JetBrainsMono";font-style:normal;font-weight:400;font-display:swap;src:url(/fonts/jetbrainsmono/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTPlOTk6OThhvAWV8.woff) format("woff");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:"JetBrainsMono";font-style:normal;font-weight:400;font-display:swap;src:url(/fonts/jetbrainsmono/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTOlOTk6OThhvA.woff) format("woff");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}html{font-family:sans-serif}@supports(font-variation-settings: normal){html{font-family:"Inter var",sans-serif}}.container{max-width:800px}',""]);const o=i},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},2445:t=>{"use strict";t.exports=function(t){var e=t.uri,n=t.name,r=t.type;this.uri=e,this.name=n,this.type=r}},804:(t,e,n)=>{"use strict";var r=n(1268);t.exports=function t(e,n,i){var o;void 0===n&&(n=""),void 0===i&&(i=r);var s=new Map;function a(t,e){var n=s.get(e);n?n.push.apply(n,t):s.set(e,t)}if(i(e))o=null,a([n],e);else{var c=n?n+".":"";if("undefined"!=typeof FileList&&e instanceof FileList)o=Array.prototype.map.call(e,(function(t,e){return a([""+c+e],t),null}));else if(Array.isArray(e))o=e.map((function(e,n){var r=t(e,""+c+n,i);return r.files.forEach(a),r.clone}));else if(e&&e.constructor===Object)for(var u in o={},e){var l=t(e[u],""+c+u,i);l.files.forEach(a),o[u]=l.clone}else o=e}return{clone:o,files:s}}},4823:(t,e,n)=>{"use strict";e.ReactNativeFile=n(2445),e.extractFiles=n(804),e.isExtractableFile=n(1268)},1268:(t,e,n)=>{"use strict";var r=n(2445);t.exports=function(t){return"undefined"!=typeof File&&t instanceof File||"undefined"!=typeof Blob&&t instanceof Blob||t instanceof r}},8458:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4823),o=r(n(3458)),s=function(t){return i.isExtractableFile(t)||null!==t&&"object"==typeof t&&"function"==typeof t.pipe};e.default=function(t,e,n){var r=i.extractFiles({query:t,variables:e,operationName:n},"",s),a=r.clone,c=r.files;if(0===c.size)return JSON.stringify(a);var u=new("undefined"==typeof FormData?o.default:FormData);u.append("operations",JSON.stringify(a));var l={},p=0;return c.forEach((function(t){l[++p]=t})),u.append("map",JSON.stringify(l)),p=0,c.forEach((function(t,e){u.append(""+ ++p,e)})),u}},8687:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},c=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.gql=e.request=e.rawRequest=e.GraphQLClient=e.ClientError=void 0;var p=s(n(4098)),h=p,d=n(3033),f=l(n(8458)),m=n(8308),v=n(8308);Object.defineProperty(e,"ClientError",{enumerable:!0,get:function(){return v.ClientError}});var y=function(t){var e={};return t&&("undefined"!=typeof Headers&&t instanceof Headers||t instanceof h.Headers?e=function(t){var e={};return t.forEach((function(t,n){e[n]=t})),e}(t):Array.isArray(t)?t.forEach((function(t){var n=t[0],r=t[1];e[n]=r})):e=t),e},g=function(t){var e=t.url,n=t.query,i=t.variables,o=t.operationName,s=t.headers,u=t.fetch,l=t.fetchOptions;return a(void 0,void 0,void 0,(function(){var t;return c(this,(function(a){switch(a.label){case 0:return t=f.default(n,i,o),[4,u(e,r({method:"POST",headers:r(r({},"string"==typeof t?{"Content-Type":"application/json"}:{}),s),body:t},l))];case 1:return[2,a.sent()]}}))}))},b=function(t){var e=t.url,n=t.query,i=t.variables,o=t.operationName,s=t.headers,u=t.fetch,l=t.fetchOptions;return a(void 0,void 0,void 0,(function(){var t;return c(this,(function(a){switch(a.label){case 0:return t=["query="+encodeURIComponent(n.replace(/([\s,]|#[^\n\r]+)+/g," ").trim())],i&&t.push("variables="+encodeURIComponent(JSON.stringify(i))),o&&t.push("operationName="+encodeURIComponent(o)),[4,u(e+"?"+t.join("&"),r({method:"GET",headers:s},l))];case 1:return[2,a.sent()]}}))}))},w=function(){function t(t,e){this.url=t,this.options=e||{}}return t.prototype.rawRequest=function(t,e,n){var i=this.options,o=i.headers,s=i.fetch,a=void 0===s?p.default:s,c=i.method,l=void 0===c?"POST":c,h=u(i,["headers","fetch","method"]);return _({url:this.url,query:t,variables:e,headers:r(r({},y(o)),y(n)),operationName:void 0,fetch:a,method:l,fetchOptions:h})},t.prototype.request=function(t,e,n){return a(this,void 0,void 0,(function(){var i,o,s,a,l,h,f,m,v,g,b;return c(this,(function(c){switch(c.label){case 0:return i=this.options,o=i.headers,s=i.fetch,a=void 0===s?p.default:s,l=i.method,h=void 0===l?"POST":l,f=u(i,["headers","fetch","method"]),m=this.url,v=function(t){var e;if("string"==typeof t)return{query:t};var n=void 0,r=t.definitions.filter((function(t){return"OperationDefinition"===t.kind}));1===r.length&&(n=null===(e=r[0].name)||void 0===e?void 0:e.value);return{query:d.print(t),operationName:n}}(t),g=v.query,b=v.operationName,[4,_({url:m,query:g,variables:e,headers:r(r({},y(o)),y(n)),operationName:b,fetch:a,method:h,fetchOptions:f})];case 1:return[2,c.sent().data]}}))}))},t.prototype.setHeaders=function(t){return this.options.headers=t,this},t.prototype.setHeader=function(t,e){var n,r=this.options.headers;return r?r[t]=e:this.options.headers=((n={})[t]=e,n),this},t}();function _(t){var e=t.url,n=t.query,i=t.variables,o=t.headers,s=t.operationName,u=t.fetch,l=t.method,p=void 0===l?"POST":l,h=t.fetchOptions;return a(this,void 0,void 0,(function(){var t,a,l,d,f;return c(this,(function(c){switch(c.label){case 0:return[4,("POST"===p.toUpperCase()?g:b)({url:e,query:n,variables:i,operationName:s,headers:o,fetch:u,fetchOptions:h})];case 1:return[4,k(t=c.sent())];case 2:if(a=c.sent(),t.ok&&!a.errors&&a.data)return l=t.headers,d=t.status,[2,r(r({},a),{headers:l,status:d})];throw f="string"==typeof a?{error:a}:a,new m.ClientError(r(r({},f),{status:t.status,headers:t.headers}),{query:n,variables:i})}}))}))}function x(t,e,n,r){return a(this,void 0,void 0,(function(){return c(this,(function(i){return[2,new w(t).request(e,n,r)]}))}))}function k(t){var e=t.headers.get("Content-Type");return e&&e.startsWith("application/json")?t.json():t.text()}e.GraphQLClient=w,e.rawRequest=function(t,e,n,r){return a(this,void 0,void 0,(function(){return c(this,(function(i){return[2,new w(t).rawRequest(e,n,r)]}))}))},e.request=x,e.default=x,e.gql=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.reduce((function(t,n,r){return""+t+n+(r in e?e[r]:"")}),"")}},8308:function(t,e){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.ClientError=void 0;var i=function(t){function e(n,r){var i=this,o=e.extractMessage(n)+": "+JSON.stringify({response:n,request:r});return i=t.call(this,o)||this,Object.setPrototypeOf(i,e.prototype),i.response=n,i.request=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,e),i}return r(e,t),e.extractMessage=function(t){try{return t.errors[0].message}catch(e){return"GraphQL Error (Code: "+t.status+")"}},e}(Error);e.ClientError=i},3458:t=>{t.exports="object"==typeof self?self.FormData:window.FormData},972:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.prototype.toJSON;"function"==typeof e||(0,r.default)(0),t.prototype.inspect=e,i.default&&(t.prototype[i.default]=e)};var r=o(n(7706)),i=o(n(8554));function o(t){return t&&t.__esModule?t:{default:t}}},8002:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return s(t,[])};var r,i=(r=n(8554))&&r.__esModule?r:{default:r};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){switch(o(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return null===t?"null":function(t,e){if(-1!==e.indexOf(t))return"[Circular]";var n=[].concat(e,[t]),r=function(t){var e=t[String(i.default)];if("function"==typeof e)return e;if("function"==typeof t.inspect)return t.inspect}(t);if(void 0!==r){var o=r.call(t);if(o!==t)return"string"==typeof o?o:s(o,n)}else if(Array.isArray(t))return function(t,e){if(0===t.length)return"[]";if(e.length>2)return"[Array]";for(var n=Math.min(10,t.length),r=t.length-n,i=[],o=0;o<n;++o)i.push(s(t[o],e));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(t,n);return function(t,e){var n=Object.keys(t);if(0===n.length)return"{}";if(e.length>2)return"["+function(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"==typeof t.constructor){var n=t.constructor.name;if("string"==typeof n&&""!==n)return n}return e}(t)+"]";return"{ "+n.map((function(n){return n+": "+s(t[n],e)})).join(", ")+" }"}(t,n)}(t,e);default:return String(t)}}},7706:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!Boolean(t))throw new Error(null!=e?e:"Unexpected invariant triggered.")}},8554:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;e.default=n},1807:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNode=function(t){return null!=t&&"string"==typeof t.kind},e.Token=e.Location=void 0;var r,i=(r=n(972))&&r.__esModule?r:{default:r};var o=function(){function t(t,e,n){this.start=t.start,this.end=e.end,this.startToken=t,this.endToken=e,this.source=n}return t.prototype.toJSON=function(){return{start:this.start,end:this.end}},t}();e.Location=o,(0,i.default)(o);var s=function(){function t(t,e,n,r,i,o,s){this.kind=t,this.start=e,this.end=n,this.line=r,this.column=i,this.value=s,this.prev=o,this.next=null}return t.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();e.Token=s,(0,i.default)(s)},849:(t,e)=>{"use strict";function n(t){for(var e=0;e<t.length;++e)if(" "!==t[e]&&"\t"!==t[e])return!1;return!0}function r(t){for(var e,n=!0,r=!0,i=0,o=null,s=0;s<t.length;++s)switch(t.charCodeAt(s)){case 13:10===t.charCodeAt(s+1)&&++s;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(e=o)&&void 0!==e?e:0}Object.defineProperty(e,"__esModule",{value:!0}),e.dedentBlockStringValue=function(t){var e=t.split(/\r\n|[\n\r]/g),i=r(t);if(0!==i)for(var o=1;o<e.length;o++)e[o]=e[o].slice(i);var s=0;for(;s<e.length&&n(e[s]);)++s;var a=e.length;for(;a>s&&n(e[a-1]);)--a;return e.slice(s,a).join("\n")},e.getBlockStringIndentation=r,e.printBlockString=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===t.indexOf("\n"),i=" "===t[0]||"\t"===t[0],o='"'===t[t.length-1],s="\\"===t[t.length-1],a=!r||o||s||n,c="";!a||r&&i||(c+="\n"+e);c+=e?t.replace(/\n/g,"\n"+e):t,a&&(c+="\n");return'"""'+c.replace(/"""/g,'\\"""')+'"""'}},3033:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.print=function(t){return(0,r.visit)(t,{leave:o})};var r=n(285),i=n(849);var o={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return a(t.definitions,"\n\n")+"\n"},OperationDefinition:function(t){var e=t.operation,n=t.name,r=u("(",a(t.variableDefinitions,", "),")"),i=a(t.directives," "),o=t.selectionSet;return n||i||r||"query"!==e?a([e,a([n,r]),i,o]," "):o},VariableDefinition:function(t){var e=t.variable,n=t.type,r=t.defaultValue,i=t.directives;return e+": "+n+u(" = ",r)+u(" ",a(i," "))},SelectionSet:function(t){return c(t.selections)},Field:function(t){var e=t.alias,n=t.name,r=t.arguments,i=t.directives,o=t.selectionSet,s=u("",e,": ")+n,c=s+u("(",a(r,", "),")");return c.length>80&&(c=s+u("(\n",l(a(r,"\n")),"\n)")),a([c,a(i," "),o]," ")},Argument:function(t){return t.name+": "+t.value},FragmentSpread:function(t){return"..."+t.name+u(" ",a(t.directives," "))},InlineFragment:function(t){var e=t.typeCondition,n=t.directives,r=t.selectionSet;return a(["...",u("on ",e),a(n," "),r]," ")},FragmentDefinition:function(t){var e=t.name,n=t.typeCondition,r=t.variableDefinitions,i=t.directives,o=t.selectionSet;return"fragment ".concat(e).concat(u("(",a(r,", "),")")," ")+"on ".concat(n," ").concat(u("",a(i," ")," "))+o},IntValue:function(t){return t.value},FloatValue:function(t){return t.value},StringValue:function(t,e){var n=t.value;return t.block?(0,i.printBlockString)(n,"description"===e?"":"  "):JSON.stringify(n)},BooleanValue:function(t){return t.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){return t.value},ListValue:function(t){return"["+a(t.values,", ")+"]"},ObjectValue:function(t){return"{"+a(t.fields,", ")+"}"},ObjectField:function(t){return t.name+": "+t.value},Directive:function(t){return"@"+t.name+u("(",a(t.arguments,", "),")")},NamedType:function(t){return t.name},ListType:function(t){return"["+t.type+"]"},NonNullType:function(t){return t.type+"!"},SchemaDefinition:s((function(t){var e=t.directives,n=t.operationTypes;return a(["schema",a(e," "),c(n)]," ")})),OperationTypeDefinition:function(t){return t.operation+": "+t.type},ScalarTypeDefinition:s((function(t){return a(["scalar",t.name,a(t.directives," ")]," ")})),ObjectTypeDefinition:s((function(t){var e=t.name,n=t.interfaces,r=t.directives,i=t.fields;return a(["type",e,u("implements ",a(n," & ")),a(r," "),c(i)]," ")})),FieldDefinition:s((function(t){var e=t.name,n=t.arguments,r=t.type,i=t.directives;return e+(h(n)?u("(\n",l(a(n,"\n")),"\n)"):u("(",a(n,", "),")"))+": "+r+u(" ",a(i," "))})),InputValueDefinition:s((function(t){var e=t.name,n=t.type,r=t.defaultValue,i=t.directives;return a([e+": "+n,u("= ",r),a(i," ")]," ")})),InterfaceTypeDefinition:s((function(t){var e=t.name,n=t.interfaces,r=t.directives,i=t.fields;return a(["interface",e,u("implements ",a(n," & ")),a(r," "),c(i)]," ")})),UnionTypeDefinition:s((function(t){var e=t.name,n=t.directives,r=t.types;return a(["union",e,a(n," "),r&&0!==r.length?"= "+a(r," | "):""]," ")})),EnumTypeDefinition:s((function(t){var e=t.name,n=t.directives,r=t.values;return a(["enum",e,a(n," "),c(r)]," ")})),EnumValueDefinition:s((function(t){return a([t.name,a(t.directives," ")]," ")})),InputObjectTypeDefinition:s((function(t){var e=t.name,n=t.directives,r=t.fields;return a(["input",e,a(n," "),c(r)]," ")})),DirectiveDefinition:s((function(t){var e=t.name,n=t.arguments,r=t.repeatable,i=t.locations;return"directive @"+e+(h(n)?u("(\n",l(a(n,"\n")),"\n)"):u("(",a(n,", "),")"))+(r?" repeatable":"")+" on "+a(i," | ")})),SchemaExtension:function(t){var e=t.directives,n=t.operationTypes;return a(["extend schema",a(e," "),c(n)]," ")},ScalarTypeExtension:function(t){return a(["extend scalar",t.name,a(t.directives," ")]," ")},ObjectTypeExtension:function(t){var e=t.name,n=t.interfaces,r=t.directives,i=t.fields;return a(["extend type",e,u("implements ",a(n," & ")),a(r," "),c(i)]," ")},InterfaceTypeExtension:function(t){var e=t.name,n=t.interfaces,r=t.directives,i=t.fields;return a(["extend interface",e,u("implements ",a(n," & ")),a(r," "),c(i)]," ")},UnionTypeExtension:function(t){var e=t.name,n=t.directives,r=t.types;return a(["extend union",e,a(n," "),r&&0!==r.length?"= "+a(r," | "):""]," ")},EnumTypeExtension:function(t){var e=t.name,n=t.directives,r=t.values;return a(["extend enum",e,a(n," "),c(r)]," ")},InputObjectTypeExtension:function(t){var e=t.name,n=t.directives,r=t.fields;return a(["extend input",e,a(n," "),c(r)]," ")}};function s(t){return function(e){return a([e.description,t(e)],"\n")}}function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(e=null==t?void 0:t.filter((function(t){return t})).join(n))&&void 0!==e?e:""}function c(t){return u("{\n",l(a(t,"\n")),"\n}")}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=e&&""!==e?t+e+n:""}function l(t){return u("  ",t.replace(/\n/g,"\n  "))}function p(t){return-1!==t.indexOf("\n")}function h(t){return null!=t&&t.some(p)}},285:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.visit=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,r=void 0,u=Array.isArray(t),l=[t],p=-1,h=[],d=void 0,f=void 0,m=void 0,v=[],y=[],g=t;do{var b=++p===l.length,w=b&&0!==h.length;if(b){if(f=0===y.length?void 0:v[v.length-1],d=m,m=y.pop(),w){if(u)d=d.slice();else{for(var _={},x=0,k=Object.keys(d);x<k.length;x++){var S=k[x];_[S]=d[S]}d=_}for(var T=0,O=0;O<h.length;O++){var E=h[O][0],C=h[O][1];u&&(E-=T),u&&null===C?(d.splice(E,1),T++):d[E]=C}}p=r.index,l=r.keys,h=r.edits,u=r.inArray,r=r.prev}else{if(f=m?u?p:l[p]:void 0,null==(d=m?m[f]:g))continue;m&&v.push(f)}var A,N=void 0;if(!Array.isArray(d)){if(!(0,o.isNode)(d))throw new Error("Invalid AST Node: ".concat((0,i.default)(d),"."));var I=c(e,d.kind,b);if(I){if((N=I.call(e,d,f,m,v,y))===a)break;if(!1===N){if(!b){v.pop();continue}}else if(void 0!==N&&(h.push([f,N]),!b)){if(!(0,o.isNode)(N)){v.pop();continue}d=N}}}if(void 0===N&&w&&h.push([f,d]),b)v.pop();else r={inArray:u,index:p,keys:l,edits:h,prev:r},u=Array.isArray(d),l=u?d:null!==(A=n[d.kind])&&void 0!==A?A:[],p=-1,h=[],m&&y.push(m),m=d}while(void 0!==r);0!==h.length&&(g=h[h.length-1][1]);return g},e.visitInParallel=function(t){var e=new Array(t.length);return{enter:function(n){for(var r=0;r<t.length;r++)if(null==e[r]){var i=c(t[r],n.kind,!1);if(i){var o=i.apply(t[r],arguments);if(!1===o)e[r]=n;else if(o===a)e[r]=a;else if(void 0!==o)return o}}},leave:function(n){for(var r=0;r<t.length;r++)if(null==e[r]){var i=c(t[r],n.kind,!0);if(i){var o=i.apply(t[r],arguments);if(o===a)e[r]=a;else if(void 0!==o&&!1!==o)return o}}else e[r]===n&&(e[r]=null)}}},e.getVisitFn=c,e.BREAK=e.QueryDocumentKeys=void 0;var r,i=(r=n(8002))&&r.__esModule?r:{default:r},o=n(1807);var s={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};e.QueryDocumentKeys=s;var a=Object.freeze({});function c(t,e,n){var r=t[e];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?t.leave:t.enter;if(o){if("function"==typeof o)return o;var s=o[e];if("function"==typeof s)return s}}}e.BREAK=a},5161:function(t){t.exports=function(){"use strict";var t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},e=g,n=a,r=c,i=u,o=y,s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(t){for(var e,n=[],r=0,i=0,o="";null!=(e=s.exec(t));){var a=e[0],c=e[1],u=e.index;if(o+=t.slice(i,u),i=u+a.length,c)o+=c[1];else{o&&(n.push(o),o="");var l=e[2],h=e[3],d=e[4],f=e[5],m=e[6],v=e[7],y="+"===m||"*"===m,g="?"===m||"*"===m,b=l||"/",w=d||f||(v?".*":"[^"+b+"]+?");n.push({name:h||r++,prefix:l||"",delimiter:b,optional:g,repeat:y,pattern:p(w)})}}return i<t.length&&(o+=t.substr(i)),o&&n.push(o),n}function c(t){return u(a(t))}function u(e){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^"+e[r].pattern+"$"));return function(r){for(var i="",o=r||{},s=0;s<e.length;s++){var a=e[s];if("string"!=typeof a){var c,u=o[a.name];if(null==u){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(t(u)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+u+'"');if(0===u.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var l=0;l<u.length;l++){if(c=encodeURIComponent(u[l]),!n[s].test(c))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');i+=(0===l?a.prefix:a.delimiter)+c}}else{if(c=encodeURIComponent(u),!n[s].test(c))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');i+=a.prefix+c}}else i+=a}return i}}function l(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function p(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function h(t,e){return t.keys=e,t}function d(t){return t.sensitive?"":"i"}function f(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return h(t,e)}function m(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(g(t[i],e,n).source);return h(new RegExp("(?:"+r.join("|")+")",d(n)),e)}function v(t,e,n){for(var r=a(t),i=y(r,n),o=0;o<r.length;o++)"string"!=typeof r[o]&&e.push(r[o]);return h(i,e)}function y(t,e){for(var n=(e=e||{}).strict,r=!1!==e.end,i="",o=t[t.length-1],s="string"==typeof o&&/\/$/.test(o),a=0;a<t.length;a++){var c=t[a];if("string"==typeof c)i+=l(c);else{var u=l(c.prefix),p=c.pattern;c.repeat&&(p+="(?:"+u+p+")*"),i+=p=c.optional?u?"(?:"+u+"("+p+"))?":"("+p+")?":u+"("+p+")"}}return n||(i=(s?i.slice(0,-2):i)+"(?:\\/(?=$))?"),i+=r?"$":n&&s?"":"(?=\\/|$)",new RegExp("^"+i,d(e))}function g(e,n,r){return t(n=n||[])?r||(r={}):(r=n,n=[]),e instanceof RegExp?f(e,n,r):t(e)?m(e,n,r):v(e,n,r)}e.parse=n,e.compile=r,e.tokensToFunction=i,e.tokensToRegExp=o;var b,w="undefined"!=typeof document,_="undefined"!=typeof window,x="undefined"!=typeof history,k="undefined"!=typeof process,S=w&&document.ontouchstart?"touchstart":"click",T=_&&!(!window.history.location&&!window.location);function O(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function E(){var t=new O;function e(){return C.apply(t,arguments)}return e.callbacks=t.callbacks,e.exits=t.exits,e.base=t.base.bind(t),e.strict=t.strict.bind(t),e.start=t.start.bind(t),e.stop=t.stop.bind(t),e.show=t.show.bind(t),e.back=t.back.bind(t),e.redirect=t.redirect.bind(t),e.replace=t.replace.bind(t),e.dispatch=t.dispatch.bind(t),e.exit=t.exit.bind(t),e.configure=t.configure.bind(t),e.sameOrigin=t.sameOrigin.bind(t),e.clickHandler=t.clickHandler.bind(t),e.create=E,Object.defineProperty(e,"len",{get:function(){return t.len},set:function(e){t.len=e}}),Object.defineProperty(e,"current",{get:function(){return t.current},set:function(e){t.current=e}}),e.Context=I,e.Route=D,e}function C(t,e){if("function"==typeof t)return C.call(this,"*",t);if("function"==typeof e)for(var n=new D(t,null,this),r=1;r<arguments.length;++r)this.callbacks.push(n.middleware(arguments[r]));else"string"==typeof t?this["string"==typeof e?"redirect":"show"](t,e):this.start(t)}function A(t){if(!t.handled){var e=this,n=e._window;(e._hashbang?T&&this._getBase()+n.location.hash.replace("#!",""):T&&n.location.pathname+n.location.search)!==t.canonicalPath&&(e.stop(),t.handled=!1,T&&(n.location.href=t.canonicalPath))}}function N(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function I(t,e,n){var r=this.page=n||C,i=r._window,o=r._hashbang,s=r._getBase();"/"===t[0]&&0!==t.indexOf(s)&&(t=s+(o?"#!":"")+t);var a=t.indexOf("?");this.canonicalPath=t;var c=new RegExp("^"+N(s));if(this.path=t.replace(c,"")||"/",o&&(this.path=this.path.replace("#!","")||"/"),this.title=w&&i.document.title,this.state=e||{},this.state.path=t,this.querystring=~a?r._decodeURLEncodedURIComponent(t.slice(a+1)):"",this.pathname=r._decodeURLEncodedURIComponent(~a?t.slice(0,a):t),this.params={},this.hash="",!o){if(!~this.path.indexOf("#"))return;var u=this.path.split("#");this.path=this.pathname=u[0],this.hash=r._decodeURLEncodedURIComponent(u[1])||"",this.querystring=this.querystring.split("#")[0]}}function D(t,n,r){var i=this.page=r||M,o=n||{};o.strict=o.strict||i._strict,this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=e(this.path,this.keys=[],o)}O.prototype.configure=function(t){var e=t||{};this._window=e.window||_&&window,this._decodeURLComponents=!1!==e.decodeURLComponents,this._popstate=!1!==e.popstate&&_,this._click=!1!==e.click&&w,this._hashbang=!!e.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):_&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(S,this.clickHandler,!1):w&&n.document.removeEventListener(S,this.clickHandler,!1),this._hashbang&&_&&!x?n.addEventListener("hashchange",this._onpopstate,!1):_&&n.removeEventListener("hashchange",this._onpopstate,!1)},O.prototype.base=function(t){if(0===arguments.length)return this._base;this._base=t},O.prototype._getBase=function(){var t=this._base;if(t)return t;var e=_&&this._window&&this._window.location;return _&&this._hashbang&&e&&"file:"===e.protocol&&(t=e.pathname),t},O.prototype.strict=function(t){if(0===arguments.length)return this._strict;this._strict=t},O.prototype.start=function(t){var e=t||{};if(this.configure(e),!1!==e.dispatch){var n;if(this._running=!0,T){var r=this._window.location;n=this._hashbang&&~r.hash.indexOf("#!")?r.hash.substr(2)+r.search:this._hashbang?r.search+r.hash:r.pathname+r.search+r.hash}this.replace(n,null,!0,e.dispatch)}},O.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(S,this.clickHandler,!1),_&&t.removeEventListener("popstate",this._onpopstate,!1),_&&t.removeEventListener("hashchange",this._onpopstate,!1)}},O.prototype.show=function(t,e,n,r){var i=new I(t,e,this),o=this.prevContext;return this.prevContext=i,this.current=i.path,!1!==n&&this.dispatch(i,o),!1!==i.handled&&!1!==r&&i.pushState(),i},O.prototype.back=function(t,e){var n=this;if(this.len>0){var r=this._window;x&&r.history.back(),this.len--}else t?setTimeout((function(){n.show(t,e)})):setTimeout((function(){n.show(n._getBase(),e)}))},O.prototype.redirect=function(t,e){var n=this;"string"==typeof t&&"string"==typeof e&&C.call(this,t,(function(t){setTimeout((function(){n.replace(e)}),0)})),"string"==typeof t&&void 0===e&&setTimeout((function(){n.replace(t)}),0)},O.prototype.replace=function(t,e,n,r){var i=new I(t,e,this),o=this.prevContext;return this.prevContext=i,this.current=i.path,i.init=n,i.save(),!1!==r&&this.dispatch(i,o),i},O.prototype.dispatch=function(t,e){var n=0,r=0,i=this;function o(){var t=i.exits[r++];if(!t)return s();t(e,o)}function s(){var e=i.callbacks[n++];if(t.path===i.current)return e?void e(t,s):A.call(i,t);t.handled=!1}e?o():s()},O.prototype.exit=function(t,e){if("function"==typeof t)return this.exit("*",t);for(var n=new D(t,null,this),r=1;r<arguments.length;++r)this.exits.push(n.middleware(arguments[r]))},O.prototype.clickHandler=function(t){if(1===this._which(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){var e=t.target,n=t.path||(t.composedPath?t.composedPath():null);if(n)for(var r=0;r<n.length;r++)if(n[r].nodeName&&"A"===n[r].nodeName.toUpperCase()&&n[r].href){e=n[r];break}for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&"A"===e.nodeName.toUpperCase()){var i="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name;if(!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var o=e.getAttribute("href");if((this._hashbang||!this._samePath(e)||!e.hash&&"#"!==o)&&!(o&&o.indexOf("mailto:")>-1)&&!(i?e.target.baseVal:e.target)&&(i||this.sameOrigin(e.href))){var s=i?e.href.baseVal:e.pathname+e.search+(e.hash||"");s="/"!==s[0]?"/"+s:s,k&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));var a=s,c=this._getBase();0===s.indexOf(c)&&(s=s.substr(c.length)),this._hashbang&&(s=s.replace("#!","")),(!c||a!==s||T&&"file:"===this._window.location.protocol)&&(t.preventDefault(),this.show(a))}}}}},O.prototype._onpopstate=(b=!1,_?(w&&"complete"===document.readyState?b=!0:window.addEventListener("load",(function(){setTimeout((function(){b=!0}),0)})),function(t){if(b){var e=this;if(t.state){var n=t.state.path;e.replace(n,t.state)}else if(T){var r=e._window.location;e.show(r.pathname+r.search+r.hash,void 0,void 0,!1)}}}):function(){}),O.prototype._which=function(t){return null==(t=t||_&&this._window.event).which?t.button:t.which},O.prototype._toURL=function(t){var e=this._window;if("function"==typeof URL&&T)return new URL(t,e.location.toString());if(w){var n=e.document.createElement("a");return n.href=t,n}},O.prototype.sameOrigin=function(t){if(!t||!T)return!1;var e=this._toURL(t),n=this._window.location;return n.protocol===e.protocol&&n.hostname===e.hostname&&(n.port===e.port||""===n.port&&(80==e.port||443==e.port))},O.prototype._samePath=function(t){if(!T)return!1;var e=this._window.location;return t.pathname===e.pathname&&t.search===e.search},O.prototype._decodeURLEncodedURIComponent=function(t){return"string"!=typeof t?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t},I.prototype.pushState=function(){var t=this.page,e=t._window,n=t._hashbang;t.len++,x&&e.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},I.prototype.save=function(){var t=this.page;x&&t._window.history.replaceState(this.state,this.title,t._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},D.prototype.middleware=function(t){var e=this;return function(n,r){if(e.match(n.path,n.params))return n.routePath=e.path,t(n,r);r()}},D.prototype.match=function(t,e){var n=this.keys,r=t.indexOf("?"),i=~r?t.slice(0,r):t,o=this.regexp.exec(decodeURIComponent(i));if(!o)return!1;delete e[0];for(var s=1,a=o.length;s<a;++s){var c=n[s-1],u=this.page._decodeURLEncodedURIComponent(o[s]);void 0===u&&hasOwnProperty.call(e,c.name)||(e[c.name]=u)}return!0};var M=E(),R=M,P=M;return R.default=P,R}()},896:(t,e,n)=>{"use strict";n.d(e,{VK:()=>o,Hw:()=>s,zK:()=>l,dU:()=>c,S0:()=>u});var r=n(6922),i=n(1081),o=function(t,e){var n;this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,r,i){var o=n;if(e[1]){var s=e[0].lastIndexOf(e[1]);o+=e[0].slice(s+e[1].length);var a=(r+=s)-i;a>0&&(o=e[0].slice(s-a,s)+o,r=i)}return t.tr.insertText(o,r,i)}):e};function s(t){var e=t.rules,n=new r.Sy({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,r,i,o){return a(t,r,i,o,e,n)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var r=t.state.selection.$cursor;r&&a(t,r.pos,r.pos,"",e,n)}))}}},isInputRules:!0});return n}function a(t,e,n,r,i,o){if(t.composing)return!1;var s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;for(var c=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"")+r,u=0;u<i.length;u++){var l=i[u].match.exec(c),p=l&&i[u].handler(s,l,e-(l[0].length-r.length),n);if(p)return t.dispatch(p.setMeta(o,{transform:p,from:e,to:n,text:r})),!0}return!1}function c(t,e){for(var n=t.plugins,r=0;r<n.length;r++){var i=n[r],o=void 0;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){for(var s=t.tr,a=o.transform,c=a.steps.length-1;c>=0;c--)s.step(a.steps[c].invert(a.docs[c]));if(o.text){var u=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,u))}else s.delete(o.from,o.to);e(s)}return!0}}return!1}new o(/--$/,""),new o(/\.\.\.$/,""),new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),new o(/"$/,""),new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),new o(/'$/,"");function u(t,e,n,r){return new o(t,(function(t,o,s,a){var c=n instanceof Function?n(o):n,u=t.tr.delete(s,a),l=u.doc.resolve(s).blockRange(),p=l&&(0,i.nd)(l,e,c);if(!p)return null;u.wrap(l,p);var h=u.doc.resolve(s-1).nodeBefore;return h&&h.type==e&&(0,i.Mn)(u.doc,s-1)&&(!r||r(o,h))&&u.join(s-1),u}))}function l(t,e,n){return new o(t,(function(t,r,i,o){var s=t.doc.resolve(i),a=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e)?t.tr.delete(i,o).setBlockType(i,i,e,a):null}))}},2629:(t,e,n)=>{"use strict";n.d(e,{$:()=>g,h:()=>y});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),u="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=o&&(c||+o[1]<57)||a&&c,p=0;p<10;p++)r[48+p]=r[96+p]=String(p);for(p=1;p<=24;p++)r[p+111]="F"+p;for(p=65;p<=90;p++)r[p]=String.fromCharCode(p+32),i[p]=String.fromCharCode(p);for(var h in r)i.hasOwnProperty(h)||(i[h]=r[h]);var d=n(6922),f="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function m(t){var e,n,r,i,o=t.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(var a=0;a<o.length-1;a++){var c=o[a];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))e=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);f?i=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function v(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function y(t){return new d.Sy({props:{handleKeyDown:g(t)}})}function g(t){var e=function(t){var e=Object.create(null);for(var n in t)e[m(n)]=t[n];return e}(t);return function(t,n){var o,a=function(t){var e=!(l&&(t.ctrlKey||t.altKey||t.metaKey)||(s||u)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?i:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),c=1==a.length&&" "!=a,p=e[v(a,n,!c)];if(p&&p(t.state,t.dispatch,t))return!0;if(c&&(n.shiftKey||n.altKey||n.metaKey||a.charCodeAt(0)>127)&&(o=r[n.keyCode])&&o!=a){var h=e[v(o,n,!0)];if(h&&h(t.state,t.dispatch,t))return!0}else if(c&&n.shiftKey){var d=e[v(a,n,!0)];if(d&&d(t.state,t.dispatch,t))return!0}return!1}}},8638:(t,e,n)=>{"use strict";function r(t){this.content=t}n.d(e,{aw:()=>st,PW:()=>yt,HY:()=>a,vc:()=>h,ZU:()=>rt,NB:()=>P,Ts:()=>D,e4:()=>d,V_:()=>it,p2:()=>f}),r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,o=i.find(t),s=i.content.slice();return-1==o?s.push(n||t,e):(s[o+1]=e,n&&(s[o]=n)),new r(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var i=this.remove(e),o=i.content.slice(),s=i.find(t);return o.splice(-1==s?o.length:s,0,e,n),new r(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=r.from(t)).size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=r.from(t)).size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};const i=r;function o(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var i=t.child(r),s=e.child(r);if(i!=s){if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(var a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){var c=o(i.content,s.content,n+1);if(null!=c)return c}n+=i.nodeSize}else n+=i.nodeSize}}function s(t,e,n,r){for(var i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};var a=t.child(--i),c=e.child(--o),u=a.nodeSize;if(a!=c){if(!a.sameMarkup(c))return{a:n,b:r};if(a.isText&&a.text!=c.text){for(var l=0,p=Math.min(a.text.length,c.text.length);l<p&&a.text[a.text.length-l-1]==c.text[c.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(a.content.size||c.content.size){var h=s(a.content,c.content,n-1,r-1);if(h)return h}n-=u,r-=u}else n-=u,r-=u}}var a=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};a.prototype.nodesBetween=function(t,e,n,r,i){void 0===r&&(r=0);for(var o=0,s=0;s<e;o++){var a=this.content[o],c=s+a.nodeSize;if(c>t&&!1!==n(a,r+s,i,o)&&a.content.size){var u=s+1;a.nodesBetween(Math.max(0,t-u),Math.min(a.content.size,e-u),n,r+u)}s=c}},a.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},a.prototype.textBetween=function(t,e,n,r){var i="",o=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(i+=s.text.slice(Math.max(t,a)-a,e-a),o=!n):s.isLeaf&&r?(i+=r,o=!n):!o&&s.isBlock&&(i+=n,o=!0)}),0),i},a.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new a(r,this.size+t.size)},a.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var i=0,o=0;o<e;i++){var s=this.content[i],c=o+s.nodeSize;c>t&&((o<t||c>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),n.push(s),r+=s.nodeSize),o=c}return new a(n,r)},a.prototype.cutByIndex=function(t,e){return t==e?a.empty:0==t&&e==this.content.length?this:new a(this.content.slice(t,e))},a.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new a(r,i)},a.prototype.addToStart=function(t){return new a([t].concat(this.content),this.size+t.nodeSize)},a.prototype.addToEnd=function(t){return new a(this.content.concat(t),this.size+t.nodeSize)},a.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},a.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},a.prototype.maybeChild=function(t){return this.content[t]},a.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},a.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),o(this,t,e)},a.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),s(this,t,e,n)},a.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return l(0,t);if(t==this.size)return l(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var i=r+this.child(n).nodeSize;if(i>=t)return i==t||e>0?l(n+1,i):l(n,r);r=i}},a.prototype.toString=function(){return"<"+this.toStringInner()+">"},a.prototype.toStringInner=function(){return this.content.join(", ")},a.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},a.fromJSON=function(t,e){if(!e)return a.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(e.map(t.nodeFromJSON))},a.fromArray=function(t){if(!t.length)return a.empty;for(var e,n=0,r=0;r<t.length;r++){var i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new a(e||t,n)},a.from=function(t){if(!t)return a.empty;if(t instanceof a)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new a([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(a.prototype,c);var u={index:0,offset:0};function l(t,e){return u.index=t,u.offset=e,u}function p(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!p(t[r],e[r]))return!1}else{for(var i in t)if(!(i in e)||!p(t[i],e[i]))return!1;for(var o in e)if(!(o in t))return!1}return!0}a.empty=new a([],0);var h=function(t,e){this.type=t,this.attrs=e};function d(t){var e=Error.call(this,t);return e.__proto__=d.prototype,e}h.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e},h.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},h.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},h.prototype.eq=function(t){return this==t||this.type==t.type&&p(this.attrs,t.attrs)},h.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},h.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},h.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},h.setFrom=function(t){if(!t||0==t.length)return h.none;if(t instanceof h)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},h.none=[],d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="ReplaceError";var f=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},m={size:{configurable:!0}};function v(t,e,n){var r=t.findIndex(e),i=r.index,o=r.offset,s=t.maybeChild(i),a=t.findIndex(n),c=a.index,u=a.offset;if(o==e||s.isText){if(u!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(v(s.content,e-o-1,n-o-1)))}function y(t,e,n,r){var i=t.findIndex(e),o=i.index,s=i.offset,a=t.maybeChild(o);if(s==e||a.isText)return r&&!r.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));var c=y(a.content,e-s-1,n);return c&&t.replaceChild(o,a.copy(c))}function g(t,e,n){if(n.openStart>t.depth)throw new d("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new d("Inconsistent open depths");return b(t,e,n,0)}function b(t,e,n,r){var i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){var s=b(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var c=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),i=n-1;i>=0;i--)r=e.node(i).copy(a.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return S(o,T(t,c.start,c.end,e,r))}var u=t.parent,l=u.content;return S(u,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}return S(o,O(t,e,r))}function w(t,e){if(!e.type.compatibleContent(t.type))throw new d("Cannot join "+e.type.name+" onto "+t.type.name)}function _(t,e,n){var r=t.node(n);return w(r,e.node(n)),r}function x(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function k(t,e,n,r){var i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(x(t.nodeAfter,r),o++));for(var a=o;a<s;a++)x(i.child(a),r);e&&e.depth==n&&e.textOffset&&x(e.nodeBefore,r)}function S(t,e){if(!t.type.validContent(e))throw new d("Invalid content for node "+t.type.name);return t.copy(e)}function T(t,e,n,r,i){var o=t.depth>i&&_(t,e,i+1),s=r.depth>i&&_(n,r,i+1),c=[];return k(null,t,i,c),o&&s&&e.index(i)==n.index(i)?(w(o,s),x(S(o,T(t,e,n,r,i+1)),c)):(o&&x(S(o,O(t,e,i+1)),c),k(e,n,i,c),s&&x(S(s,O(n,r,i+1)),c)),k(r,null,i,c),new a(c)}function O(t,e,n){var r=[];(k(null,t,n,r),t.depth>n)&&x(S(_(t,e,n+1),O(t,e,n+1)),r);return k(e,null,n,r),new a(r)}m.size.get=function(){return this.content.size-this.openStart-this.openEnd},f.prototype.insertAt=function(t,e){var n=y(this.content,t+this.openStart,e,null);return n&&new f(n,this.openStart,this.openEnd)},f.prototype.removeBetween=function(t,e){return new f(v(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},f.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},f.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},f.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},f.fromJSON=function(t,e){if(!e)return f.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new f(a.fromJSON(t,e.content),n,r)},f.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)n++;for(var o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new f(t,n,r)},Object.defineProperties(f.prototype,m),f.empty=new f(a.empty,0,0);var E=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},C={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};E.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},C.parent.get=function(){return this.node(this.depth)},C.doc.get=function(){return this.node(0)},E.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},E.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},E.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},E.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},E.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},E.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},E.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},C.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},C.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},C.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},E.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,i=0;i<t;i++)r+=n.child(i).nodeSize;return r},E.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return h.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var i=n;n=r,r=i}for(var o=n.marks,s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||r&&o[s].isInSet(r.marks)||(o=o[s--].removeFromSet(o));return o},E.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n},E.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},E.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new D(this,t,n)},E.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},E.prototype.max=function(t){return t.pos>this.pos?t:this},E.prototype.min=function(t){return t.pos<this.pos?t:this},E.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},E.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,i=e,o=t;;){var s=o.content.findIndex(i),a=s.index,c=s.offset,u=i-c;if(n.push(o,a,r+c),!u)break;if((o=o.child(a)).isText)break;i=u-1,r+=c+1}return new E(e,n,i)},E.resolveCached=function(t,e){for(var n=0;n<A.length;n++){var r=A[n];if(r.pos==e&&r.doc==t)return r}var i=A[N]=E.resolve(t,e);return N=(N+1)%I,i},Object.defineProperties(E.prototype,C);var A=[],N=0,I=12,D=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},M={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};M.start.get=function(){return this.$from.before(this.depth+1)},M.end.get=function(){return this.$to.after(this.depth+1)},M.parent.get=function(){return this.$from.node(this.depth)},M.startIndex.get=function(){return this.$from.index(this.depth)},M.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(D.prototype,M);var R=Object.create(null),P=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||a.empty,this.marks=r||h.none},j={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};j.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},j.childCount.get=function(){return this.content.childCount},P.prototype.child=function(t){return this.content.child(t)},P.prototype.maybeChild=function(t){return this.content.maybeChild(t)},P.prototype.forEach=function(t){this.content.forEach(t)},P.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},P.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},j.textContent.get=function(){return this.textBetween(0,this.content.size,"")},P.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},j.firstChild.get=function(){return this.content.firstChild},j.lastChild.get=function(){return this.content.lastChild},P.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},P.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},P.prototype.hasMarkup=function(t,e,n){return this.type==t&&p(this.attrs,e||t.defaultAttrs||R)&&h.sameSet(this.marks,n||h.none)},P.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},P.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},P.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},P.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return f.empty;var r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),s=r.start(o),a=r.node(o).content.cut(r.pos-s,i.pos-s);return new f(a,r.depth-o,i.depth-o)},P.prototype.replace=function(t,e,n){return g(this.resolve(t),this.resolve(e),n)},P.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,i=n.offset;if(!(e=e.maybeChild(r)))return null;if(i==t||e.isText)return e;t-=i+1}},P.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},P.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}},P.prototype.resolve=function(t){return E.resolveCached(this,t)},P.prototype.resolveNoCache=function(t){return E.resolve(this,t)},P.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},j.isBlock.get=function(){return this.type.isBlock},j.isTextblock.get=function(){return this.type.isTextblock},j.inlineContent.get=function(){return this.type.inlineContent},j.isInline.get=function(){return this.type.isInline},j.isText.get=function(){return this.type.isText},j.isLeaf.get=function(){return this.type.isLeaf},j.isAtom.get=function(){return this.type.isAtom},P.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),F(this.marks,t)},P.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},P.prototype.canReplace=function(t,e,n,r,i){void 0===n&&(n=a.empty),void 0===r&&(r=0),void 0===i&&(i=n.childCount);var o=this.contentMatchAt(t).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var c=r;c<i;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0},P.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd},P.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},P.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=h.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!h.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},P.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},P.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=a.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(P.prototype,j);var L=function(t){function e(e,n,r,i){if(t.call(this,e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):F(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(P);function F(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var B=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},z={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};B.parse=function(t,e){var n=new U(t,e);if(null==n.next)return B.empty;var r=q(n);n.next&&n.err("Unexpected trailing text");var i=function(t){var e=Object.create(null);return n(Y(t,0));function n(r){var i=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var o=i.indexOf(n),s=o>-1&&i[o+1];Y(t,r).forEach((function(t){s||i.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var o=e[r.join(",")]=new B(r.indexOf(t.length-1)>-1),s=0;s<i.length;s+=2){var a=i[s+1].sort(J);o.next.push(i[s],e[a.join(",")]||n(a))}return o}}(function(t){var e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((function(t){return t.to=e}))}function o(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(o(n,e))}),[]);if("seq"==t.type)for(var s=0;;s++){var a=o(t.exprs[s],e);if(s==t.exprs.length-1)return a;i(a,e=n())}else{if("star"==t.type){var c=n();return r(e,c),i(o(t.expr,c),c),[r(c)]}if("plus"==t.type){var u=n();return i(o(t.expr,e),u),i(o(t.expr,u),u),[r(u)]}if("opt"==t.type)return[r(e)].concat(o(t.expr,e));if("range"==t.type){for(var l=e,p=0;p<t.min;p++){var h=n();i(o(t.expr,l),h),l=h}if(-1==t.max)i(o(t.expr,l),l);else for(var d=t.min;d<t.max;d++){var f=n();r(l,f),i(o(t.expr,l),f),l=f}return[r(l)]}if("name"==t.type)return[r(e,null,t.value)]}}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var i=r[n],o=!i.validEnd,s=[],a=0;a<i.next.length;a+=2){var c=i.next[a],u=i.next[a+1];s.push(c.name),!o||c.isText||c.hasRequiredAttrs()||(o=!1),-1==r.indexOf(u)&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i},B.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},B.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r},z.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},z.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},B.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},B.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function i(o,s){var c=o.matchFragment(t,n);if(c&&(!e||c.validEnd))return a.from(s.map((function(t){return t.createAndFill()})));for(var u=0;u<o.next.length;u+=2){var l=o.next[u],p=o.next[u+1];if(!l.isText&&!l.hasRequiredAttrs()&&-1==r.indexOf(p)){r.push(p);var h=i(p,s.concat(l));if(h)return h}}}(this,[])},B.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},B.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),i=r.match;if(i.matchType(t)){for(var o=[],s=r;s.type;s=s.via)o.push(s.type);return o.reverse()}for(var a=0;a<i.next.length;a+=2){var c=i.next[a];c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!i.next[a+1].validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}},z.edgeCount.get=function(){return this.next.length>>1},B.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},B.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",i=0;i<e.next.length;i+=2)r+=(i?", ":"")+e.next[i].name+"->"+t.indexOf(e.next[i+1]);return r})).join("\n")},Object.defineProperties(B.prototype,z),B.empty=new B(!0);var U=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},V={next:{configurable:!0}};function q(t){var e=[];do{e.push(H(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function H(t){var e=[];do{e.push(W(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function W(t){for(var e=function(t){if(t.eat("(")){var e=q(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var i=[];for(var o in n){var s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=$(t,e)}return e}function K(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function $(t,e){var n=K(t),r=n;return t.eat(",")&&(r="}"!=t.next?K(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function J(t,e){return e-t}function Y(t,e){var n=[];return function e(r){var i=t[r];if(1==i.length&&!i[0].term)return e(i[0].to);n.push(r);for(var o=0;o<i.length;o++){var s=i[o],a=s.term,c=s.to;a||-1!=n.indexOf(c)||e(c)}}(e),n.sort(J)}function Z(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function X(t,e){var n=Object.create(null);for(var r in t){var i=e&&e[r];if(void 0===i){var o=t[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}n[r]=i}return n}function G(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new et(t[n]);return e}V.next.get=function(){return this.tokens[this.pos]},U.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},U.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(U.prototype,V);var Q=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=G(n.attrs),this.defaultAttrs=Z(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},tt={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};tt.isInline.get=function(){return!this.isBlock},tt.isTextblock.get=function(){return this.isBlock&&this.inlineContent},tt.isLeaf.get=function(){return this.contentMatch==B.empty},tt.isAtom.get=function(){return this.isLeaf||this.spec.atom},Q.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},Q.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},Q.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:X(this.attrs,t)},Q.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new P(this,this.computeAttrs(t),a.from(e),h.setFrom(n))},Q.prototype.createChecked=function(t,e,n){if(e=a.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new P(this,this.computeAttrs(t),e,h.setFrom(n))},Q.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=a.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var i=this.contentMatch.matchFragment(e).fillBefore(a.empty,!0);return i?new P(this,t,e.append(i),h.setFrom(n)):null},Q.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},Q.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},Q.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},Q.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:h.empty:t},Q.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new Q(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(Q.prototype,tt);var et=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},nt={isRequired:{configurable:!0}};nt.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(et.prototype,nt);var rt=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=G(r.attrs),this.rank=e,this.excluded=null;var i=Z(this.attrs);this.instance=i&&new h(this,i)};rt.prototype.create=function(t){return!t&&this.instance?this.instance:new h(this,X(this.attrs,t))},rt.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,i){return n[t]=new rt(t,r++,e,i)})),n},rt.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},rt.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},rt.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var it=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=i.from(t.nodes),this.spec.marks=i.from(t.marks),this.nodes=Q.compile(this.spec.nodes,this),this.marks=rt.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],s=o.spec.content||"",a=o.spec.marks;o.contentMatch=n[s]||(n[s]=B.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==a?null:a?ot(this,a.split(" ")):""!=a&&o.inlineContent?null:[]}for(var c in this.marks){var u=this.marks[c],l=u.spec.excludes;u.excluded=null==l?[u]:""==l?[]:ot(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function ot(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(var a in t.marks){var c=t.marks[a];("_"==i||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}it.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof Q))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},it.prototype.text=function(t,e){var n=this.nodes.text;return new L(n,n.defaultAttrs,t,h.setFrom(e))},it.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},it.prototype.nodeFromJSON=function(t){return P.fromJSON(this,t)},it.prototype.markFromJSON=function(t){return h.fromJSON(this,t)},it.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var st=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))};st.prototype.parse=function(t,e){void 0===e&&(e={});var n=new ht(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},st.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new ht(this,e,!0);return n.addAll(t,null,e.from,e.to),f.maxOpen(n.finish())},st.prototype.matchTag=function(t,e,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var i=this.tags[r];if(ft(t,i.tag)&&(void 0===i.namespace||t.namespaceURI==i.namespace)&&(!i.context||e.matchesContext(i.context))){if(i.getAttrs){var o=i.getAttrs(t);if(!1===o)continue;i.attrs=o}return i}}},st.prototype.matchStyle=function(t,e,n,r){for(var i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){var o=this.styles[i];if(!(0!=o.style.indexOf(t)||o.context&&!n.matchesContext(o.context)||o.style.length>t.length&&(61!=o.style.charCodeAt(t.length)||o.style.slice(t.length+1)!=e))){if(o.getAttrs){var s=o.getAttrs(e);if(!1===s)continue;o.attrs=s}return o}}},st.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var i=e[r];if((null==i.priority?50:i.priority)<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=mt(t)),t.mark=e}))};for(var i in t.marks)r(i);var o;for(var s in t.nodes)o=void 0,(o=t.nodes[s].spec.parseDOM)&&o.forEach((function(t){n(t=mt(t)),t.node=s}));return e},st.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new st(t,st.schemaRules(t)))};var at={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ct={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ut={ol:!0,ul:!0};function lt(t){return(t?1:0)|("full"===t?2:0)}var pt=function(t,e,n,r,i,o,s){this.type=t,this.attrs=e,this.solid=i,this.match=o||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=h.none,this.pendingMarks=r,this.stashMarks=[]};pt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(a.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},pt.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=a.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},pt.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},pt.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):vt(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},pt.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!at.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var ht=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,i=e.topNode,o=lt(e.preserveWhitespace)|(n?4:0);r=i?new pt(i.type,i.attrs,h.none,h.none,!0,e.topMatch||i.type.contentMatch,o):new pt(n?null:t.schema.topNodeType,null,h.none,h.none,!0,null,o),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},dt={top:{configurable:!0},currentPos:{configurable:!0}};function ft(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function mt(t){var e={};for(var n in t)e[n]=t[n];return e}function vt(t,e){var n=e.schema.nodes,r=function(r){var i=n[r];if(i.allowsMarkType(t)){var o=[],s=function(t){o.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),i=r.type,a=r.next;if(i==e)return!0;if(o.indexOf(a)<0&&s(a))return!0}};return s(i.contentMatch)?{v:!0}:void 0}};for(var i in n){var o=r(i);if(o)return o.v}}dt.top.get=function(){return this.nodes[this.open]},ht.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var i=0;i<n.length;i++)this.addPendingMark(n[i]);if(this.addElement(t),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],r)}},ht.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},ht.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();ut.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&ut.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(i?i.ignore:ct.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);var o,s=this.top,a=this.needsBlock;if(at.hasOwnProperty(r))o=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),o&&this.sync(s),this.needsBlock=a}else this.addElementByRule(t,i,!1===i.consuming?n:null)},ht.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},ht.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},ht.prototype.readStyles=function(t){var e=h.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var i=this.parser.matchStyle(t[n],t[n+1],this,r);if(!i)continue t;if(i.ignore)return null;if(e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e),!1!==i.consuming)break;r=i}return e},ht.prototype.addElementByRule=function(t,e,n){var r,i,o,s=this;e.node?(i=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):r=this.enter(i,e.attrs,e.preserveWhitespace):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));var a=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,r)}r&&(this.sync(a),this.open--),o&&this.removePendingMark(o,a)},ht.prototype.addAll=function(t,e,n,r){for(var i=n||0,o=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o),e&&at.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,i)},ht.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},ht.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,i=0;i<t.marks.length;i++)n.type&&!n.type.allowsMarkType(t.marks[i].type)||(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},ht.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},ht.prototype.enterInner=function(t,e,n,r){this.closeExtra();var i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t,e);var o=null==r?-5&i.options:lt(r);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new pt(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++},ht.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},ht.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},ht.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},dt.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},ht.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},ht.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},ht.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},ht.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},ht.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,i=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=function(t,a){for(;t>=0;t--){var c=n[t];if(""==c){if(t==n.length-1||0==t)continue;for(;a>=o;a--)if(s(t-1,a))return!0;return!1}var u=a>0||0==a&&i?e.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!u||u.name!=c&&-1==u.groups.indexOf(c))return!1;a--}return!0};return s(n.length-1,this.open)},ht.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}},ht.prototype.addPendingMark=function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},ht.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var i=r.popFromStashMark(t);i&&r.type&&r.type.allowsMarkType(i.type)&&(r.activeMarks=i.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(ht.prototype,dt);var yt=function(t,e){this.nodes=t||{},this.marks=e||{}};function gt(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function bt(t){return t.document||window.document}yt.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=bt(e).createDocumentFragment());var i=n,o=null;return t.forEach((function(t){if(o||t.marks.length){o||(o=[]);for(var n=0,s=0;n<o.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(o[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<o.length;)i=o.pop(),o.pop();for(;s<t.marks.length;){var c=t.marks[s++],u=r.serializeMark(c,t.isInline,e);u&&(o.push(c,i),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(r.serializeNodeInner(t,e))})),n},yt.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var n=yt.renderSpec(bt(e),this.nodes[t.type.name](t)),r=n.dom,i=n.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,i,e):this.serializeFragment(t.content,e,i)}return r},yt.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n},yt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&yt.renderSpec(bt(n),r(t,e))},yt.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],i=r.indexOf(" ");i>0&&(n=r.slice(0,i),r=r.slice(i+1));var o=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],c=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var u in c=2,a)if(null!=a[u]){var l=u.indexOf(" ");l>0?s.setAttributeNS(u.slice(0,l),u.slice(l+1),a[u]):s.setAttribute(u,a[u])}for(var p=c;p<e.length;p++){var h=e[p];if(0===h){if(p<e.length-1||p>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var d=yt.renderSpec(t,h,n),f=d.dom,m=d.contentDOM;if(s.appendChild(f),m){if(o)throw new RangeError("Multiple content holes");o=m}}return{dom:s,contentDOM:o}},yt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new yt(this.nodesFromSchema(t),this.marksFromSchema(t)))},yt.nodesFromSchema=function(t){var e=gt(t.nodes);return e.text||(e.text=function(t){return t.text}),e},yt.marksFromSchema=function(t){return gt(t.marks)}},6922:(t,e,n)=>{"use strict";n.d(e,{C1:()=>d,yy:()=>x,qv:()=>p,Sy:()=>O,H$:()=>A,Y1:()=>s,Bs:()=>u});var r=n(8638),i=n(1081),o=Object.create(null),s=function(t,e,n){this.ranges=n||[new c(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},a={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};a.anchor.get=function(){return this.$anchor.pos},a.head.get=function(){return this.$head.pos},a.from.get=function(){return this.$from.pos},a.to.get=function(){return this.$to.pos},a.$from.get=function(){return this.ranges[0].$from},a.$to.get=function(){return this.ranges[0].$to},a.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},s.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},s.prototype.replace=function(t,e){void 0===e&&(e=r.p2.empty);for(var n=e.content.lastChild,i=null,o=0;o<e.openEnd;o++)i=n,n=n.lastChild;for(var s=t.steps.length,a=this.ranges,c=0;c<a.length;c++){var u=a[c],l=u.$from,p=u.$to,h=t.mapping.slice(s);t.replaceRange(h.map(l.pos),h.map(p.pos),c?r.p2.empty:e),0==c&&v(t,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}},s.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,i=0;i<r.length;i++){var o=r[i],s=o.$from,a=o.$to,c=t.mapping.slice(n),u=c.map(s.pos),l=c.map(a.pos);i?t.deleteRange(u,l):(t.replaceRangeWith(u,l,e),v(t,n,e.isInline?-1:1))}},s.findFrom=function(t,e,n){var r=t.parent.inlineContent?new u(t):m(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var i=t.depth-1;i>=0;i--){var o=e<0?m(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):m(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(o)return o}},s.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new d(t.node(0))},s.atStart=function(t){return m(t,t,0,0,1)||new d(t)},s.atEnd=function(t){return m(t,t,t.content.size,t.childCount,-1)||new d(t)},s.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=o[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},s.jsonID=function(t,e){if(t in o)throw new RangeError("Duplicate use of selection JSON ID "+t);return o[t]=e,e.prototype.jsonID=t,e},s.prototype.getBookmark=function(){return u.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(s.prototype,a),s.prototype.visible=!0;var c=function(t,e){this.$from=t,this.$to=e},u=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var i=n.resolve(r.map(this.head));if(!i.parent.inlineContent)return t.near(i);var o=n.resolve(r.map(this.anchor));return new e(o.parent.inlineContent?o:i,i)},e.prototype.replace=function(e,n){if(void 0===n&&(n=r.p2.empty),t.prototype.replace.call(this,e,n),n==r.p2.empty){var i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new l(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,i){var o=n.pos-r.pos;if(i&&!o||(i=o>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,i,!0)||t.findFrom(r,-i,!0);if(!s)return t.near(r,i);r=s.$head}return n.parent.inlineContent||(0==o||(n=(t.findFrom(n,-i,!0)||t.findFrom(n,i,!0)).$anchor).pos<r.pos!=o<0)&&(n=r),new e(n,r)},Object.defineProperties(e.prototype,n),e}(s);s.jsonID("text",u);var l=function(t,e){this.anchor=t,this.head=e};l.prototype.map=function(t){return new l(t.map(this.anchor),t.map(this.head))},l.prototype.resolve=function(t){return u.between(t.resolve(this.anchor),t.resolve(this.head))};var p=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var i=r.mapResult(this.anchor),o=i.deleted,s=i.pos,a=n.resolve(s);return o?t.near(a):new e(a)},e.prototype.content=function(){return new r.p2(r.HY.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new h(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(s);p.prototype.visible=!1,s.jsonID("node",p);var h=function(t){this.anchor=t};h.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new l(r,r):new h(r)},h.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&p.isSelectable(n)?new p(e):s.near(e)};var d=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=r.p2.empty),n==r.p2.empty){e.delete(0,e.doc.content.size);var i=t.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return f},e}(s);s.jsonID("all",d);var f={map:function(){return this},resolve:function(t){return new d(t)}};function m(t,e,n,r,i,o){if(e.inlineContent)return u.create(t,n);for(var s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){var a=e.child(s);if(a.isAtom){if(!o&&p.isSelectable(a))return p.create(t,n-(i<0?a.nodeSize:0))}else{var c=m(t,a,n+i,i<0?a.childCount:0,i,o);if(c)return c}n+=a.nodeSize*i}}function v(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o,a=t.steps[r];if(a instanceof i.Pu||a instanceof i.FC)t.mapping.maps[r].forEach((function(t,e,n,r){null==o&&(o=r)})),t.setSelection(s.near(t.doc.resolve(o),n))}}var y=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return r.vc.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.vc.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var i=this.storedMarks;if(!i){var o=this.doc.resolve(e);i=n==e?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(i.wx);function g(t,e){return e&&t?t.bind(e):t}var b=function(t,e,n){this.name=t,this.init=g(e.init,n),this.apply=g(e.apply,n)},w=[new b("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new b("selection",{init:function(t,e){return t.selection||s.atStart(e.doc)},apply:function(t){return t.selection}}),new b("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new b("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],_=function(t,e){var n=this;this.schema=t,this.fields=w.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new b(t.key,t.spec.state,t))}))},x=function(t){this.config=t},k={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};k.schema.get=function(){return this.config.schema},k.plugins.get=function(){return this.config.plugins},x.prototype.apply=function(t){return this.applyTransaction(t).state},x.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},x.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var i=!1,o=0;o<this.config.plugins.length;o++){var s=this.config.plugins[o];if(s.spec.appendTransaction){var a=r?r[o].n:0,c=r?r[o].state:this,u=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,c,n);if(u&&n.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",t),!r){r=[];for(var l=0;l<this.config.plugins.length;l++)r.push(l<o?{state:n,n:e.length}:{state:this,n:0})}e.push(u),n=n.applyInner(u),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}},x.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new x(this.config),n=this.config.fields,r=0;r<n.length;r++){var i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}for(var o=0;o<S.length;o++)S[o](this,t,e);return e},k.tr.get=function(){return new y(this)},x.create=function(t){for(var e=new _(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new x(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},x.prototype.reconfigure=function(t){for(var e=new _(this.schema,t.plugins),n=e.fields,r=new x(e),i=0;i<n.length;i++){var o=n[i].name;r[o]=this.hasOwnProperty(o)?this[o]:n[i].init(t,r)}return r},x.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e},x.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var i=new _(t.schema,t.plugins),o=new x(i);return i.fields.forEach((function(i){if("doc"==i.name)o.doc=r.NB.fromJSON(t.schema,e.doc);else if("selection"==i.name)o.selection=s.fromJSON(o.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var a in n){var c=n[a],u=c.spec.state;if(c.key==i.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(e,a))return void(o[i.name]=u.fromJSON.call(c,t,e[a],o))}o[i.name]=i.init(t,o)}})),o},x.addApplyListener=function(t){S.push(t)},x.removeApplyListener=function(t){var e=S.indexOf(t);e>-1&&S.splice(e,1)},Object.defineProperties(x.prototype,k);var S=[];function T(t,e,n){for(var r in t){var i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=T(i,e,{})),n[r]=i}return n}var O=function(t){this.props={},t.props&&T(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:C("plugin")};O.prototype.getState=function(t){return t[this.key]};var E=Object.create(null);function C(t){return t in E?t+"$"+ ++E[t]:(E[t]=0,t+"$")}var A=function(t){void 0===t&&(t="key"),this.key=C(t)};A.prototype.get=function(t){return t.config.pluginsByKey[this.key]},A.prototype.getState=function(t){return t[this.key]}},1081:(t,e,n)=>{"use strict";n.d(e,{vs:()=>c,FC:()=>y,Pu:()=>v,wx:()=>l,Mn:()=>S,Ax:()=>k,nj:()=>O,nd:()=>_,k9:()=>w});var r=n(8638),i=Math.pow(2,16);function o(t){return 65535&t}var s=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},a=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};a.prototype.recover=function(t){var e=0,n=o(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/i}(t)},a.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},a.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},a.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,a=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var u=this.ranges[c]-(this.inverted?r:0);if(u>t)break;var l=this.ranges[c+o],p=this.ranges[c+a],h=u+l;if(t<=h){var d=u+r+((l?t==u?-1:t==h?1:e:e)<0?0:p);if(n)return d;var f=t==(e<0?u:h)?null:c/3+(t-u)*i;return new s(d,e<0?t!=u:t!=h,f)}r+=p-l}return n?t+r:new s(t+r)},a.prototype.touches=function(t,e){for(var n=0,r=o(e),i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var c=this.ranges[a]-(this.inverted?n:0);if(c>t)break;var u=this.ranges[a+i];if(t<=c+u&&a==3*r)return!0;n+=this.ranges[a+s]-u}return!1},a.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,i=0;r<this.ranges.length;r+=3){var o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),c=this.ranges[r+e],u=this.ranges[r+n];t(s,s+c,a,a+u),i+=u-c}},a.prototype.invert=function(){return new a(this.ranges,!this.inverted)},a.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},a.offset=function(t){return 0==t?a.empty:new a(t<0?[0,-t,0]:[0,0,t])},a.empty=new a([]);var c=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function u(t){var e=Error.call(this,t);return e.__proto__=u.prototype,e}c.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new c(this.maps,this.mirror,t,e)},c.prototype.copy=function(){return new c(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},c.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},c.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},c.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},c.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},c.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},c.prototype.invert=function(){var t=new c;return t.appendMappingInverted(this),t},c.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},c.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},c.prototype._map=function(t,e,n){for(var r=!1,i=this.from;i<this.to;i++){var o=this.maps[i].mapResult(t,e);if(null!=o.recover){var a=this.getMirror(i);if(null!=a&&a>i&&a<this.to){i=a,t=this.maps[a].recover(o.recover);continue}}o.deleted&&(r=!0),t=o.pos}return n?t:new s(t,r)},u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name="TransformError";var l=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new c},p={before:{configurable:!0},docChanged:{configurable:!0}};function h(){throw new Error("Override me")}p.before.get=function(){return this.docs.length?this.docs[0]:this.doc},l.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new u(e.failed);return this},l.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},p.docChanged.get=function(){return this.steps.length>0},l.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(l.prototype,p);var d=Object.create(null),f=function(){};f.prototype.apply=function(t){return h()},f.prototype.getMap=function(){return a.empty},f.prototype.invert=function(t){return h()},f.prototype.map=function(t){return h()},f.prototype.merge=function(t){return null},f.prototype.toJSON=function(){return h()},f.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=d[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},f.jsonID=function(t,e){if(t in d)throw new RangeError("Duplicate use of step JSON ID "+t);return d[t]=e,e.prototype.jsonID=t,e};var m=function(t,e){this.doc=t,this.failed=e};m.ok=function(t){return new m(t,null)},m.fail=function(t){return new m(null,t)},m.fromReplace=function(t,e,n,i){try{return m.ok(t.replace(e,n,i))}catch(t){if(t instanceof r.e4)return m.fail(t.message);throw t}};var v=function(t){function e(e,n,r,i){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&g(t,this.from,this.to)?m.fail("Structure replace would overwrite content"):m.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new a([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?r.p2.empty:new r.p2(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var i=this.slice.size+t.slice.size==0?r.p2.empty:new r.p2(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),i,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,r.p2.fromJSON(t,n.slice),!!n.structure)},e}(f);f.jsonID("replace",v);var y=function(t){function e(e,n,r,i,o,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(g(t,this.from,this.gapFrom)||g(t,this.gapTo,this.to)))return m.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return m.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?m.fromReplace(t,this.from,this.to,n):m.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new a([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deleted&&r.deleted||i<n.pos||o>r.pos?null:new e(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,r.p2.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(f);function g(t,e,n){for(var r=t.resolve(e),i=n-e,o=r.depth;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0)for(var s=r.node(o).maybeChild(r.indexAfter(o));i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}return!1}function b(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function w(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(i,o,e))return n;if(0==n||r.type.spec.isolating||!b(r,i,o))break}}function _(t,e,n,r){void 0===r&&(r=t);var i=function(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;var s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}(t,e),o=i&&function(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,c=r;a&&c<i;c++)a=a.matchType(n.child(c).type);if(!a||!a.validEnd)return null;return s}(r,e);return o?i.map(x).concat({type:e,attrs:n}).concat(o.map(x)):null}function x(t){return{type:t,attrs:null}}function k(t,e,n,r){void 0===n&&(n=1);var i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var a=i.depth-1,c=n-2;a>o;a--,c--){var u=i.node(a),l=i.index(a);if(u.type.spec.isolating)return!1;var p=u.content.cutByIndex(l,u.childCount),h=r&&r[c]||u;if(h!=u&&(p=p.replaceChild(0,h.type.create(h.attrs))),!u.canReplace(l+1,u.childCount)||!h.type.validContent(p))return!1}var d=i.indexAfter(o),f=r&&r[0];return i.node(o).canReplaceWith(d,d,f?f.type:i.node(o+1).type)}function S(t,e){var n=t.resolve(e),r=n.index();return T(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function T(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function O(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var i=n.content,o=0;o<n.openStart;o++)i=i.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(c>0?1:0),l=r.node(a),p=!1;if(1==s)p=l.canReplace(u,u,i);else{var h=l.contentMatchAt(u).findWrapping(i.firstChild.type);p=h&&l.canReplaceWith(u,u,h[0])}if(p)return 0==c?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function E(t,e,n){for(var i=[],o=0;o<t.childCount;o++){var s=t.child(o);s.content.size&&(s=s.copy(E(s.content,e,s))),s.isInline&&(s=e(s,n,o)),i.push(s)}return r.HY.fromArray(i)}f.jsonID("replaceAround",y),l.prototype.lift=function(t,e){for(var n=t.$from,i=t.$to,o=t.depth,s=n.before(o+1),a=i.after(o+1),c=s,u=a,l=r.HY.empty,p=0,h=o,d=!1;h>e;h--)d||n.index(h)>0?(d=!0,l=r.HY.from(n.node(h).copy(l)),p++):c--;for(var f=r.HY.empty,m=0,v=o,g=!1;v>e;v--)g||i.after(v+1)<i.end(v)?(g=!0,f=r.HY.from(i.node(v).copy(f)),m++):u++;return this.step(new y(c,u,s,a,new r.p2(l.append(f),p,m),l.size-p,!0))},l.prototype.wrap=function(t,e){for(var n=r.HY.empty,i=e.length-1;i>=0;i--)n=r.HY.from(e[i].type.create(e[i].attrs,n));var o=t.start,s=t.end;return this.step(new y(o,s,o,s,new r.p2(n,0,0),e.length,!0))},l.prototype.setBlockType=function(t,e,n,i){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,i)&&function(t,e,n){var r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(o.doc,o.mapping.slice(s).map(e),n)){o.clearIncompatible(o.mapping.slice(s).map(e,1),n);var a=o.mapping.slice(s),c=a.map(e,1),u=a.map(e+t.nodeSize,1);return o.step(new y(c,u,c+1,u-1,new r.p2(r.HY.from(n.create(i,null,t.marks)),0,0),1,!0)),!1}})),this},l.prototype.setNodeMarkup=function(t,e,n,i){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var s=e.create(n,null,i||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,s);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new y(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new r.p2(r.HY.from(s),0,0),1,!0))},l.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var i=this.doc.resolve(t),o=r.HY.empty,s=r.HY.empty,a=i.depth,c=i.depth-e,u=e-1;a>c;a--,u--){o=r.HY.from(i.node(a).copy(o));var l=n&&n[u];s=r.HY.from(l?l.type.create(l.attrs,s):i.node(a).copy(s))}return this.step(new v(t,t,new r.p2(o.append(s),e,e),!0))},l.prototype.join=function(t,e){void 0===e&&(e=1);var n=new v(t-e,t+e,r.p2.empty,!0);return this.step(n)};var C=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),i=t.resolve(this.from),o=i.node(i.sharedDepth(this.to)),s=new r.p2(E(n.content,(function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return m.fromReplace(t,this.from,this.to,s)},e.prototype.invert=function(){return new A(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(f);f.jsonID("addMark",C);var A=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),i=new r.p2(E(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return m.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new C(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(f);function N(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}f.jsonID("removeMark",A),l.prototype.addMark=function(t,e,n){var r=this,i=[],o=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(r,c,u){if(r.isInline){var l=r.marks;if(!n.isInSet(l)&&u.type.allowsMarkType(n.type)){for(var p=Math.max(c,t),h=Math.min(c+r.nodeSize,e),d=n.addToSet(l),f=0;f<l.length;f++)l[f].isInSet(d)||(s&&s.to==p&&s.mark.eq(l[f])?s.to=h:i.push(s=new A(p,h,l[f])));a&&a.to==p?a.to=h:o.push(a=new C(p,h,n))}}})),i.forEach((function(t){return r.step(t)})),o.forEach((function(t){return r.step(t)})),this},l.prototype.removeMark=function(t,e,n){var i=this;void 0===n&&(n=null);var o=[],s=0;return this.doc.nodesBetween(t,e,(function(i,a){if(i.isInline){s++;var c=null;if(n instanceof r.ZU)for(var u,l=i.marks;u=n.isInSet(l);)(c||(c=[])).push(u),l=u.removeFromSet(l);else n?n.isInSet(i.marks)&&(c=[n]):c=i.marks;if(c&&c.length)for(var p=Math.min(a+i.nodeSize,e),h=0;h<c.length;h++){for(var d=c[h],f=void 0,m=0;m<o.length;m++){var v=o[m];v.step==s-1&&d.eq(o[m].style)&&(f=v)}f?(f.to=p,f.step=s):o.push({style:d,from:Math.max(a,t),to:p,step:s})}}})),o.forEach((function(t){return i.step(new A(t.from,t.to,t.style))})),this},l.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var i=this.doc.nodeAt(t),o=[],s=t+1,a=0;a<i.childCount;a++){var c=i.child(a),u=s+c.nodeSize,l=n.matchType(c.type,c.attrs);if(l){n=l;for(var p=0;p<c.marks.length;p++)e.allowsMarkType(c.marks[p].type)||this.step(new A(s,u,c.marks[p]))}else o.push(new v(s,u,r.p2.empty));s=u}if(!n.validEnd){var h=n.fillBefore(r.HY.empty,!0);this.replace(s,s,new r.p2(h,0,0))}for(var d=o.length-1;d>=0;d--)this.step(o[d]);return this},l.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=r.p2.empty);var i=function(t,e,n,i){if(void 0===n&&(n=e),void 0===i&&(i=r.p2.empty),e==n&&!i.size)return null;var o=t.resolve(e),s=t.resolve(n);return N(o,s,i)?new v(e,n,i):new I(o,s,i).fit()}(this.doc,t,e,n);return i&&this.step(i),this},l.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new r.p2(r.HY.from(n),0,0))},l.prototype.delete=function(t,e){return this.replace(t,e,r.p2.empty)},l.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var I=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var i=0;i<=t.depth;i++){var o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}this.placed=r.HY.empty;for(var s=t.depth;s>0;s--)this.placed=r.HY.from(t.node(s).copy(this.placed))},D={depth:{configurable:!0}};function M(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(M(t.firstChild.content,e-1,n)))}function R(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(R(t.lastChild.content,e-1,n)))}function P(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function j(t,e,n){if(e<=0)return t;var i=t.content;return e>1&&(i=i.replaceChild(0,j(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(r.HY.empty,!0)))),t.copy(i)}function L(t,e,n,r,i){var o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;var a=r.fillBefore(o.content,!0,s);return a&&!function(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,o.content,s)?a:null}function F(t,e,n,i,o){if(e<n){var s=t.firstChild;t=t.replaceChild(0,s.copy(F(s.content,e+1,n,i,s)))}if(e>i){var a=o.contentMatchAt(0),c=a.fillBefore(t).append(t);t=c.append(a.matchFragment(c).fillBefore(r.HY.empty,!0))}return t}function B(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;i==e.start(r)&&n.push(r)}return n}D.depth.get=function(){return this.frontier.length-1},I.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(e<0?this.$to:i.doc.resolve(e));if(!o)return null;for(var s=this.placed,a=i.depth,c=o.depth;a&&c&&1==s.childCount;)s=s.firstChild.content,a--,c--;var u=new r.p2(s,a,c);return e>-1?new y(i.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||i.pos!=this.$to.pos?new v(i.pos,o.pos,u):void 0},I.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,i=(e?(n=P(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var s=this.frontier[o],a=s.type,c=s.match,u=void 0,l=void 0;if(1==t&&(i?c.matchType(i.type)||(l=c.fillBefore(r.HY.from(i),!1)):a.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:o,parent:n,inject:l};if(2==t&&i&&(u=c.findWrapping(i.type)))return{sliceDepth:e,frontierDepth:o,parent:n,wrap:u};if(n&&c.matchType(n.type))break}},I.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,i=t.openEnd,o=P(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new r.p2(e,n+1,Math.max(i,o.size+n>=e.size-i?n+1:0)),!0)},I.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,i=t.openEnd,o=P(e,n);if(o.childCount<=1&&n>0){var s=e.size-n<=n+o.size;this.unplaced=new r.p2(M(e,n-1,1),n-1,s?n-1:i)}else this.unplaced=new r.p2(M(e,n,1),n,i)},I.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,i=t.parent,o=t.inject,s=t.wrap;this.depth>n;)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var c=this.unplaced,u=i?i.content:c.content,l=c.openStart-e,p=0,h=[],d=this.frontier[n],f=d.match,m=d.type;if(o){for(var v=0;v<o.childCount;v++)h.push(o.child(v));f=f.matchFragment(o)}for(var y=u.size+e-(c.content.size-c.openEnd);p<u.childCount;){var g=u.child(p),b=f.matchType(g.type);if(!b)break;(++p>1||0==l||g.content.size)&&(f=b,h.push(j(g.mark(m.allowedMarks(g.marks)),1==p?l:0,p==u.childCount?y:-1)))}var w=p==u.childCount;w||(y=-1),this.placed=R(this.placed,n,r.HY.from(h)),this.frontier[n].match=f,w&&y<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var _=0,x=u;_<y;_++){var k=x.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),x=k.content}this.unplaced=w?0==e?r.p2.empty:new r.p2(M(c.content,e-1,1),e-1,y<0?c.openEnd:e-1):new r.p2(M(c.content,e,p),c.openStart,c.openEnd)},I.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!L(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},I.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,i=n.type,o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=L(t,e,i,r,o);if(s){for(var a=e-1;a>=0;a--){var c=this.frontier[a],u=c.match,l=L(t,a,c.type,u,!0);if(!l||l.childCount)continue t}return{depth:e,fit:s,move:o?t.doc.resolve(t.after(e+1)):t}}}},I.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=R(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),i=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,i)}return t},I.prototype.openFrontierNode=function(t,e,n){var i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=R(this.placed,this.depth,r.HY.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},I.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(r.HY.empty,!0);t.childCount&&(this.placed=R(this.placed,this.frontier.length,t))},Object.defineProperties(I.prototype,D),l.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var i=this.doc.resolve(t),o=this.doc.resolve(e);if(N(i,o,n))return this.step(new v(t,e,n));var s=B(i,this.doc.resolve(e));0==s[s.length-1]&&s.pop();var a=-(i.depth+1);s.unshift(a);for(var c=i.depth,u=i.pos-1;c>0;c--,u--){var l=i.node(c).type.spec;if(l.defining||l.isolating)break;s.indexOf(c)>-1?a=c:i.before(c)==u&&s.splice(1,0,-c)}for(var p=s.indexOf(a),h=[],d=n.openStart,f=n.content,m=0;;m++){var y=f.firstChild;if(h.push(y),m==n.openStart)break;f=y.content}d>0&&h[d-1].type.spec.defining&&i.node(p).type!=h[d-1].type?d-=1:d>=2&&h[d-1].isTextblock&&h[d-2].type.spec.defining&&i.node(p).type!=h[d-2].type&&(d-=2);for(var g=n.openStart;g>=0;g--){var b=(g+d+1)%(n.openStart+1),w=h[b];if(w)for(var _=0;_<s.length;_++){var x=s[(_+p)%s.length],k=!0;x<0&&(k=!1,x=-x);var S=i.node(x-1),T=i.index(x-1);if(S.canReplaceWith(T,T,w.type,w.marks))return this.replace(i.before(x),k?o.after(x):e,new r.p2(F(n.content,0,n.openStart,b),b,n.openEnd))}}for(var O=this.steps.length,E=s.length-1;E>=0&&(this.replace(t,e,n),!(this.steps.length>O));E--){var C=s[E];C<0||(t=i.before(C),e=o.after(C))}return this},l.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var i=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var i=r.depth-1;i>=0;i--){var o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,t,n.type);null!=i&&(t=e=i)}return this.replaceRange(t,e,new r.p2(r.HY.from(n),0,0))},l.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),i=B(n,r),o=0;o<i.length;o++){var s=i[o],a=o==i.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var c=1;c<=n.depth&&c<=r.depth;c++)if(t-n.start(c)==n.depth-c&&e>n.end(c)&&r.end(c)-e!=r.depth-c)return this.delete(n.before(c),e);return this.delete(t,e)}},8780:(t,e,n)=>{"use strict";n.d(e,{p:()=>Ne,EH:()=>Re,tk:()=>We});var r=n(6922),i=n(8638),o=n(1081),s={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var a=/Edge\/(\d+)/.exec(navigator.userAgent),c=/MSIE \d/.test(navigator.userAgent),u=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);s.mac=/Mac/.test(navigator.platform);var l=s.ie=!!(c||u||a);s.ie_version=c?document.documentMode||6:u?+u[1]:a?+a[1]:null,s.gecko=!l&&/gecko\/(\d+)/i.test(navigator.userAgent),s.gecko_version=s.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var p=!l&&/Chrome\/(\d+)/.exec(navigator.userAgent);s.chrome=!!p,s.chrome_version=p&&+p[1],s.safari=!l&&/Apple Computer/.test(navigator.vendor),s.ios=s.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),s.android=/Android \d/.test(navigator.userAgent),s.webkit="webkitFontSmoothing"in document.documentElement.style,s.webkit_version=s.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var h=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},d=function(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},f=null,m=function(t,e,n){var r=f||(f=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},v=function(t,e,n,r){return n&&(g(t,e,n,r,-1)||g(t,e,n,r,1))},y=/^(img|br|input|textarea|hr)$/i;function g(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:b(t))){var o=t.parentNode;if(1!=o.nodeType||w(t)||y.test(t.nodeName)||"false"==t.contentEditable)return!1;e=h(t)+(i<0?0:1),t=o}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?b(t):0}}}function b(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function w(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var _=function(t){var e=t.isCollapsed;return e&&s.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function x(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function k(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function S(t,e){return"number"==typeof t?t:t[e]}function T(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function O(t,e,n){for(var r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument,s=n||t.dom;s;s=d(s))if(1==s.nodeType){var a=s==o.body||1!=s.nodeType,c=a?k(o):T(s),u=0,l=0;if(e.top<c.top+S(r,"top")?l=-(c.top-e.top+S(i,"top")):e.bottom>c.bottom-S(r,"bottom")&&(l=e.bottom-c.bottom+S(i,"bottom")),e.left<c.left+S(r,"left")?u=-(c.left-e.left+S(i,"left")):e.right>c.right-S(r,"right")&&(u=e.right-c.right+S(i,"right")),u||l)if(a)o.defaultView.scrollBy(u,l);else{var p=s.scrollLeft,h=s.scrollTop;l&&(s.scrollTop+=l),u&&(s.scrollLeft+=u);var f=s.scrollLeft-p,m=s.scrollTop-h;e={left:e.left-f,top:e.top-m,right:e.right-f,bottom:e.bottom-m}}if(a)break}}function E(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=d(t));return e}function C(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=r.dom,o=r.top,s=r.left;i.scrollTop!=o+e&&(i.scrollTop=o+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}var A=null;function N(t,e){for(var n,r,i=2e8,o=0,s=e.top,a=e.top,c=t.firstChild,u=0;c;c=c.nextSibling,u++){var l=void 0;if(1==c.nodeType)l=c.getClientRects();else{if(3!=c.nodeType)continue;l=m(c).getClientRects()}for(var p=0;p<l.length;p++){var h=l[p];if(h.top<=s&&h.bottom>=a){s=Math.max(h.bottom,s),a=Math.min(h.top,a);var d=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(d<i){n=c,i=d,r=d&&3==n.nodeType?{left:h.right<e.left?h.right:h.left,top:e.top}:e,1==c.nodeType&&d&&(o=u+(e.left>=(h.left+h.right)/2?1:0));continue}}!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=u+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,r=document.createRange(),i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);var o=R(r,1);if(o.top!=o.bottom&&I(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||i&&1==n.nodeType?{node:t,offset:o}:N(n,r)}function I(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function D(t,e,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){var s=t.childNodes[o];if(1==s.nodeType)for(var a=s.getClientRects(),c=0;c<a.length;c++){var u=a[c];if(I(e,u))return D(s,e,u)}if((o=(o+1)%r)==i)break}return t}function M(t,e){var n,r,i,o,a=t.root;if(a.caretPositionFromPoint)try{var c=a.caretPositionFromPoint(e.left,e.top);c&&(i=(n=c).offsetNode,o=n.offset)}catch(t){}if(!i&&a.caretRangeFromPoint){var u=a.caretRangeFromPoint(e.left,e.top);u&&(i=(r=u).startContainer,o=r.startOffset)}var l,p=a.elementFromPoint(e.left,e.top+1);if(!p||!t.dom.contains(1!=p.nodeType?p.parentNode:p)){var h=t.dom.getBoundingClientRect();if(!I(e,h))return null;if(!(p=D(t.dom,e,h)))return null}if(s.safari)for(var f=p;i&&f;f=d(f))f.draggable&&(i=o=null);if(p=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(p,e),i){if(s.gecko&&1==i.nodeType&&(o=Math.min(o,i.childNodes.length))<i.childNodes.length){var m,v=i.childNodes[o];"IMG"==v.nodeName&&(m=v.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&o++}i==t.dom&&o==i.childNodes.length-1&&1==i.lastChild.nodeType&&e.top>i.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:0!=o&&1==i.nodeType&&"BR"==i.childNodes[o-1].nodeName||(l=function(t,e,n,r){for(var i=-1,o=e;o!=t.dom;){var s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;i=s.posAfter}}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n)}(t,i,o,e))}null==l&&(l=function(t,e,n){var r=N(e,n),i=r.node,o=r.offset,s=-1;if(1==i.nodeType&&!i.firstChild){var a=i.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(i,o,s)}(t,p,e));var y=t.docView.nearestDesc(p,!0);return{pos:l,inside:y?y.posAtStart-y.border:-1}}function R(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var P=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function j(t,e,n){var r=t.docView.domFromPos(e,n<0?-1:1),i=r.node,o=r.offset,a=s.webkit||s.gecko;if(3==i.nodeType){if(!a||!P.test(i.nodeValue)&&(n<0?o:o!=i.nodeValue.length)){var c=o,u=o,l=n<0?1:-1;return n<0&&!o?(u++,l=-1):n>=0&&o==i.nodeValue.length?(c--,l=1):n<0?c--:u++,L(R(m(i,c,u),l),l<0)}var p=R(m(i,o,o),n);if(s.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var h=R(m(i,o-1,o-1),-1);if(h.top==p.top){var d=R(m(i,o,o+1),-1);if(d.top!=p.top)return L(d,d.left<h.left)}}return p}if(!t.state.doc.resolve(e).parent.inlineContent){if(o&&(n<0||o==b(i))){var f=i.childNodes[o-1];if(1==f.nodeType)return F(f.getBoundingClientRect(),!1)}if(o<b(i)){var v=i.childNodes[o];if(1==v.nodeType)return F(v.getBoundingClientRect(),!0)}return F(i.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==b(i))){var y=i.childNodes[o-1],g=3==y.nodeType?m(y,b(y)-(a?0:1)):1!=y.nodeType||"BR"==y.nodeName&&y.nextSibling?null:y;if(g)return L(R(g,1),!1)}if(o<b(i)){var w=i.childNodes[o],_=3==w.nodeType?m(w,0,a?0:1):1==w.nodeType?w:null;if(_)return L(R(_,-1),!0)}return L(R(3==i.nodeType?m(i):i,-n),n>=0)}function L(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function F(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function B(t,e,n){var r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}var z=/[\u0590-\u08ac]/;var U=null,V=null,q=!1;function H(t,e,n){return U==e&&V==n?q:(U=e,V=n,q="up"==n||"down"==n?function(t,e,n){var r=e.selection,i="up"==n?r.$from:r.$to;return B(t,e,(function(){for(var e=t.docView.domFromPos(i.pos,"up"==n?-1:1).node;;){var r=t.docView.nearestDesc(e,!0);if(!r)break;if(r.node.isBlock){e=r.dom;break}e=r.dom.parentNode}for(var o=j(t,i.pos,1),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=m(s,0,s.nodeValue.length).getClientRects()}for(var c=0;c<a.length;c++){var u=a[c];if(u.bottom>u.top&&("up"==n?u.bottom<o.top+1:u.top>o.bottom-1))return!1}}return!0}))}(t,e,n):function(t,e,n){var r=e.selection.$head;if(!r.parent.isTextblock)return!1;var i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.root.getSelection();return z.test(r.parent.textContent)&&a.modify?B(t,e,(function(){var e=a.getRangeAt(0),i=a.focusNode,o=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var c=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||i==a.focusNode&&o==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),c})):"left"==n||"backward"==n?o:s}(t,e,n))}var W=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},K={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};W.prototype.matchesWidget=function(){return!1},W.prototype.matchesMark=function(){return!1},W.prototype.matchesNode=function(){return!1},W.prototype.matchesHack=function(t){return!1},K.beforePosition.get=function(){return!1},W.prototype.parseRule=function(){return null},W.prototype.stopEvent=function(){return!1},K.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},K.border.get=function(){return 0},W.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},W.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},K.posBefore.get=function(){return this.parent.posBeforeChild(this)},K.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},K.posAfter.get=function(){return this.posBefore+this.size},K.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},W.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,i;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(i=r.pmViewDesc)||i.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(i)+i.size:this.posAtStart}var o,s;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&(!(s=o.pmViewDesc)||s.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}var a;if(t==this.dom&&this.contentDOM)a=e>h(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!1;break}if(c.parentNode.firstChild!=c)break}if(null==a&&e==t.childNodes.length)for(var u=t;;u=u.parentNode){if(u==this.dom){a=!0;break}if(u.parentNode.lastChild!=u)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},W.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var i=this.getDesc(r);if(i&&(!e||i.node)){if(!n||!i.nodeDOM||(1==i.nodeDOM.nodeType?i.nodeDOM.contains(1==t.nodeType?t:t.parentNode):i.nodeDOM==t))return i;n=!1}}},W.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},W.prototype.posFromDOM=function(t,e,n){for(var r=t;r;r=r.parentNode){var i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1},W.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],i=n+r.size;if(n==t&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}},W.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,i=!0;;r++,i=!1){for(;r<this.children.length&&(this.children[r].beforePosition||this.children[r].dom.parentNode!=this.contentDOM);)n+=this.children[r++].size;var o=r==this.children.length?null:this.children[r];if(n==t&&(0==e||!o||!o.size||o.border||e<0&&i)||o&&o.domAtom&&t<n+o.size)return{node:this.contentDOM,offset:o?h(o.dom):this.contentDOM.childNodes.length};if(!o)throw new Error("Invalid position "+t);var s=n+o.size;if(!o.domAtom&&(e<0&&!o.border?s>=t:s>t)&&(s>t||r+1>=this.children.length||!this.children[r+1].beforePosition))return o.domFromPos(t-n-o.border,e);n=s}},W.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,i=-1,o=n,s=0;;s++){var a=this.children[s],c=o+a.size;if(-1==r&&t<=c){var u=o+a.border;if(t>=u&&e<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,u);t=o;for(var l=s;l>0;l--){var p=this.children[l-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=h(p.dom)+1;break}t-=p.size}-1==r&&(r=0)}if(r>-1&&(c>e||s==this.children.length-1)){e=c;for(var d=s+1;d<this.children.length;d++){var f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=h(f.dom);break}e+=f.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}},W.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},W.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},W.prototype.setSelection=function(t,e,n,r){for(var i=Math.min(t,e),o=Math.max(t,e),a=0,c=0;a<this.children.length;a++){var u=this.children[a],l=c+u.size;if(i>c&&o<l)return u.setSelection(t-c-u.border,e-c-u.border,n,r);c=l}var p=this.domFromPos(t,t?-1:1),d=e==t?p:this.domFromPos(e,e?-1:1),f=n.getSelection(),m=!1;if((s.gecko||s.safari)&&t==e){var y=p.node,g=p.offset;if(3==y.nodeType){if((m=g&&"\n"==y.nodeValue[g-1])&&g==y.nodeValue.length)for(var b=y,w=void 0;b;b=b.parentNode){if(w=b.nextSibling){"BR"==w.nodeName&&(p=d={node:w.parentNode,offset:h(w)+1});break}var _=b.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{var x=y.childNodes[g-1];m=x&&("BR"==x.nodeName||"false"==x.contentEditable)}}if(s.gecko&&f.focusNode&&f.focusNode!=d.node&&1==f.focusNode.nodeType){var k=f.focusNode.childNodes[f.focusOffset];k&&"false"==k.contentEditable&&(r=!0)}if(r||m&&s.safari||!v(p.node,p.offset,f.anchorNode,f.anchorOffset)||!v(d.node,d.offset,f.focusNode,f.focusOffset)){var S=!1;if((f.extend||t==e)&&!m){f.collapse(p.node,p.offset);try{t!=e&&f.extend(d.node,d.offset),S=!0}catch(t){if(!(t instanceof DOMException))throw t}}if(!S){if(t>e){var T=p;p=d,d=T}var O=document.createRange();O.setEnd(d.node,d.offset),O.setStart(p.node,p.offset),f.removeAllRanges(),f.addRange(O)}}},W.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},K.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},W.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){var s=n+i.border,a=o-i.border;if(t>=s&&e<=a)return this.dirty=t==n||e==o?2:1,void(t!=s||e!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-s,e-s):i.dirty=3);i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM?2:3}n=o}this.dirty=2},W.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?2:1;e.dirty<n&&(e.dirty=n)}},K.domAtom.get=function(){return!1},Object.defineProperties(W.prototype,K);var $=[],J=function(t){function e(e,n,r,i){var o,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:i}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,$,s,null),this.widget=n,o=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(W),Y=function(t){function e(e,n,r,i){t.call(this,e,$,n,null),this.textDOM=r,this.text=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(W),Z=function(t){function e(e,n,r,i){t.call(this,e,[],r,i),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,o){var s=o.nodeViews[n.type.name],a=s&&s(n,o,r);return a&&a.dom||(a=i.PW.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,a.dom,a.contentDOM||a.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,n,r){var i=e.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=dt(o,n,s,r)),t>0&&(o=dt(o,0,t,r));for(var a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i},e}(W),X=function(t){function e(e,n,r,i,o,s,a,c,u){t.call(this,e,n.isLeaf?$:[],o,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=i,s&&this.updateChildren(c,u)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(t,n,r,o,s,a){var c,u,l=s.nodeViews[n.type.name],p=l&&l(n,s,(function(){return u?u.parent?u.parent.posBeforeChild(u):void 0:a}),r,o),h=p&&p.dom,d=p&&p.contentDOM;if(n.isText)if(h){if(3!=h.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else h=document.createTextNode(n.text);else h||(h=(c=i.PW.renderSpec(document,n.type.spec.toDOM(n))).dom,d=c.contentDOM);d||n.isText||"BR"==h.nodeName||(h.hasAttribute("contenteditable")||(h.contentEditable=!1),n.type.spec.draggable&&(h.draggable=!0));var f=h;return h=ct(h,r,n),p?u=new et(t,n,r,o,h,d,f,p,s,a+1):n.isText?new Q(t,n,r,o,h,f,s):new e(t,n,r,o,h,d,f,s,a+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?i.HY.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&ut(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,o=e,a=t.composing&&this.localCompositionInfo(t,e),c=a&&a.pos>-1?a:null,u=a&&a.pos<0,l=new pt(this,c&&c.node);!function(t,e,n,r){var i=e.locals(t),o=0;if(0==i.length){for(var s=0;s<t.childCount;s++){var a=t.child(s);r(a,i,e.forChild(o,a),s),o+=a.nodeSize}return}for(var c=0,u=[],l=null,p=0;;){if(c<i.length&&i[c].to==o){for(var h=i[c++],d=void 0;c<i.length&&i[c].to==o;)(d||(d=[h])).push(i[c++]);if(d){d.sort(ht);for(var f=0;f<d.length;f++)n(d[f],p,!!l)}else n(h,p,!!l)}var m=void 0,v=void 0;if(l)v=-1,m=l,l=null;else{if(!(p<t.childCount))break;v=p,m=t.child(p++)}for(var y=0;y<u.length;y++)u[y].to<=o&&u.splice(y--,1);for(;c<i.length&&i[c].from<=o&&i[c].to>o;)u.push(i[c++]);var g=o+m.nodeSize;if(m.isText){var b=g;c<i.length&&i[c].from<b&&(b=i[c].from);for(var w=0;w<u.length;w++)u[w].to<b&&(b=u[w].to);b<g&&(l=m.cut(b-o),m=m.cut(0,b-o),g=b,v=-1)}r(m,u.length?m.isInline&&!m.isLeaf?u.filter((function(t){return!t.inline})):u.slice():$,e.forChild(o,m),v),o=g}}(this.node,this.innerDeco,(function(e,s,a){e.spec.marks?l.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!a&&l.syncToMarks(s==n.node.childCount?i.vc.none:n.node.child(s).marks,r,t),l.placeWidget(e,t,o)}),(function(e,n,i,s){var c;l.syncToMarks(e.marks,r,t),l.findNodeMatch(e,n,i,s)||u&&t.state.selection.from>o&&t.state.selection.to<o+e.nodeSize&&(c=l.findIndexWithChild(a.node))>-1&&l.updateNodeAt(e,n,i,c,t)||l.updateNextNode(e,n,i,t,s)||l.addNode(e,n,i,t,o),o+=e.nodeSize})),l.syncToMarks($,r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(c&&this.protectLocalComposition(t,c),nt(this.contentDOM,this.children,t),s.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))},e.prototype.localCompositionInfo=function(t,e){var n=t.state.selection,i=n.from,o=n.to;if(!(!(t.state.selection instanceof r.Bs)||i<e||o>e+this.node.content.size)){var s=t.root.getSelection(),a=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];e=b(t=t.childNodes[e-1])}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(s.focusNode,s.focusOffset);if(a&&this.dom.contains(a.parentNode)){if(this.node.inlineContent){var c=a.nodeValue,u=function(t,e,n,r){for(var i=0,o=0;i<t.childCount&&o<=r;){var s=t.child(i++),a=o;if(o+=s.nodeSize,s.isText){for(var c=s.text;i<t.childCount;){var u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;c+=u.text}if(o>=n){var l=c.lastIndexOf(e,r-a);if(l>=0&&l+e.length+a>=n)return a+l}}}return-1}(this.node.content,c,i-e,o-e);return u<0?null:{node:a,pos:u,text:c}}return{node:a,pos:-1}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,i=e.text;if(!this.getDesc(n)){for(var o=n;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var s=new Y(this,o,n,i);t.compositionNodes.push(s),this.children=dt(this.children,r,r+i.length,t,s)}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!ut(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=st(this.dom,this.nodeDOM,ot(this.outerDeco,this.node,e),ot(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,n),e}(W);function G(t,e,n,r,i){return ct(r,e,t),new X(null,t,e,n,r,r,r,i,0)}var Q=function(t){function e(e,n,r,i,o,s,a){t.call(this,e,n,r,i,o,null,s,a)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var i=this.node.cut(t,n),o=document.createTextNode(i.text);return new e(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)},e.prototype.markDirty=function(e,n){t.prototype.markDirty.call(this,e,n),this.dom==this.nodeDOM||0!=e&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,n),e}(X),tt=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(t){return 0==this.dirty&&this.dom.nodeName==t},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(W),et=function(t){function e(e,n,r,i,o,s,a,c,u,l){t.call(this,e,n,r,i,o,s,a,u,l),this.spec=c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,i){if(3==this.dirty)return!1;if(this.spec.update){var o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,i)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,i)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(X);function nt(t,e,n){for(var r=t.firstChild,i=!1,o=0;o<e.length;o++){var s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=lt(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof Z){var c=r?r.previousSibling:t.lastChild;nt(s.contentDOM,s.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=lt(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}function rt(t){t&&(this.nodeName=t)}rt.prototype=Object.create(null);var it=[new rt];function ot(t,e,n){if(0==t.length)return it;for(var r=n?it[0]:new rt,i=[r],o=0;o<t.length;o++){var s=t[o].type.attrs;if(s)for(var a in s.nodeName&&i.push(r=new rt(s.nodeName)),s){var c=s[a];null!=c&&(n&&1==i.length&&i.push(r=new rt(e.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+c:"style"==a?r.style=(r.style?r.style+";":"")+c:"nodeName"!=a&&(r[a]=c))}}return i}function st(t,e,n,r){if(n==it&&r==it)return e;for(var i=e,o=0;o<r.length;o++){var s=r[o],a=n[o];if(o){var c=void 0;a&&a.nodeName==s.nodeName&&i!=t&&(c=i.parentNode)&&c.tagName.toLowerCase()==s.nodeName||((c=document.createElement(s.nodeName)).pmIsDeco=!0,c.appendChild(i),a=it[0]),i=c}at(i,a||it[0],s)}return i}function at(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){for(var o=e.class?e.class.split(" ").filter(Boolean):$,s=n.class?n.class.split(" ").filter(Boolean):$,a=0;a<o.length;a++)-1==s.indexOf(o[a])&&t.classList.remove(o[a]);for(var c=0;c<s.length;c++)-1==o.indexOf(s[c])&&t.classList.add(s[c])}if(e.style!=n.style){if(e.style)for(var u,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;u=l.exec(e.style);)t.style.removeProperty(u[1]);n.style&&(t.style.cssText+=n.style)}}function ct(t,e,n){return st(t,t,it,ot(e,n,1!=t.nodeType))}function ut(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function lt(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var pt=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(t,e){for(var n=t.childCount,r=e.length,i=new Map;n>0&&r>0;r--){var o=e[r-1],s=o.node;if(s){if(s!=t.child(n-1))break;--n,i.set(o,n)}}return{index:n,matched:i}}(t.node.content,t.children)};function ht(t,e){return t.type.side-e.type.side}function dt(t,e,n,r,i){for(var o=[],s=0,a=0;s<t.length;s++){var c=t[s],u=a,l=a+=c.size;u>=n||l<=e?o.push(c):(u<e&&o.push(c.slice(0,e-u,r)),i&&(o.push(i),i=null),l>n&&o.push(c.slice(n-u,c.size,r)))}return o}function ft(t,e){var n=t.root.getSelection(),i=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),s=o&&0==o.size,a=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var c,u,l=i.resolve(a);if(_(n)){for(c=l;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&r.qv.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(t,e,n){for(var r=0==e,i=e==b(t);r||i;){if(t==n)return!0;var o=h(t);if(!(t=t.parentNode))return!1;r=r&&0==o,i=i&&o==b(t)}}(n.focusNode,n.focusOffset,o.dom))){var p=o.posBefore;u=new r.qv(a==p?l:i.resolve(p))}}else{var d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(d<0)return null;c=i.resolve(d)}u||(u=kt(t,c,l,"pointer"==e||t.state.selection.head<l.pos&&!s?1:-1));return u}function mt(t){return t.editable?t.hasFocus():St(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function vt(t,e){var n=t.state.selection;if(_t(t,n),mt(t)){if(!e&&t.mouseDown&&t.mouseDown.allowDefault)return t.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection();if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,h(r)+1):n.setEnd(r,0);n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&s.ie&&s.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{var i,o,a=n.anchor,c=n.head;!yt||n instanceof r.Bs||(n.$from.parent.inlineContent||(i=gt(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=gt(t,n.to))),t.docView.setSelection(a,c,t.root,e),yt&&(i&&wt(i),o&&wt(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout((function(){mt(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}pt.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},pt.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},pt.prototype.syncToMarks=function(t,e,n){for(var r=0,i=this.stack.length>>1,o=Math.min(i,t.length);r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[i])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=Z.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}},pt.prototype.findNodeMatch=function(t,e,n,r){var i=this.top.children,o=-1;if(r>=this.preMatch.index){for(var s=this.index;s<i.length;s++)if(i[s].matchesNode(t,e,n)){o=s;break}}else for(var a=this.index,c=Math.min(i.length,a+1);a<c;a++){var u=i[a];if(u.matchesNode(t,e,n)&&!this.preMatch.matched.has(u)){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},pt.prototype.updateNodeAt=function(t,e,n,r,i){return!!this.top.children[r].update(t,e,n,i)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)},pt.prototype.findIndexWithChild=function(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var n=t.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}t=e}},pt.prototype.updateNextNode=function(t,e,n,r,i){for(var o=this.index;o<this.top.children.length;o++){var s=this.top.children[o];if(s instanceof X){var a=this.preMatch.matched.get(s);if(null!=a&&a!=i)return!1;var c=s.dom;if(!(this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&3!=s.dirty&&ut(e,s.outerDeco)))&&s.update(t,e,n,r))return this.destroyBetween(this.index,o),s.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},pt.prototype.addNode=function(t,e,n,r,i){this.top.children.splice(this.index++,0,X.create(this.top,t,e,n,r,i)),this.changed=!0},pt.prototype.placeWidget=function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var i=new J(this.top,t,e,n);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++},pt.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof Z;)t=t.children[t.children.length-1];t&&t instanceof Q&&!/\n$/.test(t.node.text)||((s.safari||s.chrome)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},pt.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var e=document.createElement(t);"IMG"==t&&(e.className="ProseMirror-separator"),this.top.children.splice(this.index++,0,new tt(this.top,$,e,null)),this.changed=!0}};var yt=s.safari||s.chrome&&s.chrome_version<63;function gt(t,e){var n=t.docView.domFromPos(e,0),r=n.node,i=n.offset,o=i<r.childNodes.length?r.childNodes[i]:null,a=i?r.childNodes[i-1]:null;if(s.safari&&o&&"false"==o.contentEditable)return bt(o);if(!(o&&"false"!=o.contentEditable||a&&"false"!=a.contentEditable)){if(o)return bt(o);if(a)return bt(a)}}function bt(t){return t.contentEditable="true",s.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function wt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function _t(t,e){if(e instanceof r.qv){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(xt(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else xt(t)}function xt(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function kt(t,e,n,i){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||r.Bs.between(e,n,i)}function St(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function Tt(t,e){var n=t.selection,i=n.$anchor,o=n.$head,s=e>0?i.max(o):i.min(o),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&r.Y1.findFrom(a,e)}function Ot(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Et(t,e,n){var i=t.state.selection;if(!(i instanceof r.Bs)){if(i instanceof r.qv&&i.node.isInline)return Ot(t,new r.Bs(e>0?i.$to:i.$from));var o=Tt(t.state,e);return!!o&&Ot(t,o)}if(!i.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var a=Tt(t.state,e);return!!(a&&a instanceof r.qv)&&Ot(t,a)}if(!(s.mac&&n.indexOf("m")>-1)){var c,u=i.$head,l=u.textOffset?null:e<0?u.nodeBefore:u.nodeAfter;if(!l||l.isText)return!1;var p=e<0?u.pos-l.nodeSize:u.pos;return!!(l.isAtom||(c=t.docView.descAt(p))&&!c.contentDOM)&&(r.qv.isSelectable(l)?Ot(t,new r.qv(e<0?t.state.doc.resolve(u.pos-l.nodeSize):u)):!!s.webkit&&Ot(t,new r.Bs(t.state.doc.resolve(e<0?p:p+l.nodeSize))))}}function Ct(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function At(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Nt(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var i,o,a=!1;for(s.gecko&&1==n.nodeType&&r<Ct(n)&&At(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;var c=n.childNodes[r-1];if(At(c))i=n,o=--r;else{if(3!=c.nodeType)break;r=(n=c).nodeValue.length}}else{if(Dt(n))break;for(var u=n.previousSibling;u&&At(u);)i=n.parentNode,o=h(u),u=u.previousSibling;if(u)r=Ct(n=u);else{if((n=n.parentNode)==t.dom)break;r=0}}a?Mt(t,e,n,r):i&&Mt(t,e,i,o)}}function It(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var i,o,s=Ct(n);;)if(r<s){if(1!=n.nodeType)break;if(!At(n.childNodes[r]))break;i=n,o=++r}else{if(Dt(n))break;for(var a=n.nextSibling;a&&At(a);)i=a.parentNode,o=h(a)+1,a=a.nextSibling;if(a)r=0,s=Ct(n=a);else{if((n=n.parentNode)==t.dom)break;r=s=0}}i&&Mt(t,e,i,o)}}function Dt(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Mt(t,e,n,r){if(_(e)){var i=document.createRange();i.setEnd(n,r),i.setStart(n,r),e.removeAllRanges(),e.addRange(i)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var o=t.state;setTimeout((function(){t.state==o&&vt(t)}),50)}function Rt(t,e,n){var i=t.state.selection;if(i instanceof r.Bs&&!i.empty||n.indexOf("s")>-1)return!1;if(s.mac&&n.indexOf("m")>-1)return!1;var o=i.$from,a=i.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var c=Tt(t.state,e);if(c&&c instanceof r.qv)return Ot(t,c)}if(!o.parent.inlineContent){var u=e<0?o:a,l=i instanceof r.C1?r.Y1.near(u,e):r.Y1.findFrom(u,e);return!!l&&Ot(t,l)}return!1}function Pt(t,e){if(!(t.state.selection instanceof r.Bs))return!0;var n=t.state.selection,i=n.$head,o=n.$anchor,s=n.empty;if(!i.sameParent(o))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var a=!i.textOffset&&(e<0?i.nodeBefore:i.nodeAfter);if(a&&!a.isText){var c=t.state.tr;return e<0?c.delete(i.pos-a.nodeSize,i.pos):c.delete(i.pos,i.pos+a.nodeSize),t.dispatch(c),!0}return!1}function jt(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Lt(t,e){var n=e.keyCode,r=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||s.mac&&72==n&&"c"==r?Pt(t,-1)||Nt(t):46==n||s.mac&&68==n&&"c"==r?Pt(t,1)||It(t):13==n||27==n||(37==n?Et(t,-1,r)||Nt(t):39==n?Et(t,1,r)||It(t):38==n?Rt(t,-1,r)||Nt(t):40==n?function(t){if(s.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var i=n.firstChild;jt(t,i,!0),setTimeout((function(){return jt(t,i,!1)}),20)}}}(t)||Rt(t,1,r)||It(t):r==(s.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Ft(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(s.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||s.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function Bt(t,e,n,o,a){if(e<0){var c=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,u=ft(t,c);if(u&&!t.state.selection.eq(u)){var l=t.state.tr.setSelection(u);"pointer"==c?l.setMeta("pointer",!0):"key"==c&&l.scrollIntoView(),t.dispatch(l)}}else{var p=t.state.doc.resolve(e),h=p.sharedDepth(n);e=p.before(h+1),n=t.state.doc.resolve(n).after(h+1);var d=t.state.selection,f=function(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,a=r.fromOffset,c=r.toOffset,u=r.from,l=r.to,p=t.root.getSelection(),h=null,d=p.anchorNode;if(d&&t.dom.contains(1==d.nodeType?d:d.parentNode)&&(h=[{node:d,offset:p.anchorOffset}],_(p)||h.push({node:p.focusNode,offset:p.focusOffset})),s.chrome&&8===t.lastKeyCode)for(var f=c;f>a;f--){var m=o.childNodes[f-1],v=m.pmViewDesc;if("BR"==m.nodeName&&!v){c=f;break}if(!v||v.size)break}var y=t.state.doc,g=t.someProp("domParser")||i.aw.fromSchema(t.state.schema),b=y.resolve(u),w=null,x=g.parse(o,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:a,to:c,preserveWhitespace:!b.parent.type.spec.code||"full",editableContent:!0,findPositions:h,ruleFromNode:Ft,context:b});if(h&&null!=h[0].pos){var k=h[0].pos,S=h[1]&&h[1].pos;null==S&&(S=k),w={anchor:k+u,head:S+u}}return{doc:x,sel:w,from:u,to:l}}(t,e,n);if(s.chrome&&t.cursorWrapper&&f.sel&&f.sel.anchor==t.cursorWrapper.deco.from){var m=t.cursorWrapper.deco.type.toDOM.nextSibling,v=m&&m.nodeValue?m.nodeValue.length:1;f.sel={anchor:f.sel.anchor+v,head:f.sel.anchor+v}}var y,g,b=t.state.doc,w=b.slice(f.from,f.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(y=t.state.selection.to,g="end"):(y=t.state.selection.from,g="start"),t.lastKeyCode=null;var k=function(t,e,n,r,i){var o=t.findDiffStart(e,n);if(null==o)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,c=s.b;if("end"==i){r-=a+Math.max(0,o-Math.min(a,c))-o}if(a<o&&t.size<e.size){c=(o-=r<=o&&r>=a?o-r:0)+(c-a),a=o}else if(c<o){a=(o-=r<=o&&r>=c?o-r:0)+(a-c),c=o}return{start:o,endA:a,endB:c}}(w.content,f.doc.content,f.from,y,g);if(!k){if(!(o&&d instanceof r.Bs&&!d.empty&&d.$head.sameParent(d.$anchor))||t.composing||f.sel&&f.sel.anchor!=f.sel.head){if((s.ios&&t.lastIOSEnter>Date.now()-225||s.android)&&a.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))&&t.someProp("handleKeyDown",(function(e){return e(t,x(13,"Enter"))})))return void(t.lastIOSEnter=0);if(f.sel){var S=zt(t,t.state.doc,f.sel);S&&!S.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(S))}return}k={start:d.from,endA:d.to,endB:d.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&k.start==k.endB&&t.state.selection instanceof r.Bs&&(k.start>t.state.selection.from&&k.start<=t.state.selection.from+2?k.start=t.state.selection.from:k.endA<t.state.selection.to&&k.endA>=t.state.selection.to-2&&(k.endB+=t.state.selection.to-k.endA,k.endA=t.state.selection.to)),s.ie&&s.ie_version<=11&&k.endB==k.start+1&&k.endA==k.start&&k.start>f.from&&" "==f.doc.textBetween(k.start-f.from-1,k.start-f.from+1)&&(k.start--,k.endA--,k.endB--);var T,O=f.doc.resolveNoCache(k.start-f.from),E=f.doc.resolveNoCache(k.endB-f.from),C=O.sameParent(E)&&O.parent.inlineContent;if((s.ios&&t.lastIOSEnter>Date.now()-225&&(!C||a.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!C&&O.pos<f.doc.content.size&&(T=r.Y1.findFrom(f.doc.resolve(O.pos+1),1,!0))&&T.head==E.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,x(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>k.start&&function(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Ut(r,!0,!1)<i.pos)return!1;var o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var s=t.resolve(Ut(o,!0,!0));if(!s.parent.isTextblock||s.pos>n||Ut(s,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(b,k.start,k.endA,O,E)&&t.someProp("handleKeyDown",(function(e){return e(t,x(8,"Backspace"))})))s.android&&s.chrome&&t.domObserver.suppressSelectionUpdates();else{s.chrome&&s.android&&k.toB==k.from&&(t.lastAndroidDelete=Date.now()),s.android&&!C&&O.start()!=E.start()&&0==E.parentOffset&&O.depth==E.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==k.endA&&(k.endB-=2,E=f.doc.resolveNoCache(k.endB-f.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,x(13,"Enter"))}))}),20));var A,N,I,D,M=k.start,R=k.endA;if(C)if(O.pos==E.pos)s.ie&&s.ie_version<=11&&0==O.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return vt(t)}),20)),A=t.state.tr.delete(M,R),N=b.resolve(k.start).marksAcross(b.resolve(k.endA));else if(k.endA==k.endB&&(D=b.resolve(k.start))&&(I=function(t,e){for(var n,r,o,s=t.firstChild.marks,a=e.firstChild.marks,c=s,u=a,l=0;l<a.length;l++)c=a[l].removeFromSet(c);for(var p=0;p<s.length;p++)u=s[p].removeFromSet(u);if(1==c.length&&0==u.length)r=c[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=c.length||1!=u.length)return null;r=u[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var h=[],d=0;d<e.childCount;d++)h.push(o(e.child(d)));if(i.HY.from(h).eq(t))return{mark:r,type:n}}(O.parent.content.cut(O.parentOffset,E.parentOffset),D.parent.content.cut(D.parentOffset,k.endA-D.start()))))A=t.state.tr,"add"==I.type?A.addMark(M,R,I.mark):A.removeMark(M,R,I.mark);else if(O.parent.child(O.index()).isText&&O.index()==E.index()-(E.textOffset?0:1)){var P=O.parent.textBetween(O.parentOffset,E.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,M,R,P)})))return;A=t.state.tr.insertText(P,M,R)}if(A||(A=t.state.tr.replace(M,R,f.doc.slice(k.start-f.from,k.endB-f.from))),f.sel){var j=zt(t,A.doc,f.sel);j&&!(s.chrome&&s.android&&t.composing&&j.empty&&(k.start!=k.endB||t.lastAndroidDelete<Date.now()-100)&&(j.head==M||j.head==A.mapping.map(R)-1)||s.ie&&j.empty&&j.head==M)&&A.setSelection(j)}N&&A.ensureMarks(N),t.dispatch(A.scrollIntoView())}}}function zt(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:kt(t,e.resolve(n.anchor),e.resolve(n.head))}function Ut(t,e,n){for(var r=t.depth,i=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n)for(var o=t.node(r).maybeChild(t.indexAfter(r));o&&!o.isLeaf;)o=o.firstChild,i++;return i}function Vt(t,e){for(var n=[],r=e.content,o=e.openStart,s=e.openEnd;o>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,s--;var a=r.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),r=a.content}var c=t.someProp("clipboardSerializer")||i.PW.fromSchema(t.state.schema),u=Zt(),l=u.createElement("div");l.appendChild(c.serializeFragment(r,{document:u}));for(var p,h=l.firstChild;h&&1==h.nodeType&&(p=Jt[h.nodeName.toLowerCase()]);){for(var d=p.length-1;d>=0;d--){for(var f=u.createElement(p[d]);l.firstChild;)f.appendChild(l.firstChild);l.appendChild(f),"tbody"!=p[d]&&(o++,s++)}h=l.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice",o+" "+s+" "+JSON.stringify(n)),{dom:l,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function qt(t,e,n,r,o){var a,c,u=o.parent.type.spec.code;if(!n&&!e)return null;var l=e&&(r||u||!n);if(l){if(t.someProp("transformPastedText",(function(t){e=t(e,u||r)})),u)return new i.p2(i.HY.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0);var p=t.someProp("clipboardTextParser",(function(t){return t(e,o,r)}));if(p)c=p;else{var h=o.marks(),d=t.state.schema,f=i.PW.fromSchema(d);a=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){a.appendChild(document.createElement("p")).appendChild(f.serializeNode(d.text(t,h)))}))}}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),a=function(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=Zt().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);(n=i&&Jt[i[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""));if(r.innerHTML=t,n)for(var o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}(n),s.webkit&&function(t){for(var e=t.querySelectorAll(s.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<e.length;n++){var r=e[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}(a);var m=a&&a.querySelector("[data-pm-slice]"),v=m&&/^(\d+) (\d+) (.*)/.exec(m.getAttribute("data-pm-slice"));if(!c){var y=t.someProp("clipboardParser")||t.someProp("domParser")||i.aw.fromSchema(t.state.schema);c=y.parseSlice(a,{preserveWhitespace:!(!l&&!v),context:o})}return c=v?function(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var o=t.content,s=t.openStart,a=t.openEnd,c=n.length-2;c>=0;c-=2){var u=r.nodes[n[c]];if(!u||u.hasRequiredAttrs())break;o=i.HY.from(u.create(n[c+1],o)),s++,a++}return new i.p2(o,s,a)}(function(t,e,n){e<t.openStart&&(t=new i.p2($t(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd));n<t.openEnd&&(t=new i.p2($t(t.content,1,n,t.openEnd,0,0),t.openStart,n));return t}(c,+v[1],+v[2]),v[3]):i.p2.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n).contentMatchAt(e.index(n)),o=void 0,s=[];if(t.forEach((function(t){if(s){var e,n=r.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&o.length&&Wt(n,o,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=Kt(s[s.length-1],o.length));var i=Ht(t,n);s.push(i),r=r.matchType(i.type,i.attrs),o=n}}})),s)return{v:i.HY.from(s)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}(c.content,o),!1),t.someProp("transformPasted",(function(t){c=t(c)})),c}function Ht(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,i.HY.from(t));return t}function Wt(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){var s=Wt(t,e,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(i.HY.from(Ht(n,t,o+1))))}}function Kt(t,e){if(0==e)return t;var n=t.content.replaceChild(t.childCount-1,Kt(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(i.HY.empty,!0);return t.copy(n.append(r))}function $t(t,e,n,r,o,s){var a=e<0?t.firstChild:t.lastChild,c=a.content;return o<r-1&&(c=$t(c,e,n,r,o+1,s)),o>=n&&(c=e<0?a.contentMatchAt(0).fillBefore(c,t.childCount>1||s<=o).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(i.HY.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(c))}var Jt={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Yt=null;function Zt(){return Yt||(Yt=document.implementation.createHTMLDocument("title"))}var Xt={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Gt=s.ie&&s.ie_version<=11,Qt=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Qt.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},Qt.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var te=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);s.ie&&s.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Qt,Gt&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};te.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},te.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},te.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Xt),Gt&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},te.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}Gt&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},te.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},te.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},te.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},te.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&St(t)){var t;if(this.suppressingSelectionUpdates)return vt(this.view);if(s.ie&&s.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&v(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},te.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},te.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},te.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&St(this.view)&&!this.ignoreSelectionChange(e),r=-1,i=-1,o=!1,a=[];if(this.view.editable)for(var c=0;c<t.length;c++){var u=this.registerMutation(t[c],a);u&&(r=r<0?u.from:Math.min(u.from,r),i=i<0?u.to:Math.max(u.to,i),u.typeOver&&(o=!0))}if(s.gecko&&a.length>1){var l=a.filter((function(t){return"BR"==t.nodeName}));if(2==l.length){var p=l[0],h=l[1];p.parentNode&&p.parentNode.parentNode==h.parentNode?h.remove():p.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,i),function(t){if(ee)return;ee=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,i,o,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||vt(this.view),this.currentSelection.set(e))}},te.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(var r=0;r<t.addedNodes.length;r++)e.push(t.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};var i=t.previousSibling,o=t.nextSibling;if(s.ie&&s.ie_version<=11&&t.addedNodes.length)for(var a=0;a<t.addedNodes.length;a++){var c=t.addedNodes[a],u=c.previousSibling,l=c.nextSibling;(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(i=u),(!l||Array.prototype.indexOf.call(t.addedNodes,l)<0)&&(o=l)}var p=i&&i.parentNode==t.target?h(i)+1:0,d=n.localPosFromDOM(t.target,p,-1),f=o&&o.parentNode==t.target?h(o):t.target.childNodes.length;return{from:d,to:n.localPosFromDOM(t.target,f,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var ee=!1;var ne={},re={};function ie(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function oe(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return se(t,e)})}))}function se(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function ae(t){return{left:t.clientX,top:t.clientY}}function ce(t,e,n,r,i){if(-1==r)return!1;for(var o=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,(function(e){return r>o.depth?e(t,n,o.nodeAfter,o.before(r),i,!0):e(t,n,o.node(r),o.before(r),i,!1)})))return{v:!0}},a=o.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function ue(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function le(t,e,n,i,o){return ce(t,"handleClickOn",e,n,i)||t.someProp("handleClick",(function(n){return n(t,e,i)}))||(o?function(t,e){if(-1==e)return!1;var n,i,o=t.state.selection;o instanceof r.qv&&(n=o.node);for(var s=t.state.doc.resolve(e),a=s.depth+1;a>0;a--){var c=a>s.depth?s.nodeAfter:s.node(a);if(r.qv.isSelectable(c)){i=n&&o.$from.depth>0&&a>=o.$from.depth&&s.before(o.$from.depth+1)==o.$from.pos?s.before(o.$from.depth):s.before(a);break}}return null!=i&&(ue(t,r.qv.create(t.state.doc,i),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),i=n.nodeAfter;return!!(i&&i.isAtom&&r.qv.isSelectable(i))&&(ue(t,new r.qv(n),"pointer"),!0)}(t,n))}function pe(t,e,n,r){return ce(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function he(t,e,n,i){return ce(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",(function(n){return n(t,e,i)}))||function(t,e,n){if(0!=n.button)return!1;var i=t.state.doc;if(-1==e)return!!i.inlineContent&&(ue(t,r.Bs.create(i,0,i.content.size),"pointer"),!0);for(var o=i.resolve(e),s=o.depth+1;s>0;s--){var a=s>o.depth?o.nodeAfter:o.node(s),c=o.before(s);if(a.inlineContent)ue(t,r.Bs.create(i,c+1,c+1+a.content.size),"pointer");else{if(!r.qv.isSelectable(a))continue;ue(t,r.qv.create(i,c),"pointer")}return!0}}(t,n,i)}function de(t){return we(t)}re.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!ve(t,e))if(229!=e.keyCode&&t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!s.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(n){return n(t,e)}))||Lt(t,e)?e.preventDefault():ie(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",(function(e){return e(t,x(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},re.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},re.keypress=function(t,e){if(!(ve(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||s.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof r.Bs&&n.$from.sameParent(n.$to))){var i=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,i)}))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),e.preventDefault()}}};var fe=s.mac?"metaKey":"ctrlKey";ne.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=de(t),r=Date.now(),i="singleClick";r-t.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(e,t.lastClick)&&!e[fe]&&("singleClick"==t.lastClick.type?i="doubleClick":"doubleClick"==t.lastClick.type&&(i="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:i};var o=t.posAtCoords(ae(e));o&&("singleClick"==i?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new me(t,o,e,n)):("doubleClick"==i?pe:he)(t,o.pos,o.inside,e)?e.preventDefault():ie(t,"pointer"))};var me=function(t,e,n,i){var o,a,c=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=i,this.selectNode=n[fe],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,e.inside>-1)o=t.state.doc.nodeAt(e.inside),a=e.inside;else{var u=t.state.doc.resolve(e.pos);o=u.parent,a=u.depth?u.before():0}this.mightDrag=null;var l=i?null:n.target,p=l?t.docView.nearestDesc(l,!0):null;this.target=p?p.dom:null;var h=t.state.selection;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||h instanceof r.qv&&h.from<=a&&h.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&s.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){c.view.mouseDown==c&&c.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),ie(t,"pointer")};function ve(t,e){return!!t.composing||!!(s.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}me.prototype.done=function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return vt(t.view)})),this.view.mouseDown=null},me.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(ae(t))),this.allowDefault||!e?ie(this.view,"pointer"):le(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||s.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||s.chrome&&!(this.view.state.selection instanceof r.Bs)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(ue(this.view,r.Y1.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):ie(this.view,"pointer")}},me.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),ie(this.view,"pointer"),0==t.buttons&&this.done()},ne.touchdown=function(t){de(t),ie(t,"pointer")},ne.contextmenu=function(t){return de(t)};var ye=s.android?5e3:-1;function ge(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return we(t)}),e))}function be(t){var e;for(t.composing&&(t.composing=!1,t.compositionEndedAt=((e=document.createEvent("Event")).initEvent("event",!0,!0),e.timeStamp));t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty()}function we(t,e){if(t.domObserver.forceFlush(),be(t),e||t.docView.dirty){var n=ft(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}re.compositionstart=re.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),we(t,!0),t.markCursor=null;else if(we(t),s.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){var a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(3==a.nodeType){r.collapse(a,a.nodeValue.length);break}i=a,o=-1}t.composing=!0}ge(t,ye)},re.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,ge(t,20))};var _e=s.ie&&s.ie_version<15||s.ios&&s.webkit_version<604;function xe(t,e,n,r){var o=qt(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(function(e){return e(t,r,o||i.p2.empty)})))return!0;if(!o)return!1;var s=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),a=s?t.state.tr.replaceSelectionWith(s,t.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}ne.copy=re.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var i=_e?null:e.clipboardData,o=Vt(t,n.content()),s=o.dom,a=o.text;i?(e.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",a)):function(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}}(t,s),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},re.paste=function(t,e){var n=_e?null:e.clipboardData;n&&xe(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():function(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?xe(t,r.value,null,e):xe(t,r.textContent,r.innerHTML,e)}),50)}}(t,e)};var ke=function(t,e){this.slice=t,this.move=e},Se=s.mac?"altKey":"ctrlKey";for(var Te in ne.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var i=t.state.selection,o=i.empty?null:t.posAtCoords(ae(e));if(o&&o.pos>=i.from&&o.pos<=(i instanceof r.qv?i.to-1:i.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(r.qv.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var s=t.docView.nearestDesc(e.target,!0);s&&s.node.type.spec.draggable&&s!=t.docView&&t.dispatch(t.state.tr.setSelection(r.qv.create(t.state.doc,s.posBefore)))}var a=t.state.selection.content(),c=Vt(t,a),u=c.dom,l=c.text;e.dataTransfer.clearData(),e.dataTransfer.setData(_e?"Text":"text/html",u.innerHTML),e.dataTransfer.effectAllowed="copyMove",_e||e.dataTransfer.setData("text/plain",l),t.dragging=new ke(a,!e[Se])}},ne.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},re.dragover=re.dragenter=function(t,e){return e.preventDefault()},re.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var s=t.posAtCoords(ae(e));if(s){var a=t.state.doc.resolve(s.pos);if(a){var c=n&&n.slice;c?t.someProp("transformPasted",(function(t){c=t(c)})):c=qt(t,e.dataTransfer.getData(_e?"Text":"text/plain"),_e?null:e.dataTransfer.getData("text/html"),!1,a);var u=n&&!e[Se];if(t.someProp("handleDrop",(function(n){return n(t,e,c||i.p2.empty,u)})))e.preventDefault();else if(c){e.preventDefault();var l=c?(0,o.nj)(t.state.doc,a.pos,c):a.pos;null==l&&(l=a.pos);var p=t.state.tr;u&&p.deleteSelection();var h=p.mapping.map(l),d=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,f=p.doc;if(d?p.replaceRangeWith(h,h,c.content.firstChild):p.replaceRange(h,h,c),!p.doc.eq(f)){var m=p.doc.resolve(h);if(d&&r.qv.isSelectable(c.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(c.content.firstChild))p.setSelection(new r.qv(m));else{var v=p.mapping.map(l);p.mapping.maps[p.mapping.maps.length-1].forEach((function(t,e,n,r){return v=r})),p.setSelection(kt(t,m,p.doc.resolve(v)))}t.focus(),t.dispatch(p.setMeta("uiEvent","drop"))}}}}}},ne.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&vt(t)}),20))},ne.blur=function(t,e){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),e.relatedTarget&&t.dom.contains(e.relatedTarget)&&t.domObserver.currentSelection.set({}),t.focused=!1)},ne.beforeinput=function(t,e){if(s.chrome&&s.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,x(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},re)ne[Te]=re[Te];function Oe(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var Ee=function(t,e){this.spec=e||Me,this.side=this.spec.side||0,this.toDOM=t};Ee.prototype.map=function(t,e,n,r){var i=t.mapResult(e.from+r,this.side<0?-1:1),o=i.pos;return i.deleted?null:new Ne(o-n,o-n,this)},Ee.prototype.valid=function(){return!0},Ee.prototype.eq=function(t){return this==t||t instanceof Ee&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Oe(this.spec,t.spec))};var Ce=function(t,e){this.spec=e||Me,this.attrs=t};Ce.prototype.map=function(t,e,n,r){var i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Ne(i,o,this)},Ce.prototype.valid=function(t,e){return e.from<e.to},Ce.prototype.eq=function(t){return this==t||t instanceof Ce&&Oe(this.attrs,t.attrs)&&Oe(this.spec,t.spec)},Ce.is=function(t){return t.type instanceof Ce};var Ae=function(t,e){this.spec=e||Me,this.attrs=t};Ae.prototype.map=function(t,e,n,r){var i=t.mapResult(e.from+r,1);if(i.deleted)return null;var o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Ne(i.pos-n,o.pos-n,this)},Ae.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.index,i=n.offset;return i==e.from&&i+t.child(r).nodeSize==e.to},Ae.prototype.eq=function(t){return this==t||t instanceof Ae&&Oe(this.attrs,t.attrs)&&Oe(this.spec,t.spec)};var Ne=function(t,e,n){this.from=t,this.to=e,this.type=n},Ie={spec:{configurable:!0},inline:{configurable:!0}};Ne.prototype.copy=function(t,e){return new Ne(t,e,this.type)},Ne.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},Ne.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},Ne.widget=function(t,e,n){return new Ne(t,t,new Ee(e,n))},Ne.inline=function(t,e,n,r){return new Ne(t,e,new Ce(n,r))},Ne.node=function(t,e,n,r){return new Ne(t,e,new Ae(n,r))},Ie.spec.get=function(){return this.type.spec},Ie.inline.get=function(){return this.type instanceof Ce},Object.defineProperties(Ne.prototype,Ie);var De=[],Me={},Re=function(t,e){this.local=t&&t.length?t:De,this.children=e&&e.length?e:De};Re.create=function(t,e){return e.length?ze(e,t,0,Me):Pe},Re.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},Re.prototype.findInner=function(t,e,n,r,i){for(var o=0;o<this.local.length;o++){var s=this.local[o];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var c=this.children[a]+1;this.children[a+2].findInner(t-c,e-c,n,r+c,i)}},Re.prototype.map=function(t,e,n){return this==Pe||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Me)},Re.prototype.mapInner=function(t,e,n,r,i){for(var o,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,r,i,o,s){for(var a=t.slice(),c=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var c=a[s+1],u=void 0;-1==c||t>c+o||(e>=a[s]+o?a[s+1]=-1:n>=i&&(u=r-n-(e-t))&&(a[s]+=u,a[s+1]+=u))}},u=0;u<n.maps.length;u++)n.maps[u].forEach(c);for(var l=!1,p=0;p<a.length;p+=3)if(-1==a[p+1]){var h=n.map(t[p]+o),d=h-i;if(d<0||d>=r.content.size){l=!0;continue}var f=n.map(t[p+1]+o,-1)-i,m=r.content.findIndex(d),v=m.index,y=m.offset,g=r.maybeChild(v);if(g&&y==d&&y+g.nodeSize==f){var b=a[p+2].mapInner(n,g,h+1,t[p]+o+1,s);b!=Pe?(a[p]=d,a[p+1]=f,a[p+2]=b):(a[p+1]=-2,l=!0)}else l=!0}if(l){var w=ze(function(t,e,n,r,i,o,s){function a(t,e){for(var o=0;o<t.local.length;o++){var c=t.local[o].map(r,i,e);c?n.push(c):s.onRemove&&s.onRemove(t.local[o].spec)}for(var u=0;u<t.children.length;u+=3)a(t.children[u+2],t.children[u]+e+1)}for(var c=0;c<t.length;c+=3)-1==t[c+1]&&a(t[c+2],e[c]+o+1);return n}(a,t,e||[],n,i,o,s),r,0,s);e=w.local;for(var _=0;_<a.length;_+=3)a[_+1]<0&&(a.splice(_,3),_-=3);for(var x=0,k=0;x<w.children.length;x+=3){for(var S=w.children[x];k<a.length&&a[k]<S;)k+=3;a.splice(k,0,w.children[x],w.children[x+1],w.children[x+2])}}return new Re(e&&e.sort(Ue),a)}(this.children,o,t,e,n,r,i):o?new Re(o.sort(Ue)):Pe},Re.prototype.add=function(t,e){return e.length?this==Pe?Re.create(t,e):this.addInner(t,e,0):this},Re.prototype.addInner=function(t,e,n){var r,i=this,o=0;t.forEach((function(t,s){var a,c=s+n;if(a=Fe(e,t,c)){for(r||(r=i.children.slice());o<r.length&&r[o]<s;)o+=3;r[o]==s?r[o+2]=r[o+2].addInner(t,a,c+1):r.splice(o,0,s,s+t.nodeSize,ze(a,t,c+1,Me)),o+=3}}));for(var s=Le(o?Be(e):e,-n),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new Re(s.length?this.local.concat(s).sort(Ue):this.local,r||this.children)},Re.prototype.remove=function(t){return 0==t.length||this==Pe?this:this.removeInner(t,0)},Re.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,i=0;i<n.length;i+=3){for(var o=void 0,s=n[i]+e,a=n[i+1]+e,c=0,u=void 0;c<t.length;c++)(u=t[c])&&u.from>s&&u.to<a&&(t[c]=null,(o||(o=[])).push(u));if(o){n==this.children&&(n=this.children.slice());var l=n[i+2].removeInner(o,s+1);l!=Pe?n[i+2]=l:(n.splice(i,3),i-=3)}}if(r.length)for(var p=0,h=void 0;p<t.length;p++)if(h=t[p])for(var d=0;d<r.length;d++)r[d].eq(h,e)&&(r==this.local&&(r=this.local.slice()),r.splice(d--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Re(r,n):Pe},Re.prototype.forChild=function(t,e){if(this==Pe)return this;if(e.isLeaf)return Re.empty;for(var n,r,i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(n=this.children[i+2]);break}for(var o=t+1,s=o+e.content.size,a=0;a<this.local.length;a++){var c=this.local[a];if(c.from<s&&c.to>o&&c.type instanceof Ce){var u=Math.max(o,c.from)-o,l=Math.min(s,c.to)-o;u<l&&(r||(r=[])).push(c.copy(u,l))}}if(r){var p=new Re(r.sort(Ue));return n?new je([p,n]):p}return n||Pe},Re.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof Re)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},Re.prototype.locals=function(t){return Ve(this.localsInner(t))},Re.prototype.localsInner=function(t){if(this==Pe)return De;if(t.inlineContent||!this.local.some(Ce.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Ce||e.push(this.local[n]);return e};var Pe=new Re;Re.empty=Pe,Re.removeOverlap=Ve;var je=function(t){this.members=t};function Le(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(new Ne(i.from+e,i.to+e,i.type))}return n}function Fe(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,i=null,o=0,s=void 0;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function Be(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function ze(t,e,n,r){var i=[],o=!1;e.forEach((function(e,s){var a=Fe(t,e,s+n);if(a){o=!0;var c=ze(a,e,n+s+1,r);c!=Pe&&i.push(s,s+e.nodeSize,c)}}));for(var s=Le(o?Be(t):t,-n).sort(Ue),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Re(s,i):Pe}function Ue(t,e){return t.from-e.from||t.to-e.to}function Ve(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var i=n+1;i<e.length;i++){var o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),qe(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),qe(e,i+1,o.copy(r.to,o.to)))}}return e}function qe(t,e,n){for(;e<t.length&&Ue(n,t[e])>0;)e++;t.splice(e,0,n)}function He(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=Pe&&e.push(r)})),t.cursorWrapper&&e.push(Re.create(t.state.doc,[t.cursorWrapper.deco])),je.from(e)}je.prototype.map=function(t,e){var n=this.members.map((function(n){return n.map(t,e,Me)}));return je.from(n)},je.prototype.forChild=function(t,e){if(e.isLeaf)return Re.empty;for(var n=[],r=0;r<this.members.length;r++){var i=this.members[r].forChild(t,e);i!=Pe&&(i instanceof je?n=n.concat(i.members):n.push(i))}return je.from(n)},je.prototype.eq=function(t){if(!(t instanceof je)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},je.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(var o=0;o<i.length;o++)e.push(i[o])}else e=i}return e?Ve(n?e:e.sort(Ue)):De},je.from=function(t){switch(t.length){case 0:return Pe;case 1:return t[0];default:return new je(t)}};var We=function(t,e){this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(Xe),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Ye(this),this.markCursor=null,this.cursorWrapper=null,Je(this),this.nodeViews=Ze(this),this.docView=G(this.state.doc,$e(this),He(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new te(t,(function(e,n,r,i){return Bt(t,e,n,r,i)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=ne[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||se(t,e)||!t.editable&&e.type in re||n(t,e)})};for(var n in ne)e(n);s.safari&&t.dom.addEventListener("input",(function(){return null})),oe(t)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},Ke={props:{configurable:!0},root:{configurable:!0}};function $e(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[Ne.node(0,t.state.doc.content.size,e)]}function Je(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:Ne.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Ye(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function Ze(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}function Xe(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}Ke.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},We.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&oe(this),this._props=t,t.plugins&&(t.plugins.forEach(Xe),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)},We.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},We.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},We.prototype.updateStateInner=function(t,e){var n=this,i=this.state,o=!1,a=!1;if(t.storedMarks&&this.composing&&(be(this),a=!0),this.state=t,e){var c=Ze(this);(function(t,e){var n=0,r=0;for(var i in t){if(t[i]!=e[i])return!0;n++}for(var o in e)r++;return n!=r})(c,this.nodeViews)&&(this.nodeViews=c,o=!0),oe(this)}this.editable=Ye(this),Je(this);var u=He(this),l=$e(this),p=e?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=o||!this.docView.matchesNode(t.doc,l,u);!h&&t.selection.eq(i.selection)||(a=!0);var d,f,m,y,g,b,w,_,x,k,S,T="preserve"==p&&a&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top),o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=t.root.elementFromPoint(o,s);if(a!=t.dom&&t.dom.contains(a)){var c=a.getBoundingClientRect();if(c.top>=i-20){e=a,n=c.top;break}}}return{refDOM:e,refTop:n,stack:E(t.dom)}}(this);if(a){this.domObserver.stop();var A=h&&(s.ie||s.chrome)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&(y=i.selection,g=t.selection,b=Math.min(y.$anchor.sharedDepth(y.head),g.$anchor.sharedDepth(g.head)),y.$anchor.start(b)!=g.$anchor.start(b));if(h){var N=s.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(t.doc,l,u,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=G(t.doc,l,u,this.dom,this)),N&&!this.trackWrites&&(A=!0)}A||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(d=this,f=d.docView.domFromPos(d.state.selection.anchor,0),m=d.root.getSelection(),v(f.node,f.offset,m.anchorNode,m.anchorOffset)))?vt(this,A):(_t(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),"reset"==p)this.dom.scrollTop=0;else if("to selection"==p){var I=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof r.qv?O(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),I):O(this,this.coordsAtPos(t.selection.head,1),I))}else T&&(_=(w=T).refDOM,x=w.refTop,k=w.stack,S=_?_.getBoundingClientRect().top:0,C(k,0==S?0:S-x))},We.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},We.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var i=this.directPlugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var s=this.state.plugins[o];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}},We.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(var i=0;i<this.directPlugins.length;i++){var o=this.directPlugins[i].props[t];if(null!=o&&(n=e?e(o):o))return n}var s=this.state.plugins;if(s)for(var a=0;a<s.length;a++){var c=s[a].props[t];if(null!=c&&(n=e?e(c):c))return n}},We.prototype.hasFocus=function(){return this.root.activeElement==this.dom},We.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(A)return t.focus(A);var e=E(t);t.focus(null==A?{get preventScroll(){return A={preventScroll:!0},!0}}:void 0),A||(A=!1,C(e,0))}(this.dom),vt(this),this.domObserver.start()},Ke.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},We.prototype.posAtCoords=function(t){return M(this,t)},We.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),j(this,t,e)},We.prototype.domAtPos=function(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e)},We.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},We.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},We.prototype.endOfTextblock=function(t,e){return H(this,e||this.state,t)},We.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],He(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},We.prototype.dispatchEvent=function(t){return function(t,e){se(t,e)||!ne[e.type]||!t.editable&&e.type in re||ne[e.type](t,e)}(this,t)},We.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(We.prototype,Ke)},9233:(t,e,n)=>{"use strict";n.d(e,{X:()=>s});var r=n(5987),i=n(211),o=n(1016),s=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.ZT(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.N;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.xQ)},1112:(t,e,n)=>{"use strict";n.d(e,{d:()=>i});var r=n(5987),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.ZT(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n(979).L)},1244:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(3642),i=n(3680),o=n(5050),s=n(2561),a=n(150),c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=(0,i.Y)(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a.v.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.v.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),(0,r._)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=u(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.L]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:(0,s.U)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=u(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function u(t){if(t||(t=a.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},2174:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(150),i=n(1644),o={closed:!0,next:function(t){},error:function(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete:function(){}}},2039:(t,e,n)=>{"use strict";n.d(e,{L:()=>i});var r=n(5987),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.ZT(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n(979).L)},211:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>l,xQ:()=>p});var r=n(5987),i=n(1244),o=n(979),s=n(8760),a=n(1016),c=n(8253),u=n(3142),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.ZT(e,t),e}(o.L),p=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.ZT(e,t),e.prototype[u.b]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.N;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.N;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.N;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new c.W(this,t))},e.prototype.asObservable=function(){var t=new i.y;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.y),h=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.ZT(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.w.EMPTY},e}(p)},8253:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(5987),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.ZT(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(8760).w)},979:(t,e,n)=>{"use strict";n.d(e,{L:()=>l});var r=n(5987),i=n(4156),o=n(2174),s=n(8760),a=n(3142),c=n(150),u=n(1644),l=function(t){function e(n,r,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.c;break;case 1:if(!n){s.destination=o.c;break}if("object"==typeof n){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new p(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new p(s,n,r,i)}return s}return r.ZT(e,t),e.prototype[a.b]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.w),p=function(t){function e(e,n,r,s){var a,c=t.call(this)||this;c._parentSubscriber=e;var u=c;return(0,i.m)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.c&&(u=Object.create(n),(0,i.m)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r.ZT(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.v.useDeprecatedSynchronousErrorHandling)throw t;(0,u.z)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return c.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):((0,u.z)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},8760:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(9026),i=n(2009),o=n(4156),s=n(8782),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,a=n._parentOrParents,u=n._unsubscribe,l=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof t)a.remove(this);else if(null!==a)for(var p=0;p<a.length;++p){a[p].remove(this)}if((0,o.m)(u))try{u.call(this)}catch(t){e=t instanceof s.B?c(t.errors):[t]}if((0,r.k)(l)){p=-1;for(var h=l.length;++p<h;){var d=l[p];if((0,i.K)(d))try{d.unsubscribe()}catch(t){e=e||[],t instanceof s.B?e=e.concat(c(t.errors)):e.push(t)}}}if(e)throw new s.B(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce((function(t,e){return t.concat(e instanceof s.B?e.errors:e)}),[])}},150:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},1410:(t,e,n)=>{"use strict";n.d(e,{P:()=>s});var r=n(1244),i=n(4072),o=n(5631);function s(t){return new r.y((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?(0,i.D)(n):(0,o.c)()).subscribe(e)}))}},5631:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(1244),i=new r.y((function(t){return t.complete()}));function o(t){return t?function(t){return new r.y((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},4072:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(1244),i=n(7843),o=n(8760),s=n(5050);var a=n(3109),c=n(999);var u=n(336),l=n(9217);function p(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y((function(n){var r=new o.w;return r.add(e.schedule((function(){var i=t[s.L]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if((0,u.t)(t))return function(t,e){return new r.y((function(n){var r=new o.w;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[c.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y((function(n){var r,i=new o.w;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[c.hZ](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function h(t,e){return e?p(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},3375:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(1244),i=n(6900),o=n(3109);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},4370:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(1244),i=n(7507),o=n(2156),s=n(3375);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,c=t[t.length-1];return(0,i.K)(c)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof c&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(n)((0,s.n)(t,a))}},486:(t,e,n)=>{"use strict";n.d(e,{K:()=>a});var r=n(5987),i=n(2039),o=n(1112),s=n(7407);function a(t){return function(e){var n=new c(t),r=e.lift(n);return n.caught=r}}var c=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r.ZT(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var r=new o.d(this,void 0,void 0);this.add(r);var i=(0,s.D)(this,n,void 0,void 0,r);i!==r&&this.add(i)}},e}(i.L)},6008:(t,e,n)=>{"use strict";n.d(e,{h:()=>o});var r=n(5987),i=n(979);function o(t,e){return function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.ZT(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.L)},9514:(t,e,n)=>{"use strict";n.d(e,{P:()=>v});var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),i=n(6008),o=n(4217),s=n(5987),a=n(979);function c(t){return void 0===t&&(t=null),function(e){return e.lift(new u(t))}}var u=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.defaultValue))},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return s.ZT(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(a.L);function p(t){return void 0===t&&(t=f),function(e){return e.lift(new h(t))}}var h=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.errorFactory))},t}(),d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return s.ZT(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(a.L);function f(){return new r}var m=n(3608);function v(t,e){var n=arguments.length>=2;return function(s){return s.pipe(t?(0,i.h)((function(e,n){return t(e,n,s)})):m.y,(0,o.q)(1),n?c(e):p((function(){return new r})))}}},5709:(t,e,n)=>{"use strict";n.d(e,{U:()=>o});var r=n(5987),i=n(979);function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.ZT(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.L)},2156:(t,e,n)=>{"use strict";n.d(e,{J:()=>d});var r=n(5987),i=n(7407),o=n(2039),s=n(1112),a=n(5709),c=n(4072);function u(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(u((function(n,r){return(0,c.D)(t(n,r)).pipe((0,a.U)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.project,this.concurrent))},t}(),p=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.ZT(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new s.d(this,e,n),o=this.destination;o.add(r);var a=(0,i.D)(this,t,void 0,void 0,r);a!==r&&o.add(a)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.L),h=n(3608);function d(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),u(h.y,t)}},6381:(t,e,n)=>{"use strict";n.d(e,{w:()=>u});var r=n(5987),i=n(2039),o=n(1112),s=n(7407),a=n(5709),c=n(4072);function u(t,e){return"function"==typeof e?function(n){return n.pipe(u((function(n,r){return(0,c.D)(t(n,r)).pipe((0,a.U)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new l(t))}}var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.project))},t}(),p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.ZT(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.d(this,e,n),a=this.destination;a.add(i),this.innerSubscription=(0,s.D)(this,t,void 0,void 0,i),this.innerSubscription!==i&&a.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.L)},4217:(t,e,n)=>{"use strict";n.d(e,{q:()=>a});var r=n(5987),i=n(979),o=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),s=n(5631);function a(t){return function(e){return 0===t?(0,s.c)():e.lift(new c(t))}}var c=function(){function t(t){if(this.total=t,this.total<0)throw new o}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.ZT(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.L)},3109:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(1244),i=n(8760);function o(t,e){return new r.y((function(n){var r=new i.w,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},6114:(t,e,n)=>{"use strict";n.d(e,{o:()=>i});var r=n(5987),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.ZT(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return r.ZT(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(8760).w))},2980:(t,e,n)=>{"use strict";n.d(e,{v:()=>o});var r=n(5987),i=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),o=function(t){function e(n,r){void 0===r&&(r=i.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.ZT(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i)},999:(t,e,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>i});var i=r()},5050:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},3142:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},1016:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},8782:(t,e,n)=>{"use strict";n.d(e,{B:()=>r});var r=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},3642:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(979);function i(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.L?i:null}return!0}},1644:(t,e,n)=>{"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,{z:()=>r})},3608:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},9026:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});var r=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},9217:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},4156:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},2009:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},336:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},7507:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},3306:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r})},2561:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(3306);function i(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:r.Z}},7843:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(6900),i=n(1644),o=n(999),s=n(5050),a=n(9217),c=n(336),u=n(2009),l=function(t){if(t&&"function"==typeof t[s.L])return l=t,function(t){var e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,c.t)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.z),t};if(t&&"function"==typeof t[o.hZ])return e=t,function(t){for(var n=e[o.hZ]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,p=(0,u.K)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+p+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},6900:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},7407:(t,e,n)=>{"use strict";n.d(e,{D:()=>s});var r=n(1112),i=n(7843),o=n(1244);function s(t,e,n,s,a){if(void 0===a&&(a=new r.d(t,n,s)),!a.closed)return e instanceof o.y?e.subscribe(a):(0,i.s)(e)(a)}},3680:(t,e,n)=>{"use strict";n.d(e,{Y:()=>s});var r=n(979),i=n(3142),o=n(2174);function s(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}},5987:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},3379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},s=[],a=0;a<t.length;a++){var c=t[a],u=r.base?c[0]+r.base:c[0],l=o[u]||0,p="".concat(u," ").concat(l);o[u]=l+1;var h=n(p),d={css:c[1],media:c[2],sourceMap:c[3]};-1!==h?(e[h].references++,e[h].updater(d)):e.push({identifier:p,updater:i(d,r),references:1}),s.push(p)}return s}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=n(o[s]);e[a].references--}for(var c=r(t,i),u=0;u<o.length;u++){var l=n(o[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e),e}},3565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},4430:(t,e,n)=>{var r={"./drafts/draftList.element":[4807,9],"./drafts/draftList.element.tsx":[4807,9],"./drafts/draftList.service":[3057,9],"./drafts/draftList.service.ts":[3057,9],"./drafts/newDraftIcon.node":[6273,9],"./drafts/newDraftIcon.node.tsx":[6273,9],"./drafts/saveIcon.node":[1359,9],"./drafts/saveIcon.node.tsx":[1359,9],"./drafts/style.scss":[3510,1],"./notes":[3048,9,4864,3048],"./notes/":[3048,9,4864,3048],"./notes/index":[3048,9,4864,3048],"./notes/index.ts":[3048,9,4864,3048]};function i(t){if(!n.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(2).map(n.e)).then((()=>n.t(i,16|e[1])))}i.keys=()=>Object.keys(r),i.id=4430,t.exports=i},3510:t=>{"use strict";t.exports=":root{--light-grey: #e1e1e1;--dark-grey: #333;--primary-color: #33c3f0;--secondary-color: #555555;--border-color: #bbb;--link-color: #1eaedb;--font-color: #222;--font-family: Inter, sans-serif}.btn{cursor:pointer}.btn.btn_icon{background:transparent;border:none}.btn.btn_icon .icon-tabler{transition:.2s;stroke:#bbb;stroke:var(--border-color);color:#bbb;color:var(--border-color)}.btn.btn_icon .icon-tabler:hover{stroke:#333;stroke:var(--dark-grey)}.um-drafts__submenu{display:flex;flex-direction:row-reverse;padding-top:10px;border-bottom:1px solid #eee}.um-drafts__export-all{margin:0 0 10px 10px;stroke:#fff;stroke-width:30px;color:#bbb}.um-drafts__export-all:hover{color:#888;cursor:pointer}"},7880:t=>{"use strict";t.exports=".um-drafts__item{border-bottom:1px solid #eee;padding:4rem 0;margin-bottom:0}.um-drafts__item-link{color:inherit;text-decoration:none}.um-drafts__item-link:hover{color:inherit}.um-drafts__item-actions{position:relative;float:right}.um-drafts__item-subcontent{font-size:1.1rem;color:#999;letter-spacing:normal;font-weight:normal;display:block;cursor:pointer}@media(min-width: 550px){.in-drafts__item{padding:20px 0}}.draft-preview{position:relative;min-height:150px}.draft-preview__img{box-shadow:6px 6px 8px -10px rgba(0,0,0,.7);position:absolute;right:0;max-height:150px;max-width:300px;object-fit:cover}"},7432:t=>{"use strict";t.exports='.header{margin-top:6rem;text-align:center}.value-prop{margin-top:1rem}.value-props{margin-top:4rem;margin-bottom:4rem}.docs-header{text-transform:uppercase;font-size:1.4rem;letter-spacing:.2rem;font-weight:250}.docs-section{border-top:1px solid #eee;padding:4rem 0;margin-bottom:0}.value-img{display:block;text-align:center;margin:2.5rem auto 0}.example-grid .column,.example-grid .columns{background:#eee;text-align:center;border-radius:4px;font-size:1rem;text-transform:uppercase;height:30px;line-height:30px;margin-bottom:.75rem;font-weight:600;letter-spacing:.1rem}.docs-preview{white-space:pre-line;font-weight:330}.docs-example .row,.docs-example.row,.docs-example form{margin-bottom:0}.docs-example h1,.docs-example h2,.docs-example h3,.docs-example h4,.docs-example h5,.docs-example h6{margin-bottom:1rem}.heading-font-size{font-size:1.2rem;color:#999;letter-spacing:normal}.code-example{margin-top:1.5rem;margin-bottom:0}.code-example-body{white-space:pre;word-wrap:break-word}.example{position:relative;margin-top:4rem}.example-header{font-weight:600;margin-top:1.5rem;margin-bottom:.5rem}.example-description{margin-bottom:1.5rem}.example-screenshot-wrapper{display:block;position:relative;overflow:hidden;border-radius:6px;border:1px solid #eee;height:250px}.example-screenshot{width:100%;height:auto}.example-screenshot.coming-soon{width:auto;position:absolute;background:#eee;top:5px;right:5px;bottom:5px;left:5px}@media(min-width: 550px){.header{margin-top:18rem}.value-props{margin-top:9rem;margin-bottom:7rem}.value-img{margin-bottom:1rem}.example-grid .column,.example-grid .columns{margin-bottom:1.5rem}.docs-section{padding:6rem 0}.example-send-yourself-copy{float:right;margin-top:12px}.example-screenshot-wrapper{position:absolute;width:48%;height:100%;left:0;max-height:none}}@media(min-width: 750px){.popover.open{display:block}.popover{display:none;position:absolute;top:0;left:0;background:#fff;border:1px solid #eee;border-radius:4px;top:92%;left:-50%;filter:drop-shadow(0 0 6px rgba(0, 0, 0, 0.1))}.popover_right{left:auto;right:0;top:calc(100% + 11px)}.popover-item:first-child .popover-link:after,.popover-item:first-child .popover-link:before{bottom:100%;left:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.popover-item:first-child .popover-link:after{border-color:rgba(255,255,255,0);border-bottom-color:#fff;border-width:10px;margin-left:-10px}.popover-item:first-child .popover-link:before{border-color:rgba(238,238,238,0);border-bottom-color:#eee;border-width:11px;margin-left:-11px}.popover-list{padding:0;margin:0;list-style:none}.popover-item{padding:0;margin:0}.popover-link{position:relative;color:#222;display:block;padding:8px 20px;border-bottom:1px solid #eee;text-decoration:none;text-transform:uppercase;font-size:1rem;font-weight:600;text-align:center;letter-spacing:.1rem}.popover-item:first-child .popover-link{border-radius:4px 4px 0 0}.popover-item:last-child .popover-link{border-radius:0 0 4px 4px;border-bottom-width:0}.popover-link:hover{color:#fff;background:#33c3f0}.popover-link:hover,.popover-item:first-child .popover-link:hover:after{border-bottom-color:#33c3f0}}'},169:t=>{"use strict";t.exports=".navbar{display:none}@media(min-width: 750px){.navbar+.docs-section{border-top-width:0}.navbar,.navbar-spacer{display:block;width:100%;height:6.5rem;background:#fff;z-index:99;border-top:1px solid #eee;border-bottom:1px solid #eee}.navbar-spacer{display:none}.navbar>.container{width:100%}.navbar-list{list-style:none;margin-bottom:0}.navbar-item{position:relative;float:left;margin-bottom:0}.navbar-link{text-transform:uppercase;font-size:11px;font-weight:600;letter-spacing:.2rem;margin-right:35px;text-decoration:none;line-height:6.5rem;color:#222}.navbar-link.active{color:#33c3f0}.has-docked-nav .navbar{position:fixed;top:0;left:0}.has-docked-nav .navbar-spacer{display:block}.has-docked-nav .navbar>.container{width:80%}}"},1691:t=>{"use strict";t.exports='/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}:root{--light-grey: #e1e1e1;--dark-grey: #333;--primary-color: #33c3f0;--secondary-color: #555555;--border-color: #bbb;--link-color: #1eaedb;--font-color: #222;--font-family: Inter, sans-serif}html{font-size:62.5%}body{font-size:1.5em;line-height:1.6;font-weight:400;font-family:"Inter",sans-serif;color:#222}a{color:#1eaedb}a:hover{color:#1b9cc5}hr{margin-top:3rem;margin-bottom:3.5rem;border-width:0;border-top:1px solid #e1e1e1}.u-full-width{width:100%;box-sizing:border-box}.u-max-full-width{max-width:100%;box-sizing:border-box}.u-pull-right{float:right}.u-pull-left{float:left}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:2rem;font-weight:300}h1{font-size:4rem;line-height:1.2;letter-spacing:-0.1rem}h2{font-size:3.6rem;line-height:1.25;letter-spacing:-0.1rem}h3{font-size:3rem;line-height:1.3;letter-spacing:-0.1rem}h4{font-size:2.4rem;line-height:1.35;letter-spacing:-0.08rem}h5{font-size:1.8rem;line-height:1.5;letter-spacing:-0.05rem}h6{font-size:1.5rem;line-height:1.6;letter-spacing:0}@media(min-width: 550px){h1{font-size:5rem}h2{font-size:4.2rem}h3{font-size:3.6rem}h4{font-size:3rem}h5{font-size:2.4rem}h6{font-size:1.5rem}}p{margin-top:0}.container{position:relative;width:100%;max-width:960px;margin:0 auto;padding:0 20px;box-sizing:border-box}.column,.columns{width:100%;float:left;box-sizing:border-box}@media(min-width: 400px){.container{width:85%;padding:0}}@media(min-width: 550px){.container{width:80%}.column,.columns{margin-left:4%}.column:first-child,.columns:first-child{margin-left:0}.one.column,.one.columns{width:4.6666666667%}.two.columns{width:13.3333333333%}.three.columns{width:22%}.four.columns{width:30.6666666667%}.five.columns{width:39.3333333333%}.six.columns{width:48%}.seven.columns{width:56.6666666667%}.eight.columns{width:65.3333333333%}.nine.columns{width:74%}.ten.columns{width:82.6666666667%}.eleven.columns{width:91.3333333333%}.twelve.columns{width:100%;margin-left:0}.one-third.column{width:30.6666666667%}.two-thirds.column{width:65.3333333333%}.one-half.column{width:48%}.offset-by-one.column,.offset-by-one.columns{margin-left:8.6666666667%}.offset-by-two.column,.offset-by-two.columns{margin-left:17.3333333333%}.offset-by-three.column,.offset-by-three.columns{margin-left:26%}.offset-by-four.column,.offset-by-four.columns{margin-left:34.6666666667%}.offset-by-five.column,.offset-by-five.columns{margin-left:43.3333333333%}.offset-by-six.column,.offset-by-six.columns{margin-left:52%}.offset-by-seven.column,.offset-by-seven.columns{margin-left:60.6666666667%}.offset-by-eight.column,.offset-by-eight.columns{margin-left:69.3333333333%}.offset-by-nine.column,.offset-by-nine.columns{margin-left:78%}.offset-by-ten.column,.offset-by-ten.columns{margin-left:86.6666666667%}.offset-by-eleven.column,.offset-by-eleven.columns{margin-left:95.3333333333%}.offset-by-one-third.column,.offset-by-one-third.columns{margin-left:34.6666666667%}.offset-by-two-thirds.column,.offset-by-two-thirds.columns{margin-left:69.3333333333%}.offset-by-one-half.column,.offset-by-one-half.column{margin-left:52%}}.container:after,.row:after,.u-cf{content:"";display:table;clear:both}.button{display:inline-block;height:38px;padding:0 30px;color:#555;text-align:center;font-size:11px;font-weight:600;line-height:38px;letter-spacing:.1rem;text-transform:uppercase;text-decoration:none;white-space:nowrap;background-color:transparent;border-radius:4px;border:1px solid #bbb;cursor:pointer;box-sizing:border-box}input[type=submit],input[type=reset],input[type=button]{display:inline-block;height:38px;padding:0 30px;color:#555;text-align:center;font-size:11px;font-weight:600;line-height:38px;letter-spacing:.1rem;text-transform:uppercase;text-decoration:none;white-space:nowrap;background-color:transparent;border-radius:4px;border:1px solid #bbb;cursor:pointer;box-sizing:border-box}.button:hover{color:#333;border-color:#888;outline:0}input[type=submit]:hover,input[type=reset]:hover,input[type=button]:hover{color:#333;border-color:#888;outline:0}.button:focus{color:#333;border-color:#888;outline:0}input[type=submit]:focus,input[type=reset]:focus{color:#333;border-color:#888;outline:0}.button.button-primary{color:#fff;background-color:#33c3f0;border-color:#33c3f0}input[type=submit].button-primary,input[type=reset].button-primary,input[type=button].button-primary{color:#fff;background-color:#33c3f0;border-color:#33c3f0}.button.button-primary:hover{color:#fff;background-color:#1eaedb;border-color:#1eaedb}input[type=submit].button-primary:hover,input[type=reset].button-primary:hover,input[type=button].button-primary:hover{color:#fff;background-color:#1eaedb;border-color:#1eaedb}.button.button-primary:focus{color:#fff;background-color:#1eaedb;border-color:#1eaedb}input[type=submit].button-primary:focus,input[type=reset].button-primary:focus,input[type=button].button-primary:focus{color:#fff;background-color:#1eaedb;border-color:#1eaedb}input[type=email],input[type=number],input[type=search],input[type=text],input[type=tel],input[type=url],input[type=password]{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}input[type=email],input[type=number],input[type=search],input[type=text],input[type=tel],input[type=url],input[type=password],textarea,select{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}input[type=email],input[type=number],input[type=search],input[type=text],input[type=tel],input[type=url],input[type=password]{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;min-height:65px;padding-top:6px;padding-bottom:6px}input[type=email]:focus,input[type=number]:focus,input[type=search]:focus,input[type=text]:focus,input[type=tel]:focus,input[type=url]:focus,input[type=password]:focus{border:1px solid #33c3f0;outline:0}textarea:focus,select:focus{border:1px solid #33c3f0;outline:0}label,legend{display:block;margin-bottom:.5rem;font-weight:600}fieldset{padding:0;border-width:0}input[type=checkbox],input[type=radio]{display:inline}label>.label-body{display:inline-block;margin-left:.5rem;font-weight:normal}ul{list-style:circle inside}ol{list-style:decimal inside;padding-left:0;margin-top:0}ul{padding-left:0;margin-top:0}ul ul,ul ol{margin:1.5rem 0 1.5rem 3rem;font-size:90%}ol ol,ol ul{margin:1.5rem 0 1.5rem 3rem;font-size:90%}li{margin-bottom:1rem}code{padding:.2rem .5rem;margin:0 .2rem;font-size:90%;white-space:nowrap;background:#f1f1f1;border:1px solid #e1e1e1;border-radius:4px}pre>code{display:block;padding:1rem 1.5rem;white-space:pre}th,td{padding:12px 15px;text-align:left;border-bottom:1px solid #e1e1e1}th:first-child,td:first-child{padding-left:0}th:last-child,td:last-child{padding-right:0}button,.button{margin-bottom:1rem}input,textarea,select,fieldset{margin-bottom:1.5rem}pre,blockquote,dl,figure,table,p,ul,ol,form{margin-bottom:2.5rem}'},7157:(t,e,n)=>{"use strict";n.d(e,{r:()=>p});var r=n(3445);const i=(t,e)=>{const n=t.startNode.parentNode,i=void 0===e?t.endNode:e.startNode,o=n.insertBefore((0,r.IW)(),i);n.insertBefore((0,r.IW)(),i);const s=new r.nt(t.options);return s.insertAfterNode(o),s},o=(t,e)=>(t.setValue(e),t.commit(),t),s=(t,e,n)=>{const i=t.startNode.parentNode,o=n?n.startNode:t.endNode,s=e.endNode.nextSibling;s!==o&&(0,r.V)(i,e.startNode,s,o)},a=t=>{(0,r.r4)(t.startNode.parentNode,t.startNode,t.endNode.nextSibling)},c=(t,e,n)=>{const r=new Map;for(let i=e;i<=n;i++)r.set(t[i],i);return r},u=new WeakMap,l=new WeakMap,p=(0,r.XM)(((t,e,n)=>{let p;return void 0===n?n=e:void 0!==e&&(p=e),e=>{if(!(e instanceof r.nt))throw new Error("repeat can only be used in text bindings");const h=u.get(e)||[],d=l.get(e)||[],f=[],m=[],v=[];let y,g,b=0;for(const e of t)v[b]=p?p(e,b):b,m[b]=n(e,b),b++;let w=0,_=h.length-1,x=0,k=m.length-1;for(;w<=_&&x<=k;)if(null===h[w])w++;else if(null===h[_])_--;else if(d[w]===v[x])f[x]=o(h[w],m[x]),w++,x++;else if(d[_]===v[k])f[k]=o(h[_],m[k]),_--,k--;else if(d[w]===v[k])f[k]=o(h[w],m[k]),s(e,h[w],f[k+1]),w++,k--;else if(d[_]===v[x])f[x]=o(h[_],m[x]),s(e,h[_],h[w]),_--,x++;else if(void 0===y&&(y=c(v,x,k),g=c(d,w,_)),y.has(d[w]))if(y.has(d[_])){const t=g.get(v[x]),n=void 0!==t?h[t]:null;if(null===n){const t=i(e,h[w]);o(t,m[x]),f[x]=t}else f[x]=o(n,m[x]),s(e,n,h[w]),h[t]=null;x++}else a(h[_]),_--;else a(h[w]),w++;for(;x<=k;){const t=i(e,f[k+1]);o(t,m[x]),f[x++]=t}for(;w<=_;){const t=h[w++];null!==t&&a(t)}u.set(e,f),l.set(e,v)}}))},1943:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(3602),i=n(3445);const o=new WeakMap,s=(0,i.XM)((t=>e=>{if(!(e instanceof i.nt))throw new Error("unsafeHTML can only be used in text bindings");const n=o.get(e);if(void 0!==n&&(0,r.pt)(t)&&t===n.value&&e.value===n.fragment)return;const s=document.createElement("template");s.innerHTML=t;const a=document.importNode(s.content,!0);e.setValue(a),o.set(e,{value:t,fragment:a})}))},7229:(t,e,n)=>{"use strict";n.d(e,{X:()=>i,w:()=>o});const r=new WeakMap,i=t=>(...e)=>{const n=t(...e);return r.set(n,!0),n},o=t=>"function"==typeof t&&r.has(t)},2105:(t,e,n)=>{"use strict";n.d(e,{eC:()=>r,V:()=>i,r4:()=>o});const r="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,i=(t,e,n=null,r=null)=>{for(;e!==n;){const n=e.nextSibling;t.insertBefore(e,r),e=n}},o=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}}},5356:(t,e,n)=>{"use strict";n.d(e,{J:()=>r,L:()=>i});const r={},i={}},3602:(t,e,n)=>{"use strict";n.d(e,{pt:()=>u,QG:()=>p,_l:()=>h,nt:()=>d,JG:()=>f,m:()=>m,K1:()=>g});var r=n(7229),i=n(2105),o=n(5356),s=n(1622),a=n(8817),c=n(4557);const u=t=>null===t||!("object"==typeof t||"function"==typeof t),l=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class p{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new h(this)}_getValue(){const t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=n[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!l(t))return t}let r="";for(let i=0;i<e;i++){r+=t[i];const e=n[i];if(void 0!==e){const t=e.value;if(u(t)||!l(t))r+="string"==typeof t?t:String(t);else for(const e of t)r+="string"==typeof e?e:String(e)}}return r+=t[e],r}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class h{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===o.J||u(t)&&t===this.value||(this.value=t,(0,r.w)(t)||(this.committer.dirty=!0))}commit(){for(;(0,r.w)(this.value);){const t=this.value;this.value=o.J,t(this)}this.value!==o.J&&this.committer.commit()}}class d{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild((0,c.IW)()),this.endNode=t.appendChild((0,c.IW)())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=(0,c.IW)()),t.__insert(this.endNode=(0,c.IW)())}insertAfterPart(t){t.__insert(this.startNode=(0,c.IW)()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;(0,r.w)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=o.J,t(this)}const t=this.__pendingValue;t!==o.J&&(u(t)?t!==this.value&&this.__commitText(t):t instanceof a.j?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):l(t)?this.__commitIterable(t):t===o.L?(this.value=o.L,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof s.R&&this.value.template===e)this.value.update(t.values);else{const n=new s.R(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,r=0;for(const i of t)n=e[r],void 0===n&&(n=new d(this.options),e.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(e[r-1])),n.setValue(i),n.commit(),r++;r<e.length&&(e.length=r,this.clear(n&&n.endNode))}clear(t=this.startNode){(0,i.r4)(this.startNode.parentNode,t.nextSibling,this.endNode)}}class f{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;(0,r.w)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=o.J,t(this)}if(this.__pendingValue===o.J)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=o.J}}class m extends p{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new v(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class v extends h{}let y=!1;(()=>{try{const t={get capture(){return y=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class g{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;(0,r.w)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=o.J,t(this)}if(this.__pendingValue===o.J)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),i=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=b(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=o.J}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const b=t=>t&&(y?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)},1622:(t,e,n)=>{"use strict";n.d(e,{R:()=>o});var r=n(2105),i=n(4557);class o{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=r.eC?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,o=document.createTreeWalker(t,133,null,!1);let s,a=0,c=0,u=o.nextNode();for(;a<n.length;)if(s=n[a],(0,i.pC)(s)){for(;c<s.index;)c++,"TEMPLATE"===u.nodeName&&(e.push(u),o.currentNode=u.content),null===(u=o.nextNode())&&(o.currentNode=e.pop(),u=o.nextNode());if("node"===s.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(u.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,s.name,s.strings,this.options));a++}else this.__parts.push(void 0),a++;return r.eC&&(document.adoptNode(t),customElements.upgrade(t)),t}}},8817:(t,e,n)=>{"use strict";n.d(e,{j:()=>a,C:()=>c});var r=n(2105),i=n(4557);const o=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),s=` ${i.Jw} `;class a{constructor(t,e,n,r){this.strings=t,this.values=e,this.type=n,this.processor=r}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let r=0;r<t;r++){const t=this.strings[r],o=t.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===t.indexOf("--\x3e",o+1);const a=i.W5.exec(t);e+=null===a?t+(n?s:i.N):t.substr(0,a.index)+a[1]+a[2]+i.$E+a[3]+i.Jw}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");let e=this.getHTML();return void 0!==o&&(e=o.createHTML(e)),t.innerHTML=e,t}}class c extends a{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),e=t.content,n=e.firstChild;return e.removeChild(n),(0,r.V)(e,n.firstChild),t}}},4557:(t,e,n)=>{"use strict";n.d(e,{Jw:()=>r,N:()=>i,$E:()=>s,YS:()=>a,pC:()=>u,IW:()=>l,W5:()=>p});const r=`{{lit-${String(Math.random()).slice(2)}}}`,i=`\x3c!--${r}--\x3e`,o=new RegExp(`${r}|${i}`),s="$lit$";class a{constructor(t,e){this.parts=[],this.element=e;const n=[],i=[],a=document.createTreeWalker(e.content,133,null,!1);let u=0,h=-1,d=0;const{strings:f,values:{length:m}}=t;for(;d<m;){const t=a.nextNode();if(null!==t){if(h++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let r=0;for(let t=0;t<n;t++)c(e[t].name,s)&&r++;for(;r-- >0;){const e=f[d],n=p.exec(e)[2],r=n.toLowerCase()+s,i=t.getAttribute(r);t.removeAttribute(r);const a=i.split(o);this.parts.push({type:"attribute",index:h,name:n,strings:a}),d+=a.length-1}}"TEMPLATE"===t.tagName&&(i.push(t),a.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(r)>=0){const r=t.parentNode,i=e.split(o),a=i.length-1;for(let e=0;e<a;e++){let n,o=i[e];if(""===o)n=l();else{const t=p.exec(o);null!==t&&c(t[2],s)&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-s.length)+t[3]),n=document.createTextNode(o)}r.insertBefore(n,t),this.parts.push({type:"node",index:++h})}""===i[a]?(r.insertBefore(l(),t),n.push(t)):t.data=i[a],d+=a}}else if(8===t.nodeType)if(t.data===r){const e=t.parentNode;null!==t.previousSibling&&h!==u||(h++,e.insertBefore(l(),t)),u=h,this.parts.push({type:"node",index:h}),null===t.nextSibling?t.data="":(n.push(t),h--),d++}else{let e=-1;for(;-1!==(e=t.data.indexOf(r,e+1));)this.parts.push({type:"node",index:-1}),d++}}else a.currentNode=i.pop()}for(const t of n)t.parentNode.removeChild(t)}}const c=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},u=t=>-1!==t.index,l=()=>document.createComment(""),p=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/},3445:(t,e,n)=>{"use strict";n.d(e,{_l:()=>r._l,nt:()=>r.nt,IW:()=>c.IW,XM:()=>s.X,dy:()=>d,r4:()=>a.r4,sY:()=>h,V:()=>a.V,YP:()=>f});var r=n(3602);const i=new class{handleAttributeExpressions(t,e,n,i){const o=e[0];if("."===o){return new r.m(t,e.slice(1),n).parts}if("@"===o)return[new r.K1(t,e.slice(1),i.eventContext)];if("?"===o)return[new r.JG(t,e.slice(1),n)];return new r.QG(t,e,n).parts}handleTextExpression(t){return new r.nt(t)}};var o=n(8817),s=n(7229),a=n(2105),c=(n(5356),n(4557));function u(t){let e=l.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},l.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const r=t.strings.join(c.Jw);return n=e.keyString.get(r),void 0===n&&(n=new c.YS(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}const l=new Map,p=new WeakMap,h=(t,e,n)=>{let i=p.get(e);void 0===i&&((0,a.r4)(e,e.firstChild),p.set(e,i=new r.nt(Object.assign({templateFactory:u},n))),i.appendInto(e)),i.setValue(t),i.commit()};n(1622);"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const d=(t,...e)=>new o.j(t,e,"html",i),f=(t,...e)=>new o.C(t,e,"svg",i)},8147:(t,e,n)=>{"use strict";n.d(e,{s:()=>h});var r=n(1640),i=n(3255);const{et:o}=r.Vm,s=(t,e)=>{var n,r;const i=t.N;if(void 0===i)return!1;for(const t of i)null===(r=(n=t).O)||void 0===r||r.call(n,e,!1),s(t,e);return!0},a=t=>{let e,n;do{if(void 0===(e=t.M))break;n=e.N,n.delete(t),t=e}while(0===(null==n?void 0:n.size))},c=t=>{for(let e;e=t.M;t=e){let n=e.N;if(void 0===n)e.N=n=new Set;else if(n.has(t))break;n.add(t),p(e)}};function u(t){void 0!==this.N?(a(this),this.M=t,c(this)):this.M=t}function l(t,e=!1,n=0){const r=this.H,i=this.N;if(void 0!==i&&0!==i.size)if(e)if(Array.isArray(r))for(let t=n;t<r.length;t++)s(r[t],!1),a(r[t]);else null!=r&&(s(r,!1),a(r));else s(this,t)}const p=t=>{var e,n,r,o;t.type==i.pX.CHILD&&(null!==(e=(r=t).P)&&void 0!==e||(r.P=l),null!==(n=(o=t).Q)&&void 0!==n||(o.Q=u))};class h extends i.Xe{constructor(){super(...arguments),this.isConnected=!0,this.ut=r.Jb,this.N=void 0}T(t,e,n){super.T(t,e,n),c(this)}O(t,e=!0){this.at(t),e&&(s(this,t),a(this))}at(t){var e,n;t!==this.isConnected&&(t?(this.isConnected=!0,this.ut!==r.Jb&&(this.setValue(this.ut),this.ut=r.Jb),null===(e=this.reconnected)||void 0===e||e.call(this)):(this.isConnected=!1,null===(n=this.disconnected)||void 0===n||n.call(this)))}S(t,e){if(!this.isConnected)throw Error(`AsyncDirective ${this.constructor.name} was rendered while its tree was disconnected.`);return super.S(t,e)}setValue(t){if(this.isConnected)if((t=>void 0===t.strings)(this.dt))this.dt.I(t,this);else{const e=[...this.dt.H];e[this.ct]=t,this.dt.I(e,this,0)}else this.ut=t}disconnected(){}reconnected(){}}},3255:(t,e,n)=>{"use strict";n.d(e,{Xe:()=>o,pX:()=>r,XM:()=>i});const r={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},i=t=>(...e)=>({_$litDirective$:t,values:e});class o{constructor(t){}T(t,e,n){this.dt=t,this.M=e,this.ct=n}S(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}},1640:(t,e,n)=>{"use strict";var r,i,o,s;n.d(e,{Vm:()=>V,dy:()=>T,Jb:()=>E,Ld:()=>C,sY:()=>N,YP:()=>O});const a=globalThis.trustedTypes,c=a?a.createPolicy("lit-html",{createHTML:t=>t}):void 0,u=`lit$${(Math.random()+"").slice(9)}$`,l="?"+u,p=`<${l}>`,h=document,d=(t="")=>h.createComment(t),f=t=>null===t||"object"!=typeof t&&"function"!=typeof t,m=Array.isArray,v=t=>{var e;return m(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])},y=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,g=/-->/g,b=/>/g,w=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,x=/"/g,k=/^(?:script|style|textarea)$/i,S=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),T=S(1),O=S(2),E=Symbol.for("lit-noChange"),C=Symbol.for("lit-nothing"),A=new WeakMap,N=(t,e,n)=>{var r,i;const o=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:e;let s=o._$litPart$;if(void 0===s){const t=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:null;o._$litPart$=s=new j(e.insertBefore(d(),t),t,void 0,n)}return s.I(t),s},I=h.createTreeWalker(h,129,null,!1),D=(t,e)=>{const n=t.length-1,r=[];let i,o=2===e?"<svg>":"",s=y;for(let e=0;e<n;e++){const n=t[e];let a,c,l=-1,h=0;for(;h<n.length&&(s.lastIndex=h,c=s.exec(n),null!==c);)h=s.lastIndex,s===y?"!--"===c[1]?s=g:void 0!==c[1]?s=b:void 0!==c[2]?(k.test(c[2])&&(i=RegExp("</"+c[2],"g")),s=w):void 0!==c[3]&&(s=w):s===w?">"===c[0]?(s=null!=i?i:y,l=-1):void 0===c[1]?l=-2:(l=s.lastIndex-c[2].length,a=c[1],s=void 0===c[3]?w:'"'===c[3]?x:_):s===x||s===_?s=w:s===g||s===b?s=y:(s=w,i=void 0);const d=s===w&&t[e+1].startsWith("/>")?" ":"";o+=s===y?n+p:l>=0?(r.push(a),n.slice(0,l)+"$lit$"+n.slice(l)+u+d):n+u+(-2===l?(r.push(void 0),e):d)}const a=o+(t[n]||"<?>")+(2===e?"</svg>":"");return[void 0!==c?c.createHTML(a):a,r]};class M{constructor({strings:t,_$litType$:e},n){let r;this.parts=[];let i=0,o=0;const s=t.length-1,c=this.parts,[p,h]=D(t,e);if(this.el=M.createElement(p,n),I.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(r=I.nextNode())&&c.length<s;){if(1===r.nodeType){if(r.hasAttributes()){const t=[];for(const e of r.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(u)){const n=h[o++];if(t.push(e),void 0!==n){const t=r.getAttribute(n.toLowerCase()+"$lit$").split(u),e=/([.?@])?(.*)/.exec(n);c.push({type:1,index:i,name:e[2],strings:t,ctor:"."===e[1]?F:"?"===e[1]?B:"@"===e[1]?z:L})}else c.push({type:6,index:i})}for(const e of t)r.removeAttribute(e)}if(k.test(r.tagName)){const t=r.textContent.split(u),e=t.length-1;if(e>0){r.textContent=a?a.emptyScript:"";for(let n=0;n<e;n++)r.append(t[n],d()),I.nextNode(),c.push({type:2,index:++i});r.append(t[e],d())}}}else if(8===r.nodeType)if(r.data===l)c.push({type:2,index:i});else{let t=-1;for(;-1!==(t=r.data.indexOf(u,t+1));)c.push({type:7,index:i}),t+=u.length-1}i++}}static createElement(t,e){const n=h.createElement("template");return n.innerHTML=t,n}}function R(t,e,n=t,r){var i,o,s,a;if(e===E)return e;let c=void 0!==r?null===(i=n.i)||void 0===i?void 0:i[r]:n.o;const u=f(e)?void 0:e._$litDirective$;return(null==c?void 0:c.constructor)!==u&&(null===(o=null==c?void 0:c.O)||void 0===o||o.call(c,!1),void 0===u?c=void 0:(c=new u(t),c.T(t,n,r)),void 0!==r?(null!==(s=(a=n).i)&&void 0!==s?s:a.i=[])[r]=c:n.o=c),void 0!==c&&(e=R(t,c.S(t,e.values),c,r)),e}class P{constructor(t,e){this.l=[],this.N=void 0,this.D=t,this.M=e}u(t){var e;const{el:{content:n},parts:r}=this.D,i=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:h).importNode(n,!0);I.currentNode=i;let o=I.nextNode(),s=0,a=0,c=r[0];for(;void 0!==c;){if(s===c.index){let e;2===c.type?e=new j(o,o.nextSibling,this,t):1===c.type?e=new c.ctor(o,c.name,c.strings,this,t):6===c.type&&(e=new U(o,this,t)),this.l.push(e),c=r[++a]}s!==(null==c?void 0:c.index)&&(o=I.nextNode(),s++)}return i}v(t){let e=0;for(const n of this.l)void 0!==n&&(void 0!==n.strings?(n.I(t,n,e),e+=n.strings.length-2):n.I(t[e])),e++}}class j{constructor(t,e,n,r){this.type=2,this.N=void 0,this.A=t,this.B=e,this.M=n,this.options=r}setConnected(t){var e;null===(e=this.P)||void 0===e||e.call(this,t)}get parentNode(){return this.A.parentNode}get startNode(){return this.A}get endNode(){return this.B}I(t,e=this){t=R(this,t,e),f(t)?t===C||null==t||""===t?(this.H!==C&&this.R(),this.H=C):t!==this.H&&t!==E&&this.m(t):void 0!==t._$litType$?this._(t):void 0!==t.nodeType?this.$(t):v(t)?this.g(t):this.m(t)}k(t,e=this.B){return this.A.parentNode.insertBefore(t,e)}$(t){this.H!==t&&(this.R(),this.H=this.k(t))}m(t){const e=this.A.nextSibling;null!==e&&3===e.nodeType&&(null===this.B?null===e.nextSibling:e===this.B.previousSibling)?e.data=t:this.$(h.createTextNode(t)),this.H=t}_(t){var e;const{values:n,_$litType$:r}=t,i="number"==typeof r?this.C(t):(void 0===r.el&&(r.el=M.createElement(r.h,this.options)),r);if((null===(e=this.H)||void 0===e?void 0:e.D)===i)this.H.v(n);else{const t=new P(i,this),e=t.u(this.options);t.v(n),this.$(e),this.H=t}}C(t){let e=A.get(t.strings);return void 0===e&&A.set(t.strings,e=new M(t)),e}g(t){m(this.H)||(this.H=[],this.R());const e=this.H;let n,r=0;for(const i of t)r===e.length?e.push(n=new j(this.k(d()),this.k(d()),this,this.options)):n=e[r],n.I(i),r++;r<e.length&&(this.R(n&&n.B.nextSibling,r),e.length=r)}R(t=this.A.nextSibling,e){var n;for(null===(n=this.P)||void 0===n||n.call(this,!1,!0,e);t&&t!==this.B;){const e=t.nextSibling;t.remove(),t=e}}}class L{constructor(t,e,n,r,i){this.type=1,this.H=C,this.N=void 0,this.V=void 0,this.element=t,this.name=e,this.M=r,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this.H=Array(n.length-1).fill(C),this.strings=n):this.H=C}get tagName(){return this.element.tagName}I(t,e=this,n,r){const i=this.strings;let o=!1;if(void 0===i)t=R(this,t,e,0),o=!f(t)||t!==this.H&&t!==E,o&&(this.H=t);else{const r=t;let s,a;for(t=i[0],s=0;s<i.length-1;s++)a=R(this,r[n+s],e,s),a===E&&(a=this.H[s]),o||(o=!f(a)||a!==this.H[s]),a===C?t=C:t!==C&&(t+=(null!=a?a:"")+i[s+1]),this.H[s]=a}o&&!r&&this.W(t)}W(t){t===C?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class F extends L{constructor(){super(...arguments),this.type=3}W(t){this.element[this.name]=t===C?void 0:t}}class B extends L{constructor(){super(...arguments),this.type=4}W(t){t&&t!==C?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class z extends L{constructor(){super(...arguments),this.type=5}I(t,e=this){var n;if((t=null!==(n=R(this,t,e,0))&&void 0!==n?n:C)===E)return;const r=this.H,i=t===C&&r!==C||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,o=t!==C&&(r===C||i);i&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,t),this.H=t}handleEvent(t){var e,n;"function"==typeof this.H?this.H.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this.H.handleEvent(t)}}class U{constructor(t,e,n){this.element=t,this.type=6,this.N=void 0,this.V=void 0,this.M=e,this.options=n}I(t){R(this,t)}}const V={Z:"$lit$",U:u,Y:l,q:1,X:D,tt:P,it:v,st:R,et:j,ot:L,nt:B,rt:z,lt:F,ht:U};null===(i=(r=globalThis).litHtmlPlatformSupport)||void 0===i||i.call(r,M,j),(null!==(o=(s=globalThis).litHtmlVersions)&&void 0!==o?o:s.litHtmlVersions=[]).push("2.0.0-rc.3")}},o={};function s(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={id:t,loaded:!1,exports:{}};return i[t].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=i,s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,s.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);s.r(i);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>n[t]));return o.default=()=>n,s.d(i,o),i},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce(((e,n)=>(s.f[n](t,e),e)),[])),s.u=t=>"js/"+t+".bundle.js",s.miniCssF=t=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n={},r="inscriptum:",s.l=(t,e,i,o)=>{if(n[t])n[t].push(e);else{var a,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var p=u[l];if(p.getAttribute("src")==t||p.getAttribute("data-webpack")==r+i){a=p;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",r+i),a.src=t),n[t]=[e];var h=(e,r)=>{a.onerror=a.onload=null,clearTimeout(d);var i=n[t];if(delete n[t],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((t=>t(r))),e)return e(r)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),s.p="/",(()=>{var t={4232:0};s.f.j=(e,n)=>{var r=s.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=t[e]=[n,i]));n.push(r[2]=i);var o=s.p+s.u(e),a=new Error;s.l(o,(n=>{if(s.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+e,e)}};var e=(e,n)=>{var r,i,[o,a,c]=n,u=0;if(o.some((e=>0!==t[e]))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(c)c(s)}for(e&&e(n);u<o.length;u++)i=o[u],s.o(t,i)&&t[i]&&t[i][0](),t[o[u]]=0},n=self.webpackChunkinscriptum=self.webpackChunkinscriptum||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";var t=s(3379),e=s.n(t),n=s(7795),r=s.n(n),i=s(569),o=s.n(i),a=s(3565),c=s.n(a),u=s(9216),l=s.n(u),p=s(4589),h=s.n(p),d=s(7584),f={};f.styleTagTransform=h(),f.setAttributes=c(),f.insert=o().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=l();e()(d.Z,f);d.Z&&d.Z.locals&&d.Z.locals;var m=s(745),v=s(6201),y=s(3445),g=s(1943),b=s(5161),w=s.n(b),_=s(8201),x=s(4615),k=s(1966),S=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class T extends _.AbstractRoute{getRouter(){return{rootPath:"",routers:[{path:"/conference*",callback:(t,e)=>S(this,void 0,void 0,(function*(){if(!this.routerOutlet.hasChildNodes()){const t=yield Promise.all([s.e(4864),s.e(3632)]).then(s.bind(s,3632));this.routerOutlet.appendChild(new t.ConferenceComponent)}t.handled=!0,e()}))},{path:"/editor/:id/:flag?",callback:(t,e)=>S(this,void 0,void 0,(function*(){if(!this.routerOutlet.hasChildNodes()){yield Promise.all([s.e(4864),s.e(2701)]).then(s.bind(s,2701));const e=new((yield Promise.all([s.e(1154),s.e(3691),s.e(5039),s.e(2635),s.e(8895),s.e(8399),s.e(8981),s.e(6455),s.e(9935),s.e(898),s.e(6527)]).then(s.bind(s,6527))).EditorComponent);e.dataset.id=t.params.id,e.dataset.flag=t.params.flag,this.routerOutlet.appendChild(e)}t.handled=!0,e()}))},{path:"/draft/:id",callback:(t,e)=>S(this,void 0,void 0,(function*(){if(!this.routerOutlet.hasChildNodes()){const{draftElement:e}=yield Promise.all([s.e(1154),s.e(3691),s.e(5039),s.e(2635),s.e(8895),s.e(8399),s.e(2885),s.e(6455),s.e(7245)]).then(s.bind(s,7245)),n=new(e("inscriptum-draft").element);n.dataset.id=t.params.id,this.routerOutlet.appendChild(n)}t.handled=!0,e()}))},{path:"/drafts"},{path:"/notes"},{path:"/login",callback:(t,e)=>S(this,void 0,void 0,(function*(){const n=new k.V;new x.e(n,`${document.location.origin}/notes`).login(),t.handled=!0,e()}))},{path:"*",callback:(t,e)=>{t.handled?(t.handled=!1,e()):w().replace("/notes")}}]}}}var O=s(4807),E=s(1640),C=s(3584),A=s(7253),N=s(9514);const I=(0,C.EG)()((function*(){let t=!1;for(A.f.pipe((0,N.P)((t=>{var e;return null!=(null===(e=t.data)||void 0===e?void 0:e.accessToken)&&!t.isLoading}))).subscribe((()=>{t=!0,this.next()}));;)yield(0,E.sY)(E.dy`
        <style>${s(169)}</style>

        <div class="navbar-spacer"></div>
        <nav class="navbar">
          <div class="container">
            <ul class="navbar-list">
              <li class="navbar-item">
                <a class="navbar-link" href="/notes">
                  Notes
                </a>
              </li>
              <li class="navbar-item">
                <a class="navbar-link" href="/conference">
                  Slides
                </a>
              </li>
              ${t?E.dy`<li class="navbar-item">
                  <a class="navbar-link" href="/drafts">
                    Drafts
                  </a>
                </li>`:""}
            </ul>
          </div>
        </nav>
      `,this)}));var D=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};(0,O.draftListElement)("inscriptum-drafts"),I("inscriptum-menu");let M=class extends m.yB{constructor(t){super(v.Z,!1),this.styles=y.dy`
    <style>
      ${s(1691)}
    </style>
  `;const e=t.runCallbackEvent.getValue();e&&(this.path=e.path),t.runCallbackEvent.subscribe((t=>{t&&(this.path=t.path)}),(t=>{console.warn(t)}))}render(){var t;const e=null===(t=this.path)||void 0===t?void 0:t.split("?").shift();switch(e){case"/drafts":return y.dy`
          ${this.styles}
          <div class="container">
            <inscriptum-menu></inscriptum-menu>
            <inscriptum-drafts></inscriptum-drafts>
          </div>
        `;case"/notes":return y.dy`
          ${this.styles}
          <div class="container">
            <inscriptum-menu></inscriptum-menu>
            ${this._renderList(e.slice(1))}
          </div>
        `;default:return console.warn(`Unknown url ${e}`),y.dy``}}_renderList(t){return s(4430)(`./${t}`),(0,g.A)(`<inscriptum-${t}></inscriptum-${t}>`)}};D([(0,m.SB)()],M.prototype,"path",void 0),M=D([(0,m.Qr)("inscriptum-notepad")],M);const R=new T;Promise.all([Promise.all([s.e(4864),s.e(2701)]).then(s.bind(s,2701))]).then((()=>{const t=document.querySelector("main"),e=new M(R);t&&t.appendChild(e)}))})()})();