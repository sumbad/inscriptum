(window.webpackJsonp=window.webpackJsonp||[]).push([[29,33],{572:function(e,t,r){"use strict";var n=r(651),o=r(19),i=r(652),a=r(207),l=r(84),u=r(204),s=r(87),c=r(51),d=Math.min,h=[].push,f=!c(function(){RegExp(4294967295,"y")});r(205)("split",2,function(e,t,r,c){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(o,e,t);for(var i,a,l,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=void 0===t?4294967295:t>>>0,p=new RegExp(e.source,c+"g");(i=s.call(p,o))&&!((a=p.lastIndex)>d&&(u.push(o.slice(d,i.index)),i.length>1&&i.index<o.length&&h.apply(u,i.slice(1)),l=i[0].length,d=a,u.length>=f));)p.lastIndex===i.index&&p.lastIndex++;return d===o.length?!l&&p.test("")||u.push(""):u.push(o.slice(d)),u.length>f?u.slice(0,f):u}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var o=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,o,n):p.call(String(o),r,n)},function(e,t){var n=c(p,e,this,t,p!==r);if(n.done)return n.value;var s=o(e),h=String(this),v=i(s,RegExp),m=s.unicode,g=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(f?"y":"g"),y=new v(f?s:"^(?:"+s.source+")",g),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===h.length)return null===u(y,h)?[h]:[];for(var E=0,w=0,x=[];w<h.length;){y.lastIndex=f?w:0;var A,S=u(y,f?h:h.slice(w));if(null===S||(A=d(l(y.lastIndex+(f?0:w)),h.length))===E)w=a(h,w,m);else{if(x.push(h.slice(E,w)),x.length===b)return x;for(var L=1;L<=S.length-1;L++)if(x.push(S[L]),x.length===b)return x;w=E=A}}return x.push(h.slice(E)),x}]})},574:function(e,t,r){"use strict";r.r(t),r.d(t,"T",function(){return i}),r.d(t,"draftSave",function(){return a}),r.d(t,"getPageContent",function(){return l}),r.d(t,"isEdit",function(){return u}),r.d(t,"updateEditableText",function(){return s}),r.d(t,"sanitize",function(){return d}),r.d(t,"uploadDataToBlob",function(){return h}),r.d(t,"showError",function(){return f});r(201),r(572);var n=r(643),o=r.n(n);let i={apiUrl:"https://inscriptum.js.org",datetime:0,pageId:0};function a(e,t){if(!e)return!1;if(!i.pageId){var r=l(!0,t);if(e!=r)return e=r,function(e,t){try{return localStorage.setItem(e,t),!!localStorage.getItem(e)}catch(e){return!1}}("draft",r)}return!1}function l(e,t){let r=t.scroll.domNode;r.querySelectorAll("textarea,input").forEach(e=>{e.setAttribute("data-value",e.value)});let n=r.cloneNode(!0);return r.querySelectorAll("textarea,input").forEach(e=>{e.removeAttribute("data-value")}),n.querySelectorAll("textarea,input").forEach(e=>{e.value=e.getAttribute("data-value")||"",e.removeAttribute("data-value")}),s(n,!1),n.querySelectorAll("[contenteditable]").forEach(e=>e.removeAttribute("contenteditable")),n.querySelectorAll("[data-placeholder]").forEach(e=>e.removeAttribute("data-placeholder")),n.querySelectorAll("[data-label]").forEach(e=>e.removeAttribute("data-label")),n.querySelectorAll("[data-title]").forEach(e=>e.removeAttribute("data-title")),n.querySelectorAll(".editable_text").forEach(e=>e.classList.remove("editable_text")),n.querySelectorAll(".focus").forEach(e=>e.classList.remove("focus")),n.querySelectorAll(".empty").forEach(e=>e.classList.remove("empty")),n.querySelectorAll('[class=""]').forEach(e=>e.removeAttribute("class")),n.querySelectorAll(".file_progress").forEach(e=>e.remove()),n.querySelectorAll(".cursor_wrapper").forEach(e=>e.remove()),e?(n.querySelectorAll("h1").forEach(e=>{e.querySelector("br")||e.append(document.createElement("br"))}),n.querySelectorAll("address").forEach(e=>{e.querySelector("br")||e.append(document.createElement("br"))}),n.innerHTML):(n.querySelector("h1,address").remove(),n.querySelector("br.inline").replaceWith("\n"),{data:JSON.stringify(c(n).children),length:n.innerHTML.length})}function u(){return document.getElementsByClassName("tl_article_edit").length>0}function s(e,t){void 0===t&&(t=u()),t?e.querySelectorAll(".editable_text").forEach(e=>{let t=!1;if(e.childNodes.forEach(e=>{!t&&e&&e.classList&&(t=e.classList.contains("editable_input"))}),!t){let t=e.textContent||"",r=document.createElement("textarea");r.classList.add("editable_input"),r.setAttribute("tabindex","-1"),r.setAttribute("rows","1"),r.value=t,t||e.classList.add("empty"),e.innerHTML="",e.append(r),o()(r)}}):e.querySelectorAll(".editable_text > .editable_input").forEach(e=>{let t=e.value,r=e.parentNode;r.innerHTML="",r.textContent=t})}function c(e){if(!e.tagName)return e.data;let t={tag:e.tagName.toLowerCase()};if(e.attributes.length){t.attrs={};for(var r=0;r<e.attributes.length;r++){let n=e.attributes[r];t.attrs[n.name]=n.value}}if(e.childNodes.length){t.children=[];for(r=0;r<e.childNodes.length;r++)t.children.push(c(e.childNodes[r]))}return t}function d(e,t){let r=document.createElement("a");r.href=e;let n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}function h(e){for(var t=atob(e.base64_data),r=[],n=0;n<t.length;n++)r.push(t.charCodeAt(n));return new Blob([new Uint8Array(r)],{type:e.type})}function f(e){let t=document.querySelector("#_error_msg");t.textContent=e,clearTimeout(t.to),t.classList.add("shown"),t.to=setTimeout(()=>{t.classList.remove("shown")},3e3)}!function(){var e=document.querySelector("time");if(e&&i.datetime){var t=new Date(1e3*i.datetime);let r="January February March April May June July August September October November December".split(" ")[t.getMonth()],n=t.getDate();e.textContent=r+" "+(10>n?"0":"")+n+", "+t.getFullYear()}}()},643:function(e,t,r){var n,o,i;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/o=[e,t],void 0===(i="function"==typeof(n=function(e,t){"use strict";var r,n,o="function"==typeof Map?new Map:(r=[],n=[],{has:function(e){return r.indexOf(e)>-1},get:function(e){return n[r.indexOf(e)]},set:function(e,t){-1===r.indexOf(e)&&(r.push(e),n.push(t))},delete:function(e){var t=r.indexOf(e);t>-1&&(r.splice(t,1),n.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t=null,r=null,n=null,a=function(){e.clientWidth!==r&&d()},l=function(t){window.removeEventListener("resize",a,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach(function(r){e.style[r]=t[r]}),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",a,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:l,update:d}),"vertical"===(u=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===u.resize&&(e.style.resize="horizontal"),t="content-box"===u.boxSizing?-(parseFloat(u.paddingTop)+parseFloat(u.paddingBottom)):parseFloat(u.borderTopWidth)+parseFloat(u.borderBottomWidth),isNaN(t)&&(t=0),d()}var u;function s(t){var r=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=r,e.style.overflowY=t}function c(){if(0!==e.scrollHeight){var n=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",r=e.clientWidth,n.forEach(function(e){e.node.scrollTop=e.scrollTop}),o&&(document.documentElement.scrollTop=o)}}function d(){c();var t=Math.round(parseFloat(e.style.height)),r=window.getComputedStyle(e,null),o="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):e.offsetHeight;if(o<t?"hidden"===r.overflowY&&(s("scroll"),c(),o="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==r.overflowY&&(s("hidden"),c(),o="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),n!==o){n=o;var a=i("autosize:resized");try{e.dispatchEvent(a)}catch(e){}}}}function l(e){var t=o.get(e);t&&t.destroy()}function u(e){var t=o.get(e);t&&t.update()}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return a(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],u),e}),t.default=s,e.exports=t.default})?n.apply(t,o):n)||(e.exports=i)},651:function(e,t,r){var n=r(53),o=r(79),i=r(14)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},652:function(e,t,r){var n=r(19),o=r(208),i=r(14)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[i])?t:o(r)}},724:function(e,t,r){"use strict";r.r(t),r.d(t,"LinkBlot",function(){return i});r(944);var n=r(571),o=r(574);class i extends n.a{constructor(e,t){super(e),this.value=t,e.addEventListener("mouseover",i.showLinkTooltip.bind(this,this),!1),e.addEventListener("mouseout",i.hideLinkTooltip,!1)}static create(e){let t=super.create(e);e=this.sanitize(e),t.setAttribute("href",e);var r=e.substr(0,1);return"/"!=r&&"#"!=r&&"tg://"!=e.substr(0,5)&&"mailto:"!=e.substr(0,7)&&t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){const t=i.relativeUrl(e);return Object(o.sanitize)(e,["http","https","tg","mailto"])?t:"about:blank"}detach(){this.domNode.removeEventListener("mouseover",i.showLinkTooltip.bind(this,this),!1),this.domNode.removeEventListener("mouseout",i.hideLinkTooltip,!1),super.detach(),i.hideLinkTooltip()}format(e,t){if(e!==this.statics.blotName||!t)return super.format(e,t);t=i.sanitize(t),this.domNode.setAttribute("href",t),this.domNode.setAttribute("data-title",t)}static relativeUrl(e){let t=location,r=document.createElement("a");return r.href=e,t.origin!==r.origin?r.href:t.pathname!==r.pathname||t.search!==r.search?r.pathname+r.search+r.hash:t.href===r.href?r.hash||r.pathname+r.search+r.hash:r.hash}}},944:function(e,t,r){"use strict";var n=r(19),o=r(958),i=r(204);r(205)("search",1,function(e,t,r,a){return[function(r){var n=e(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=a(r,e,this);if(t.done)return t.value;var l=n(e),u=String(this),s=l.lastIndex;o(s,0)||(l.lastIndex=0);var c=i(l,u);return o(l.lastIndex,s)||(l.lastIndex=s),null===c?-1:c.index}]})},958:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}}]);