(window.webpackJsonp=window.webpackJsonp||[]).push([[24,9,25,32,33,34,35,36,39,40,41,42,43,47,48,49,50,52,53,54],Array(65).concat([function(t,e,n){var r;!function(i){"use strict";function o(t,e,n){var r,i=document.createElement("img");return i.onerror=function(r){return o.onerror(i,r,t,e,n)},i.onload=function(r){return o.onload(i,r,t,e,n)},"string"==typeof t?(o.fetchBlob(t,(function(e){e&&o.isInstanceOf("Blob",e)?(t=e,r=o.createObjectURL(t)):(r=t,n&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin)),i.src=r}),n),i):o.isInstanceOf("Blob",t)||o.isInstanceOf("File",t)?(r=i._objectURL=o.createObjectURL(t))?(i.src=r,i):o.readFile(t,(function(t){var n=t.target;n&&n.result?i.src=n.result:e&&e(t)})):void 0}var a=i.createObjectURL&&i||i.URL&&URL.revokeObjectURL&&URL||i.webkitURL&&webkitURL;function s(t,e){!t._objectURL||e&&e.noRevoke||(o.revokeObjectURL(t._objectURL),delete t._objectURL)}o.fetchBlob=function(t,e){e()},o.isInstanceOf=function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},o.transform=function(t,e,n,r,i){n(t,i)},o.onerror=function(t,e,n,r,i){s(t,i),r&&r.call(t,e)},o.onload=function(t,e,n,r,i){s(t,i),r&&o.transform(t,i,r,n,{originalWidth:t.naturalWidth||t.width,originalHeight:t.naturalHeight||t.height})},o.createObjectURL=function(t){return!!a&&a.createObjectURL(t)},o.revokeObjectURL=function(t){return!!a&&a.revokeObjectURL(t)},o.readFile=function(t,e,n){if(i.FileReader){var r=new FileReader;if(r.onload=r.onerror=e,r[n=n||"readAsDataURL"])return r[n](t),r}return!1},void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}("undefined"!=typeof window&&window||this)},function(t,e,n){"use strict";n.r(e),n.d(e,"SingleLineBlot",(function(){return s}));var r=n(62),i=n(68),o=n(63),a=n.n(o);class s extends r.c{replace(t){t.children.forEach(t=>{t instanceof i.BreakBlot&&t.replaceWith(a.a.create("text"," "))}),super.replace(t)}insertAt(t,e,n){void 0!==n&&"textBreak"==e?super.insertAt(t,"\n"):super.insertAt(t,e,n)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"T",(function(){return o})),n.d(e,"draftSave",(function(){return a})),n.d(e,"getPageContent",(function(){return s})),n.d(e,"isEdit",(function(){return l})),n.d(e,"updateEditableText",(function(){return c})),n.d(e,"sanitize",(function(){return d})),n.d(e,"uploadDataToBlob",(function(){return f})),n.d(e,"showError",(function(){return h})),n.d(e,"updateEditable",(function(){return p})),n.d(e,"transliterate",(function(){return g})),n.d(e,"storageDelete",(function(){return b})),n.d(e,"draftClear",(function(){return m}));var r=n(90),i=n.n(r);let o={apiUrl:"https://inscriptum.js.org",datetime:0,pageId:0};function a(t,e){if(!t)return!1;if(!o.pageId){var n=s(!0,e);if(t!=n)return t=n,function(t,e){try{return localStorage.setItem(t,e),!!localStorage.getItem(t)}catch(t){return!1}}("draft",n)}return!1}function s(t,e){let n=e.scroll.domNode;n.querySelectorAll("textarea,input").forEach(t=>{t.setAttribute("data-value",t.value)});let r=n.cloneNode(!0);n.querySelectorAll("textarea,input").forEach(t=>{t.removeAttribute("data-value")}),r.querySelectorAll("textarea,input").forEach(t=>{t.value=t.getAttribute("data-value")||"",t.removeAttribute("data-value")}),c(r,!1);r.querySelectorAll("[contenteditable]").forEach(t=>t.removeAttribute("contenteditable"));r.querySelectorAll("[data-placeholder]").forEach(t=>t.removeAttribute("data-placeholder"));r.querySelectorAll("[data-label]").forEach(t=>t.removeAttribute("data-label"));r.querySelectorAll("[data-title]").forEach(t=>t.removeAttribute("data-title"));r.querySelectorAll(".editable_text").forEach(t=>t.classList.remove("editable_text"));r.querySelectorAll(".focus").forEach(t=>t.classList.remove("focus"));r.querySelectorAll(".empty").forEach(t=>t.classList.remove("empty"));r.querySelectorAll('[class=""]').forEach(t=>t.removeAttribute("class"));r.querySelectorAll(".file_progress").forEach(t=>t.remove());if(r.querySelectorAll(".cursor_wrapper").forEach(t=>t.remove()),!t){const t=r.querySelector("h1,address");t&&t.remove();const e=r.querySelector("br.inline");return e&&e.replaceWith("\n"),{data:JSON.stringify(u(r).children),length:r.innerHTML.length}}return r.querySelectorAll("h1").forEach(t=>{t.querySelector("br")||t.append(document.createElement("br"))}),r.querySelectorAll("address").forEach(t=>{t.querySelector("br")||t.append(document.createElement("br"))}),r.innerHTML}function l(){return document.getElementsByClassName("tl_article_edit").length>0}function c(t,e){void 0===e&&(e=l()),e?t.querySelectorAll(".editable_text").forEach(t=>{let e=!1;if(t.childNodes.forEach(t=>{!e&&t&&t.classList&&(e=t.classList.contains("editable_input"))}),!e){let e=t.textContent||"",n=document.createElement("textarea");n.classList.add("editable_input"),n.setAttribute("tabindex","-1"),n.setAttribute("rows","1"),n.value=e,e||t.classList.add("empty"),t.innerHTML="",t.append(n),i()(n)}}):t.querySelectorAll(".editable_text > .editable_input").forEach(t=>{let e=t.value,n=t.parentNode;n.innerHTML="",n.textContent=e})}function u(t){if(!t.tagName)return t.data;let e={tag:t.tagName.toLowerCase()};if(t.attributes.length){e.attrs={};for(var n=0;n<t.attributes.length;n++){let r=t.attributes[n];e.attrs[r.name]=r.value}}if(t.childNodes.length){e.children=[];for(n=0;n<t.childNodes.length;n++)e.children.push(u(t.childNodes[n]))}return e}function d(t,e){let n=document.createElement("a");n.href=t;let r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}function f(t){for(var e=atob(t.base64_data),n=[],r=0;r<e.length;r++)n.push(e.charCodeAt(r));return new Blob([new Uint8Array(n)],{type:t.type})}function h(t){let e=document.querySelector("#_error_msg");e.textContent=t,clearTimeout(e.to),e.classList.add("shown"),e.to=setTimeout(()=>{e.classList.remove("shown")},3e3)}function p(t,e,n,r,i,o){if(r&&r.classList.toggle("tl_article_edit",t),c(document.body),e&&(e.enable(t),t&&e.focus()),!t&&i&&o){const t=i.querySelector("h1"),r=t?t.textContent:"",a=i.querySelector("address"),s=a?a.textContent:"",l=i.querySelector("address a"),c=l&&l.getAttribute("href");o.querySelector("h1").textContent=r,o.querySelector("address a").textContent=s,c?o.querySelector("address a").setAttribute("href",c):o.querySelector("address a").removeAttribute("href"),n.hideFormatTooltip(e),n.hideBlocksTooltip()}}function g(t,e=!1){const n="щ   ш  ч  ц  ю  я  ё  ж  ъ  ы  э  а б в г д е з и й к л м н о п р с т у ф х ь".split(/ +/g),r="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g);for(let i=0;i<n.length;i++)t=(t=t.split(e?r[i]:n[i]).join(e?n[i]:r[i])).split(e?r[i].toUpperCase():n[i].toUpperCase()).join(e?n[i].toUpperCase():r[i].toUpperCase());return t}function b(t){try{return localStorage.removeItem(t),!0}catch(t){return!1}}function m(){b("draft")}!function(){var t=document.querySelector("time");if(t&&o.datetime){var e=new Date(1e3*o.datetime);let n="January February March April May June July August September October November December".split(" ")[e.getMonth()],r=e.getDate();t.textContent=n+" "+(10>r?"0":"")+r+", "+e.getFullYear()}}()},function(t,e,n){"use strict";n.r(e),n.d(e,"BreakBlot",(function(){return o}));var r=n(61),i=n(62);class o extends i.a{}o.blotName="textBreak",o.tagName="br",o.className="inline",r.a.register(o)},,function(t,e,n){"use strict";n.r(e),n.d(e,"FieldBlot",(function(){return i}));var r=n(66);class i extends r.SingleLineBlot{}},,,,function(t,e,n){"use strict";n.r(e),n.d(e,"browser",(function(){return I})),n.d(e,"editor",(function(){return q}));var r=n(163),i=n.n(r),o=n(139),a=n.n(o),s=n(62),l=n(61),c=n(105),u=n(94),d=n(169),f=n(118),h=n(170),p=n(141),g=n(95),b=n(68),m=n(70),v=n(96),y=n(97),_=n(98),S=n(66),A=n(91),x=n(99),k=n(100),E=n(119),w=n(148),L=n(84),T=n(101),j=n(92),C=n(106),N=n(67),B=n(102),O=n(103);let P=navigator.userAgent.toLowerCase(),I={opera:/opera/i.test(P)||/opr/i.test(P),msie:/msie/i.test(P)&&!/opera/i.test(P)||/trident\//i.test(P)||/edge/i.test(P),msie_edge:/edge/i.test(P)&&!/opera/i.test(P),mozilla:/firefox/i.test(P),chrome:/chrome/i.test(P)&&!/edge/i.test(P),safari:!/chrome/i.test(P)&&/webkit|safari|khtml/i.test(P),iphone:/iphone/i.test(P),ipod:/ipod/i.test(P),ipad:/ipad/i.test(P),android:/android/i.test(P),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(P),safari_mobile:/iphone|ipod|ipad/i.test(P),opera_mobile:/opera mini|opera mobi/i.test(P),opera_mini:/opera mini/i.test(P),mac:/mac/i.test(P)};function q(t,e){console.log(y.MyQuill.length),console.log(y.MyQuill.imports["formats/"]),v.LinkBlot.blotName="link",v.LinkBlot.tagName="a",v.LinkBlot.showLinkTooltip=e=>{t.showLinkTooltip(e,e.value,Object(N.isEdit)(),W)},v.LinkBlot.hideLinkTooltip=()=>t.hideLinkTooltip(W),y.MyQuill.register(v.LinkBlot,!0),x.FigureBlot.blotName="blockFigure",x.FigureBlot.tagName="figure",x.FigureBlot.quillSetSelection=(t,e=0)=>W.setSelection(t,e,l.a.sources.USER),x.FigureBlot.quillDeleteText=(t,e,n=l.a.sources.USER)=>W.deleteText(t,e,n),x.FigureBlot.quillInsertText=(t,e)=>W.insertText(t,e,l.a.sources.USER),x.FigureBlot.draftSave=()=>Object(N.draftSave)(n,W),y.MyQuill.register(x.FigureBlot,!0),y.MyQuill.register(O.DividerBlot),y.MyQuill.register({"modules/syntax":j.InsSyntaxModule,"formats/bold":E.a,"formats/italic":w.a,"formats/indent":d.a,"formats/list":u.ListContinuer,"formats/list-item":c.a,"formats/code":f.a,"formats/strike":h.a},!0);var n=!1;I.mobile&&document.body.classList.add("mobile");let r=document.querySelector(".tl_article"),o=document.querySelector(".tl_article_header"),P=document.querySelector(".tl_article_content"),q=document.querySelector("#_bold_button"),D=document.querySelector("#_italic_button"),M=document.querySelector("#_link_button"),R=document.querySelector("#_header_button"),U=document.querySelector("#_subheader_button"),F=document.querySelector("#_quote_button"),z=document.querySelector("#_strike_button"),$=document.querySelector("#_image_button"),H=document.querySelector("#_embed_button");document.querySelector(".account");var W=new y.MyQuill(e,{scrollingContainer:"html, body",readOnly:!0,modules:{syntax:{highlight:t=>B.default.highlightAuto(t).value},clipboard:{matchers:[Q("h2",{blockHeader:!0}),Q("h5",{blockSubheader:!0}),Q("h6",{blockSubheader:!0}),["img",function(t,e){return t.src&&Object(N.sanitize)(t.src,["http","https","data"])?(new a.a).insert({blockFigure:{image:t.src,caption:t.alt||""}}):new a.a}],["video",function(t,e){return t.src&&Object(N.sanitize)(t.src,["http","https","data"])?(new a.a).insert({blockFigure:{video:t.src}}):new a.a}],["br",function(t,e){return console.log("modules.clipboard.matchers.br"),t.classList.contains("inline")?(new a.a).insert({textBreak:!0}):e}]]},keyboard:{bindings:{"required enter":{key:p.a.keys.ENTER,collapsed:!0,shiftKey:null,format:["blockTitle","blockDescription"],suffix:/^$/,handler:function(t,e){console.log("keyboard.bindings.required_enter.handler");let[n]=this.quill.scroll.descendant(m.FieldBlot,t.index);return!(n&&n.next&&n.next.domNode&&!n.next.domNode.textContent)||(this.quill.setSelection(n.next.offset(this.quill.scroll),0,l.a.sources.USER),!1)}},"required tab prev":{key:p.a.keys.TAB,shiftKey:!0,handler:function(t,e){console.log("keyboard.bindings.required_tab_prev.handler");let n=null;if(t.length>0){let e=W.scroll.descendants(s.c,t.index,t.length);if(1!=e.length)return!0;n=e[0]}else[n]=W.scroll.descendant(s.c,t.index);if(null!=n&&null!=n.prev&&n.prev instanceof m.FieldBlot){let t=n.prev.offset(W.scroll),e=n.prev.length();return W.setSelection(t,e>1?e:0,l.a.sources.USER),!1}return!0}},"required tab next":{key:p.a.keys.TAB,shiftKey:!1,handler:function(t,e){console.log("keyboard.bindings.required_tab_next.handler");let n=null;if(t.length>0){let e=W.scroll.descendants(s.c,t.index,t.length);if(1!=e.length)return!0;n=e[0]}else[n]=W.scroll.descendant(s.c,t.index);if(null!=n&&n instanceof m.FieldBlot&&null!=n.next){let t=n.next.offset(W.scroll);if(n.next instanceof m.FieldBlot){let e=n.next.length();W.setSelection(t,e>1?e:0,l.a.sources.USER)}else W.setSelection(t,0,l.a.sources.USER);return!1}return!0}},"no tab":{key:p.a.keys.TAB,shiftKey:null,handler:function(t,e){return console.log("keyboard.bindings.no_tab.handler"),!1}},"detect embed":{key:p.a.keys.ENTER,collapsed:!0,handler:function(e,n){console.log("keyboard.bindings.detect_embed.handler");let[r,i]=W.scroll.line(e.index);if(r){let n,o=r.domNode.textContent.substr(0,i);if(n=o.match(/(^|\s)(https?:\/\/\S+)$/)){let s=n[2];if(W.scroll.descendants(v.LinkBlot,e.index-s.length,s.length).length||W.formatText(e.index-s.length,s.length,"link",s,l.a.sources.USER),!o.substr(0,i-s.length).trim().length&&"P"==r.domNode.tagName){let e=X(s);if(e){let n=r.offset(W.scroll);return W.updateContents((new a.a).retain(n).delete(o.length).insert({blockFigure:e}),l.a.sources.USER),t.hideBlocksTooltip(),!1}}}}return!0}},"divider autofill":{key:p.a.keys.ENTER,collapsed:!0,prefix:/^([-*])\1{2,}$/,handler:function(t,e){console.log("keyboard.bindings.divider_autofill.handler");let[n,r]=W.scroll.line(t.index);if(n&&"P"==n.domNode.tagName){let t=n.offset(W.scroll),e=(new a.a).retain(t).delete(n.length()).insert({blockDivider:!0});return n.next||e.insert("\n"),W.updateContents(e,l.a.sources.USER),!1}return!0}},break:{key:p.a.keys.ENTER,shiftKey:!0,handler:V.bind(null,!0)},enter:{key:p.a.keys.ENTER,handler:V.bind(null,!1)},"detect link":{key:" ",collapsed:!0,handler:function(t){console.log("detectLinkHandler",t);let[e,n]=W.scroll.line(t.index);if(e){let r,i=e.domNode.textContent.substr(0,n);if(r=i.match(/(^|\s)((?:https?|tg):\/\/\S+|www\.\S+)$/)){let e=r[2],n=e.length;"www."==e.substr(0,4)&&(e="http://"+e),W.scroll.descendants(v.LinkBlot,t.index-n,n).length||W.formatText(t.index-n,n,"link",e,l.a.sources.USER)}}return!0}},"cancel placeholder":{key:p.a.keys.ESCAPE,handler:function(t,e){return console.log("keyboard.bindings.cancel_placeholder.handler"),Y(),this.quill.updateSelection(l.a.sources.USER),!0}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{list:!1,"code-block":!1,blockquote:!1,header:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query&&null==this.quill.scroll.query("list"))return!0;const{length:n}=e.prefix,[r,i]=this.quill.getLine(t.index);if(i>n)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o={type:"ordered",start:Number(e.prefix.slice(0,-1))-1}}this.quill.insertText(t.index," ",l.a.sources.USER),this.quill.history.cutoff(),console.log("keyboard.bindings.list_autofill.handler",t,e);const s=(new a.a).retain(t.index-i).delete(n+1).retain(r.length()-2-i).retain(1,{list:o,start:o.start});console.log("keyboard.bindings.list_autofill.handler",s);const c=this.quill.updateContents(s,l.a.sources.USER);return console.log("keyboard.bindings.list_autofill.handler",c),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,l.a.sources.SILENT),!1}},"pre wrap":{key:192,collapsed:!0,format:{"code-block":!1},prefix:/^``$/,offset:2,handler:function(t,e){console.log("keyboard.bindings.pre_wrap.handler");let n=e.prefix.length,r=t.index-n;this.quill.scroll.deleteAt(r,n),this.quill.formatLine(r,1,"code-block",!0,l.a.sources.USER),this.quill.setSelection(r,l.a.sources.SILENT)}},code:{key:192,handler:function(t,e){if(console.log("keyboard.bindings.code.handler",!e.format),!e.collapsed){let n=W.scroll.descendants(s.c,t.index,t.length);if(n.length>1||1==n.length&&n[0]instanceof C.a)return this.quill.format("code-block",!e.format["code-block"],l.a.sources.USER),!1;if(W.scroll.descendants(b.BreakBlot,t.index,t.length).length)return this.quill.format("code-block",!e.format["code-block"],l.a.sources.USER),!1}if(e.collapsed&&!e.format.code&&!/\s$/.test(e.prefix))return!0;this.quill.format("code",!e.format.code,l.a.sources.USER)}},"figure delete":{key:p.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(t,e){console.log("keyboard.bindings.figure_delete.handler");let[n,r]=W.scroll.line(t.index);return!(n&&n.prev&&n.prev instanceof x.FigureBlot)||(e.empty&&W.deleteText(t.index,1,l.a.sources.USER),W.setSelection(n.prev.offset(W.scroll)),!1)}},"field backspace":{key:p.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(t,e){console.log("keyboard.bindings.field_backspace.handler");let[n,r]=W.scroll.line(t.index);return!(n&&n.prev&&n.prev instanceof m.FieldBlot&&n.domNode.textContent.length>0)}},strikethrough:{key:"X",shortKey:!0,shiftKey:!0,handler:function(t,e){W.formatText(t,"strike",!e.format.strike)}}}}}});function Q(t,e){return[t,function(t,n){return n.compose((new a.a).retain(n.length(),e))}]}function G(t){let e=function(t){let[e,n]=W.scroll.line(t);return W.getText(t,e.length()-n)}(t);return!e||"\n"==e}function V(t,e,n){console.log("breakHandler",t,e,n);let r,i=e.index;e.length>0&&W.scroll.deleteAt(i,e.length);let o=G(i),a=!1;return[r]=W.scroll.descendant(b.BreakBlot,i),r?(!r.prev||r.prev instanceof b.BreakBlot)&&(W.scroll.deleteAt(--i,1),a=!0):([r]=W.scroll.descendant(b.BreakBlot,i-1),r&&(W.scroll.deleteAt(--i,1),a=!0)),[r]=W.scroll.descendant(S.SingleLineBlot,i),r||a||!t?(W.insertText(i,"\n",l.a.sources.USER),W.setSelection(++i,0,l.a.sources.USER),(n.format.blockHeader||n.format.blockSubheader||n.format.blockBlockquote||n.format.blockPullquote)&&o&&W.formatLine(i,1,{blockHeader:!1,blockSubheader:!1,blockBlockquote:!1,blockPullquote:!1},l.a.sources.USER)):(W.insertEmbed(i,"textBreak",!0,l.a.sources.USER),[r]=W.scroll.descendant(b.BreakBlot,i),!r||r.next||r.prev&&r.prev instanceof b.BreakBlot||(W.insertEmbed(++i,"textBreak",!0,l.a.sources.SILENT),W.setSelection(i,0,l.a.sources.SILENT))),!1}function K(t){let e=null==t?{}:W.getFormat(t),n=!!e.blockDescription,r=!(!e.blockHeader&&!e.blockSubheader),i=!!e["code-block"];if(q.classList.toggle("active",!!e.bold),q.classList.toggle("disabled",n||r||i),D.classList.toggle("active",!!e.italic),D.classList.toggle("disabled",n||r||i),R.classList.toggle("active",!!e.blockHeader),R.classList.toggle("disabled",n),U.classList.toggle("active",!!e.blockSubheader),U.classList.toggle("disabled",n),F.classList.toggle("active",!(!e.blockBlockquote&&!e.blockPullquote)),F.classList.toggle("pullquote",!!e.blockPullquote),F.classList.toggle("disabled",n),z.classList.toggle("active",!!e.strike),z.classList.toggle("disabled",n),null!=t){let e=W.scroll.descendants(v.LinkBlot,t.index,t.length);M.classList.toggle("active",!!e.length)}else M.classList.toggle("active",!1);M.classList.toggle("disabled",i)}function X(t){let e;if((e=t.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/i))||(e=t.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/i)))return{embed:"/embed/youtube?url="+encodeURIComponent(t)};if(e=t.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/i))return{embed:"/embed/vimeo?url="+encodeURIComponent(t)};if(e=t.match(/^(https?):\/\/(www\.|mobile\.)?twitter\.com\/(.+)\/status\/(\d+)/i))return{embed:"/embed/twitter?url="+encodeURIComponent(t)};if(e=t.match(/^(https?):\/\/(t\.me|telegram\.me|telegram\.dog)\/([a-zA-Z0-9_]+)\/(\d+)/i))return{embed:"/embed/telegram?url="+encodeURIComponent(t)};if(e=t.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))return"video/"==e[1].substr(0,6)?{video:t}:{image:t};if(e=t.match(/^(https?):\/\/\S+/i)){let n=document.createElement("a");if(n.href=t,n.pathname.match(/\.(jpe?g|png|gif|mp4)$/i))return"mp4"==e[1]?{video:t}:{image:t}}return!1}function Y(){const t=document.querySelector(".placeholder_once");null!==t&&(t.removeAttribute("data-placeholder"),t.classList.remove("placeholder_once","empty"))}function J(t){t.scroll.descendants(s.c,0,t.scroll.length()).forEach(t=>{if(t.domNode.hasAttribute("data-placeholder")){let e=t.domNode.textContent;t.domNode.classList.toggle("empty",!e)}})}function Z(t){let[e,n]=t.scroll.lines();if(e instanceof s.a)t.updateContents((new a.a).insert("\n",{blockTitle:!0}).insert("\n",{blockDescription:!0}),l.a.sources.SILENT);else if(e instanceof A.TitleBlot||t.formatLine(0,1,{blockTitle:!0},l.a.sources.SILENT),n){if(n instanceof s.a){let e=n.offset(t.scroll);t.updateContents((new a.a).retain(e).insert("\n",{blockDescription:!0}),l.a.sources.SILENT)}else if(!(n instanceof k.DescriptionBlot)){let e=n.offset(t.scroll);t.formatLine(e,1,{blockDescription:!0},l.a.sources.SILENT)}}else{let e=t.scroll.length();t.updateContents((new a.a).retain(e).insert("\n",{blockDescription:!0}),l.a.sources.SILENT)}let[,,r]=t.scroll.lines();if(r){let e=r.offset(t.scroll),n=t.scroll.length()-e;t.scroll.descendants(m.FieldBlot,e,n).forEach(e=>{let n=e.offset(t.scroll),r=e.length(),i=e.constructor.blotName;t.formatText(n,r,i,!1,l.a.sources.SILENT)})}else{let e=t.scroll.length();t.insertText(e,"\n",l.a.sources.SILENT)}let i=t.scroll.lines();i.forEach((t,e)=>{"P"==t.domNode.tagName&&(3==i.length&&2==e?t.domNode.setAttribute("data-placeholder","Your story..."):t.domNode.removeAttribute("data-placeholder"))})}function tt(t,e){(e=e||{}).close_btn=e.close_btn||"OK",e.submit_btn=e.submit_btn||!1,e.close=e.close||et,e.submit=e.submit||e.close,et();var n=document.createElement("div");n.classList.add("tl_alert"),n.innerHTML='<main class="tl_alert_message"><section></section><aside class="tl_message_buttons"></aside></main>',n.querySelector("section").innerHTML=t;var r=n.querySelector("aside");if(e.close_btn){var i=document.createElement("button");i.classList.add("button"),i.innerHTML=e.close_btn,i.addEventListener("click",e.close),i.append(r)}if(e.submit_btn){var o=document.createElement("button");o.classList.add("button"),o.innerHTML=e.submit_btn,o.addEventListener("click",(function(){n.classList.add("tl_alert_loading"),e.submit()})),o.append(r)}n.append("body")}function et(){const t=document.querySelector(".tl_alert");t&&t.remove()}function nt(t){let e=t.querySelector(".prompt_input"),n=t.querySelector(".close");e.onkeydown=null,e.onblur=null,n.onclick=null,t.style.display="",t.classList.remove("tooltip_prompt"),W.focus()}return W.addContainer(t.$tl_link_tooltip),W.addContainer(t.$tl_tooltip),W.addContainer(t.$tl_blocks),W.on(l.a.events.EDITOR_CHANGE,(function(e,n){if(e!==l.a.events.SELECTION_CHANGE)return;if(!W.isEnabled())return;if(null==n)return;!function(e){let[n]=W.scroll.descendant(x.FigureBlot,e.index);W.scroll.descendants(x["FigureBlot"],0,W.scroll.length()).forEach(t=>{n!==t&&t.blur()}),n&&(n.focus(),t.hideFormatTooltip(W),t.hideBlocksTooltip())}(n);let[i,o]=W.scroll.descendant(s.c,n.index);0===n.length?(t.hideFormatTooltip(W),null==i||i instanceof m.FieldBlot||i instanceof g.BlockquoteBlot||i instanceof _.PullquoteBlot||i instanceof C.a||i instanceof c.a||""!==i.domNode.textContent?t.hideBlocksTooltip():t.showBlocksTooltip(n,Object(N.isEdit)(),W)):(null==i||i instanceof A.TitleBlot?t.hideFormatTooltip(W):(t.showFormatTooltip(n,W,Object(N.isEdit)()),K(n)),t.hideBlocksTooltip());let a=W.getFormat(n);r&&r.classList.toggle("title_focused",!(!a.blockTitle&&!a.blockDescription)),Y()})),W.on(l.a.events.TEXT_CHANGE,(function(){W.getSelection();Z(W),J(W),Y(),Object(N.draftSave)(n,W)})),W.on(l.a.events.SCROLL_OPTIMIZE,(function(t){t.forEach(t=>{if("childList"==t.type&&!t.addedNodes.length&&t.removedNodes.length){let e=t.previousSibling,n=t.nextSibling;if(!n&&e&&"BR"==e.tagName&&"inline"==e.className){let e=document.createElement("br");e.className="inline",t.target.appendChild(e)}else!n||!e||"BR"==e.tagName&&"inline"==e.className||"BR"!=n.tagName||"inline"!=n.className||n.nextSibling||n.parentNode&&n.parentNode.removeChild(n)}})})),W.scroll.domNode.setAttribute("dir","auto"),document.addEventListener("click touchstart",(function(e){let n=e.target;for(;n;){if(n===W.container)return;n=n.parentNode}t.hideFormatTooltip(W),t.hideBlocksTooltip()})),Z(W),J(W),function(){const e={page_id:N.T.pageId};e.save_hash&&(N.T.saveHash=e.save_hash);if(!N.T.pageId&&(r&&r.classList.add("tl_article_edit"),!function(){if(!N.T.pageId)return function(t){try{return localStorage.getItem(t)}catch(t){return!1}}("draft");return!1}()&&e.author_name)){let t;t=e.author_url?{link:e.author_url}:{};let[n]=W.scroll.descendants(k.DescriptionBlot);n&&W.updateContents((new a.a).retain(n.offset()).delete(n.length()).insert(e.author_name,t),l.a.sources.USER)}if(e.auth_alert&&e.short_name){var i="Success! You are now logged in as <b>"+(e.short_name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;")+"</b> in this browser.");e.migrate_count>0&&e.migrate_hash?(i+="<br/><br/>",tt(i+="We can also add "+e.migrate_count+" Telegraph page"+(e.migrate_count>1?"s":"")+" from this browser to your account.",{close_btn:"Skip",submit_btn:"Add",submit:function(){var t;t=e.migrate_hash,console.log(t)}})):tt(i)}n=Object(N.getPageContent)(!0,W),Object(N.updateEditable)(Object(N.isEdit)(),W,t,r,P,o)}(),q.onclick=t=>{console.log("$bold_button.onclick");let e=t.target.classList.contains("active");t.preventDefault(),console.log("$bold_button.onclick",!e),W.format("bold",!e),console.log("$bold_button.onclick",W.getSelection(!0)),W.updateSelection(l.a.sources.API)},D.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault(),W.format("italic",!e),W.updateSelection(l.a.sources.API)},M.onclick=e=>{let n=e.target.classList.contains("active");e.preventDefault();var r=W.getSelection(!0);if(n){W.scroll.descendants(v.LinkBlot,r.index,r.length).forEach(t=>{let e=t.offset(W.scroll),n=t.length();W.formatText(e,n,"link",!1)}),K(r)}else!function(t,e,n){let r=t.querySelector(".prompt_input"),i=t.querySelector(".close");r.value="",r.setAttribute("placeholder",e),r.onkeydown=e=>{let i=e.which||e.keyCode;if(27==i)nt(t);else if(13==i){let i=r.value;i&&(n&&n(i),e.preventDefault()),nt(t)}},r.onblur=()=>{nt(t)},i.onclick=()=>{nt(t)},t.style.display="",t.classList.add("tooltip_prompt"),r.focus()}(t.$tl_tooltip,"Paste or type a link...",(function(t){"#"!=(t=t.trim()).substr(0,1)&&"/"!=t.substr(0,1)&&"http://"!=t.substr(0,7)&&"https://"!=t.substr(0,8)&&"tg://"!=t.substr(0,5)&&"mailto:"!=t.substr(0,7)&&(t=t.indexOf("@")>0?"mailto:"+t:"http://"+t),W.focus(),W.format("link",t),K(r)}))},R.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault();let n=W.getSelection(!0);W.format("blockHeader",!e),W.scroll.descendants(L.HeaderBlot,n.index,n.length).forEach(t=>{let e=t.offset(W.scroll),n=t.length();W.formatText(e,n,{bold:!1,italic:!1,code:!1},l.a.sources.SILENT)}),W.updateSelection(l.a.sources.API)},U.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault();let n=W.getSelection(!0);W.format("blockSubheader",!e),W.scroll.descendants(T.SubheaderBlot,n.index,n.length).forEach(t=>{let e=t.offset(W.scroll),n=t.length();W.formatText(e,n,{bold:!1,italic:!1,code:!1},l.a.sources.SILENT)}),W.updateSelection(l.a.sources.API)},F.onclick=t=>{let e=t.target,n=e.classList.contains("active"),r=e.classList.contains("pullquote");t.preventDefault();W.getSelection(!0);n?W.format("blockPullquote",!r):W.format("blockBlockquote",!0),W.updateSelection(l.a.sources.API)},z.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault(),W.format("strike",!e),W.updateSelection(l.a.sources.API)},$.onclick=()=>{let t=W.container.querySelector("input.ql-image[type=file][data-status=ready]");null==t&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",I.safari_mobile?"image/gif, image/jpeg, image/jpg, image/png":"image/gif, image/jpeg, image/jpg, image/png, video/mp4"),t.classList.add("ql-image"),t.addEventListener("change",()=>{if(t&&null!=t.files&&null!=t.files[0]){var e=t.files[0];const n=function(){Object(N.showError)("File too big (up to 5 MB allowed)")},r=5242880;!function(t,e){if("image/jpg"==t.type||"image/jpeg"==t.type)return i()(t,n=>{if("error"===n.type)e(t);else if(n.toBlob)n.toBlob((function(t){e(t)}),t.type);else{var r=n.toDataURL(t.type),i={type:t.type,base64_data:r.split(",")[1]};e(Object(N.uploadDataToBlob)(i))}},{canvas:!0,orientation:!0});e(t)}(e,e=>{if(e.size>r)return n&&n();var i=new FileReader;i.onload=function(e){if(e&&null!==e.target){let n=X(e.target.result);if(n){let t=W.getSelection(!0);W.updateContents((new a.a).retain(t.index).delete(t.length).insert({blockFigure:n}),l.a.sources.USER)}else Object(N.showError)("Invalid file format");t.value="",t.setAttribute("data-status","ready")}},i.readAsDataURL(e)})}}),W.container.appendChild(t)),t.setAttribute("data-status","busy"),t.click()},H.onclick=e=>{let n=W.getSelection(!0),[r]=W.scroll.line(n.index);const i=r.domNode;if(r){i.textContent||(i.setAttribute("data-placeholder","Paste a YouTube, Vimeo or Twitter link, and press Enter"),i.classList.add("placeholder_once","empty"),t.hideBlocksTooltip())}},window.addEventListener("scroll resize",()=>{t.tooltipUpdatePosition(t.$tl_tooltip,null,t.formatTTOptions,W),t.tooltipUpdatePosition(t.$tl_link_tooltip,null,t.linkTTOptions,W)}),W}},,,,,,,function(t,e,n){var r,i,o;!function(a){"use strict";i=[n(65)],void 0===(o="function"==typeof(r=function(t){var e="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);t.blobSlice=e&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},t.metaDataParsers={jpeg:{65505:[],65517:[]}},t.parseMetaData=function(e,n,r,i){i=i||{};var o=this,a=(r=r||{}).maxMetaDataSize||262144;!!("undefined"!=typeof DataView&&e&&e.size>=12&&"image/jpeg"===e.type&&t.blobSlice)&&t.readFile(t.blobSlice.call(e,0,a),(function(e){if(e.target.error)return console.log(e.target.error),void n(i);var a,s,l,c,u=e.target.result,d=new DataView(u),f=2,h=d.byteLength-4,p=f;if(65496===d.getUint16(0)){for(;f<h&&((a=d.getUint16(f))>=65504&&a<=65519||65534===a);){if(f+(s=d.getUint16(f+2)+2)>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if((l=t.metaDataParsers.jpeg[a])&&!r.disableMetaDataParsers)for(c=0;c<l.length;c+=1)l[c].call(o,d,f,s,i,r);p=f+=s}!r.disableImageHead&&p>6&&(u.slice?i.imageHead=u.slice(0,p):i.imageHead=new Uint8Array(u).subarray(0,p))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(i)}),"readAsArrayBuffer")||n(i)},t.replaceHead=function(e,n,r){t.parseMetaData(e,(function(i){r(new Blob([n,t.blobSlice.call(e,i.imageHead.byteLength)],{type:"image/jpeg"}))}),{maxMetaDataSize:256,disableMetaDataParsers:!0})},t.hasMetaOption=function(t){return t&&t.meta};var n=t.transform;t.transform=function(e,r,i,o,a){t.hasMetaOption(r)?t.parseMetaData(o,(function(a){n.call(t,e,r,i,o,a)}),r,a):n.apply(t,arguments)}})?r.apply(e,i):r)||(t.exports=o)}()},,function(t,e,n){"use strict";n.r(e),n.d(e,"uploadFileService",(function(){return r}));function r(t,e){return new Promise((n,r)=>{var i=new XMLHttpRequest,o=new FormData;i.open("POST","https://api.cloudinary.com/v1_1/inscriptum/upload",!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.upload.addEventListener("progress",(function(t){t.lengthComputable&&e&&e(t.loaded,t.total)})),e&&e(0,1),o.append("upload_preset","cz5pibn5"),o.append("tags","browser_upload"),o.append("file",t),i.send(o),i.onreadystatechange=t=>{if(4==i.readyState&&200==i.status){var e=JSON.parse(i.responseText);console.log(1111,e),e.src=e.secure_url,n(e)}},i.onerror=function(){r(new Error("Network Error"))}})}},function(t,e,n){"use strict";n.r(e),n.d(e,"HeaderBlot",(function(){return o}));var r=n(61),i=n(66);class o extends i.SingleLineBlot{optimize(t){super.optimize(t);let e=this.domNode.innerText;e=e.replace(/[\s_]+/g,"-"),e=e.replace(/(^-+|-+$)/g,""),this.domNode.id!==e&&this.domNode.setAttribute("id",e)}formatAt(t,e,n,r){("bold"!==n&&"italic"!==n&&"code"!==n||!r)&&super.formatAt(t,e,n,r)}}o.blotName="blockHeader",o.tagName="h3",r.a.register(o)},,,,,,function(t,e,n){var r,i,o;
/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/i=[t,e],void 0===(o="function"==typeof(r=function(t,e){"use strict";var n,r,i="function"==typeof Map?new Map:(n=[],r=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return r[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),r.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),r.splice(e,1))}}),o=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){o=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function a(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!i.has(t)){var e,n=null,r=null,a=null,s=function(){t.clientWidth!==r&&d()},l=function(e){window.removeEventListener("resize",s,!1),t.removeEventListener("input",d,!1),t.removeEventListener("keyup",d,!1),t.removeEventListener("autosize:destroy",l,!1),t.removeEventListener("autosize:update",d,!1),Object.keys(e).forEach((function(n){t.style[n]=e[n]})),i.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",l,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",d,!1),window.addEventListener("resize",s,!1),t.addEventListener("input",d,!1),t.addEventListener("autosize:update",d,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",i.set(t,{destroy:l,update:d}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),d()}function c(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function u(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+n+"px",r=t.clientWidth,e.forEach((function(t){t.node.scrollTop=t.scrollTop})),i&&(document.documentElement.scrollTop=i)}}function d(){u();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(r<e?"hidden"===n.overflowY&&(c("scroll"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),a!==r){a=r;var i=o("autosize:resized");try{t.dispatchEvent(i)}catch(t){}}}}function s(t){var e=i.get(t);e&&e.destroy()}function l(t){var e=i.get(t);e&&e.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(t){return t}).destroy=function(t){return t},c.update=function(t){return t}):((c=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return a(t)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t},c.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],l),t}),e.default=c,t.exports=e.default})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";n.r(e),n.d(e,"TitleBlot",(function(){return o}));var r=n(61),i=n(70);class o extends i.FieldBlot{static create(t){let e=super.create(t);return e.setAttribute("data-placeholder","Title"),e.setAttribute("data-label","Title"),e}formatAt(t,e,n,r){n===o.blotName&&super.formatAt(t,e,n,r)}}o.blotName="blockTitle",o.tagName="h1",r.a.register(o)},function(t,e,n){"use strict";n.r(e),n.d(e,"CodeEndLineFlag",(function(){return a})),n.d(e,"InsSyntaxCodeBlock",(function(){return s})),n.d(e,"InsSyntaxModule",(function(){return l}));var r=n(61),i=n(82),o=n(106);class a extends i.a{static formats(){return{}}}a.blotName="code-end",a.className="l",a.tagName="SPAN",r.a.register(a);class s extends o.a{highlight(t){let e=this.domNode.textContent||"";if(this.cachedText!==e){if(e.trim().length>0||null==this.cachedText){let n="";const r=t(e).split("\n");for(let t=0;t<r.length-1;t++)n+=`<span class="l">${r[t]||" "}</span>\n`;n+=`<span class="l">${r[r.length-1]}</span>`,this.domNode.innerHTML=`<code class="hljs">${n}</code>`}this.cachedText=e}}}class l extends o.c{static register(){r.a.register(o.b,!0),r.a.register(s,!0)}highlight(){if(this.quill.selection.composing)return;this.quill.update(r.a.sources.USER);let t=this.quill.getSelection();this.quill.scroll.descendants(s).forEach(t=>{t.highlight(this.options.highlight)}),this.quill.update(r.a.sources.SILENT),null!=t&&document.activeElement===this.quill.container.querySelector("[contenteditable]")&&this.quill.setSelection(t,r.a.sources.SILENT)}}},,function(t,e,n){"use strict";n.r(e),n.d(e,"ListContinuer",(function(){return i}));var r=n(105);class i extends r.b{static create(t){let e;return"string"==typeof t?e=super.create(t):(e=super.create(t.type),void 0!==t.start&&(e.setAttribute("start",t.start),e.style["counter-reset"]="list-0 "+t.start)),e}static formats(t){let e=super.formats(t);return console.log("MyList-static.formats",e,t.getAttribute("start")),{type:e,start:t.getAttribute("start")}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"BlockquoteBlot",(function(){return o}));var r=n(61),i=n(62);class o extends i.c{}o.blotName="blockBlockquote",o.tagName="blockquote",r.a.register(o)},function(t,e,n){"use strict";n.r(e),n.d(e,"LinkBlot",(function(){return o}));var r=n(82),i=n(67);class o extends r.a{constructor(t,e){super(t),this.value=e,t.addEventListener("mouseover",o.showLinkTooltip.bind(this,this),!1),t.addEventListener("mouseout",o.hideLinkTooltip,!1)}static create(t){let e=super.create(t);t=this.sanitize(t),e.setAttribute("href",t);var n=t.substr(0,1);return"/"!=n&&"#"!=n&&"tg://"!=t.substr(0,5)&&"mailto:"!=t.substr(0,7)&&e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){const e=o.relativeUrl(t);return Object(i.sanitize)(t,["http","https","tg","mailto"])?e:"about:blank"}detach(){this.domNode.removeEventListener("mouseover",o.showLinkTooltip.bind(this,this),!1),this.domNode.removeEventListener("mouseout",o.hideLinkTooltip,!1),super.detach(),o.hideLinkTooltip()}format(t,e){if(t!==this.statics.blotName||!e)return super.format(t,e);e=o.sanitize(e),this.domNode.setAttribute("href",e),this.domNode.setAttribute("data-title",e)}static relativeUrl(t){let e=location,n=document.createElement("a");return n.href=t,e.origin!==n.origin?n.href:e.pathname!==n.pathname||e.search!==n.search?n.pathname+n.search+n.hash:e.href===n.href?n.hash||n.pathname+n.search+n.hash:n.hash}}},function(t,e,n){"use strict";n.r(e),n.d(e,"MyQuill",(function(){return i}));var r=n(61);class i extends r.a{formatLine(...t){super.formatLine(...t),this.updateSelection()}formatText(...t){super.formatText(...t),this.updateSelection()}updateSelection(t){if(this.hasFocus()){t=t||i.sources.SILENT;let e=this.getSelection(!0);this.setSelection(++e.index,e.length,t),this.setSelection(--e.index,e.length,t)}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"PullquoteBlot",(function(){return o}));var r=n(61),i=n(62);class o extends i.c{}o.blotName="blockPullquote",o.tagName="aside",r.a.register(o)},function(t,e,n){"use strict";n.r(e),n.d(e,"FigureBlot",(function(){return d}));var r=n(61),i=n(62),o=n(141),a=n(90),s=n.n(a),l=n(83),c=n(67),u=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))};class d extends i.a{constructor(t,e){super(t),this.domNode=t,this.domWrapper=document.createElement("div"),this.domCursor=document.createElement("span"),this.domCaption=document.createElement("figcaption"),this.domWrapper.classList.add("figure_wrapper"),this.domCursor.classList.add("cursor_wrapper"),this.domCursor.setAttribute("contenteditable","true"),this.domCaption.classList.add("editable_text"),this.domCaption.setAttribute("data-placeholder","Caption (optional)"),e.caption&&(this.domCaption.innerText=e.caption),this.domNode.appendChild(this.domWrapper),this.domNode.appendChild(this.domCursor),this.domNode.appendChild(this.domCaption),setTimeout(()=>{Object(c.updateEditableText)(this.domNode)},1);let n=!1;e.image?(this.appendImgNode(e.image),n=this.uploadData(e.image)):e.video?(this.appendVideoNode(e.video),n=this.uploadData(e.video)):e.embed&&this.appendIframeNode(e.embed),n&&(this.domProgress=document.createElement("div"),this.domProgressBar=document.createElement("div"),this.domProgress.classList.add("file_progress"),this.domProgressBar.classList.add("file_progress_bar"),this.domWrapper.classList.add("loading"),this.domProgress.appendChild(this.domProgressBar),this.domWrapper.appendChild(this.domProgress),this.uploadFile(n)),this.domWrapper.onclick=()=>{if(!this.domNode.classList.contains("focus")){let t=this.offset(this.scroll);this.focus(),d.quillSetSelection(t)}},this.domCursor.onkeydown=t=>{let e=t.which||t.keyCode;if(e==o.a.keys.BACKSPACE){let e=this.offset(this.scroll);d.quillDeleteText(e,this.length()),d.quillSetSelection(e-1),t.preventDefault()}else if(e==o.a.keys.ENTER){let e=this.offset(this.scroll)+this.length();this.focus(),d.quillInsertText(e,"\n"),d.quillSetSelection(e),t.preventDefault()}},this.domCursor.onpaste=t=>{t.stopPropagation(),t.preventDefault()},this.domCaption.onkeydown=t=>{let e=t.which||t.keyCode,n=t.target;if(e==o.a.keys.ENTER){if(t.shiftKey)return;let e={start:n.selectionStart,end:n.selectionEnd},r=n.value;if(e.start!=e.end)r=r.substr(0,e.start)+r.substr(e.end),n.setSelectionRange(r.length,r.length);else if(e.end==r.length){let t=this.offset(this.scroll)+this.length();this.focus(),d.quillInsertText(t,"\n"),d.quillSetSelection(t)}t.preventDefault()}else if(e==o.a.keys.DOWN||e==o.a.keys.TAB||e==o.a.keys.RIGHT){let e={start:n.selectionStart,end:n.selectionEnd},r=n.value;if(e.start==e.end&&e.end==r.length){let e=this.offset(this.scroll)+this.length();this.focus(),d.quillSetSelection(e,0),t.preventDefault()}}else if(e==o.a.keys.LEFT||e==o.a.keys.UP){let e={start:n.selectionStart,end:n.selectionEnd};if(e.start==e.end&&0===e.start){let e=this.offset(this.scroll)-1;this.focus(),d.quillSetSelection(e,0),t.preventDefault()}}};const r=t=>{null!==t&&null!==t.target&&(this.domCaption.classList.toggle("empty",!t.target.value),s.a.update(t.target),d.draftSave())};this.domCaption.onpaste=t=>{t.stopPropagation(),r(t)},this.domCaption.onkeyup=r,this.domCaption.ondrop=r,this.domCaption.onchange=r,this.domCaption.oninput=r,this.domCaption.oncut=r,this.domCaption.onclick=t=>{t.target&&t.target.focus()}}static create(t){let e=super.create(t);return e.setAttribute("contenteditable","false"),e}appendImgNode(t){let e=document.createElement("img");return e.setAttribute("src",this.sanitize(t)),this.domWrapper.appendChild(e),e}appendVideoNode(t){let e=document.createElement("video");return e.setAttribute("src",this.sanitize(t)),e.setAttribute("preload","auto"),e.setAttribute("controls","controls"),e.addEventListener("loadeddata",(function(){this.mozHasAudio||this.webkitAudioDecodedByteCount||this.audioTracks&&this.audioTracks.length||(this.setAttribute("autoplay","autoplay"),this.setAttribute("loop","loop"),this.setAttribute("muted","muted"),this.removeAttribute("controls"),this.play())})),this.domWrapper.appendChild(e),e}appendIframeNode(t){let e=document.createElement("div"),n=document.createElement("div"),r=document.createElement("iframe");return e.classList.add("iframe_wrap"),e.appendChild(n),n.classList.add("iframe_helper"),n.style.paddingTop="56.25%",n.appendChild(r),r.setAttribute("src",this.sanitize(t)),r.setAttribute("width","640"),r.setAttribute("height","360"),r.setAttribute("frameborder","0"),r.setAttribute("allowtransparency","true"),r.setAttribute("allowfullscreen","true"),r.setAttribute("scrolling","no"),this.domWrapper.appendChild(e),e}uploadFile(t){this.uploadFileStart(t,(t,e)=>{let n=0;e&&t&&(n=100*t/e,n=Math.min(100,n)),this.domProgressBar.style.width=n+"%"},e=>{if(e){let n=this.sanitize(e.src);if("video/"==t.type.substr(0,6)){let t=this.domWrapper.querySelector("video");t&&t.setAttribute("src",n)}else{let t=this.domWrapper.querySelector("img");t&&t.setAttribute("src",n)}this.domWrapper.classList.remove("loading"),d.draftSave()}},t=>(d.quillDeleteText(this.offset(this.scroll),this.length(),r.a.sources.SILENT),d.draftSave(),Object(c.showError)(t)))}uploadData(t){let e=null;return!!(e=t.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))&&{type:e[1],base64_data:e[2]}}sanitize(t){return Object(c.sanitize)(t,["http","https","data"])?t:"//:0"}static value(t){let e={caption:""},n=t.querySelector("img");n&&(e.image=n.src);let r=t.querySelector("video");r&&(e.video=r.src);let i=t.querySelector("iframe");i&&(e.embed=i.src);let o=t.querySelector("figcaption");if(o){let t=o.querySelector(".editable_input");e.caption=t?t.value:o.innerText}return e}focus(){this.domNode.classList.add("focus")}blur(){this.domNode.classList.remove("focus")}_index(t,e){if(t===this.domCaption)return 0;let n=0;return t.nodeType==t.TEXT_NODE&&(n+=e>=0?e:t.data.length),t.previousSibling?n+this._index(t.previousSibling,-1):t.parentNode?n+this._index(t.parentNode,-1):0}_position(t,e){if(t.nodeType==t.TEXT_NODE)return e<=t.data.length?[t,e]:[null,e-=t.data.length];{let n=t.firstChild;for(;n;){let t=null;if([t,e]=this._position(n,e),t)return[t,e];n=n.nextSibling}return[t,e]}}update(t){this.domCursor.innerHTML=""}index(t,e){return 0}position(t,e){return[this.domCursor,0]}uploadFileStart(t,e,n,r){return u(this,void 0,void 0,(function*(){try{const r=yield Object(l.uploadFileService)(Object(c.uploadDataToBlob)(t),e);n&&n(r)}catch(t){r&&r("Network error")}}))}}},function(t,e,n){"use strict";n.r(e),n.d(e,"DescriptionBlot",(function(){return o}));var r=n(61),i=n(70);class o extends i.FieldBlot{static create(t){console.log("DescriptionBlot create ",t);let e=super.create(t);return e.setAttribute("data-placeholder","Summary of the text"),e.setAttribute("data-label","Description"),e}formatAt(t,e,n,r){console.log("DescriptionBlot formatAt ",t,e,n,r),n===o.blotName?super.formatAt(t,e,n,r):"link"===n&&super.formatAt(0,this.length(),n,r)}format(t,e){console.log("DescriptionBlot format ",t,e),super.format(t,e)}replace(t){console.log("DescriptionBlot replace ",t),super.replace(t)}insertAt(t,e,n){console.log("DescriptionBlot insertAt ",t,e,n),super.insertAt(t,e,n)}}o.blotName="blockDescription",o.tagName="address",r.a.register(o)},function(t,e,n){"use strict";n.r(e),n.d(e,"SubheaderBlot",(function(){return o}));var r=n(61),i=n(84);class o extends i.HeaderBlot{}o.blotName="blockSubheader",o.tagName="h4",r.a.register(o)},function(t,e,n){"use strict";n.r(e);var r=n(176),i=n.n(r),o=n(152),a=n.n(o),s=n(155),l=n.n(s),c=n(153),u=n.n(c),d=n(149),f=n.n(d),h=n(151),p=n.n(h),g=n(150),b=n.n(g),m=n(154),v=n.n(m);i.a.registerLanguage("javascript",a.a),i.a.registerLanguage("typescript",l.a),i.a.registerLanguage("sql",u.a),i.a.registerLanguage("xml",f.a),i.a.registerLanguage("css",p.a),i.a.registerLanguage("bash",b.a),i.a.registerLanguage("yaml",v.a),e.default=i.a},function(t,e,n){"use strict";n.r(e),n.d(e,"DividerBlot",(function(){return i}));var r=n(62);class i extends r.a{}i.blotName="blockDivider",i.tagName="hr"},,function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));var r=n(63),i=n.n(r),o=n(62),a=n(147);class s extends o.c{static formats(t){return t.tagName===this.tagName?void 0:super.formats(t)}format(t,e){t!==l.blotName||e?super.format(t,e):this.replaceWith(i.a.create(this.statics.scope))}remove(){null==this.prev&&null==this.next?this.parent.remove():super.remove()}replaceWith(t,e){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,e),this):(this.parent.unwrap(),super.replaceWith(t,e))}}s.blotName="list-item",s.tagName="LI";class l extends a.a{static create(t){let e="ordered"===t?"OL":"UL",n=super.create(e);return"checked"!==t&&"unchecked"!==t||n.setAttribute("data-checked","checked"===t),n}static formats(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}constructor(t){super(t);const e=e=>{if(e.target.parentNode!==t)return;let n=this.statics.formats(t),r=i.a.find(e.target);"checked"===n?r.format("list","unchecked"):"unchecked"===n&&r.format("list","checked")};t.addEventListener("touchstart",e),t.addEventListener("mousedown",e)}format(t,e){this.children.length>0&&this.children.tail.format(t,e)}formats(){return{[this.statics.blotName]:this.statics.formats(this.domNode)}}insertBefore(t,e){if(t instanceof s)super.insertBefore(t,e);else{let n=null==e?this.length():e.offset(this),r=this.split(n);r.parent.insertBefore(t,r)}}optimize(t){super.optimize(t);let e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&e.domNode.tagName===this.domNode.tagName&&e.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(e.moveChildren(this),e.remove())}replace(t){if(t.statics.blotName!==this.statics.blotName){let e=i.a.create(this.statics.defaultChild);t.moveChildren(e),this.appendChild(e)}super.replace(t)}}l.blotName="list",l.scope=i.a.Scope.BLOCK_BLOT,l.tagName=["OL","UL"],l.defaultChild="list-item",l.allowedChildren=[s]},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u}));var r=n(63),i=n.n(r),o=n(142),a=n(140),s=n(118);class l extends s.b{replaceWith(t){this.domNode.textContent=this.domNode.textContent,this.attach(),super.replaceWith(t)}highlight(t){let e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}l.className="ql-syntax";let c=new i.a.Attributor.Class("token","hljs",{scope:i.a.Scope.INLINE});class u extends a.a{static register(){o.a.register(c,!0),o.a.register(l,!0)}constructor(t,e){if(super(t,e),"function"!=typeof this.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");let n=null;this.quill.on(o.a.events.SCROLL_OPTIMIZE,()=>{clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)}),this.highlight()}highlight(){if(this.quill.selection.composing)return;this.quill.update(o.a.sources.USER);let t=this.quill.getSelection();this.quill.scroll.descendants(l).forEach(t=>{t.highlight(this.options.highlight)}),this.quill.update(o.a.sources.SILENT),null!=t&&this.quill.setSelection(t,o.a.sources.SILENT)}}u.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3}},,,,,,,,function(t,e,n){(function(t,n){var r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="[object Map]",s="[object Set]",l=/\w*$/,c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,d={};d[r]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object DataView]"]=d["[object Boolean]"]=d["[object Date]"]=d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d[a]=d["[object Number]"]=d["[object Object]"]=d["[object RegExp]"]=d[s]=d["[object String]"]=d["[object Symbol]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d["[object Error]"]=d[i]=d["[object WeakMap]"]=!1;var f="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),g=e&&!e.nodeType&&e,b=g&&"object"==typeof n&&n&&!n.nodeType&&n,m=b&&b.exports===g;function v(t,e){return t.set(e[0],e[1]),t}function y(t,e){return t.add(e),t}function _(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function S(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function A(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function x(t,e){return function(n){return t(e(n))}}function k(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var E,w=Array.prototype,L=Function.prototype,T=Object.prototype,j=p["__core-js_shared__"],C=(E=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",N=L.toString,B=T.hasOwnProperty,O=T.toString,P=RegExp("^"+N.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=m?p.Buffer:void 0,q=p.Symbol,D=p.Uint8Array,M=x(Object.getPrototypeOf,Object),R=Object.create,U=T.propertyIsEnumerable,F=w.splice,z=Object.getOwnPropertySymbols,$=I?I.isBuffer:void 0,H=x(Object.keys,Object),W=bt(p,"DataView"),Q=bt(p,"Map"),G=bt(p,"Promise"),V=bt(p,"Set"),K=bt(p,"WeakMap"),X=bt(Object,"create"),Y=St(W),J=St(Q),Z=St(G),tt=St(V),et=St(K),nt=q?q.prototype:void 0,rt=nt?nt.valueOf:void 0;function it(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function at(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function st(t){this.__data__=new ot(t)}function lt(t,e){var n=xt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&kt(t)}(t)&&B.call(t,"callee")&&(!U.call(t,"callee")||O.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],i=n.length,o=!!i;for(var a in t)!e&&!B.call(t,a)||o&&("length"==a||yt(a,i))||n.push(a);return n}function ct(t,e,n){var r=t[e];B.call(t,e)&&At(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function ut(t,e){for(var n=t.length;n--;)if(At(t[n][0],e))return n;return-1}function dt(t,e,n,c,u,f,h){var p;if(c&&(p=f?c(t,u,f,h):c(t)),void 0!==p)return p;if(!Lt(t))return t;var g=xt(t);if(g){if(p=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&B.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,p)}else{var b=vt(t),m=b==i||b==o;if(Et(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if("[object Object]"==b||b==r||m&&!f){if(S(t))return f?t:{};if(p=function(t){return"function"!=typeof t.constructor||_t(t)?{}:(e=M(t),Lt(e)?R(e):{});var e}(m?{}:t),!e)return function(t,e){return pt(t,mt(t),e)}(t,function(t,e){return t&&pt(e,Tt(e),t)}(p,t))}else{if(!d[b])return f?t:{};p=function(t,e,n,r){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return ht(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var n=e?ht(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?ht(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case a:return function(t,e,n){return _(e?n(A(t),!0):A(t),v,new t.constructor)}(t,r,n);case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,l.exec(t));return e.lastIndex=t.lastIndex,e}(t);case s:return function(t,e,n){return _(e?n(k(t),!0):k(t),y,new t.constructor)}(t,r,n);case"[object Symbol]":return o=t,rt?Object(rt.call(o)):{}}var o}(t,b,dt,e)}}h||(h=new st);var x=h.get(t);if(x)return x;if(h.set(t,p),!g)var E=n?function(t){return function(t,e,n){var r=e(t);return xt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Tt,mt)}(t):Tt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(E||t,(function(r,i){E&&(r=t[i=r]),ct(p,i,dt(r,e,n,c,i,t,h))})),p}function ft(t){return!(!Lt(t)||(e=t,C&&C in e))&&(wt(t)||S(t)?P:c).test(St(t));var e}function ht(t){var e=new t.constructor(t.byteLength);return new D(e).set(new D(t)),e}function pt(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;ct(n,a,void 0===s?t[a]:s)}return n}function gt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function bt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ft(n)?n:void 0}it.prototype.clear=function(){this.__data__=X?X(null):{}},it.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},it.prototype.get=function(t){var e=this.__data__;if(X){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return B.call(e,t)?e[t]:void 0},it.prototype.has=function(t){var e=this.__data__;return X?void 0!==e[t]:B.call(e,t)},it.prototype.set=function(t,e){return this.__data__[t]=X&&void 0===e?"__lodash_hash_undefined__":e,this},ot.prototype.clear=function(){this.__data__=[]},ot.prototype.delete=function(t){var e=this.__data__,n=ut(e,t);return!(n<0)&&(n==e.length-1?e.pop():F.call(e,n,1),!0)},ot.prototype.get=function(t){var e=this.__data__,n=ut(e,t);return n<0?void 0:e[n][1]},ot.prototype.has=function(t){return ut(this.__data__,t)>-1},ot.prototype.set=function(t,e){var n=this.__data__,r=ut(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},at.prototype.clear=function(){this.__data__={hash:new it,map:new(Q||ot),string:new it}},at.prototype.delete=function(t){return gt(this,t).delete(t)},at.prototype.get=function(t){return gt(this,t).get(t)},at.prototype.has=function(t){return gt(this,t).has(t)},at.prototype.set=function(t,e){return gt(this,t).set(t,e),this},st.prototype.clear=function(){this.__data__=new ot},st.prototype.delete=function(t){return this.__data__.delete(t)},st.prototype.get=function(t){return this.__data__.get(t)},st.prototype.has=function(t){return this.__data__.has(t)},st.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ot){var r=n.__data__;if(!Q||r.length<199)return r.push([t,e]),this;n=this.__data__=new at(r)}return n.set(t,e),this};var mt=z?x(z,Object):function(){return[]},vt=function(t){return O.call(t)};function yt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||u.test(t))&&t>-1&&t%1==0&&t<e}function _t(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||T)}function St(t){if(null!=t){try{return N.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function At(t,e){return t===e||t!=t&&e!=e}(W&&"[object DataView]"!=vt(new W(new ArrayBuffer(1)))||Q&&vt(new Q)!=a||G&&"[object Promise]"!=vt(G.resolve())||V&&vt(new V)!=s||K&&"[object WeakMap]"!=vt(new K))&&(vt=function(t){var e=O.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?St(n):void 0;if(r)switch(r){case Y:return"[object DataView]";case J:return a;case Z:return"[object Promise]";case tt:return s;case et:return"[object WeakMap]"}return e});var xt=Array.isArray;function kt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!wt(t)}var Et=$||function(){return!1};function wt(t){var e=Lt(t)?O.call(t):"";return e==i||e==o}function Lt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Tt(t){return kt(t)?lt(t):function(t){if(!_t(t))return H(t);var e=[];for(var n in Object(t))B.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return dt(t,!0,!0)}}).call(this,n(36),n(115)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(t,n){var r="[object Arguments]",i="[object Map]",o="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[i]=c["[object Number]"]=c[o]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var u="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,f=u||d||Function("return this")(),h=e&&!e.nodeType&&e,p=h&&"object"==typeof n&&n&&!n.nodeType&&n,g=p&&p.exports===h,b=g&&u.process,m=function(){try{return b&&b.binding&&b.binding("util")}catch(t){}}(),v=m&&m.isTypedArray;function y(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function _(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function S(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var A,x,k,E=Array.prototype,w=Function.prototype,L=Object.prototype,T=f["__core-js_shared__"],j=w.toString,C=L.hasOwnProperty,N=(A=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",B=L.toString,O=RegExp("^"+j.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=g?f.Buffer:void 0,I=f.Symbol,q=f.Uint8Array,D=L.propertyIsEnumerable,M=E.splice,R=I?I.toStringTag:void 0,U=Object.getOwnPropertySymbols,F=P?P.isBuffer:void 0,z=(x=Object.keys,k=Object,function(t){return x(k(t))}),$=mt(f,"DataView"),H=mt(f,"Map"),W=mt(f,"Promise"),Q=mt(f,"Set"),G=mt(f,"WeakMap"),V=mt(Object,"create"),K=St($),X=St(H),Y=St(W),J=St(Q),Z=St(G),tt=I?I.prototype:void 0,et=tt?tt.valueOf:void 0;function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function it(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ot(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new it;++e<n;)this.add(t[e])}function at(t){var e=this.__data__=new rt(t);this.size=e.size}function st(t,e){var n=kt(t),r=!n&&xt(t),i=!n&&!r&&Et(t),o=!n&&!r&&!i&&Ct(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var c in t)!e&&!C.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_t(c,l))||s.push(c);return s}function lt(t,e){for(var n=t.length;n--;)if(At(t[n][0],e))return n;return-1}function ct(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":R&&R in Object(t)?function(t){var e=C.call(t,R),n=t[R];try{t[R]=void 0;var r=!0}catch(t){}var i=B.call(t);r&&(e?t[R]=n:delete t[R]);return i}(t):function(t){return B.call(t)}(t)}function ut(t){return jt(t)&&ct(t)==r}function dt(t,e,n,s,l){return t===e||(null==t||null==e||!jt(t)&&!jt(e)?t!=t&&e!=e:function(t,e,n,s,l,c){var u=kt(t),d=kt(e),f=u?"[object Array]":yt(t),h=d?"[object Array]":yt(e),p=(f=f==r?o:f)==o,g=(h=h==r?o:h)==o,b=f==h;if(b&&Et(t)){if(!Et(e))return!1;u=!0,p=!1}if(b&&!p)return c||(c=new at),u||Ct(t)?pt(t,e,n,s,l,c):function(t,e,n,r,o,s,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new q(t),new q(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return At(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case i:var c=_;case a:var u=1&r;if(c||(c=S),t.size!=e.size&&!u)return!1;var d=l.get(t);if(d)return d==e;r|=2,l.set(t,e);var f=pt(c(t),c(e),r,o,s,l);return l.delete(t),f;case"[object Symbol]":if(et)return et.call(t)==et.call(e)}return!1}(t,e,f,n,s,l,c);if(!(1&n)){var m=p&&C.call(t,"__wrapped__"),v=g&&C.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,A=v?e.value():e;return c||(c=new at),l(y,A,n,s,c)}}if(!b)return!1;return c||(c=new at),function(t,e,n,r,i,o){var a=1&n,s=gt(t),l=s.length,c=gt(e).length;if(l!=c&&!a)return!1;var u=l;for(;u--;){var d=s[u];if(!(a?d in e:C.call(e,d)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);var p=a;for(;++u<l;){d=s[u];var g=t[d],b=e[d];if(r)var m=a?r(b,g,d,e,t,o):r(g,b,d,t,e,o);if(!(void 0===m?g===b||i(g,b,n,r,o):m)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var v=t.constructor,y=e.constructor;v==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(h=!1)}return o.delete(t),o.delete(e),h}(t,e,n,s,l,c)}(t,e,n,s,dt,l))}function ft(t){return!(!Tt(t)||function(t){return!!N&&N in t}(t))&&(wt(t)?O:s).test(St(t))}function ht(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||L,e!==r)return z(t);var e,n,r,i=[];for(var o in Object(t))C.call(t,o)&&"constructor"!=o&&i.push(o);return i}function pt(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var u=-1,d=!0,f=2&n?new ot:void 0;for(o.set(t,e),o.set(e,t);++u<s;){var h=t[u],p=e[u];if(r)var g=a?r(p,h,u,e,t,o):r(h,p,u,t,e,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!y(e,(function(t,e){if(a=e,!f.has(a)&&(h===t||i(h,t,n,r,o)))return f.push(e);var a}))){d=!1;break}}else if(h!==p&&!i(h,p,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function gt(t){return function(t,e,n){var r=e(t);return kt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Nt,vt)}function bt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function mt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ft(n)?n:void 0}nt.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},nt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},nt.prototype.get=function(t){var e=this.__data__;if(V){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return C.call(e,t)?e[t]:void 0},nt.prototype.has=function(t){var e=this.__data__;return V?void 0!==e[t]:C.call(e,t)},nt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=V&&void 0===e?"__lodash_hash_undefined__":e,this},rt.prototype.clear=function(){this.__data__=[],this.size=0},rt.prototype.delete=function(t){var e=this.__data__,n=lt(e,t);return!(n<0)&&(n==e.length-1?e.pop():M.call(e,n,1),--this.size,!0)},rt.prototype.get=function(t){var e=this.__data__,n=lt(e,t);return n<0?void 0:e[n][1]},rt.prototype.has=function(t){return lt(this.__data__,t)>-1},rt.prototype.set=function(t,e){var n=this.__data__,r=lt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},it.prototype.clear=function(){this.size=0,this.__data__={hash:new nt,map:new(H||rt),string:new nt}},it.prototype.delete=function(t){var e=bt(this,t).delete(t);return this.size-=e?1:0,e},it.prototype.get=function(t){return bt(this,t).get(t)},it.prototype.has=function(t){return bt(this,t).has(t)},it.prototype.set=function(t,e){var n=bt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},ot.prototype.add=ot.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ot.prototype.has=function(t){return this.__data__.has(t)},at.prototype.clear=function(){this.__data__=new rt,this.size=0},at.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},at.prototype.get=function(t){return this.__data__.get(t)},at.prototype.has=function(t){return this.__data__.has(t)},at.prototype.set=function(t,e){var n=this.__data__;if(n instanceof rt){var r=n.__data__;if(!H||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new it(r)}return n.set(t,e),this.size=n.size,this};var vt=U?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(U(t),(function(e){return D.call(t,e)})))}:function(){return[]},yt=ct;function _t(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||l.test(t))&&t>-1&&t%1==0&&t<e}function St(t){if(null!=t){try{return j.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function At(t,e){return t===e||t!=t&&e!=e}($&&"[object DataView]"!=yt(new $(new ArrayBuffer(1)))||H&&yt(new H)!=i||W&&"[object Promise]"!=yt(W.resolve())||Q&&yt(new Q)!=a||G&&"[object WeakMap]"!=yt(new G))&&(yt=function(t){var e=ct(t),n=e==o?t.constructor:void 0,r=n?St(n):"";if(r)switch(r){case K:return"[object DataView]";case X:return i;case Y:return"[object Promise]";case J:return a;case Z:return"[object WeakMap]"}return e});var xt=ut(function(){return arguments}())?ut:function(t){return jt(t)&&C.call(t,"callee")&&!D.call(t,"callee")},kt=Array.isArray;var Et=F||function(){return!1};function wt(t){if(!Tt(t))return!1;var e=ct(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Lt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Tt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function jt(t){return null!=t&&"object"==typeof t}var Ct=v?function(t){return function(e){return t(e)}}(v):function(t){return jt(t)&&Lt(t.length)&&!!c[ct(t)]};function Nt(t){return null!=(e=t)&&Lt(e.length)&&!wt(e)?st(t):ht(t);var e}n.exports=function(t,e){return dt(t,e)}}).call(this,n(36),n(115)(t))},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i,o=r(n(146));!function(t){t.iterator=function(t){return new o.default(t)},t.length=function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}}(i||(i={})),e.default=i},,function(t,e,n){"use strict";var r=n(82);class i extends r.a{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}i.blotName="bold",i.tagName=["STRONG","B"],e.a=i},,,,,,,,,function(t,e,n){var r,i,o;!function(a){"use strict";i=[n(65)],void 0===(o="function"==typeof(r=function(t){var e=t.transform;t.transform=function(n,r,i,o,a){e.call(t,t.scale(n,r,a),r,i,o,a)},t.transformCoordinates=function(){},t.getTransformedOptions=function(t,e){var n,r,i,o,a=e.aspectRatio;if(!a)return e;for(r in n={},e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.crop=!0,(i=t.naturalWidth||t.width)/(o=t.naturalHeight||t.height)>a?(n.maxWidth=o*a,n.maxHeight=o):(n.maxWidth=i,n.maxHeight=i/a),n},t.renderImageToCanvas=function(t,e,n,r,i,o,a,s,l,c,u){var d=t.getContext("2d");return!1===u.imageSmoothingEnabled?d.imageSmoothingEnabled=!1:u.imageSmoothingQuality&&(d.imageSmoothingQuality=u.imageSmoothingQuality),d.drawImage(e,n,r,i,o,a,s,l,c),t},t.hasCanvasOption=function(t){return t.canvas||t.crop||!!t.aspectRatio},t.scale=function(e,n,r){n=n||{};var i,o,a,s,l,c,u,d,f,h,p,g=document.createElement("canvas"),b=e.getContext||t.hasCanvasOption(n)&&g.getContext,m=e.naturalWidth||e.width,v=e.naturalHeight||e.height,y=m,_=v;function S(){var t=Math.max((a||y)/y,(s||_)/_);t>1&&(y*=t,_*=t)}function A(){var t=Math.min((i||y)/y,(o||_)/_);t<1&&(y*=t,_*=t)}if(b&&(u=(n=t.getTransformedOptions(e,n,r)).left||0,d=n.top||0,n.sourceWidth?(l=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=m-l-n.right)):l=m-u-(n.right||0),n.sourceHeight?(c=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=v-c-n.bottom)):c=v-d-(n.bottom||0),y=l,_=c),i=n.maxWidth,o=n.maxHeight,a=n.minWidth,s=n.minHeight,b&&i&&o&&n.crop?(y=i,_=o,(p=l/c-i/o)<0?(c=o*l/i,void 0===n.top&&void 0===n.bottom&&(d=(v-c)/2)):p>0&&(l=i*c/o,void 0===n.left&&void 0===n.right&&(u=(m-l)/2))):((n.contain||n.cover)&&(a=i=i||a,s=o=o||s),n.cover?(A(),S()):(S(),A())),b){if((f=n.pixelRatio)>1&&(g.style.width=y+"px",g.style.height=_+"px",y*=f,_*=f,g.getContext("2d").scale(f,f)),(h=n.downsamplingRatio)>0&&h<1&&y<l&&_<c)for(;l*h>y;)g.width=l*h,g.height=c*h,t.renderImageToCanvas(g,e,u,d,l,c,0,0,g.width,g.height,n),u=0,d=0,l=g.width,c=g.height,(e=document.createElement("canvas")).width=l,e.height=c,t.renderImageToCanvas(e,g,0,0,l,c,0,0,l,c,n);return g.width=y,g.height=_,t.transformCoordinates(g,n),t.renderImageToCanvas(g,e,u,d,l,c,0,0,y,_,n)}return e.width=y,e.height=_,e}})?r.apply(e,i):r)||(t.exports=o)}()},function(t,e,n){var r,i,o;!function(a){"use strict";i=[n(65),n(81)],void 0===(o="function"==typeof(r=function(t){t.ExifMap=function(){return this},t.ExifMap.prototype.map={Orientation:274},t.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]]},t.getExifThumbnail=function(e,n,r){if(r&&!(n+r>e.byteLength))return t.createObjectURL(new Blob([e.buffer.slice(n,n+r)]));console.log("Invalid Exif data: Invalid thumbnail data.")},t.exifTagTypes={1:{getValue:function(t,e){return t.getUint8(e)},size:1},2:{getValue:function(t,e){return String.fromCharCode(t.getUint8(e))},size:1,ascii:!0},3:{getValue:function(t,e,n){return t.getUint16(e,n)},size:2},4:{getValue:function(t,e,n){return t.getUint32(e,n)},size:4},5:{getValue:function(t,e,n){return t.getUint32(e,n)/t.getUint32(e+4,n)},size:8},9:{getValue:function(t,e,n){return t.getInt32(e,n)},size:4},10:{getValue:function(t,e,n){return t.getInt32(e,n)/t.getInt32(e+4,n)},size:8}},t.exifTagTypes[7]=t.exifTagTypes[1],t.getExifValue=function(e,n,r,i,o,a){var s,l,c,u,d,f,h=t.exifTagTypes[i];if(h){if(!((l=(s=h.size*o)>4?n+e.getUint32(r+8,a):r+8)+s>e.byteLength)){if(1===o)return h.getValue(e,l,a);for(c=[],u=0;u<o;u+=1)c[u]=h.getValue(e,l+u*h.size,a);if(h.ascii){for(d="",u=0;u<c.length&&"\0"!==(f=c[u]);u+=1)d+=f;return d}return c}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},t.parseExifTag=function(e,n,r,i){return{number:e.getUint16(r,i),value:t.getExifValue(e,n,r,e.getUint16(r+2,i),e.getUint32(r+4,i),i)}},t.parseExifTags=function(t,e,n,r,i){var o,a,s,l,c;if(n+6>t.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=n+2+12*(o=t.getUint16(n,r)))+4>t.byteLength)){for(s=0;s<o;s+=1)l=n+2+12*s,c=this.parseExifTag(t,e,l,r,i),i.exif[c.number]=c.value,i.exifOffsets&&(i.exifOffsets[c.number]=l);return t.getUint32(a,r)}console.log("Invalid Exif data: Invalid directory size.")}},t.parseExifData=function(e,n,r,i,o){if(!o.disableExif){var a,s,l,c=n+10;if(1165519206===e.getUint32(n+4))if(c+8>e.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===e.getUint16(n+8)){switch(e.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===e.getUint16(c+2,a)?(s=e.getUint32(c+4,a),i.exif=new t.ExifMap,o.disableExifOffsets||(i.exifOffsets=new t.ExifMap,i.exifTiffOffset=c,i.exifLittleEndian=a),(s=t.parseExifTags(e,c,c+s,a,i))&&!o.disableExifThumbnail&&(l={exif:{}},s=t.parseExifTags(e,c,c+s,a,l),l.exif[513]&&(i.exif.Thumbnail=t.getExifThumbnail(e,c+l.exif[513],l.exif[514]))),i.exif[34665]&&!o.disableExifSub&&t.parseExifTags(e,c,c+i.exif[34665],a,i),i.exif[34853]&&!o.disableExifGps&&t.parseExifTags(e,c,c+i.exif[34853],a,i)):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},t.metaDataParsers.jpeg[65505].push(t.parseExifData),t.exifWriters={274:function(t,e,n){return new DataView(t,e.exifOffsets[274]+8,2).setUint16(0,n,e.exifLittleEndian),t}},t.writeExifData=function(e,n,r,i){t.exifWriters[n.exif.map[r]](e,n,i)}})?r.apply(e,i):r)||(t.exports=o)}()},function(t,e,n){var r,i,o;!function(a){"use strict";i=[n(65),n(81)],void 0===(o="function"==typeof(r=function(t){t.IptcMap=function(){return this},t.IptcMap.prototype.map={ObjectName:5},t.IptcMap.prototype.get=function(t){return this[t]||this[this.map[t]]},t.parseIptcTags=function(t,e,n,r){function i(t,e,n){for(var r="",i=e;i<e+n;i++)r+=String.fromCharCode(t.getUint8(i));return r}for(var o,a,s,l=e;l<e+n;)28===t.getUint8(l)&&2===t.getUint8(l+1)&&(s=t.getUint8(l+2))in r.iptc.tags&&(a=t.getInt16(l+3),o=i(t,l+5,a),Object.prototype.hasOwnProperty.call(r.iptc,s)?r.iptc[s]instanceof Array?r.iptc[s].push(o):r.iptc[s]=[r.iptc[s],o]:r.iptc[s]=o),l++},t.parseIptcData=function(e,n,r,i,o){if(!o.disableIptc){for(var a=n+r,s=function(t,e){return 943868237===t.getUint32(e)&&1028===t.getUint16(e+4)};n+8<a;){if(s(e,n)){var l=e.getUint8(n+7);l%2!=0&&(l+=1),0===l&&(l=4);var c=n+8+l;if(c>a){console.log("Invalid IPTC data: Invalid segment offset.");break}var u=e.getUint16(n+6+l);if(n+u>a){console.log("Invalid IPTC data: Invalid segment size.");break}return i.iptc=new t.IptcMap,t.parseIptcTags(e,c,u,i)}n++}console.log("No IPTC data at this offset - could be XMP")}},t.metaDataParsers.jpeg[65517].push(t.parseIptcData)})?r.apply(e,i):r)||(t.exports=o)}()},function(t,e,n){"use strict";n.r(e),n.d(e,"EditorTooltipComponent",(function(){return l}));var r=n(33),i=n(13),o=n(52),a=n(74),s=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let l=class extends r.a{constructor(){super(o.a,!1),this.html=i.e,this.linkTTOptions={padding:7,position:"bottom",depend:this.$tl_tooltip,dependPadding:10},this.formatTTOptions={padding:10,position:a.browser.mobile?"bottom":"top",minDelta:5}}connectedCallback(){super.connectedCallback(),this.$tl_link_tooltip=this.querySelector("#_tl_link_tooltip")||document.createElement("div"),this.$tl_tooltip=this.querySelector("#_tl_tooltip")||document.createElement("div"),this.$tl_blocks=this.querySelector("#_tl_blocks")||document.createElement("div"),this.$bold_button=this.querySelector("#_bold_button")||document.createElement("div"),this.$italic_button=this.querySelector("#_italic_button")||document.createElement("div"),this.$link_button=this.querySelector("#_link_button")||document.createElement("div"),this.$header_button=this.querySelector("#_header_button")||document.createElement("div"),this.$subheader_button=this.querySelector("#_subheader_button")||document.createElement("div"),this.$quote_button=this.querySelector("#_quote_button")||document.createElement("div"),this.$strikeButton=this.querySelector("#_strike_button")||document.createElement("div"),this.$image_button=this.querySelector("#_image_button")||document.createElement("div"),this.$embed_button=this.querySelector("#_embed_button")||document.createElement("div")}render(){return this.html`
      <div id="_tl_link_tooltip" class="tl_link_tooltip"></div>
      <div id="_tl_tooltip" class="tl_tooltip" @mouseover=${this.handleMouseover.bind(this)} @mouseout=${this.handleMouseout.bind(this)}>
        <div class="buttons">
          <span class="button_hover"></span>
          <div class="button_group">
            <button id="_bold_button"></button>
            <button id="_italic_button"></button>
            <button id="_link_button"></button>
          </div>
          <div class="button_group">
            <button id="_header_button"></button>
            <button id="_subheader_button"></button>
            <button id="_quote_button"></button>
          </div>
          <div class="button_group">
            <button id="_strike_button" class="tt-icon-btn">
            ${i.i`
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-strikethrough" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <line x1="5" y1="12" x2="19" y2="12" />
              <path d="M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7" />
              <path d="M16.5 16a3.5 3.5 0 0 1 -3.5 3h-1.5a4 2 0 0 1 -4 -1.5" />
            </svg>
              `}
            </button>
          </div>
        </div>
        <div class="prompt">
          <span class="close"></span>
          <div class="prompt_input_wrap"><input type="url" class="prompt_input" /></div>
        </div>
      </div>
      <div id="_tl_blocks" class="tl_blocks">
        <div class="buttons">
          <button id="_image_button"></button>
          <button id="_embed_button"></button>
        </div>
      </div>
    `}handleMouseover(t){let e=t.target;t instanceof MouseEvent&&"BUTTON"==(null==e?void 0:e.tagName)&&!e.classList.contains("disabled")&&(this.$tl_tooltip.setAttribute("data-hover",e.id),this.$tl_tooltip.classList.add("hover"),setTimeout(()=>{this.$tl_tooltip.classList.add("hover_anim")},1),clearTimeout(this.$tl_tooltip.to))}handleMouseout(t){"BUTTON"==t.target.tagName&&(this.$tl_tooltip.classList.remove("hover"),this.$tl_tooltip.to=setTimeout(()=>{this.$tl_tooltip.classList.remove("hover_anim")},70))}tooltipUpdatePosition(t,e,n,r){if(n=n||{padding:10,position:"top"},null==(e=e||t._range||null))return;let i=r.getBounds(e),o=r.container.getBoundingClientRect(),a={width:t.offsetWidth,height:t.offsetHeight},s=window.outerWidth,l=window.outerHeight,c=document.body.scrollTop,u=9,d=c+9,f=s-a.width-9,h=c+l-a.height-9;a.left=i.left+i.width/2-a.width/2;let p,g=o.left+a.left;if(g<u?a.left=u-o.left:g>f&&(a.left=f-o.left),"top"==n.position){a.top=i.top-a.height-n.padding,p=!1,o.top+a.top<d&&(a.top=i.bottom+n.padding,p=!0)}else if("bottom"==n.position){let t=!1;a.top=i.bottom+n.padding,(t=this.isOverElement(a,n.depend,n.dependPadding))&&(a.top=t.bottom+n.dependPadding),p=!0,o.top+(a.top||0)>h&&(a.top=i.top-a.height-n.padding,(t=this.isOverElement(a,n.depend,n.dependPadding))&&(a.top=t.top-a.height-n.dependPadding),p=!1)}a.left=Math.round(a.left),a.top=Math.round(a.top||0),t._range=e,n.minDelta&&Math.abs(a.left-t._left)<n.minDelta&&Math.abs(a.top-t._top)<n.minDelta||(t._left=a.left,t._top=a.top,t.style.left=a.left+"px",t.style.top=a.top+"px",t.classList.toggle("bottom",p))}isOverElement(t,e,n){if(!e||!e.classList.contains("shown"))return!1;t.bottom=t.top+t.height,t.right=t.left+t.width;let r={_left:e.offsetLeft,_top:e.offsetTop},i={top:r._top,bottom:r._top+e.offsetHeight,left:r._left,right:r._left+e.offsetWidth};return!(t.left-i.right>=n||i.left-t.right>=n||t.top-i.bottom>=n||i.top-t.bottom>=n)&&i}hideBlocksTooltip(){this.$tl_blocks.classList.remove("shown")}showFormatTooltip(t,e,n){n&&(this.$tl_tooltip.classList.remove("tooltip_prompt"),this.tooltipUpdatePosition(this.$tl_tooltip,t,this.formatTTOptions,e),this.$tl_tooltip.classList.contains("move_anim")||setTimeout(()=>{this.$tl_tooltip.classList.add("move_anim")},10),this.$tl_tooltip.classList.contains("shown")?this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,e):setTimeout(()=>{this.$tl_tooltip.classList.add("shown"),this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,e)},10))}hideFormatTooltip(t){this.$tl_tooltip.classList.remove("move_anim","shown"),this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,t)}showBlocksTooltip(t,e,n){e&&(this.$tl_blocks.classList.add("shown"),this.blocksUpdatePosition(t,n))}blocksUpdatePosition(t,e){if(void 0===t&&(t=e.getSelection()),null==t||!e)return;let n=e.getBounds(t);this.$tl_blocks.style.top=n.top+n.height/2+"px"}showLinkTooltip(t,e,n,r){if(!n)return;let i={index:t.offset(r.scroll),length:t.length()};this.$tl_link_tooltip.textContent=e,this.tooltipUpdatePosition(this.$tl_link_tooltip,i,this.linkTTOptions,r),this.$tl_link_tooltip.classList.contains("move_anim")||setTimeout(()=>{this.$tl_link_tooltip.classList.add("move_anim")},1),this.$tl_link_tooltip.classList.contains("shown")||setTimeout(()=>{this.$tl_link_tooltip.classList.add("shown")},10)}hideLinkTooltip(t){this.$tl_link_tooltip.classList.remove("move_anim","shown")}};l=s([Object(r.b)("inscriptum-editor-tooltip")],l)},,,,,,,,function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=r(n(144)),o=r(n(114)),a=r(n(116)),s=r(n(145)),l=r(n(117)),c=String.fromCharCode(0),u=function(){function t(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]}return t.prototype.insert=function(t,e){var n={};return"string"==typeof t&&0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},t.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},t.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},t.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o.default(t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!=typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(a.default(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},t.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},t.prototype.filter=function(t){return this.ops.filter(t)},t.prototype.forEach=function(t){this.ops.forEach(t)},t.prototype.map=function(t){return this.ops.map(t)},t.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(r){(t(r)?e:n).push(r)})),[e,n]},t.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},t.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+l.default.length(e):e.delete?t-e.delete:t}),0)},t.prototype.length=function(){return this.reduce((function(t,e){return t+l.default.length(e)}),0)},t.prototype.slice=function(e,n){void 0===e&&(e=0),void 0===n&&(n=1/0);for(var r=[],i=l.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var a=void 0;o<e?a=i.next(e-o):(a=i.next(n-o),r.push(a)),o+=l.default.length(a)}return new t(r)},t.prototype.compose=function(e){var n=l.default.iterator(this.ops),r=l.default.iterator(e.ops),i=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var c=o.retain;"insert"===n.peekType()&&n.peekLength()<=c;)c-=n.peekLength(),i.push(n.next());o.retain-c>0&&r.next(o.retain-c)}for(var u=new t(i);n.hasNext()||r.hasNext();)if("insert"===r.peekType())u.push(r.next());else if("delete"===n.peekType())u.push(n.next());else{var d=Math.min(n.peekLength(),r.peekLength()),f=n.next(d),h=r.next(d);if("number"==typeof h.retain){var p={};"number"==typeof f.retain?p.retain=d:p.insert=f.insert;var g=s.default.compose(f.attributes,h.attributes,"number"==typeof f.retain);if(g&&(p.attributes=g),u.push(p),!r.hasNext()&&a.default(u.ops[u.ops.length-1],p)){var b=new t(n.rest());return u.concat(b).chop()}}else"number"==typeof h.delete&&"number"==typeof f.retain&&u.push(h)}return u.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:c;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),o=new t,u=i.default(r[0],r[1],n),d=l.default.iterator(this.ops),f=l.default.iterator(e.ops);return u.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case i.default.INSERT:n=Math.min(f.peekLength(),e),o.push(f.next(n));break;case i.default.DELETE:n=Math.min(e,d.peekLength()),d.next(n),o.delete(n);break;case i.default.EQUAL:n=Math.min(d.peekLength(),f.peekLength(),e);var r=d.next(n),l=f.next(n);a.default(r.insert,l.insert)?o.retain(n,s.default.diff(r.attributes,l.attributes)):o.push(l).delete(n)}e-=n}})),o.chop()},t.prototype.eachLine=function(e,n){void 0===n&&(n="\n");for(var r=l.default.iterator(this.ops),i=new t,o=0;r.hasNext();){if("insert"!==r.peekType())return;var a=r.peek(),s=l.default.length(a)-r.peekLength(),c="string"==typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(c<0)i.push(r.next());else if(c>0)i.push(r.next(c));else{if(!1===e(i,r.next(1).attributes||{},o))return;o+=1,i=new t}}i.length()>0&&e(i,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce((function(t,r){if(r.insert)n.delete(l.default.length(r));else{if(r.retain&&null==r.attributes)return n.retain(r.retain),t+r.retain;if(r.delete||r.retain&&r.attributes){var i=r.delete||r.retain;return e.slice(t,t+i).forEach((function(t){r.delete?n.push(t):r.retain&&r.attributes&&n.retain(l.default.length(t),s.default.invert(r.attributes,t.attributes))})),t+i}}return t}),0),n.chop()},t.prototype.transform=function(e,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof e)return this.transformPosition(e,n);for(var r=e,i=l.default.iterator(this.ops),o=l.default.iterator(r.ops),a=new t;i.hasNext()||o.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())a.push(o.next());else{var c=Math.min(i.peekLength(),o.peekLength()),u=i.next(c),d=o.next(c);if(u.delete)continue;d.delete?a.push(d):a.retain(c,s.default.transform(u.attributes,d.attributes,n))}else a.retain(l.default.length(i.next()));return a.chop()},t.prototype.transformPosition=function(t,e){void 0===e&&(e=!1),e=!!e;for(var n=l.default.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<t||!e)&&(t+=i),r+=i):t-=Math.min(i,t-r)}return t},t.Op=l.default,t.AttributeMap=s.default,t}();t.exports=u},,,,,function(t,e){function n(t,e,a,s){if(t===e)return t?[[0,t]]:[];if(null!=a){var d=function(t,e,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=t.length,a=e.length;if(0===r.length&&(null===i||0===i.length)){var s=r.index,l=t.slice(0,s),c=t.slice(s),d=i?i.index:null,f=s+a-o;if((null===d||d===f)&&!(f<0||f>a)){var h=e.slice(0,f);if((_=e.slice(f))===c){var p=Math.min(s,f),g=l.slice(0,p),b=h.slice(0,p);if(g===b){var m=l.slice(p),v=h.slice(p);return u(g,m,v,c)}}}if(null===d||d===s){var y=s,_=(h=e.slice(0,y),e.slice(y));if(h===l){var S=Math.min(o-y,a-y),A=c.slice(c.length-S),x=_.slice(_.length-S);if(A===x){m=c.slice(0,c.length-S),v=_.slice(0,_.length-S);return u(l,m,v,A)}}}}if(r.length>0&&i&&0===i.length){g=t.slice(0,r.index),A=t.slice(r.index+r.length),p=g.length,S=A.length;if(!(a<p+S)){b=e.slice(0,p),x=e.slice(a-S);if(g===b&&A===x){m=t.slice(p,o-S),v=e.slice(p,a-S);return u(g,m,v,A)}}}return null}(t,e,a);if(d)return d}var f=i(t,e),h=t.substring(0,f);f=o(t=t.substring(f),e=e.substring(f));var p=t.substring(t.length-f),g=function(t,e){var a;if(!t)return[[1,e]];if(!e)return[[-1,t]];var s=t.length>e.length?t:e,l=t.length>e.length?e:t,c=s.indexOf(l);if(-1!==c)return a=[[1,s.substring(0,c)],[0,l],[1,s.substring(c+l.length)]],t.length>e.length&&(a[0][0]=a[2][0]=-1),a;if(1===l.length)return[[-1,t],[1,e]];var u=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function a(t,e,n){for(var r,a,s,l,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,d="";-1!==(u=e.indexOf(c,u+1));){var f=i(t.substring(n),e.substring(u)),h=o(t.substring(0,n),e.substring(0,u));d.length<h+f&&(d=e.substring(u-h,u)+e.substring(u,u+f),r=t.substring(0,n-h),a=t.substring(n+f),s=e.substring(0,u-h),l=e.substring(u+f))}return 2*d.length>=t.length?[r,a,s,l,d]:null}var s,l,c,u,d,f=a(n,r,Math.ceil(n.length/4)),h=a(n,r,Math.ceil(n.length/2));if(!f&&!h)return null;s=h?f&&f[4].length>h[4].length?f:h:f;t.length>e.length?(l=s[0],c=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],l=s[2],c=s[3]);var p=s[4];return[l,c,u,d,p]}(t,e);if(u){var d=u[0],f=u[1],h=u[2],p=u[3],g=u[4],b=n(d,h),m=n(f,p);return b.concat([[0,g]],m)}return function(t,e){for(var n=t.length,i=e.length,o=Math.ceil((n+i)/2),a=o,s=2*o,l=new Array(s),c=new Array(s),u=0;u<s;u++)l[u]=-1,c[u]=-1;l[a+1]=0,c[a+1]=0;for(var d=n-i,f=d%2!=0,h=0,p=0,g=0,b=0,m=0;m<o;m++){for(var v=-m+h;v<=m-p;v+=2){for(var y=a+v,_=(E=v===-m||v!==m&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1)-v;E<n&&_<i&&t.charAt(E)===e.charAt(_);)E++,_++;if(l[y]=E,E>n)p+=2;else if(_>i)h+=2;else if(f){if((x=a+d-v)>=0&&x<s&&-1!==c[x]){var S=n-c[x];if(E>=S)return r(t,e,E,_)}}}for(var A=-m+g;A<=m-b;A+=2){for(var x=a+A,k=(S=A===-m||A!==m&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-A;S<n&&k<i&&t.charAt(n-S-1)===e.charAt(i-k-1);)S++,k++;if(c[x]=S,S>n)b+=2;else if(k>i)g+=2;else if(!f){if((y=a+d-A)>=0&&y<s&&-1!==l[y]){var E=l[y];_=a+E-y;if(E>=(S=n-S))return r(t,e,E,_)}}}}return[[-1,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-f),e=e.substring(0,e.length-f));return h&&g.unshift([0,h]),p&&g.push([0,p]),function t(e,n){e.push([0,""]);var r,a=0,s=0,u=0,d="",f="";for(;a<e.length;)if(a<e.length-1&&!e[a][1])e.splice(a,1);else switch(e[a][0]){case 1:u++,f+=e[a][1],a++;break;case-1:s++,d+=e[a][1],a++;break;case 0:var h=a-u-s-1;if(n){if(h>=0&&c(e[h][1])){var p=e[h][1].slice(-1);if(e[h][1]=e[h][1].slice(0,-1),d=p+d,f=p+f,!e[h][1]){e.splice(h,1),a--;var g=h-1;e[g]&&1===e[g][0]&&(u++,f=e[g][1]+f,g--),e[g]&&-1===e[g][0]&&(s++,d=e[g][1]+d,g--),h=g}}if(l(e[a][1])){p=e[a][1].charAt(0);e[a][1]=e[a][1].slice(1),d+=p,f+=p}}if(a<e.length-1&&!e[a][1]){e.splice(a,1);break}if(d.length>0||f.length>0){d.length>0&&f.length>0&&(0!==(r=i(f,d))&&(h>=0?e[h][1]+=f.substring(0,r):(e.splice(0,0,[0,f.substring(0,r)]),a++),f=f.substring(r),d=d.substring(r)),0!==(r=o(f,d))&&(e[a][1]=f.substring(f.length-r)+e[a][1],f=f.substring(0,f.length-r),d=d.substring(0,d.length-r)));var b=u+s;0===d.length&&0===f.length?(e.splice(a-b,b),a-=b):0===d.length?(e.splice(a-b,b,[1,f]),a=a-b+1):0===f.length?(e.splice(a-b,b,[-1,d]),a=a-b+1):(e.splice(a-b,b,[-1,d],[1,f]),a=a-b+2)}0!==a&&0===e[a-1][0]?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,u=0,s=0,d="",f=""}""===e[e.length-1][1]&&e.pop();var m=!1;a=1;for(;a<e.length-1;)0===e[a-1][0]&&0===e[a+1][0]&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)===e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),m=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),m=!0)),a++;m&&t(e,n)}(g,s),g}function r(t,e,r,i){var o=t.substring(0,r),a=e.substring(0,i),s=t.substring(r),l=e.substring(i),c=n(o,a),u=n(s,l);return c.concat(u)}function i(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return a(t.charCodeAt(i-1))&&i--,i}function o(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return s(t.charCodeAt(t.length-i))&&i--,i}function a(t){return t>=55296&&t<=56319}function s(t){return t>=56320&&t<=57343}function l(t){return s(t.charCodeAt(0))}function c(t){return a(t.charCodeAt(t.length-1))}function u(t,e,n,r){return c(t)||l(r)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[0,t],[-1,e],[1,n],[0,r]])}function d(t,e,r){return n(t,e,r,!0)}d.INSERT=1,d.DELETE=-1,d.EQUAL=0,t.exports=d},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i,o=r(n(114)),a=r(n(116));!function(t){t.compose=function(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var r=o.default(e);for(var i in n||(r=Object.keys(r).reduce((function(t,e){return null!=r[e]&&(t[e]=r[e]),t}),{})),t)void 0!==t[i]&&void 0===e[i]&&(r[i]=t[i]);return Object.keys(r).length>0?r:void 0},t.diff=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,r){return a.default(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n}),{});return Object.keys(n).length>0?n:void 0},t.invert=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t=t||{};var n=Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0!==t[r]&&(n[r]=e[r]),n}),{});return Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0===e[r]&&(n[r]=null),n}),n)},t.transform=function(t,e,n){if(void 0===n&&(n=!1),"object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var r=Object.keys(e).reduce((function(n,r){return void 0===t[r]&&(n[r]=e[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}(i||(i={})),e.default=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(117)),o=function(){function t(t){this.ops=t,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=i.default.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:"string"==typeof e.insert?o.insert=e.insert.substr(n,t):o.insert=e.insert,o}return{retain:1/0}},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t}();e.default=o},,function(t,e,n){"use strict";var r=n(119);class i extends r.a{}i.blotName="italic",i.tagName=["EM","I"],e.a=i},,,,,,,,,,,,,,,function(t,e,n){t.exports=n(65),n(128),n(81),n(164),n(129),n(165),n(130),n(166),n(167)},function(t,e,n){var r,i,o;!function(a){"use strict";i=[n(65),n(81)],void 0===(o="function"==typeof(r=function(t){"undefined"!=typeof fetch&&"undefined"!=typeof Request?t.fetchBlob=function(e,n,r){t.hasMetaOption(r)?fetch(new Request(e,r)).then((function(t){return t.blob()})).then(n).catch((function(t){console.log(t),n()})):n()}:"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof ProgressEvent&&(t.fetchBlob=function(e,n,r){if(t.hasMetaOption(r)){r=r||{};var i=new XMLHttpRequest;i.open(r.method||"GET",e),r.headers&&Object.keys(r.headers).forEach((function(t){i.setRequestHeader(t,r.headers[t])})),i.withCredentials="include"===r.credentials,i.responseType="blob",i.onload=function(){n(i.response)},i.onerror=i.onabort=i.ontimeout=function(t){console.log(t),n()},i.send(r.body)}else n()})})?r.apply(e,i):r)||(t.exports=o)}()},function(t,e,n){var r,i,o;!function(a){"use strict";i=[n(65),n(129)],void 0===(o="function"==typeof(r=function(t){t.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},t.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},t.ExifMap.prototype.getText=function(t){var e=this.get(t);switch(t){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[t][e];case"ExifVersion":case"FlashpixVersion":if(!e)return;return String.fromCharCode(e[0],e[1],e[2],e[3]);case"ComponentsConfiguration":if(!e)return;return this.stringValues[t][e[0]]+this.stringValues[t][e[1]]+this.stringValues[t][e[2]]+this.stringValues[t][e[3]];case"GPSVersionID":if(!e)return;return e[0]+"."+e[1]+"."+e[2]+"."+e[3]}return String(e)},function(t){var e,n=t.tags,r=t.map;for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[n[e]]=e)}(t.ExifMap.prototype),t.ExifMap.prototype.getAll=function(){var t,e,n={};for(t in this)Object.prototype.hasOwnProperty.call(this,t)&&(e=this.tags[t])&&(n[e]=this.getText(e));return n}})?r.apply(e,i):r)||(t.exports=o)}()},function(t,e,n){var r,i,o;!function(a){"use strict";i=[n(65),n(130)],void 0===(o="function"==typeof(r=function(t){t.IptcMap.prototype.tags={3:"ObjectType",4:"ObjectAttribute",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectRef",15:"Category",20:"SupplCategory",22:"FixtureID",25:"Keywords",26:"ContentLocCode",27:"ContentLocName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"RefService",47:"RefDate",50:"RefNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"CountryName",103:"OrigTransRef",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",122:"WriterEditor",130:"ImageType",131:"ImageOrientation",135:"LanguageID"},t.IptcMap.prototype.getText=function(t){var e=this.get(t);return String(e)},function(t){var e,n=t.tags,r=t.map||{};for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[n[e]]=e)}(t.IptcMap.prototype),t.IptcMap.prototype.getAll=function(){var t,e,n={};for(t in this)Object.prototype.hasOwnProperty.call(this,t)&&(e=this.tags[t])&&(n[e]=this.getText(e));return n}})?r.apply(e,i):r)||(t.exports=o)}()},function(t,e,n){var r,i,o;!function(a){"use strict";i=[n(65),n(128),n(81)],void 0===(o="function"==typeof(r=function(t){var e=t.hasCanvasOption,n=t.hasMetaOption,r=t.transformCoordinates,i=t.getTransformedOptions;o=document.createElement("img"),o.onload=function(){t.orientation=1===o.width&&2===o.height},o.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",t.hasCanvasOption=function(n){return!0==!!n.orientation&&!t.orientation||n.orientation>1&&n.orientation<9||e.call(t,n)},t.hasMetaOption=function(e){return e&&!0===e.orientation&&!t.orientation||n.call(t,e)},t.transformCoordinates=function(e,n){r.call(t,e,n);var i=e.getContext("2d"),o=e.width,a=e.height,s=e.style.width,l=e.style.height,c=n.orientation;if(c>1&&c<9)switch(c>4&&(e.width=a,e.height=o,e.style.width=l,e.style.height=s),c){case 2:i.translate(o,0),i.scale(-1,1);break;case 3:i.translate(o,a),i.rotate(Math.PI);break;case 4:i.translate(0,a),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-a);break;case 7:i.rotate(.5*Math.PI),i.translate(o,-a),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-o,0)}},t.getTransformedOptions=function(e,n,r){var o,a,s=i.call(t,e,n),l=s.orientation;if(!0===l){if(t.orientation)return s;l=r&&r.exif&&r.exif.get("Orientation")}if(!(l>1&&l<9))return s;for(a in o={},s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a]);switch(o.orientation=l,l){case 2:o.left=s.right,o.right=s.left;break;case 3:o.left=s.right,o.top=s.bottom,o.right=s.left,o.bottom=s.top;break;case 4:o.top=s.bottom,o.bottom=s.top;break;case 5:o.left=s.top,o.top=s.left,o.right=s.bottom,o.bottom=s.right;break;case 6:o.left=s.top,o.top=s.right,o.right=s.bottom,o.bottom=s.left;break;case 7:o.left=s.bottom,o.top=s.right,o.right=s.top,o.bottom=s.left;break;case 8:o.left=s.bottom,o.top=s.left,o.right=s.top,o.bottom=s.right}return o.orientation>4&&(o.maxWidth=s.maxHeight,o.maxHeight=s.maxWidth,o.minWidth=s.minHeight,o.minHeight=s.minWidth,o.sourceWidth=s.sourceHeight,o.sourceHeight=s.sourceWidth),o};var o})?r.apply(e,i):r)||(t.exports=o)}()},,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(63),i=n.n(r);class o extends i.a.Attributor.Class{add(t,e){if("+1"===e||"-1"===e){let n=this.value(t)||0;e="+1"===e?n+1:n-1}return 0===e?(this.remove(t),!0):super.add(t,e)}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e))}value(t){return parseInt(super.value(t))||void 0}}let a=new o("indent","ql-indent",{scope:i.a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]})},function(t,e,n){"use strict";var r=n(82);class i extends r.a{}i.blotName="strike",i.tagName="S",e.a=i}])]);