(self.webpackChunkinscriptum=self.webpackChunkinscriptum||[]).push([[472],{6856:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>i});var r=n(6798);const o=/^\s*>\s$/,i=r.NB.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return["blockquote",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,r.S0)({find:o,type:this.type})]}})},128:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>u});var r=n(6798);const o=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,i=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,s=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,a=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,u=r.vc.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],renderHTML({HTMLAttributes:t}){return["strong",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,r.Cf)({find:o,type:this.type}),(0,r.Cf)({find:s,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:i,type:this.type}),(0,r.K9)({find:a,type:this.type})]}})},7072:(t,e,n)=>{"use strict";n.d(e,{NM:()=>u,q3:()=>a});var r=n(6798),o=n(6922),i=n(3861);class s{constructor({editor:t,element:e,view:n,tippyOptions:o={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:t,state:e,from:n,to:o})=>{const{doc:i,selection:s}=e,{empty:a}=s,u=!i.textBetween(n,o).length&&(0,r.hT)(e.selection);return!(!t.hasFocus()||a||u)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.editor=t,this.element=e,this.view=n,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;!this.tippy&&e&&(this.tippy=(0,i.ZP)(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",(t=>{this.blurHandler({event:t})})))}update(t,e){var n,o;const{state:i,composing:s}=t,{doc:a,selection:u}=i,c=e&&e.doc.eq(a)&&e.selection.eq(u);if(s||c)return;this.createTooltip();const{ranges:l}=u,p=Math.min(...l.map((t=>t.$from.pos))),d=Math.max(...l.map((t=>t.$to.pos)));(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:t,state:i,oldState:e,from:p,to:d}))?(null===(o=this.tippy)||void 0===o||o.setProps({getReferenceClientRect:()=>{if((0,r.EG)(i.selection)){const e=t.nodeDOM(p);if(e)return e.getBoundingClientRect()}return(0,r.pr)(t,p,d)}}),this.show()):this.hide()}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t;null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const a=t=>new o.Sy({key:"string"==typeof t.pluginKey?new o.H$(t.pluginKey):t.pluginKey,view:e=>new s({view:e,...t})}),u=r.hj.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[a({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}})},7082:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>i});var r=n(6798);const o=/^\s*([-+*])\s$/,i=r.NB.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[(0,r.S0)({find:o,type:this.type})]}})},9889:(t,e,n)=>{"use strict";n.d(e,{dn:()=>a});var r=n(6798),o=n(6922);const i=/^```([a-z]+)?[\s\n]$/,s=/^~~~([a-z]+)?[\s\n]$/,a=r.NB.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,r=[...(null===(e=t.firstElementChild)||void 0===e?void 0:e.classList)||[]].filter((t=>t.startsWith(n))).map((t=>t.replace(n,"")))[0];return r||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:t,HTMLAttributes:e}){return["pre",(0,r.P1)(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!(!t||e.parent.type.name!==this.name)&&(!(!n&&e.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith("\n\n");return!(!i||!s)&&t.chain().command((({tr:t})=>(t.delete(r.pos-2,r.pos),!0))).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type)return!1;if(!(o.parentOffset===o.parent.nodeSize-2))return!1;const s=o.after();if(void 0===s)return!1;return!r.nodeAt(s)&&t.commands.exitCode()}}},addInputRules(){return[(0,r.zK)({find:i,type:this.type,getAttributes:t=>({language:t[1]})}),(0,r.zK)({find:s,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=null==i?void 0:i.mode;if(!n||!s)return!1;const{tr:a}=t.state;return a.replaceSelectionWith(this.type.create({language:s})),a.setSelection(o.Bs.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.insertText(n.replace(/\r\n?/g,"\n")),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}})},54:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>s});var r=n(6798);const o=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,i=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,s=r.vc.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,r.Cf)({find:o,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:i,type:this.type})]}})},8481:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n(6798).NB.create({name:"doc",topNode:!0,content:"block+"})},9302:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(6798),o=n(6922),i=n(1081);var s=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(e){var r=function(t){return n[e](t)};return t.dom.addEventListener(e,r),{name:e,handler:r}}))};s.prototype.destroy=function(){var t=this;this.handlers.forEach((function(e){var n=e.name,r=e.handler;return t.editorView.dom.removeEventListener(n,r)}))},s.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())},s.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},s.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var n=e.nodeBefore,r=e.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!t){var s=this.editorView.coordsAtPos(this.cursorPos);t={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a,u,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!c||c==document.body&&"static"==getComputedStyle(c).position)a=-pageXOffset,u=-pageYOffset;else{var l=c.getBoundingClientRect();a=l.left-c.scrollLeft,u=l.top-c.scrollTop}this.element.style.left=t.left-a+"px",this.element.style.top=t.top-u+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},s.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return e.setCursor(null)}),t)},s.prototype.dragover=function(t){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,e):r;if(e&&!o){var s=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(s=(0,i.nj)(this.editorView.state.doc,s,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}},s.prototype.dragend=function(){this.scheduleRemoval(20)},s.prototype.drop=function(){this.scheduleRemoval(20)},s.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)};const a=r.hj.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:null}),addProseMirrorPlugins(){return[(t=this.options,void 0===t&&(t={}),new o.Sy({view:function(e){return new s(e,t)}}))];var t}})},5394:(t,e,n)=>{"use strict";n.d(e,{AH:()=>u,JF:()=>a});var r=n(6798),o=n(6922),i=n(3861);class s{constructor({editor:t,element:e,view:n,tippyOptions:r={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:t,state:e})=>{const{selection:n}=e,{$anchor:r,empty:o}=n,i=1===r.depth,s=r.parent.isTextblock&&!r.parent.type.spec.code&&!r.parent.textContent;return!!(t.hasFocus()&&o&&i&&s)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.editor=t,this.element=e,this.view=n,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;!this.tippy&&e&&(this.tippy=(0,i.ZP)(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",(t=>{this.blurHandler({event:t})})))}update(t,e){var n,o;const{state:i}=t,{doc:s,selection:a}=i,{from:u,to:c}=a;if(e&&e.doc.eq(s)&&e.selection.eq(a))return;this.createTooltip();(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:t,state:i,oldState:e}))?(null===(o=this.tippy)||void 0===o||o.setProps({getReferenceClientRect:()=>(0,r.pr)(t,u,c)}),this.show()):this.hide()}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t;null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const a=t=>new o.Sy({key:"string"==typeof t.pluginKey?new o.H$(t.pluginKey):t.pluginKey,view:e=>new s({view:e,...t})}),u=r.hj.create({name:"floatingMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[a({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}})},4334:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r=n(6798),o=n(2629),i=n(6922),s=n(8780),a=n(8638),u=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return e.valid(o)?new e(o):t.near(o)},e.prototype.content=function(){return a.p2.empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(n.pos))},e.prototype.getBookmark=function(){return new c(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!function(t){for(var e=t.depth;e>=0;e--){var n=t.index(e),r=t.node(e);if(0!=n)for(var o=r.child(n-1);;o=o.lastChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t)||!function(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t))return!1;var n=e.type.spec.allowGapCursor;if(null!=n)return n;var r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock},e.findFrom=function(t,n,r){t:for(;;){if(!r&&e.valid(t))return t;for(var o=t.pos,s=null,a=t.depth;;a--){var u=t.node(a);if(n>0?t.indexAfter(a)<u.childCount:t.index(a)>0){s=u.child(n>0?t.indexAfter(a):t.index(a)-1);break}if(0==a)return null;o+=n;var c=t.doc.resolve(o);if(e.valid(c))return c}for(;;){var l=n>0?s.firstChild:s.lastChild;if(!l){if(s.isAtom&&!s.isText&&!i.qv.isSelectable(s)){t=t.doc.resolve(o+s.nodeSize*n),r=!1;continue t}break}s=l,o+=n;var p=t.doc.resolve(o);if(e.valid(p))return p}return null}},e}(i.Y1);u.prototype.visible=!1,i.Y1.jsonID("gapcursor",u);var c=function(t){this.pos=t};c.prototype.map=function(t){return new c(t.map(this.pos))},c.prototype.resolve=function(t){var e=t.resolve(this.pos);return u.valid(e)?new u(e):i.Y1.near(e)};var l=(0,o.$)({ArrowLeft:p("horiz",-1),ArrowRight:p("horiz",1),ArrowUp:p("vert",-1),ArrowDown:p("vert",1)});function p(t,e){var n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,o){var s=t.selection,a=e>0?s.$to:s.$from,c=s.empty;if(s instanceof i.Bs){if(!o.endOfTextblock(n)||0==a.depth)return!1;c=!1,a=t.doc.resolve(e>0?a.after():a.before())}var l=u.findFrom(a,e,c);return!!l&&(r&&r(t.tr.setSelection(new u(l))),!0)}}function d(t,e,n){if(!t.editable)return!1;var r=t.state.doc.resolve(e);if(!u.valid(r))return!1;var o=t.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(o>-1&&i.qv.isSelectable(t.state.doc.nodeAt(o)))&&(t.dispatch(t.state.tr.setSelection(new u(r))),!0)}function h(t){if(!(t.selection instanceof u))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",s.EH.create(t.doc,[s.p.widget(t.selection.head,e,{key:"gapcursor"})])}const f=r.hj.create({name:"gapCursor",addProseMirrorPlugins:()=>[new i.Sy({props:{decorations:h,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&u.valid(n))return new u(n)},handleClick:d,handleKeyDown:l}})],extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:null!==(e=(0,r.nU)((0,r.Nl)(t,"allowGapCursor",n)))&&void 0!==e?e:null}}})},7191:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(6798);const o=r.NB.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",(0,r.P1)(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command((()=>{const{selection:t,storedMarks:o}=n;if(t.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:s}=r.extensionManager,a=o||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:this.name}).command((({tr:t,dispatch:e})=>{if(e&&a&&i){const e=a.filter((t=>s.includes(t.type.name)));t.ensureMarks(e)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}})},1769:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(6798);const o=r.NB.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((t=>({tag:`h${t}`,attrs:{level:t}})))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,(0,r.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode(this.name,t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce(((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})})),{})},addInputRules(){return this.options.levels.map((t=>(0,r.zK)({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}})))}})},4524:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>s});var r=n(6798);const o=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,i=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,s=r.vc.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:t}){return["mark",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[(0,r.Cf)({find:o,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:i,type:this.type})]}})},3142:(t,e,n)=>{"use strict";n.d(e,{Z:()=>k});var r=n(6798),o=200,i=function(){};i.prototype.append=function(t){return t.length?(t=i.from(t),!this.length&&t||t.length<o&&this.leafAppend(t)||this.length<o&&t.leafPrepend(this)||this.appendInner(t)):this},i.prototype.prepend=function(t){return t.length?i.from(t).append(this):this},i.prototype.appendInner=function(t){return new a(this,t)},i.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?i.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},i.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},i.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},i.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},i.from=function(t){return t instanceof i?t:t&&t.length?new s(t):i.empty};var s=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(!1===t(this.values[o],r+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],r+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=o)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=o)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(i);i.empty=new s([]);var a=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(i);const u=i;var c=n(1081),l=n(6922),p=function(t,e){this.items=t,this.eventCount=e};p.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(r=this.remapping(i,this.items.length),o=r.maps.length);var s,a,u=t.tr,c=[],l=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(i,e+1),o=r.maps.length),o--,void l.push(t);if(r){l.push(new d(t.map));var h,f=t.step.map(r.slice(o));f&&u.maybeStep(f).doc&&(h=u.mapping.maps[u.mapping.maps.length-1],c.push(new d(h,null,null,c.length+l.length))),o--,h&&r.appendMap(h,o)}else u.maybeStep(t.step);return t.selection?(s=r?t.selection.map(r.slice(o)):t.selection,a=new p(n.items.slice(0,i).append(l.reverse().concat(c)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:u,selection:s}},p.prototype.addTransform=function(t,e,n,r){for(var o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,u=0;u<t.steps.length;u++){var c,l=t.steps[u].invert(t.docs[u]),h=new d(t.mapping.maps[u],l,e);(c=a&&a.merge(h))&&(h=c,u?o.pop():s=s.slice(0,s.length-1)),o.push(h),e&&(i++,e=null),r||(a=h)}var m,g,v,y=i-n.depth;return y>f&&(g=y,(m=s).forEach((function(t,e){if(t.selection&&0==g--)return v=e,!1})),s=m.slice(v),i-=y),new p(s.append(o),i)},p.prototype.remapping=function(t,e){var n=new c.vs;return this.items.forEach((function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)}),t,e),n},p.prototype.addMaps=function(t){return 0==this.eventCount?this:new p(this.items.append(t.map((function(t){return new d(t)}))),this.eventCount)},p.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach((function(t){t.selection&&s--}),r);var a=e;this.items.forEach((function(e){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var u=o.maps[r];if(e.step){var c=t.steps[r].invert(t.docs[r]),l=e.selection&&e.selection.map(o.slice(a+1,r));l&&s++,n.push(new d(u,c,l))}else n.push(new d(u))}}),r);for(var u=[],c=e;c<i;c++)u.push(new d(o.maps[c]));var l=this.items.slice(0,r).append(u).append(n),h=new p(l,s);return h.emptyItemCount()>500&&(h=h.compress(this.items.length-n.length)),h},p.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},p.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((function(i,s){if(s>=t)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(e.slice(n)),u=a&&a.getMap();if(n--,u&&e.appendMap(u,n),a){var c=i.selection&&i.selection.map(e.slice(n));c&&o++;var l,p=new d(u.invert(),a,c),h=r.length-1;(l=r.length&&r[h].merge(p))?r[h]=l:r.push(p)}}else i.map&&n--}),this.items.length,0),new p(u.from(r.reverse()),o)},p.empty=new p(u.empty,0);var d=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};d.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new d(e.getMap().invert(),e,this.selection)}};var h=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},f=20;function m(t){var e=[];return t.forEach((function(t,n,r,o){return e.push(r,o)})),e}function g(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function v(t,e,n,r){var o=w(e),i=D.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),u=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),c=new h(r?u:s.remaining,r?s.remaining:u,null,0);n(s.transform.setSelection(a).setMeta(D,{redo:r,historyState:c}).scrollIntoView())}}var y=!1,b=null;function w(t){var e=t.plugins;if(b!=e){y=!1,b=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){y=!0;break}}return y}var D=new l.H$("history"),E=new l.H$("closeHistory");function A(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new l.Sy({key:D,state:{init:function(){return new h(p.empty,p.empty,null,0)},apply:function(e,n,r){return function(t,e,n,r){var o,i=n.getMeta(D);if(i)return i.historyState;n.getMeta(E)&&(t=new h(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(D))return s.getMeta(D).redo?new h(t.done.addTransform(n,null,r,w(e)),t.undone,m(n.mapping.maps[n.steps.length-1]),t.prevTime):new h(t.done,t.undone.addTransform(n,null,r,w(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new h(t.done.rebased(n,o),t.undone.rebased(n,o),g(t.prevRanges,n.mapping),t.prevTime):new h(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),g(t.prevRanges,n.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)})),n}(n,t.prevRanges)),u=s?g(t.prevRanges,n.mapping):m(n.mapping.maps[n.steps.length-1]);return new h(t.done.addTransform(n,a?e.selection.getBookmark():null,r,w(e)),p.empty,u,n.time)}(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput:function(t,e){var n="historyUndo"==e.inputType?C(t.state,t.dispatch):"historyRedo"==e.inputType&&x(t.state,t.dispatch);return n&&e.preventDefault(),n}}}})}function C(t,e){var n=D.getState(t);return!(!n||0==n.done.eventCount)&&(e&&v(n,t,e,!1),!0)}function x(t,e){var n=D.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&v(n,t,e,!0),!0)}const k=r.hj.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:e})=>C(t,e),redo:()=>({state:t,dispatch:e})=>x(t,e)}),addProseMirrorPlugins(){return[A(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}})},6829:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(6798),o=n(6922);const i=r.NB.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",(0,r.P1)(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command((({tr:t,dispatch:e})=>{var n;if(e){const{$to:e}=t.selection,r=e.end();if(e.nodeAfter)t.setSelection(o.Bs.create(t.doc,e.pos));else{const i=null===(n=e.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();i&&(t.insert(r,i),t.setSelection(o.Bs.create(t.doc,r)))}t.scrollIntoView()}return!0})).run()}},addInputRules(){return[(0,r.x2)({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}})},9802:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>u});var r=n(6798);const o=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,i=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,s=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,a=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,u=r.vc.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:t}){return["em",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,r.Cf)({find:o,type:this.type}),(0,r.Cf)({find:s,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:i,type:this.type}),(0,r.K9)({find:a,type:this.type})]}})},8872:(t,e,n)=>{"use strict";n.d(e,{r:()=>St});var r=n(6798);function o(t){this.j={},this.jr=[],this.jd=null,this.t=t}o.prototype={accepts:function(){return!!this.t},tt:function(t,e){if(e&&e.j)return this.j[t]=e,e;var n=e,r=this.j[t];if(r)return n&&(r.t=n),r;r=i();var o=c(this,t);return o?(Object.assign(r.j,o.j),r.jr.append(o.jr),r.jr=o.jd,r.t=n||o.t):r.t=n,this.j[t]=r,r}};var i=function(){return new o},s=function(t){return new o(t)},a=function(t,e,n){t.j[e]||(t.j[e]=n)},u=function(t,e,n){t.jr.push([e,n])},c=function(t,e){var n=t.j[e];if(n)return n;for(var r=0;r<t.jr.length;r++){var o=t.jr[r][0],i=t.jr[r][1];if(o.test(e))return i}return t.jd},l=function(t,e,n){for(var r=0;r<e.length;r++)a(t,e[r],n)},p=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0],o=e[n][1];a(t,r,o)}},d=function(t,e,n,r){for(var o,i=0,s=e.length;i<s&&(o=t.j[e[i]]);)t=o,i++;if(i>=s)return[];for(;i<s-1;)o=r(),a(t,e[i],o),t=o,i++;a(t,e[s-1],n)},h="DOMAIN",f="LOCALHOST",m="TLD",g="NUM",v="PROTOCOL",y="MAILTO",b="WS",w="NL",D="OPENBRACE",E="OPENBRACKET",A="OPENANGLEBRACKET",C="OPENPAREN",x="CLOSEBRACE",k="CLOSEBRACKET",S="CLOSEANGLEBRACKET",M="CLOSEPAREN",O="AMPERSAND",T="APOSTROPHE",F="ASTERISK",N="AT",_="BACKSLASH",B="BACKTICK",R="CARET",L="COLON",I="COMMA",H="DOLLAR",j="DOT",z="EQUALS",$="EXCLAMATION",P="HYPHEN",q="PERCENT",W="PIPE",U="PLUS",K="POUND",Z="QUERY",J="QUOTE",V="SEMI",G="SLASH",Y="TILDE",X="UNDERSCORE",Q="SYM",tt=Object.freeze({__proto__:null,DOMAIN:h,LOCALHOST:f,TLD:m,NUM:g,PROTOCOL:v,MAILTO:y,WS:b,NL:w,OPENBRACE:D,OPENBRACKET:E,OPENANGLEBRACKET:A,OPENPAREN:C,CLOSEBRACE:x,CLOSEBRACKET:k,CLOSEANGLEBRACKET:S,CLOSEPAREN:M,AMPERSAND:O,APOSTROPHE:T,ASTERISK:F,AT:N,BACKSLASH:_,BACKTICK:B,CARET:R,COLON:L,COMMA:I,DOLLAR:H,DOT:j,EQUALS:z,EXCLAMATION:$,HYPHEN:P,PERCENT:q,PIPE:W,PLUS:U,POUND:K,QUERY:Z,QUOTE:J,SEMI:V,SLASH:G,TILDE:Y,UNDERSCORE:X,SYM:Q}),et="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw vermögensberater-ctb vermögensberatung-pwb ελ ευ бг бел дети ею католик ком қаз мкд мон москва онлайн орг рус рф сайт срб укр გე հայ ישראל קום ابوظبي اتصالات ارامكو الاردن البحرين الجزائر السعودية العليان المغرب امارات ایران بارت بازار بھارت بيتك پاکستان ڀارت تونس سودان سورية شبكة عراق عرب عمان فلسطين قطر كاثوليك كوم مصر مليسيا موريتانيا موقع همراه कॉम नेट भारत भारतम् भारोत संगठन বাংলা ভারত ভাৰত ਭਾਰਤ ભારત ଭାରତ இந்தியா இலங்கை சிங்கப்பூர் భారత్ ಭಾರತ ഭാരതം ලංකා คอม ไทย ລາວ 닷넷 닷컴 삼성 한국 アマゾン グーグル クラウド コム ストア セール ファッション ポイント みんな 世界 中信 中国 中國 中文网 亚马逊 企业 佛山 信息 健康 八卦 公司 公益 台湾 台灣 商城 商店 商标 嘉里 嘉里大酒店 在线 大众汽车 大拿 天主教 娱乐 家電 广东 微博 慈善 我爱你 手机 招聘 政务 政府 新加坡 新闻 时尚 書籍 机构 淡马锡 游戏 澳門 点看 移动 组织机构 网址 网店 网站 网络 联通 诺基亚 谷歌 购物 通販 集团 電訊盈科 飞利浦 食品 餐厅 香格里拉 香港".split(" "),nt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,rt=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,ot=/\uFE0F/,it=/\d/,st=/\s/;function at(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=i(),n=s(g),r=s(h),o=i(),c=s(b),l=[[it,r],[nt,r],[rt,r],[ot,r]],tt=function(){var t=s(h);return t.j={"-":o},t.jr=[].concat(l),t},at=function(t){var e=tt();return e.t=t,e};p(e,[["'",s(T)],["{",s(D)],["[",s(E)],["<",s(A)],["(",s(C)],["}",s(x)],["]",s(k)],[">",s(S)],[")",s(M)],["&",s(O)],["*",s(F)],["@",s(N)],["`",s(B)],["^",s(R)],[":",s(L)],[",",s(I)],["$",s(H)],[".",s(j)],["=",s(z)],["!",s($)],["-",s(P)],["%",s(q)],["|",s(W)],["+",s(U)],["#",s(K)],["?",s(Z)],['"',s(J)],["/",s(G)],[";",s(V)],["~",s(Y)],["_",s(X)],["\\",s(_)]]),a(e,"\n",s(w)),u(e,st,c),a(c,"\n",i()),u(c,st,c);for(var ut=0;ut<et.length;ut++)d(e,et[ut],at(m),tt);var ct=tt(),lt=tt(),pt=tt(),dt=tt();d(e,"file",ct,tt),d(e,"ftp",lt,tt),d(e,"http",pt,tt),d(e,"mailto",dt,tt);var ht=tt(),ft=s(v),mt=s(y);a(lt,"s",ht),a(lt,":",ft),a(pt,"s",ht),a(pt,":",ft),a(ct,":",ft),a(ht,":",ft),a(dt,":",mt);for(var gt=tt(),vt=0;vt<t.length;vt++)d(e,t[vt],gt,tt);return a(gt,":",ft),d(e,"localhost",at(f),tt),u(e,it,n),u(e,nt,r),u(e,rt,r),u(e,ot,r),u(n,it,n),u(n,nt,r),u(n,rt,r),u(n,ot,r),a(n,"-",o),a(r,"-",o),a(o,"-",o),u(r,it,r),u(r,nt,r),u(r,rt,r),u(r,ot,r),u(o,it,r),u(o,nt,r),u(o,rt,r),u(o,ot,r),e.jd=s(Q),e}function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}var ct={defaultProtocol:"http",events:null,format:pt,formatHref:pt,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function lt(t){t=t||{},this.defaultProtocol="defaultProtocol"in t?t.defaultProtocol:ct.defaultProtocol,this.events="events"in t?t.events:ct.events,this.format="format"in t?t.format:ct.format,this.formatHref="formatHref"in t?t.formatHref:ct.formatHref,this.nl2br="nl2br"in t?t.nl2br:ct.nl2br,this.tagName="tagName"in t?t.tagName:ct.tagName,this.target="target"in t?t.target:ct.target,this.rel="rel"in t?t.rel:ct.rel,this.validate="validate"in t?t.validate:ct.validate,this.truncate="truncate"in t?t.truncate:ct.truncate,this.className="className"in t?t.className:ct.className,this.attributes=t.attributes||ct.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in t?t.ignoreTags:ct.ignoreTags),n=0;n<e.length;n++)this.ignoreTags.push(e[n].toUpperCase())}function pt(t){return t}lt.prototype={resolve:function(t){var e=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",e,t),tagName:this.get("tagName",e,t),className:this.get("className",e,t),target:this.get("target",e,t),rel:this.get("rel",e,t),events:this.getObject("events",e,t),attributes:this.getObject("attributes",e,t),truncate:this.get("truncate",e,t)}},check:function(t){return this.get("validate",t.toString(),t)},get:function(t,e,n){var r,o=this[t];if(!o)return o;switch(ut(o)){case"function":return o(e,n.t);case"object":return"function"==typeof(r=n.t in o?o[n.t]:ct[t])?r(e,n.t):r}return o},getObject:function(t,e,n){var r=this[t];return"function"==typeof r?r(e,n.t):r}};function dt(){}function ht(t,e){function n(e,n){this.t=t,this.v=e,this.tk=n}return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(t.prototype);for(var o in n)r[o]=n[o];r.constructor=e,e.prototype=r}(dt,n,e),n}dt.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}}};var ft=ht("email",{isLink:!0}),mt=ht("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),gt=ht("text"),vt=ht("nl"),yt=ht("url",{isLink:!0,toHref:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct.defaultProtocol,e=this.tk,n=!1,r=!1,o=[],i=0;e[i].t===v;)n=!0,o.push(e[i].v),i++;for(;e[i].t===G;)r=!0,o.push(e[i].v),i++;for(;i<e.length;i++)o.push(e[i].v);return o=o.join(""),n||r||(o="".concat(t,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===v}}),bt=Object.freeze({__proto__:null,MultiToken:dt,Base:dt,createTokenClass:ht,MailtoEmail:ft,Email:mt,Text:gt,Nl:vt,Url:yt});function wt(){var t=i(),e=i(),n=i(),r=i(),o=i(),u=i(),c=i(),p=s(yt),d=i(),b=s(yt),tt=s(yt),et=i(),nt=i(),rt=i(),ot=i(),it=i(),st=s(yt),at=s(yt),ut=s(yt),ct=s(yt),lt=i(),pt=i(),dt=i(),ht=i(),gt=i(),bt=i(),wt=s(mt),Dt=i(),Et=s(mt),At=s(ft),Ct=i(),xt=i(),kt=i(),St=i(),Mt=s(vt);a(t,w,Mt),a(t,v,e),a(t,y,n),a(e,G,r),a(r,G,o),a(t,m,u),a(t,h,u),a(t,f,p),a(t,g,u),a(o,m,tt),a(o,h,tt),a(o,g,tt),a(o,f,tt),a(u,j,c),a(gt,j,bt),a(c,m,p),a(c,h,u),a(c,g,u),a(c,f,u),a(bt,m,wt),a(bt,h,gt),a(bt,g,gt),a(bt,f,gt),a(p,j,c),a(wt,j,bt),a(p,L,d),a(p,G,tt),a(d,g,b),a(b,G,tt),a(wt,L,Dt),a(Dt,g,Et);var Ot=[O,F,N,_,B,R,H,h,z,P,f,g,q,W,U,K,v,G,Q,Y,m,X],Tt=[T,S,x,k,M,L,I,j,$,A,D,E,C,Z,J,V];a(tt,D,nt),a(tt,E,rt),a(tt,A,ot),a(tt,C,it),a(et,D,nt),a(et,E,rt),a(et,A,ot),a(et,C,it),a(nt,x,tt),a(rt,k,tt),a(ot,S,tt),a(it,M,tt),a(st,x,tt),a(at,k,tt),a(ut,S,tt),a(ct,M,tt),a(lt,x,tt),a(pt,k,tt),a(dt,S,tt),a(ht,M,tt),l(nt,Ot,st),l(rt,Ot,at),l(ot,Ot,ut),l(it,Ot,ct),l(nt,Tt,lt),l(rt,Tt,pt),l(ot,Tt,dt),l(it,Tt,ht),l(st,Ot,st),l(at,Ot,at),l(ut,Ot,ut),l(ct,Ot,ct),l(st,Tt,st),l(at,Tt,at),l(ut,Tt,ut),l(ct,Tt,ct),l(lt,Ot,st),l(pt,Ot,at),l(dt,Ot,ut),l(ht,Ot,ct),l(lt,Tt,lt),l(pt,Tt,pt),l(dt,Tt,dt),l(ht,Tt,ht),l(tt,Ot,tt),l(et,Ot,tt),l(tt,Tt,et),l(et,Tt,et),a(n,m,At),a(n,h,At),a(n,g,At),a(n,f,At),l(At,Ot,At),l(At,Tt,Ct),l(Ct,Ot,At),l(Ct,Tt,Ct);var Ft=[O,T,F,_,B,R,x,H,h,z,P,g,D,q,W,U,K,Z,G,Q,Y,m,X];return l(u,Ft,xt),a(u,N,kt),l(p,Ft,xt),a(p,N,kt),l(c,Ft,xt),l(xt,Ft,xt),a(xt,N,kt),a(xt,j,St),l(St,Ft,xt),a(kt,m,gt),a(kt,h,gt),a(kt,g,gt),a(kt,f,wt),t}function Dt(t,e,n){var r=n[0].s,o=n[n.length-1].e;return new t(e.substr(r,o-r),n)}"undefined"!=typeof console&&console&&console.warn;var Et={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function At(t){return Et.initialized||function(){Et.scanner={start:at(Et.customProtocols),tokens:tt},Et.parser={start:wt(),tokens:bt};for(var t={createTokenClass:ht},e=0;e<Et.pluginQueue.length;e++)Et.pluginQueue[e][1]({scanner:Et.scanner,parser:Et.parser,utils:t});Et.initialized=!0}(),function(t,e,n){for(var r=n.length,o=0,i=[],s=[];o<r;){for(var a=t,u=null,l=null,p=0,d=null,h=-1;o<r&&!(u=c(a,n[o].t));)s.push(n[o++]);for(;o<r&&(l=u||c(a,n[o].t));)u=null,(a=l).accepts()?(h=0,d=a):h>=0&&h++,o++,p++;if(h<0)for(var f=o-p;f<o;f++)s.push(n[f]);else{s.length>0&&(i.push(Dt(gt,e,s)),s=[]),o-=h,p-=h;var m=d.t,g=n.slice(o-p,o);i.push(Dt(m,e,g))}}return s.length>0&&i.push(Dt(gt,e,s)),i}(Et.parser.start,t,function(t,e){for(var n=function(t){for(var e=[],n=t.length,r=0;r<n;){var o=t.charCodeAt(r),i=void 0,s=o<55296||o>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}(e.replace(/[A-Z]/g,(function(t){return t.toLowerCase()}))),r=n.length,o=[],i=0,s=0;s<r;){for(var a=t,u=null,l=0,p=null,d=-1,h=-1;s<r&&(u=c(a,n[s]));)(a=u).accepts()?(d=0,h=0,p=a):d>=0&&(d+=n[s].length,h++),l+=n[s].length,i+=n[s].length,s++;i-=d,s-=h,l-=d,o.push({t:p.t,v:e.substr(i-l,l),s:i-l,e:i})}return o}(Et.scanner.start,t))}function Ct(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=At(t),r=[],o=0;o<n.length;o++){var i=n[o];!i.isLink||e&&i.t!==e||r.push(i.toObject())}return r}function xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=At(t);return 1===n.length&&n[0].isLink&&(!e||n[0].t===e)}var kt=n(6922);const St=r.vc.create({name:"link",priority:1e3,keepOnSplit:!1,inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow"}}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target}}},parseHTML:()=>[{tag:"a[href]"}],renderHTML({HTMLAttributes:t}){return["a",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[(0,r.K9)({find:t=>Ct(t).filter((t=>t.isLink)).map((t=>({text:t.value,index:t.start,data:t}))),type:this.type,getAttributes:t=>{var e;return{href:null===(e=t.data)||void 0===e?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(function(t){return new kt.Sy({key:new kt.H$("autolink"),appendTransaction:(e,n,o)=>{const i=e.some((t=>t.docChanged))&&!n.doc.eq(o.doc),s=e.some((t=>t.getMeta("preventAutolink")));if(!i||s)return;const{tr:a}=o,u=(0,r.XP)(n.doc,e),{mapping:c}=u;return(0,r.QC)(u).forEach((({oldRange:e,newRange:i})=>{(0,r.tI)(e.from,e.to,n.doc).filter((e=>e.mark.type===t.type)).forEach((e=>{const i=c.map(e.from),s=c.map(e.to),u=(0,r.tI)(i,s,o.doc).filter((e=>e.mark.type===t.type));if(!u.length)return;const l=u[0],p=n.doc.textBetween(e.from,e.to,void 0," "),d=o.doc.textBetween(l.from,l.to,void 0," "),h=xt(p),f=xt(d);h&&!f&&a.removeMark(l.from,l.to,t.type)})),(0,r.b5)(o.doc,i,(t=>t.isTextblock)).forEach((e=>{Ct(o.doc.textBetween(e.pos,e.pos+e.node.nodeSize,void 0," ")).filter((t=>t.isLink)).map((t=>({...t,from:e.pos+t.start+1,to:e.pos+t.end+1}))).filter((t=>{const e=i.from>=t.from&&i.from<=t.to,n=i.to>=t.from&&i.to<=t.to;return e||n})).forEach((e=>{a.addMark(e.from,e.to,t.type.create({href:e.href}))}))}))})),a.steps.length?a:void 0}})}({type:this.type})),this.options.openOnClick&&t.push(function(t){return new kt.Sy({key:new kt.H$("handleClickLink"),props:{handleClick:(e,n,o)=>{var i;const s=(0,r.u9)(e.state,t.type.name);return!(!(null===(i=o.target)||void 0===i?void 0:i.closest("a"))||!s.href||(window.open(s.href,s.target),0))}}})}({type:this.type})),this.options.linkOnPaste&&t.push(function(t){return new kt.Sy({key:new kt.H$("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:o}=e,{selection:i}=o,{empty:s}=i;if(s)return!1;let a="";r.content.forEach((t=>{a+=t.textContent}));const u=Ct(a).find((t=>t.isLink&&t.value===a));return!(!a||!u||(t.editor.commands.setMark(t.type,{href:u.href}),0))}}})}({editor:this.editor,type:this.type})),t}})},3427:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(6798);const o=r.NB.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",(0,r.P1)(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}})},5961:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>i});var r=n(6798);const o=/^(\d+)\.\s$/,i=r.NB.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return 1===e?["ol",(0,r.P1)(this.options.HTMLAttributes,n),0]:["ol",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[(0,r.S0)({find:o,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}})},9457:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(6798);const o=r.NB.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}})},3418:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>s});var r=n(6798);const o=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,i=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,s=r.vc.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,r.Cf)({find:o,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:i,type:this.type})]}})},9467:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(6798);const o=r.NB.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}),tableRole:"cell",isolating:!0,parseHTML:()=>[{tag:"td"}],renderHTML({HTMLAttributes:t}){return["td",(0,r.P1)(this.options.HTMLAttributes,t),0]}})},2992:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(6798);const o=r.NB.create({name:"tableHeader",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}),tableRole:"header_cell",isolating:!0,parseHTML:()=>[{tag:"th"}],renderHTML({HTMLAttributes:t}){return["th",(0,r.P1)(this.options.HTMLAttributes,t),0]}})},157:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(6798);const o=r.NB.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML:()=>[{tag:"tr"}],renderHTML({HTMLAttributes:t}){return["tr",(0,r.P1)(this.options.HTMLAttributes,t),0]}})},5112:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>An});var r,o,i=n(6798),s=n(6922),a=n(8638),u=n(2629),c=n(8780),l=n(1081);if("undefined"!=typeof WeakMap){var p=new WeakMap;r=function(t){return p.get(t)},o=function(t,e){return p.set(t,e),e}}else{var d=[],h=0;r=function(t){for(var e=0;e<d.length;e+=2)if(d[e]==t)return d[e+1]},o=function(t,e){return 10==h&&(h=0),d[h++]=t,d[h++]=e}}var f=function(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r},m=function(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r};function g(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}function v(t){var e=t.cached.tableNodeTypes;if(!e)for(var n in e=t.cached.tableNodeTypes={},t.nodes){var r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}return e}m.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var n=this.map[e];if(n==t){for(var r=e%this.width,o=e/this.width|0,i=r+1,s=o+1,a=1;i<this.width&&this.map[e+a]==n;a++)i++;for(var u=1;s<this.height&&this.map[e+this.width*u]==n;u++)s++;return new f(r,o,i,s)}}throw new RangeError("No cell with offset "+t+" found")},m.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},m.prototype.nextCell=function(t,e,n){var r=this.findCell(t),o=r.left,i=r.right,s=r.top,a=r.bottom;return"horiz"==e?(n<0?0==o:i==this.width)?null:this.map[s*this.width+(n<0?o-1:i)]:(n<0?0==s:a==this.height)?null:this.map[o+this.width*(n<0?s-1:a)]},m.prototype.rectBetween=function(t,e){var n=this.findCell(t),r=n.left,o=n.right,i=n.top,s=n.bottom,a=this.findCell(e),u=a.left,c=a.right,l=a.top,p=a.bottom;return new f(Math.min(r,u),Math.min(i,l),Math.max(o,c),Math.max(s,p))},m.prototype.cellsInRect=function(t){for(var e=[],n={},r=t.top;r<t.bottom;r++)for(var o=t.left;o<t.right;o++){var i=r*this.width+o,s=this.map[i];n[s]||(n[s]=!0,o==t.left&&o&&this.map[i-1]==s||r==t.top&&r&&this.map[i-this.width]==s||e.push(s))}return e},m.prototype.positionAt=function(t,e,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==t){for(var s=e+t*this.width,a=(t+1)*this.width;s<a&&this.map[s]<o;)s++;return s==a?i-1:this.map[s]}o=i}},m.get=function(t){return r(t)||o(t,function(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=function(t){for(var e=-1,n=!1,r=0;r<t.childCount;r++){var o=t.child(r),i=0;if(n)for(var s=0;s<r;s++)for(var a=t.child(s),u=0;u<a.childCount;u++){var c=a.child(u);s+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}for(var l=0;l<o.childCount;l++){var p=o.child(l);i+=p.attrs.colspan,p.attrs.rowspan>1&&(n=!0)}-1==e?e=i:e!=i&&(e=Math.max(e,i))}return e}(t),n=t.childCount,r=[],o=0,i=null,s=[],a=0,u=e*n;a<u;a++)r[a]=0;for(var c=0,l=0;c<n;c++){var p=t.child(c);l++;for(var d=0;;d++){for(;o<r.length&&0!=r[o];)o++;if(d==p.childCount)break;for(var h=p.child(d),f=h.attrs,v=f.colspan,y=f.rowspan,b=f.colwidth,w=0;w<y;w++){if(w+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:l,n:y-w});break}for(var D=o+w*e,E=0;E<v;E++){0==r[D+E]?r[D+E]=l:(i||(i=[])).push({type:"collision",row:c,pos:l,n:v-E});var A=b&&b[E];if(A){var C=(D+E)%e*2,x=s[C];null==x||x!=A&&1==s[C+1]?(s[C]=A,s[C+1]=1):x==A&&s[C+1]++}}}o+=v,l+=h.nodeSize}for(var k=(c+1)*e,S=0;o<k;)0==r[o++]&&S++;S&&(i||(i=[])).push({type:"missing",row:c,n:S}),l++}for(var M=new m(e,n,r,i),O=!1,T=0;!O&&T<s.length;T+=2)null!=s[T]&&s[T+1]<n&&(O=!0);O&&function(t,e,n){t.problems||(t.problems=[]);for(var r=0,o={};r<t.map.length;r++){var i=t.map[r];if(!o[i]){o[i]=!0;for(var s=n.nodeAt(i),a=null,u=0;u<s.attrs.colspan;u++){var c=e[2*((r+u)%t.width)];null==c||s.attrs.colwidth&&s.attrs.colwidth[u]==c||((a||(a=g(s.attrs)))[u]=c)}a&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:a})}}}(M,s,t);return M}(t))};var y=new s.H$("selectingCells");function b(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function w(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if("row"==e.node(n).type.spec.tableRole)return!0;return!1}function D(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:b(e.$head)||function(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n)}for(var o=t.nodeBefore,i=t.pos;o;o=o.lastChild,i--){var s=o.type.spec.tableRole;if("cell"==s||"header_cell"==s)return t.doc.resolve(i-o.nodeSize)}}(e.$head)}function E(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function A(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function C(t,e,n){var r=t.start(-1),o=m.get(t.node(-1)).nextCell(t.pos-r,e,n);return null==o?null:t.node(0).resolve(r+o)}function x(t,e,n){var r={};for(var o in t)r[o]=t[o];return r[e]=n,r}function k(t,e,n){void 0===n&&(n=1);var r=x(t,"colspan",t.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some((function(t){return t>0}))||(r.colwidth=null)),r}function S(t,e,n){void 0===n&&(n=1);var r=x(t,"colspan",t.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(e,0,0)}return r}var M=function(t){function e(e,n){void 0===n&&(n=e);var r=e.node(-1),o=m.get(r),i=e.start(-1),a=o.rectBetween(e.pos-i,n.pos-i),u=e.node(0),c=o.cellsInRect(a).filter((function(t){return t!=n.pos-i}));c.unshift(n.pos-i);var l=c.map((function(t){var e=r.nodeAt(t),n=t+i+1;return new s.xm(u.resolve(n),u.resolve(n+e.content.size))}));t.call(this,l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,n){var r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(E(r)&&E(o)&&A(r,o)){var i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?e.rowSelection(r,o):i&&this.isColSelection()?e.colSelection(r,o):new e(r,o)}return s.Bs.between(r,o)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=m.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],s=r.top;s<r.bottom;s++){for(var u=[],c=s*e.width+r.left,l=r.left;l<r.right;l++,c++){var p=e.map[c];if(!o[p]){o[p]=!0;var d=e.findCell(p),h=t.nodeAt(p),f=r.left-d.left,g=d.right-r.right;if(f>0||g>0){var v=h.attrs;f>0&&(v=k(v,0,f)),g>0&&(v=k(v,v.colspan-g,g)),h=d.left<r.left?h.type.createAndFill(v):h.type.create(v,h.content)}if(d.top<r.top||d.bottom>r.bottom){var y=x(h.attrs,"rowspan",Math.min(d.bottom,r.bottom)-Math.max(d.top,r.top));h=d.top<r.top?h.type.createAndFill(y):h.type.create(y,h.content)}u.push(h)}}i.push(t.child(s).copy(a.HY.from(u)))}var b=this.isColSelection()&&this.isRowSelection()?t:i;return new a.p2(a.HY.from(b),1,1)},e.prototype.replace=function(e,n){void 0===n&&(n=a.p2.empty);for(var r=e.steps.length,o=this.ranges,i=0;i<o.length;i++){var s=o[i],u=s.$from,c=s.$to,l=e.mapping.slice(r);e.replace(l.map(u.pos),l.map(c.pos),i?a.p2.empty:n)}var p=t.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);p&&e.setSelection(p)},e.prototype.replaceWith=function(t,e){this.replace(t,new a.p2(a.HY.from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),n=m.get(e),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)t(e.nodeAt(o[i]),r+o[i])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},e.colSelection=function(t,n){void 0===n&&(n=t);var r=m.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),s=r.findCell(n.pos-o),a=t.node(0);return i.top<=s.top?(i.top>0&&(t=a.resolve(o+r.map[i.left])),s.bottom<r.height&&(n=a.resolve(o+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(o+r.map[s.left])),i.bottom<r.height&&(t=a.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new e(t,n)},e.prototype.isRowSelection=function(){var t=m.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),r=t.colCount(this.$headCell.pos-e);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,n){void 0===n&&(n=t);var r=m.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),s=r.findCell(n.pos-o),a=t.node(0);return i.left<=s.left?(i.left>0&&(t=a.resolve(o+r.map[i.top*r.width])),s.right<r.width&&(n=a.resolve(o+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(o+r.map[s.top*r.width])),i.right<r.width&&(t=a.resolve(o+r.map[r.width*(i.top+1)-1]))),new e(t,n)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,n,r){return void 0===r&&(r=n),new e(t.resolve(n),t.resolve(r))},e.prototype.getBookmark=function(){return new O(this.$anchorCell.pos,this.$headCell.pos)},e}(s.Y1);M.prototype.visible=!1,s.Y1.jsonID("cell",M);var O=function(t,e){this.anchor=t,this.head=e};function T(t){if(!(t.selection instanceof M))return null;var e=[];return t.selection.forEachCell((function(t,n){e.push(c.p.node(n,n+t.nodeSize,{class:"selectedCell"}))})),c.EH.create(t.doc,e)}function F(t){if(!t.size)return null;for(var e=t.content,n=t.openStart,r=t.openEnd;1==e.childCount&&(n>0&&r>0||"table"==e.firstChild.type.spec.tableRole);)n--,r--,e=e.firstChild.content;var o=e.firstChild,i=o.type.spec.tableRole,s=o.type.schema,u=[];if("row"==i)for(var c=0;c<e.childCount;c++){var l=e.child(c).content,p=c?0:Math.max(0,n-1),d=c<e.childCount-1?0:Math.max(0,r-1);(p||d)&&(l=N(v(s).row,new a.p2(l,p,d)).content),u.push(l)}else{if("cell"!=i&&"header_cell"!=i)return null;u.push(n||r?N(v(s).row,new a.p2(e,n,r)).content:e)}return function(t,e){for(var n=[],r=0;r<e.length;r++)for(var o=e[r],i=o.childCount-1;i>=0;i--)for(var s=o.child(i).attrs,u=s.rowspan,c=s.colspan,l=r;l<r+u;l++)n[l]=(n[l]||0)+c;for(var p=0,d=0;d<n.length;d++)p=Math.max(p,n[d]);for(var h=0;h<n.length;h++)if(h>=e.length&&e.push(a.HY.empty),n[h]<p){for(var f=v(t).cell.createAndFill(),m=[],g=n[h];g<p;g++)m.push(f);e[h]=e[h].append(a.HY.from(m))}return{height:e.length,width:p,rows:e}}(s,u)}function N(t,e){var n=t.createAndFill();return new l.wx(n).replace(0,n.content.size,e).doc}function _(t,e,n,r,o,i,s,a){if(0==s||s==e.height)return!1;for(var u=!1,c=o;c<i;c++){var l=s*e.width+c,p=e.map[l];if(e.map[l-e.width]==p){u=!0;var d=n.nodeAt(p),h=e.findCell(p),f=h.top,m=h.left;t.setNodeMarkup(t.mapping.slice(a).map(p+r),null,x(d.attrs,"rowspan",s-f)),t.insert(t.mapping.slice(a).map(e.positionAt(s,m,n)),d.type.createAndFill(x(d.attrs,"rowspan",f+d.attrs.rowspan-s))),c+=d.attrs.colspan-1}}return u}function B(t,e,n,r,o,i,s,a){if(0==s||s==e.width)return!1;for(var u=!1,c=o;c<i;c++){var l=c*e.width+s,p=e.map[l];if(e.map[l-1]==p){u=!0;var d=n.nodeAt(p),h=e.colCount(p),f=t.mapping.slice(a).map(p+r);t.setNodeMarkup(f,null,k(d.attrs,s-h,d.attrs.colspan-(s-h))),t.insert(f+d.nodeSize,d.type.createAndFill(k(d.attrs,0,s-h))),c+=d.attrs.rowspan-1}}return u}function R(t,e,n,r,o){var i=n?t.doc.nodeAt(n-1):t.doc,s=m.get(i),u=r.top,c=r.left,l=c+o.width,p=u+o.height,d=t.tr,h=0;function f(){i=n?d.doc.nodeAt(n-1):d.doc,s=m.get(i),h=d.mapping.maps.length}(function(t,e,n,r,o,i,s){var u,c,l=v(t.doc.type.schema);if(o>e.width)for(var p=0,d=0;p<e.height;p++){var h=n.child(p);d+=h.nodeSize;var f=[],m=void 0;m=null==h.lastChild||h.lastChild.type==l.cell?u||(u=l.cell.createAndFill()):c||(c=l.header_cell.createAndFill());for(var g=e.width;g<o;g++)f.push(m);t.insert(t.mapping.slice(s).map(d-1+r),f)}if(i>e.height){for(var y=[],b=0,w=(e.height-1)*e.width;b<Math.max(e.width,o);b++){var D=!(b>=e.width)&&n.nodeAt(e.map[w+b]).type==l.header_cell;y.push(D?c||(c=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}for(var E=l.row.create(null,a.HY.from(y)),A=[],C=e.height;C<i;C++)A.push(E);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),A)}return!(!u&&!c)})(d,s,i,n,l,p,h)&&f(),_(d,s,i,n,c,l,u,h)&&f(),_(d,s,i,n,c,l,p,h)&&f(),B(d,s,i,n,u,p,c,h)&&f(),B(d,s,i,n,u,p,l,h)&&f();for(var g=u;g<p;g++){var y=s.positionAt(g,c,i),b=s.positionAt(g,l,i);d.replace(d.mapping.slice(h).map(y+n),d.mapping.slice(h).map(b+n),new a.p2(o.rows[g-u],0,0))}f(),d.setSelection(new M(d.doc.resolve(n+s.positionAt(u,c,i)),d.doc.resolve(n+s.positionAt(p-1,l-1,i)))),e(d)}O.prototype.map=function(t){return new O(t.map(this.anchor),t.map(this.head))},O.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&A(e,n)?new M(e,n):s.Y1.near(n,1)};var L=(0,u.$)({ArrowLeft:H("horiz",-1),ArrowRight:H("horiz",1),ArrowUp:H("vert",-1),ArrowDown:H("vert",1),"Shift-ArrowLeft":j("horiz",-1),"Shift-ArrowRight":j("horiz",1),"Shift-ArrowUp":j("vert",-1),"Shift-ArrowDown":j("vert",1),Backspace:z,"Mod-Backspace":z,Delete:z,"Mod-Delete":z});function I(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function H(t,e){return function(n,r,o){var i=n.selection;if(i instanceof M)return I(n,r,s.Y1.near(i.$headCell,e));if("horiz"!=t&&!i.empty)return!1;var a=W(o,t,e);if(null==a)return!1;if("horiz"==t)return I(n,r,s.Y1.near(n.doc.resolve(i.head+e),e));var u,c=n.doc.resolve(a),l=C(c,t,e);return u=l?s.Y1.near(l,1):e<0?s.Y1.near(n.doc.resolve(c.before(-1)),-1):s.Y1.near(n.doc.resolve(c.after(-1)),1),I(n,r,u)}}function j(t,e){return function(n,r,o){var i=n.selection;if(!(i instanceof M)){var s=W(o,t,e);if(null==s)return!1;i=new M(n.doc.resolve(s))}var a=C(i.$headCell,t,e);return!!a&&I(n,r,new M(i.$anchorCell,a))}}function z(t,e){var n=t.selection;if(!(n instanceof M))return!1;if(e){var r=t.tr,o=v(t.schema).cell.createAndFill().content;n.forEachCell((function(t,e){t.content.eq(o)||r.replace(r.mapping.map(e+1),r.mapping.map(e+t.nodeSize-1),new a.p2(o,0,0))})),r.docChanged&&e(r)}return!0}function $(t,e){var n=b(t.state.doc.resolve(e));return!!n&&(t.dispatch(t.state.tr.setSelection(new M(n))),!0)}function P(t,e,n){if(!w(t.state))return!1;var r=F(n),o=t.state.selection;if(o instanceof M){r||(r={width:1,height:1,rows:[a.HY.from(N(v(t.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),u=m.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=function(t,e,n){var r=t.width,o=t.height,i=t.rows;if(r!=e){for(var s=[],u=[],c=0;c<i.length;c++){for(var l=i[c],p=[],d=s[c]||0,h=0;d<e;h++){var f=l.child(h%l.childCount);d+f.attrs.colspan>e&&(f=f.type.create(k(f.attrs,f.attrs.colspan,d+f.attrs.colspan-e),f.content)),p.push(f),d+=f.attrs.colspan;for(var m=1;m<f.attrs.rowspan;m++)s[c+m]=(s[c+m]||0)+f.attrs.colspan}u.push(a.HY.from(p))}i=u,r=e}if(o!=n){for(var g=[],v=0,y=0;v<n;v++,y++){for(var b=[],w=i[y%o],D=0;D<w.childCount;D++){var E=w.child(D);v+E.attrs.rowspan>n&&(E=E.type.create(x(E.attrs,"rowspan",Math.max(1,n-E.attrs.rowspan)),E.content)),b.push(E)}g.push(a.HY.from(b))}i=g,o=n}return{width:r,height:o,rows:i}}(r,u.right-u.left,u.bottom-u.top),R(t.state,t.dispatch,s,u,r),!0}if(r){var c=D(t.state),l=c.start(-1);return R(t.state,t.dispatch,l,m.get(c.node(-1)).findCell(c.pos-l),r),!0}return!1}function q(t,e){if(!e.ctrlKey&&!e.metaKey){var n,r=U(t,e.target);if(e.shiftKey&&t.state.selection instanceof M)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&null!=(n=b(t.state.selection.$anchor))&&K(t,e).pos!=n.pos)o(n,e),e.preventDefault();else if(!r)return;t.root.addEventListener("mouseup",i),t.root.addEventListener("dragstart",i),t.root.addEventListener("mousemove",s)}function o(e,n){var r=K(t,n),o=null==y.getState(t.state);if(!r||!A(e,r)){if(!o)return;r=e}var i=new M(e,r);if(o||!t.state.selection.eq(i)){var s=t.state.tr.setSelection(i);o&&s.setMeta(y,e.pos),t.dispatch(s)}}function i(){t.root.removeEventListener("mouseup",i),t.root.removeEventListener("dragstart",i),t.root.removeEventListener("mousemove",s),null!=y.getState(t.state)&&t.dispatch(t.state.tr.setMeta(y,-1))}function s(n){var s,a=y.getState(t.state);if(null!=a)s=t.state.doc.resolve(a);else if(U(t,n.target)!=r&&!(s=K(t,e)))return i();s&&o(s,n)}}function W(t,e,n){if(!(t.state.selection instanceof s.Bs))return null;for(var r=t.state.selection.$head,o=r.depth-1;o>=0;o--){var i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){var a=r.before(o),u="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?a:null}}return null}function U(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function K(t,e){var n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?b(t.state.doc.resolve(n.pos)):null}var Z=new s.H$("fix-tables");function J(t,e,n,r){var o=t.childCount,i=e.childCount;t:for(var s=0,a=0;s<i;s++){for(var u=e.child(s),c=a,l=Math.min(o,s+3);c<l;c++)if(t.child(c)==u){a=c+1,n+=u.nodeSize;continue t}r(u,n),a<o&&t.child(a).sameMarkup(u)?J(t.child(a),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function V(t,e){var n,r=function(e,r){"table"==e.type.spec.tableRole&&(n=function(t,e,n,r){var o=m.get(e);if(!o.problems)return r;r||(r=t.tr);for(var i,s,a=[],u=0;u<o.height;u++)a.push(0);for(var c=0;c<o.problems.length;c++){var l=o.problems[c];if("collision"==l.type){for(var p=e.nodeAt(l.pos),d=0;d<p.attrs.rowspan;d++)a[l.row+d]+=l.n;r.setNodeMarkup(r.mapping.map(n+1+l.pos),null,k(p.attrs,p.attrs.colspan-l.n,l.n))}else if("missing"==l.type)a[l.row]+=l.n;else if("overlong_rowspan"==l.type){var h=e.nodeAt(l.pos);r.setNodeMarkup(r.mapping.map(n+1+l.pos),null,x(h.attrs,"rowspan",h.attrs.rowspan-l.n))}else if("colwidth mismatch"==l.type){var f=e.nodeAt(l.pos);r.setNodeMarkup(r.mapping.map(n+1+l.pos),null,x(f.attrs,"colwidth",l.colwidth))}}for(var g=0;g<a.length;g++)a[g]&&(null==i&&(i=g),s=g);for(var y=0,b=n+1;y<o.height;y++){var w=e.child(y),D=b+w.nodeSize,E=a[y];if(E>0){var A="cell";w.firstChild&&(A=w.firstChild.type.spec.tableRole);for(var C=[],S=0;S<E;S++)C.push(v(t.schema)[A].createAndFill());var M=0!=y&&i!=y-1||s!=y?D-1:b+1;r.insert(r.mapping.map(M),C)}b=D}return r.setMeta(Z,{fixTables:!0})}(t,e,r,n))};return e?e.doc!=t.doc&&J(e.doc,t.doc,0,r):t.doc.descendants(r),n}function G(t){var e,n=t.selection,r=D(t),o=r.node(-1),i=r.start(-1),s=m.get(o);return(e=n instanceof M?s.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):s.findCell(r.pos-i)).tableStart=i,e.map=s,e.table=o,e}function Y(t,e,n){var r=e.map,o=e.tableStart,i=e.table,s=n>0?-1:0;(function(t,e,n){for(var r=v(e.type.schema).header_cell,o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=r)return!1;return!0})(r,i,n+s)&&(s=0==n||n==r.width?null:0);for(var a=0;a<r.height;a++){var u=a*r.width+n;if(n>0&&n<r.width&&r.map[u-1]==r.map[u]){var c=r.map[u],l=i.nodeAt(c);t.setNodeMarkup(t.mapping.map(o+c),null,S(l.attrs,n-r.colCount(c))),a+=l.attrs.rowspan-1}else{var p=null==s?v(i.type.schema).cell:i.nodeAt(r.map[u+s]).type,d=r.positionAt(a,n,i);t.insert(t.mapping.map(o+d),p.createAndFill())}}return t}function X(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,s=t.mapping.maps.length,a=0;a<r.height;){var u=a*r.width+n,c=r.map[u],l=o.nodeAt(c);if(n>0&&r.map[u-1]==c||n<r.width-1&&r.map[u+1]==c)t.setNodeMarkup(t.mapping.slice(s).map(i+c),null,k(l.attrs,n-r.colCount(c)));else{var p=t.mapping.slice(s).map(i+c);t.delete(p,p+l.nodeSize)}a+=l.attrs.rowspan}}function Q(t,e,n){for(var r=e.map,o=e.tableStart,i=e.table,s=o,a=0;a<n;a++)s+=i.child(a).nodeSize;var u=[],c=n>0?-1:0;(function(t,e,n){for(var r=v(e.type.schema).header_cell,o=0;o<t.width;o++)if(e.nodeAt(t.map[o+n*t.width]).type!=r)return!1;return!0})(r,i,n+c)&&(c=0==n||n==r.height?null:0);for(var l=0,p=r.width*n;l<r.width;l++,p++)if(n>0&&n<r.height&&r.map[p]==r.map[p-r.width]){var d=r.map[p],h=i.nodeAt(d).attrs;t.setNodeMarkup(o+d,null,x(h,"rowspan",h.rowspan+1)),l+=h.colspan-1}else{var f=null==c?v(i.type.schema).cell:i.nodeAt(r.map[p+c*r.width]).type;u.push(f.createAndFill())}return t.insert(s,v(i.type.schema).row.create(null,u)),t}function tt(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,s=0,a=0;a<n;a++)s+=o.child(a).nodeSize;var u=s+o.child(n).nodeSize,c=t.mapping.maps.length;t.delete(s+i,u+i);for(var l=0,p=n*r.width;l<r.width;l++,p++){var d=r.map[p];if(n>0&&d==r.map[p-r.width]){var h=o.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(c).map(d+i),null,x(h,"rowspan",h.rowspan-1)),l+=h.colspan-1}else if(n<r.width&&d==r.map[p+r.width]){var f=o.nodeAt(d),m=f.type.create(x(f.attrs,"rowspan",f.attrs.rowspan-1),f.content),g=r.positionAt(n+1,l,o);t.insert(t.mapping.slice(c).map(i+g),m),l+=f.attrs.colspan-1}}}function et(t){var e=t.content;return 1==e.childCount&&e.firstChild.isTextblock&&0==e.firstChild.childCount}function nt(t,e){var n=t.selection;if(!(n instanceof M)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=G(t),o=r.map;if(function(t,e){for(var n=t.width,r=t.height,o=t.map,i=e.top*n+e.left,s=i,a=(e.bottom-1)*n+e.left,u=i+(e.right-e.left-1),c=e.top;c<e.bottom;c++){if(e.left>0&&o[s]==o[s-1]||e.right<n&&o[u]==o[u+1])return!0;s+=n,u+=n}for(var l=e.left;l<e.right;l++){if(e.top>0&&o[i]==o[i-n]||e.bottom<r&&o[a]==o[a+n])return!0;i++,a++}return!1}(o,r))return!1;if(e){for(var i,s,u=t.tr,c={},l=a.HY.empty,p=r.top;p<r.bottom;p++)for(var d=r.left;d<r.right;d++){var h=o.map[p*o.width+d],f=r.table.nodeAt(h);if(!c[h])if(c[h]=!0,null==i)i=h,s=f;else{et(f)||(l=l.append(f.content));var m=u.mapping.map(h+r.tableStart);u.delete(m,m+f.nodeSize)}}if(u.setNodeMarkup(i+r.tableStart,null,x(S(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),"rowspan",r.bottom-r.top)),l.size){var g=i+1+s.content.size,v=et(s)?i+1:g;u.replaceWith(v+r.tableStart,g+r.tableStart,l)}u.setSelection(new M(u.doc.resolve(i+r.tableStart))),e(u)}return!0}function rt(t,e){var n,r=v(t.schema);return(n=function(t){var e=t.node;return r[e.type.spec.tableRole]},function(t,e){var r,o,i=t.selection;if(i instanceof M){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(!(r=function(t){for(var e=t.depth;e>0;e--){var n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}(i.$from)))return!1;o=b(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(e){var s=r.attrs,a=[],u=s.colwidth;s.rowspan>1&&(s=x(s,"rowspan",1)),s.colspan>1&&(s=x(s,"colspan",1));for(var c,l=G(t),p=t.tr,d=0;d<l.right-l.left;d++)a.push(u?x(s,"colwidth",u&&u[d]?[u[d]]:null):s);for(var h=l.top;h<l.bottom;h++){var f=l.map.positionAt(h,l.left,l.table);h==l.top&&(f+=r.nodeSize);for(var m=l.left,g=0;m<l.right;m++,g++)m==l.left&&h==l.top||p.insert(c=p.mapping.map(f+l.tableStart,1),n({node:r,row:h,col:m}).createAndFill(a[g]))}p.setNodeMarkup(o,n({node:r,row:l.top,col:l.left}),a[0]),i instanceof M&&p.setSelection(new M(p.doc.resolve(i.$anchorCell.pos),c&&p.doc.resolve(c))),e(p)}return!0})(t,e)}function ot(t,e,n){for(var r=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),o=0;o<r.length;o++){var i=e.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function it(t,e){return(e=e||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(t){return function(e,n){if(!w(e))return!1;if(n){for(var r=v(e.schema),o=G(e),i=e.tr,s=o.map.cellsInRect("column"==t?new f(o.left,0,o.right,o.map.height):"row"==t?new f(0,o.top,o.map.width,o.bottom):o),a=s.map((function(t){return o.table.nodeAt(t)})),u=0;u<s.length;u++)a[u].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[u],r.cell,a[u].attrs);if(0==i.steps.length)for(var c=0;c<s.length;c++)i.setNodeMarkup(o.tableStart+s[c],r.header_cell,a[c].attrs);n(i)}return!0}}(t):function(e,n){if(!w(e))return!1;if(n){var r=v(e.schema),o=G(e),i=e.tr,s=ot("row",o,r),a=ot("column",o,r),u=("column"===t?s:"row"===t&&a)?1:0,c="column"==t?new f(0,u,1,o.map.height):"row"==t?new f(u,0,o.map.width,1):o,l="column"==t?a?r.cell:r.header_cell:"row"==t?s?r.cell:r.header_cell:r.cell;o.map.cellsInRect(c).forEach((function(t){var e=t+o.tableStart,n=i.doc.nodeAt(e);n&&i.setNodeMarkup(e,l,n.attrs)})),n(i)}return!0}}it("row",{useDeprecatedLogic:!0}),it("column",{useDeprecatedLogic:!0});var st=it("cell",{useDeprecatedLogic:!0});function at(t){return function(e,n){if(!w(e))return!1;var r=function(t,e){if(e<0){var n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(var r=t.index(-1)-1,o=t.before();r>=0;r--){var i=t.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;for(var s=t.node(-1),a=t.indexAfter(-1),u=t.after();a<s.childCount;a++){var c=s.child(a);if(c.childCount)return u+1;u+=c.nodeSize}}}(D(e),t);if(null!=r){if(n){var o=e.doc.resolve(r);n(e.tr.setSelection(s.Bs.between(o,(i=o,i.node(0).resolve(i.pos+i.nodeAfter.nodeSize)))).scrollIntoView())}var i;return!0}}}var ut=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),ct(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function ct(t,e,n,r,o,i){for(var s=0,a=!0,u=e.firstChild,c=t.firstChild,l=0,p=0;l<c.childCount;l++)for(var d=c.child(l).attrs,h=d.colspan,f=d.colwidth,m=0;m<h;m++,p++){var g=o==p?i:f&&f[m],v=g?g+"px":"";s+=g||r,g||(a=!1),u?(u.style.width!=v&&(u.style.width=v),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=v}for(;u;){var y=u.nextSibling;u.parentNode.removeChild(u),u=y}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}ut.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,ct(t,this.colgroup,this.table,this.cellMinWidth),!0)},ut.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var lt=new s.H$("tableColumnResizing");function pt(t){void 0===t&&(t={});var e=t.handleWidth;void 0===e&&(e=5);var n=t.cellMinWidth;void 0===n&&(n=25);var r=t.View;void 0===r&&(r=ut);var o=t.lastColumnResizable;void 0===o&&(o=!0);var i=new s.Sy({key:lt,state:{init:function(t,e){return this.spec.props.nodeViews[v(e.schema).table.name]=function(t,e){return new r(t,n,e)},new dt(-1,!1)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){return lt.getState(t).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(t,n){!function(t,e,n,r,o){var i=lt.getState(t.state);if(!i.dragging){var s=function(t){for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}(e.target),a=-1;if(s){var u=s.getBoundingClientRect(),c=u.left,l=u.right;e.clientX-c<=n?a=ht(t,e,"left"):l-e.clientX<=n&&(a=ht(t,e,"right"))}if(a!=i.activeHandle){if(!o&&-1!==a){var p=t.state.doc.resolve(a),d=p.node(-1),h=m.get(d),f=p.start(-1);if(h.colCount(p.pos-f)+p.nodeAfter.attrs.colspan-1==h.width-1)return}mt(t,a)}}}(t,n,e,0,o)},mouseleave:function(t){!function(t){var e=lt.getState(t.state);e.activeHandle>-1&&!e.dragging&&mt(t,-1)}(t)},mousedown:function(t,e){!function(t,e,n){var r=lt.getState(t.state);if(-1==r.activeHandle||r.dragging)return!1;var o=t.state.doc.nodeAt(r.activeHandle),i=function(t,e,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var s=t.domAtPos(e),a=s.node.childNodes[s.offset].offsetWidth,u=r;if(o)for(var c=0;c<r;c++)o[c]&&(a-=o[c],u--);return a/u}(t,r.activeHandle,o.attrs);function s(e){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);var r=lt.getState(t.state);r.dragging&&(!function(t,e,n){for(var r=t.state.doc.resolve(e),o=r.node(-1),i=m.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,u=t.state.tr,c=0;c<i.height;c++){var l=c*i.width+a;if(!c||i.map[l]!=i.map[l-i.width]){var p=i.map[l],d=o.nodeAt(p).attrs,h=1==d.colspan?0:a-i.colCount(p);if(!d.colwidth||d.colwidth[h]!=n){var f=d.colwidth?d.colwidth.slice():gt(d.colspan);f[h]=n,u.setNodeMarkup(s+p,null,x(d,"colwidth",f))}}}u.docChanged&&t.dispatch(u)}(t,r.activeHandle,ft(r.dragging,e,n)),t.dispatch(t.state.tr.setMeta(lt,{setDragging:null})))}function a(e){if(!e.which)return s(e);var r=lt.getState(t.state),o=ft(r.dragging,e,n);!function(t,e,n,r){var o=t.state.doc.resolve(e),i=o.node(-1),s=o.start(-1),a=m.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,u=t.domAtPos(o.start(-1)).node;for(;"TABLE"!=u.nodeName;)u=u.parentNode;ct(i,u.firstChild,u,r,a,n)}(t,r.activeHandle,o,n)}t.dispatch(t.state.tr.setMeta(lt,{setDragging:{startX:e.clientX,startWidth:i}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),e.preventDefault()}(t,e,n)}},decorations:function(t){var e=lt.getState(t);if(e.activeHandle>-1)return function(t,e){for(var n=[],r=t.doc.resolve(e),o=r.node(-1),i=m.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan,u=0;u<i.height;u++){var l=a+u*i.width-1;if(!(a!=i.width&&i.map[l]==i.map[l+1]||0!=u&&i.map[l-1]==i.map[l-1-i.width])){var p=i.map[l],d=s+p+o.nodeAt(p).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",n.push(c.p.widget(d,h))}}return c.EH.create(t.doc,n)}(t,e.activeHandle)},nodeViews:{}}});return i}var dt=function(t,e){this.activeHandle=t,this.dragging=e};function ht(t,e,n){var r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;var o=r.pos,i=b(t.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var s=m.get(i.node(-1)),a=i.start(-1),u=s.map.indexOf(i.pos-a);return u%s.width==0?-1:a+s.map[u-1]}function ft(t,e,n){var r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function mt(t,e){t.dispatch(t.state.tr.setMeta(lt,{setHandle:e}))}function gt(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function vt(t){void 0===t&&(t={});var e=t.allowTableNodeSelection;return void 0===e&&(e=!1),new s.Sy({key:y,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(y);if(null!=n)return-1==n?null:n;if(null==e||!t.docChanged)return e;var r=t.mapping.mapResult(e),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:T,handleDOMEvents:{mousedown:q},createSelectionBetween:function(t){if(null!=y.getState(t.state))return t.state.selection},handleTripleClick:$,handleKeyDown:L,handlePaste:P},appendTransaction:function(t,n,r){return function(t,e,n){var r,o,i=(e||t).selection,a=(e||t).doc;if(i instanceof s.qv&&(o=i.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=M.create(a,i.from);else if("row"==o){var u=a.resolve(i.from+1);r=M.rowSelection(u,u)}else if(!n){var c=m.get(i.node),l=i.from+1,p=l+c.map[c.width*c.height-1];r=M.create(a,l+1,p)}}else i instanceof s.Bs&&function(t){var e=t.$from,n=t.$to;if(e.pos==n.pos||e.pos<e.pos-6)return!1;for(var r=e.pos,o=n.pos,i=e.depth;i>=0&&!(e.after(i+1)<e.end(i));i--,r++);for(var s=n.depth;s>=0&&!(n.before(s+1)>n.start(s));s--,o--);return r==o&&/row|table/.test(e.node(i).type.spec.tableRole)}(i)?r=s.Bs.create(a,i.from):i instanceof s.Bs&&function(t){for(var e,n,r=t.$from,o=t.$to,i=r.depth;i>0;i--){var s=r.node(i);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){e=s;break}}for(var a=o.depth;a>0;a--){var u=o.node(a);if("cell"===u.type.spec.tableRole||"header_cell"===u.type.spec.tableRole){n=u;break}}return e!==n&&0===o.parentOffset}(i)&&(r=s.Bs.create(a,i.$from.start(),i.$from.end()));return r&&(e||(e=t.tr)).setSelection(r),e}(r,V(r,n),e)}})}function yt(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(r),i=e.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var a=yt(o.content,i.content,n+1);if(null!=a)return a}n+=o.nodeSize}else n+=o.nodeSize}}function bt(t,e,n,r){for(var o=t.childCount,i=e.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};var s=t.child(--o),a=e.child(--i),u=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){for(var c=0,l=Math.min(s.text.length,a.text.length);c<l&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){var p=bt(s.content,a.content,n-1,r-1);if(p)return p}n-=u,r-=u}else n-=u,r-=u}}dt.prototype.apply=function(t){var e=this,n=t.getMeta(lt);if(n&&null!=n.setHandle)return new dt(n.setHandle,null);if(n&&void 0!==n.setDragging)return new dt(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){var r=t.mapping.map(e.activeHandle,-1);E(t.doc.resolve(r))||(r=null),e=new dt(r,e.dragging)}return e};var wt=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},Dt={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};wt.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],u=s+a.nodeSize;if(u>t&&!1!==n(a,r+s,o,i)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,t-c),Math.min(a.content.size,e-c),n,r+c)}s=u}},wt.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},wt.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+="function"==typeof r?r(s):r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o},wt.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new wt(r,this.size+t.size)},wt.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var s=this.content[o],a=i+s.nodeSize;a>t&&((i<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-i),Math.min(s.text.length,e-i)):s.cut(Math.max(0,t-i-1),Math.min(s.content.size,e-i-1))),n.push(s),r+=s.nodeSize),i=a}return new wt(n,r)},wt.prototype.cutByIndex=function(t,e){return t==e?wt.empty:0==t&&e==this.content.length?this:new wt(this.content.slice(t,e))},wt.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new wt(r,o)},wt.prototype.addToStart=function(t){return new wt([t].concat(this.content),this.size+t.nodeSize)},wt.prototype.addToEnd=function(t){return new wt(this.content.concat(t),this.size+t.nodeSize)},wt.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},Dt.firstChild.get=function(){return this.content.length?this.content[0]:null},Dt.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},Dt.childCount.get=function(){return this.content.length},wt.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},wt.prototype.maybeChild=function(t){return this.content[t]},wt.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},wt.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),yt(this,t,e)},wt.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),bt(this,t,e,n)},wt.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return At(0,t);if(t==this.size)return At(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=t)return o==t||e>0?At(n+1,o):At(n,r);r=o}},wt.prototype.toString=function(){return"<"+this.toStringInner()+">"},wt.prototype.toStringInner=function(){return this.content.join(", ")},wt.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},wt.fromJSON=function(t,e){if(!e)return wt.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new wt(e.map(t.nodeFromJSON))},wt.fromArray=function(t){if(!t.length)return wt.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new wt(e||t,n)},wt.from=function(t){if(!t)return wt.empty;if(t instanceof wt)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new wt([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(wt.prototype,Dt);var Et={index:0,offset:0};function At(t,e){return Et.index=t,Et.offset=e,Et}function Ct(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!Ct(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!Ct(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}wt.empty=new wt([],0);var xt=function(t,e){this.type=t,this.attrs=e};function kt(t){var e=Error.call(this,t);return e.__proto__=kt.prototype,e}xt.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},xt.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},xt.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},xt.prototype.eq=function(t){return this==t||this.type==t.type&&Ct(this.attrs,t.attrs)},xt.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},xt.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},xt.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},xt.setFrom=function(t){if(!t||0==t.length)return xt.none;if(t instanceof xt)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},xt.none=[],kt.prototype=Object.create(Error.prototype),kt.prototype.constructor=kt,kt.prototype.name="ReplaceError";var St=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},Mt={size:{configurable:!0}};function Ot(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),u=a.index,c=a.offset;if(i==e||s.isText){if(c!=n&&!t.child(u).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=u)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(Ot(s.content,e-i-1,n-i-1)))}function Tt(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var u=Tt(a.content,e-s-1,n);return u&&t.replaceChild(i,a.copy(u))}function Ft(t,e,n){if(n.openStart>t.depth)throw new kt("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new kt("Inconsistent open depths");return Nt(t,e,n,0)}function Nt(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=Nt(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var a=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(wt.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return It(i,Ht(t,a.start,a.end,e,r))}var u=t.parent,c=u.content;return It(u,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}return It(i,jt(t,e,r))}function _t(t,e){if(!e.type.compatibleContent(t.type))throw new kt("Cannot join "+e.type.name+" onto "+t.type.name)}function Bt(t,e,n){var r=t.node(n);return _t(r,e.node(n)),r}function Rt(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Lt(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Rt(t.nodeAfter,r),i++));for(var a=i;a<s;a++)Rt(o.child(a),r);e&&e.depth==n&&e.textOffset&&Rt(e.nodeBefore,r)}function It(t,e){if(!t.type.validContent(e))throw new kt("Invalid content for node "+t.type.name);return t.copy(e)}function Ht(t,e,n,r,o){var i=t.depth>o&&Bt(t,e,o+1),s=r.depth>o&&Bt(n,r,o+1),a=[];return Lt(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(_t(i,s),Rt(It(i,Ht(t,e,n,r,o+1)),a)):(i&&Rt(It(i,jt(t,e,o+1)),a),Lt(e,n,o,a),s&&Rt(It(s,jt(n,r,o+1)),a)),Lt(r,null,o,a),new wt(a)}function jt(t,e,n){var r=[];(Lt(null,t,n,r),t.depth>n)&&Rt(It(Bt(t,e,n+1),jt(t,e,n+1)),r);return Lt(e,null,n,r),new wt(r)}Mt.size.get=function(){return this.content.size-this.openStart-this.openEnd},St.prototype.insertAt=function(t,e){var n=Tt(this.content,t+this.openStart,e,null);return n&&new St(n,this.openStart,this.openEnd)},St.prototype.removeBetween=function(t,e){return new St(Ot(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},St.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},St.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},St.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},St.fromJSON=function(t,e){if(!e)return St.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new St(wt.fromJSON(t,e.content),n,r)},St.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new St(t,n,r)},Object.defineProperties(St.prototype,Mt),St.empty=new St(wt.empty,0,0);var zt=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},$t={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};zt.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},$t.parent.get=function(){return this.node(this.depth)},$t.doc.get=function(){return this.node(0)},zt.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},zt.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},zt.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},zt.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},zt.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},zt.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},zt.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},$t.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},$t.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},$t.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},zt.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)r+=n.child(o).nodeSize;return r},zt.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return xt.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i},zt.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},zt.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},zt.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new Ut(this,t,n)},zt.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},zt.prototype.max=function(t){return t.pos>this.pos?t:this},zt.prototype.min=function(t){return t.pos<this.pos?t:this},zt.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},zt.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,u=s.offset,c=o-u;if(n.push(i,a,r+u),!c)break;if((i=i.child(a)).isText)break;o=c-1,r+=u+1}return new zt(e,n,o)},zt.resolveCached=function(t,e){for(var n=0;n<Pt.length;n++){var r=Pt[n];if(r.pos==e&&r.doc==t)return r}var o=Pt[qt]=zt.resolve(t,e);return qt=(qt+1)%Wt,o},Object.defineProperties(zt.prototype,$t);var Pt=[],qt=0,Wt=12,Ut=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},Kt={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Kt.start.get=function(){return this.$from.before(this.depth+1)},Kt.end.get=function(){return this.$to.after(this.depth+1)},Kt.parent.get=function(){return this.$from.node(this.depth)},Kt.startIndex.get=function(){return this.$from.index(this.depth)},Kt.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(Ut.prototype,Kt);var Zt=Object.create(null),Jt=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||wt.empty,this.marks=r||xt.none},Vt={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Vt.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},Vt.childCount.get=function(){return this.content.childCount},Jt.prototype.child=function(t){return this.content.child(t)},Jt.prototype.maybeChild=function(t){return this.content.maybeChild(t)},Jt.prototype.forEach=function(t){this.content.forEach(t)},Jt.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},Jt.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},Vt.textContent.get=function(){return this.textBetween(0,this.content.size,"")},Jt.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},Vt.firstChild.get=function(){return this.content.firstChild},Vt.lastChild.get=function(){return this.content.lastChild},Jt.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},Jt.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},Jt.prototype.hasMarkup=function(t,e,n){return this.type==t&&Ct(this.attrs,e||t.defaultAttrs||Zt)&&xt.sameSet(this.marks,n||xt.none)},Jt.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},Jt.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},Jt.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},Jt.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return St.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new St(a,r.depth-i,o.depth-i)},Jt.prototype.replace=function(t,e,n){return Ft(this.resolve(t),this.resolve(e),n)},Jt.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(!(e=e.maybeChild(r)))return null;if(o==t||e.isText)return e;t-=o+1}},Jt.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},Jt.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},Jt.prototype.resolve=function(t){return zt.resolveCached(this,t)},Jt.prototype.resolveNoCache=function(t){return zt.resolve(this,t)},Jt.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},Vt.isBlock.get=function(){return this.type.isBlock},Vt.isTextblock.get=function(){return this.type.isTextblock},Vt.inlineContent.get=function(){return this.type.inlineContent},Vt.isInline.get=function(){return this.type.isInline},Vt.isText.get=function(){return this.type.isText},Vt.isLeaf.get=function(){return this.type.isLeaf},Vt.isAtom.get=function(){return this.type.isAtom},Jt.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),function(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}(this.marks,t)},Jt.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},Jt.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=wt.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},Jt.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},Jt.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},Jt.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=xt.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!xt.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},Jt.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},Jt.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=wt.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(Jt.prototype,Vt);var Gt=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},Yt={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};Gt.parse=function(t,e){var n=new Xt(t,e);if(null==n.next)return Gt.empty;var r=te(n);n.next&&n.err("Unexpected trailing text");var o=function(t){var e=Object.create(null);return n(se(t,0));function n(r){var o=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];se(t,r).forEach((function(t){s||o.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var i=e[r.join(",")]=new Gt(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(ie);i.next.push(o[s],e[a.join(",")]||n(a))}return i}}(function(t){var e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}function i(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(i(n,e))}),[]);if("seq"==t.type)for(var s=0;;s++){var a=i(t.exprs[s],e);if(s==t.exprs.length-1)return a;o(a,e=n())}else{if("star"==t.type){var u=n();return r(e,u),o(i(t.expr,u),u),[r(u)]}if("plus"==t.type){var c=n();return o(i(t.expr,e),c),o(i(t.expr,c),c),[r(c)]}if("opt"==t.type)return[r(e)].concat(i(t.expr,e));if("range"==t.type){for(var l=e,p=0;p<t.min;p++){var d=n();o(i(t.expr,l),d),l=d}if(-1==t.max)o(i(t.expr,l),l);else for(var h=t.min;h<t.max;h++){var f=n();r(l,f),o(i(t.expr,l),f),l=f}return[r(l)]}if("name"==t.type)return[r(e,null,t.value)]}}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var u=o.next[a],c=o.next[a+1];s.push(u.name),!i||u.isText||u.hasRequiredAttrs()||(i=!1),-1==r.indexOf(c)&&r.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},Gt.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},Gt.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},Yt.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},Yt.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},Gt.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},Gt.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function o(i,s){var a=i.matchFragment(t,n);if(a&&(!e||a.validEnd))return wt.from(s.map((function(t){return t.createAndFill()})));for(var u=0;u<i.next.length;u+=2){var c=i.next[u],l=i.next[u+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==r.indexOf(l)){r.push(l);var p=o(l,s.concat(c));if(p)return p}}}(this,[])},Gt.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},Gt.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var u=o.next[a];u.isLeaf||u.hasRequiredAttrs()||u.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:u.contentMatch,type:u,via:r}),e[u.name]=!0)}}},Yt.edgeCount.get=function(){return this.next.length>>1},Gt.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},Gt.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(Gt.prototype,Yt),Gt.empty=new Gt(!0);var Xt=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},Qt={next:{configurable:!0}};function te(t){var e=[];do{e.push(ee(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function ee(t){var e=[];do{e.push(ne(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function ne(t){for(var e=function(t){if(t.eat("(")){var e=te(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=oe(t,e)}return e}function re(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function oe(t,e){var n=re(t),r=n;return t.eat(",")&&(r="}"!=t.next?re(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function ie(t,e){return e-t}function se(t,e){var n=[];return function e(r){var o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,u=s.to;a||-1!=n.indexOf(u)||e(u)}}(e),n.sort(ie)}function ae(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function ue(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function ce(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new de(t[n]);return e}Qt.next.get=function(){return this.tokens[this.pos]},Xt.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},Xt.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(Xt.prototype,Qt);var le=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=ce(n.attrs),this.defaultAttrs=ae(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},pe={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};pe.isInline.get=function(){return!this.isBlock},pe.isTextblock.get=function(){return this.isBlock&&this.inlineContent},pe.isLeaf.get=function(){return this.contentMatch==Gt.empty},pe.isAtom.get=function(){return this.isLeaf||this.spec.atom},pe.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")},le.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},le.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},le.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:ue(this.attrs,t)},le.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Jt(this,this.computeAttrs(t),wt.from(e),xt.setFrom(n))},le.prototype.createChecked=function(t,e,n){if(e=wt.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new Jt(this,this.computeAttrs(t),e,xt.setFrom(n))},le.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=wt.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(wt.empty,!0);return o?new Jt(this,t,e.append(o),xt.setFrom(n)):null},le.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},le.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},le.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},le.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:xt.empty:t},le.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new le(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(le.prototype,pe);var de=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},he={isRequired:{configurable:!0}};he.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(de.prototype,he);var fe=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=ce(r.attrs),this.rank=e,this.excluded=null;var o=ae(this.attrs);this.instance=o&&new xt(this,o)};fe.prototype.create=function(t){return!t&&this.instance?this.instance:new xt(this,ue(this.attrs,t))},fe.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,o){return n[t]=new fe(t,r++,e,o)})),n},fe.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},fe.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},fe.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var me={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ge={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ve={ol:!0,ul:!0};function ye(t,e,n){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&n}var be=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=xt.none,this.pendingMarks=r,this.stashMarks=[]};be.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(wt.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},be.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=wt.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(wt.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},be.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},be.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):Ee(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},be.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!me.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var we=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=ye(null,e.preserveWhitespace,0)|(n?4:0);r=o?new be(o.type,o.attrs,xt.none,xt.none,!0,e.topMatch||o.type.contentMatch,i):new be(n?null:t.schema.topNodeType,null,xt.none,xt.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},De={top:{configurable:!0},currentPos:{configurable:!0}};function Ee(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],s=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,a=r.next;if(o==e)return!0;if(i.indexOf(a)<0&&s(a))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}De.top.get=function(){return this.nodes[this.open]},we.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},we.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},we.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();ve.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&ve.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(o?o.ignore:ge.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var i,s=this.top,a=this.needsBlock;if(me.hasOwnProperty(r))i=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(s),this.needsBlock=a}else this.addElementByRule(t,o,!1===o.consuming?n:null)},we.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},we.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},we.prototype.readStyles=function(t){var e=xt.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(t[n],t[n+1],this,r);if(!o)continue t;if(o.ignore)return null;if(e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;r=o}return e},we.prototype.addElementByRule=function(t,e,n){var r,o,i,s=this;e.node?(o=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):r=this.enter(o,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var u=e.contentElement;"string"==typeof u?u=t.querySelector(u):"function"==typeof u&&(u=u(t)),u||(u=t),this.findAround(t,u,!0),this.addAll(u,r)}r&&(this.sync(a),this.open--),i&&this.removePendingMark(i,a)},we.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&me.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},we.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},we.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},we.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},we.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=ye(t,r,o.options);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new be(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},we.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},we.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},we.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},De.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},we.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},we.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},we.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},we.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},we.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function(t,a){for(;t>=0;t--){var u=n[t];if(""==u){if(t==n.length-1||0==t)continue;for(;a>=i;a--)if(s(t-1,a))return!0;return!1}var c=a>0||0==a&&o?e.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!c||c.name!=u&&-1==c.groups.indexOf(u))return!1;a--}return!0};return s(n.length-1,this.open)},we.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},we.prototype.addPendingMark=function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},we.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var o=r.popFromStashMark(t);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(we.prototype,De);var Ae=Math.pow(2,16);function Ce(t){return 65535&t}var xe=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},ke=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};ke.prototype.recover=function(t){var e=0,n=Ce(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/Ae}(t)},ke.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},ke.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},ke.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>t)break;var u=this.ranges[s+o],c=this.ranges[s+i],l=a+u;if(t<=l){var p=a+r+((u?t==a?-1:t==l?1:e:e)<0?0:c);if(n)return p;var d=t==(e<0?a:l)?null:s/3+(t-a)*Ae;return new xe(p,e<0?t!=a:t!=l,d)}r+=c-u}return n?t+r:new xe(t+r)},ke.prototype.touches=function(t,e){for(var n=0,r=Ce(e),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var u=this.ranges[s+o];if(t<=a+u&&s==3*r)return!0;n+=this.ranges[s+i]-u}return!1},ke.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),u=this.ranges[r+e],c=this.ranges[r+n];t(s,s+u,a,a+c),o+=c-u}},ke.prototype.invert=function(){return new ke(this.ranges,!this.inverted)},ke.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},ke.offset=function(t){return 0==t?ke.empty:new ke(t<0?[0,-t,0]:[0,0,t])},ke.empty=new ke([]);var Se=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function Me(t){var e=Error.call(this,t);return e.__proto__=Me.prototype,e}Se.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new Se(this.maps,this.mirror,t,e)},Se.prototype.copy=function(){return new Se(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},Se.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},Se.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},Se.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},Se.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},Se.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},Se.prototype.invert=function(){var t=new Se;return t.appendMappingInverted(this),t},Se.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},Se.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},Se.prototype._map=function(t,e,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(t,e);if(null!=i.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,t=this.maps[s].recover(i.recover);continue}}i.deleted&&(r=!0),t=i.pos}return n?t:new xe(t,r)},Me.prototype=Object.create(Error.prototype),Me.prototype.constructor=Me,Me.prototype.name="TransformError";var Oe=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Se},Te={before:{configurable:!0},docChanged:{configurable:!0}};function Fe(){throw new Error("Override me")}Te.before.get=function(){return this.docs.length?this.docs[0]:this.doc},Oe.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new Me(e.failed);return this},Oe.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},Te.docChanged.get=function(){return this.steps.length>0},Oe.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(Oe.prototype,Te);var Ne=Object.create(null),_e=function(){};_e.prototype.apply=function(t){return Fe()},_e.prototype.getMap=function(){return ke.empty},_e.prototype.invert=function(t){return Fe()},_e.prototype.map=function(t){return Fe()},_e.prototype.merge=function(t){return null},_e.prototype.toJSON=function(){return Fe()},_e.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Ne[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},_e.jsonID=function(t,e){if(t in Ne)throw new RangeError("Duplicate use of step JSON ID "+t);return Ne[t]=e,e.prototype.jsonID=t,e};var Be=function(t,e){this.doc=t,this.failed=e};Be.ok=function(t){return new Be(t,null)},Be.fail=function(t){return new Be(null,t)},Be.fromReplace=function(t,e,n,r){try{return Be.ok(t.replace(e,n,r))}catch(t){if(t instanceof kt)return Be.fail(t.message);throw t}};var Re=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&Ie(t,this.from,this.to)?Be.fail("Structure replace would overwrite content"):Be.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new ke([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?St.empty:new St(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?St.empty:new St(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,St.fromJSON(t,n.slice),!!n.structure)},e}(_e);_e.jsonID("replace",Re);var Le=function(t){function e(e,n,r,o,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(Ie(t,this.from,this.gapFrom)||Ie(t,this.gapTo,this.to)))return Be.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Be.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?Be.fromReplace(t,this.from,this.to,n):Be.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new ke([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,St.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(_e);function Ie(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function He(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(He(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return wt.fromArray(r)}_e.jsonID("replaceAround",Le),Oe.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,u=s,c=wt.empty,l=0,p=o,d=!1;p>e;p--)d||n.index(p)>0?(d=!0,c=wt.from(n.node(p).copy(c)),l++):a--;for(var h=wt.empty,f=0,m=o,g=!1;m>e;m--)g||r.after(m+1)<r.end(m)?(g=!0,h=wt.from(r.node(m).copy(h)),f++):u++;return this.step(new Le(a,u,i,s,new St(c.append(h),l,f),c.size-l,!0))},Oe.prototype.wrap=function(t,e){for(var n=wt.empty,r=e.length-1;r>=0;r--)n=wt.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new Le(o,i,o,i,new St(n,0,0),e.length,!0))},Oe.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(i).map(e),n)){o.clearIncompatible(o.mapping.slice(i).map(e,1),n);var s=o.mapping.slice(i),a=s.map(e,1),u=s.map(e+t.nodeSize,1);return o.step(new Le(a,u,a+1,u-1,new St(wt.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}})),this},Oe.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Le(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new St(wt.from(i),0,0),1,!0))},Oe.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=wt.empty,i=wt.empty,s=r.depth,a=r.depth-e,u=e-1;s>a;s--,u--){o=wt.from(r.node(s).copy(o));var c=n&&n[u];i=wt.from(c?c.type.create(c.attrs,i):r.node(s).copy(i))}return this.step(new Re(t,t,new St(o.append(i),e,e),!0))},Oe.prototype.join=function(t,e){void 0===e&&(e=1);var n=new Re(t-e,t+e,St.empty,!0);return this.step(n)};var je=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new St(He(n.content,(function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return Be.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new ze(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(_e);_e.jsonID("addMark",je);var ze=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new St(He(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return Be.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new je(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(_e);function $e(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}_e.jsonID("removeMark",ze),Oe.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(r,u,c){if(r.isInline){var l=r.marks;if(!n.isInSet(l)&&c.type.allowsMarkType(n.type)){for(var p=Math.max(u,t),d=Math.min(u+r.nodeSize,e),h=n.addToSet(l),f=0;f<l.length;f++)l[f].isInSet(h)||(s&&s.to==p&&s.mark.eq(l[f])?s.to=d:o.push(s=new ze(p,d,l[f])));a&&a.to==p?a.to=d:i.push(a=new je(p,d,n))}}})),o.forEach((function(t){return r.step(t)})),i.forEach((function(t){return r.step(t)})),this},Oe.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,(function(r,s){if(r.isInline){i++;var a=null;if(n instanceof fe)for(var u,c=r.marks;u=n.isInSet(c);)(a||(a=[])).push(u),c=u.removeFromSet(c);else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var l=Math.min(s+r.nodeSize,e),p=0;p<a.length;p++){for(var d=a[p],h=void 0,f=0;f<o.length;f++){var m=o[f];m.step==i-1&&d.eq(o[f].style)&&(h=m)}h?(h.to=l,h.step=i):o.push({style:d,from:Math.max(s,t),to:l,step:i})}}})),o.forEach((function(t){return r.step(new ze(t.from,t.to,t.style))})),this},Oe.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,s=0;s<r.childCount;s++){var a=r.child(s),u=i+a.nodeSize,c=n.matchType(a.type,a.attrs);if(c){n=c;for(var l=0;l<a.marks.length;l++)e.allowsMarkType(a.marks[l].type)||this.step(new ze(i,u,a.marks[l]))}else o.push(new Re(i,u,St.empty));i=u}if(!n.validEnd){var p=n.fillBefore(wt.empty,!0);this.replace(i,i,new St(p,0,0))}for(var d=o.length-1;d>=0;d--)this.step(o[d]);return this},Oe.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=St.empty);var r=function(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=St.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return $e(o,i,r)?new Re(e,n,r):new Pe(o,i,r).fit()}(this.doc,t,e,n);return r&&this.step(r),this},Oe.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new St(wt.from(n),0,0))},Oe.prototype.delete=function(t,e){return this.replace(t,e,St.empty)},Oe.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var Pe=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var r=0;r<=t.depth;r++){var o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}this.placed=wt.empty;for(var i=t.depth;i>0;i--)this.placed=wt.from(t.node(i).copy(this.placed))},qe={depth:{configurable:!0}};function We(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(We(t.firstChild.content,e-1,n)))}function Ue(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ue(t.lastChild.content,e-1,n)))}function Ke(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function Ze(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,Ze(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(wt.empty,!0)))),t.copy(r)}function Je(t,e,n,r,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!function(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,i.content,s)?a:null}function Ve(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(Ve(i.content,e+1,n,r,i)))}if(e>r){var s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(wt.empty,!0))}return t}function Ge(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(o==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==o-1)&&n.push(r)}return n}qe.depth.get=function(){return this.frontier.length-1},Pe.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;for(var i=this.placed,s=r.depth,a=o.depth;s&&a&&1==i.childCount;)i=i.firstChild.content,s--,a--;var u=new St(i,s,a);return e>-1?new Le(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Re(r.pos,o.pos,u):void 0},Pe.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,r=(e?(n=Ke(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var i=this.frontier[o],s=i.type,a=i.match,u=void 0,c=void 0;if(1==t&&(r?a.matchType(r.type)||(c=a.fillBefore(wt.from(r),!1)):s.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:o,parent:n,inject:c};if(2==t&&r&&(u=a.findWrapping(r.type)))return{sliceDepth:e,frontierDepth:o,parent:n,wrap:u};if(n&&a.matchType(n.type))break}},Pe.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=Ke(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new St(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)},Pe.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=Ke(e,n);if(o.childCount<=1&&n>0){var i=e.size-n<=n+o.size;this.unplaced=new St(We(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new St(We(e,n,1),n,r)},Pe.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,o=t.inject,i=t.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var s=0;s<i.length;s++)this.openFrontierNode(i[s]);var a=this.unplaced,u=r?r.content:a.content,c=a.openStart-e,l=0,p=[],d=this.frontier[n],h=d.match,f=d.type;if(o){for(var m=0;m<o.childCount;m++)p.push(o.child(m));h=h.matchFragment(o)}for(var g=u.size+e-(a.content.size-a.openEnd);l<u.childCount;){var v=u.child(l),y=h.matchType(v.type);if(!y)break;(++l>1||0==c||v.content.size)&&(h=y,p.push(Ze(v.mark(f.allowedMarks(v.marks)),1==l?c:0,l==u.childCount?g:-1)))}var b=l==u.childCount;b||(g=-1),this.placed=Ue(this.placed,n,wt.from(p)),this.frontier[n].match=h,b&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var w=0,D=u;w<g;w++){var E=D.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),D=E.content}this.unplaced=b?0==e?St.empty:new St(We(a.content,e-1,1),e-1,g<0?a.openEnd:e-1):new St(We(a.content,e,l),a.openStart,a.openEnd)},Pe.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!Je(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},Pe.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,o=n.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=Je(t,e,o,r,i);if(s){for(var a=e-1;a>=0;a--){var u=this.frontier[a],c=u.match,l=Je(t,a,u.type,c,!0);if(!l||l.childCount)continue t}return{depth:e,fit:s,move:i?t.doc.resolve(t.after(e+1)):t}}}},Pe.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Ue(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t},Pe.prototype.openFrontierNode=function(t,e,n){var r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=Ue(this.placed,this.depth,wt.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},Pe.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(wt.empty,!0);t.childCount&&(this.placed=Ue(this.placed,this.frontier.length,t))},Object.defineProperties(Pe.prototype,qe),Oe.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if($e(r,o,n))return this.step(new Re(t,e,n));var i=Ge(r,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,u=r.pos-1;a>0;a--,u--){var c=r.node(a).type.spec;if(c.defining||c.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==u&&i.splice(1,0,-a)}for(var l=i.indexOf(s),p=[],d=n.openStart,h=n.content,f=0;;f++){var m=h.firstChild;if(p.push(m),f==n.openStart)break;h=m.content}d>0&&p[d-1].type.spec.defining&&r.node(l).type!=p[d-1].type?d-=1:d>=2&&p[d-1].isTextblock&&p[d-2].type.spec.defining&&r.node(l).type!=p[d-2].type&&(d-=2);for(var g=n.openStart;g>=0;g--){var v=(g+d+1)%(n.openStart+1),y=p[v];if(y)for(var b=0;b<i.length;b++){var w=i[(b+l)%i.length],D=!0;w<0&&(D=!1,w=-w);var E=r.node(w-1),A=r.index(w-1);if(E.canReplaceWith(A,A,y.type,y.marks))return this.replace(r.before(w),D?o.after(w):e,new St(Ve(n.content,0,n.openStart,v),v,n.openEnd))}}for(var C=this.steps.length,x=i.length-1;x>=0&&(this.replace(t,e,n),!(this.steps.length>C));x--){var k=i[x];k<0||(t=r.before(k),e=o.after(k))}return this},Oe.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new St(wt.from(n),0,0))},Oe.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=Ge(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var u=1;u<=n.depth&&u<=r.depth;u++)if(t-n.start(u)==n.depth-u&&e>n.end(u)&&r.end(u)-e!=r.depth-u)return this.delete(n.before(u),e);return this.delete(t,e)};var Ye=Object.create(null),Xe=function(t,e,n){this.ranges=n||[new tn(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},Qe={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Qe.anchor.get=function(){return this.$anchor.pos},Qe.head.get=function(){return this.$head.pos},Qe.from.get=function(){return this.$from.pos},Qe.to.get=function(){return this.$to.pos},Qe.$from.get=function(){return this.ranges[0].$from},Qe.$to.get=function(){return this.ranges[0].$to},Qe.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},Xe.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},Xe.prototype.replace=function(t,e){void 0===e&&(e=St.empty);for(var n=e.content.lastChild,r=null,o=0;o<e.openEnd;o++)r=n,n=n.lastChild;for(var i=t.steps.length,s=this.ranges,a=0;a<s.length;a++){var u=s[a],c=u.$from,l=u.$to,p=t.mapping.slice(i);t.replaceRange(p.map(c.pos),p.map(l.pos),a?St.empty:e),0==a&&cn(t,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}},Xe.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],s=i.$from,a=i.$to,u=t.mapping.slice(n),c=u.map(s.pos),l=u.map(a.pos);o?t.deleteRange(c,l):(t.replaceRangeWith(c,l,e),cn(t,n,e.isInline?-1:1))}},Xe.findFrom=function(t,e,n){var r=t.parent.inlineContent?new en(t):un(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var o=t.depth-1;o>=0;o--){var i=e<0?un(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):un(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(i)return i}},Xe.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new sn(t.node(0))},Xe.atStart=function(t){return un(t,t,0,0,1)||new sn(t)},Xe.atEnd=function(t){return un(t,t,t.content.size,t.childCount,-1)||new sn(t)},Xe.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=Ye[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},Xe.jsonID=function(t,e){if(t in Ye)throw new RangeError("Duplicate use of selection JSON ID "+t);return Ye[t]=e,e.prototype.jsonID=t,e},Xe.prototype.getBookmark=function(){return en.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(Xe.prototype,Qe),Xe.prototype.visible=!0;var tn=function(t,e){this.$from=t,this.$to=e},en=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=St.empty),t.prototype.replace.call(this,e,n),n==St.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new nn(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!s)return t.near(r,o);r=s.$head}return n.parent.inlineContent||(0==i||(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new e(n,r)},Object.defineProperties(e.prototype,n),e}(Xe);Xe.jsonID("text",en);var nn=function(t,e){this.anchor=t,this.head=e};nn.prototype.map=function(t){return new nn(t.map(this.anchor),t.map(this.head))},nn.prototype.resolve=function(t){return en.between(t.resolve(this.anchor),t.resolve(this.head))};var rn=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,s=o.pos,a=n.resolve(s);return i?t.near(a):new e(a)},e.prototype.content=function(){return new St(wt.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new on(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(Xe);rn.prototype.visible=!1,Xe.jsonID("node",rn);var on=function(t){this.anchor=t};on.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new nn(r,r):new on(r)},on.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&rn.isSelectable(n)?new rn(e):Xe.near(e)};var sn=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=St.empty),n==St.empty){e.delete(0,e.doc.content.size);var r=t.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return an},e}(Xe);Xe.jsonID("all",sn);var an={map:function(){return this},resolve:function(t){return new sn(t)}};function un(t,e,n,r,o,i){if(e.inlineContent)return en.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&rn.isSelectable(a))return rn.create(t,n-(o<0?a.nodeSize:0))}else{var u=un(t,a,n+o,o<0?a.childCount:0,o,i);if(u)return u}n+=a.nodeSize*o}}function cn(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o,i=t.steps[r];if(i instanceof Re||i instanceof Le)t.mapping.maps[r].forEach((function(t,e,n,r){null==o&&(o=r)})),t.setSelection(Xe.near(t.doc.resolve(o),n))}}var ln=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return xt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||xt.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(Xe.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(Oe);function pn(t,e){return e&&t?t.bind(e):t}var dn=function(t,e,n){this.name=t,this.init=pn(e.init,n),this.apply=pn(e.apply,n)},hn=[new dn("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new dn("selection",{init:function(t,e){return t.selection||Xe.atStart(e.doc)},apply:function(t){return t.selection}}),new dn("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new dn("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],fn=function(t,e){var n=this;this.schema=t,this.fields=hn.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new dn(t.key,t.spec.state,t))}))},mn=function(t){this.config=t},gn={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};gn.schema.get=function(){return this.config.schema},gn.plugins.get=function(){return this.config.plugins},mn.prototype.apply=function(t){return this.applyTransaction(t).state},mn.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},mn.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=r?r[i].n:0,u=r?r[i].state:this,c=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,u,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(var l=0;l<this.config.plugins.length;l++)r.push(l<i?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},mn.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new mn(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<vn.length;i++)vn[i](this,t,e);return e},gn.tr.get=function(){return new ln(this)},mn.create=function(t){for(var e=new fn(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new mn(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},mn.prototype.reconfigure=function(t){for(var e=new fn(this.schema,t.plugins),n=e.fields,r=new mn(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},mn.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},mn.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new fn(t.schema,t.plugins),o=new mn(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=Jt.fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=Xe.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var i in n){var s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[r.name]=a.fromJSON.call(s,t,e[i],o))}o[r.name]=r.init(t,o)}})),o},mn.addApplyListener=function(t){vn.push(t)},mn.removeApplyListener=function(t){var e=vn.indexOf(t);e>-1&&vn.splice(e,1)},Object.defineProperties(mn.prototype,gn);var vn=[];function yn(t,e){return e?t.createChecked(null,e):t.createAndFill()}function bn(t,e,n,r,o){const i=function(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach((n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)})),t.cached.tableNodeTypes=e,e}(t),s=[],a=[];for(let t=0;t<n;t+=1){const t=yn(i.cell,o);if(t&&a.push(t),r){const t=yn(i.header_cell,o);t&&s.push(t)}}const u=[];for(let t=0;t<e;t+=1)u.push(i.row.createChecked(null,r&&0===t?s:a));return i.table.createChecked(null,u)}const wn=({editor:t})=>{const{selection:e}=t.state;if(!(e instanceof M))return!1;let n=0;const r=(0,i.qv)(e.ranges[0].$from,(t=>"table"===t.type.name));null==r||r.node.descendants((t=>{if("table"===t.type.name)return!1;["tableCell","tableHeader"].includes(t.type.name)&&(n+=1)}));return n===e.ranges.length&&(t.commands.deleteTable(),!0)};function Dn(t,e,n,r,o,i){let s=0,a=!0,u=e.firstChild;const c=t.firstChild;for(let t=0,n=0;t<c.childCount;t+=1){const{colspan:l,colwidth:p}=c.child(t).attrs;for(let t=0;t<l;t+=1,n+=1){const c=o===n?i:p&&p[t],l=c?`${c}px`:"";s+=c||r,c||(a=!1),u?(u.style.width!==l&&(u.style.width=l),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=l}}for(;u;){const t=u.nextSibling;u.parentNode.removeChild(u),u=t}a?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class En{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Dn(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type===this.node.type&&(this.node=t,Dn(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return"attributes"===t.type&&(t.target===this.table||this.colgroup.contains(t.target))}}const An=i.NB.create({name:"table",addOptions:()=>({HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:En,lastColumnResizable:!0,allowTableNodeSelection:!1}),content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML:()=>[{tag:"table"}],renderHTML({HTMLAttributes:t}){return["table",(0,i.P1)(this.options.HTMLAttributes,t),["tbody",0]]},addCommands:()=>({insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:o,editor:i})=>{const s=bn(i.schema,t,e,n);if(o){const t=r.selection.anchor+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(en.near(r.doc.resolve(t)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>function(t,e){if(!w(t))return!1;if(e){var n=G(t);e(Y(t.tr,n,n.left))}return!0}(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>function(t,e){if(!w(t))return!1;if(e){var n=G(t);e(Y(t.tr,n,n.right))}return!0}(t,e),deleteColumn:()=>({state:t,dispatch:e})=>function(t,e){if(!w(t))return!1;if(e){var n=G(t),r=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;X(r,n,o),o!=n.left;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table);e(r)}return!0}(t,e),addRowBefore:()=>({state:t,dispatch:e})=>function(t,e){if(!w(t))return!1;if(e){var n=G(t);e(Q(t.tr,n,n.top))}return!0}(t,e),addRowAfter:()=>({state:t,dispatch:e})=>function(t,e){if(!w(t))return!1;if(e){var n=G(t);e(Q(t.tr,n,n.bottom))}return!0}(t,e),deleteRow:()=>({state:t,dispatch:e})=>function(t,e){if(!w(t))return!1;if(e){var n=G(t),r=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;tt(r,n,o),o!=n.top;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table);e(r)}return!0}(t,e),deleteTable:()=>({state:t,dispatch:e})=>function(t,e){for(var n=t.selection.$anchor,r=n.depth;r>0;r--)if("table"==n.node(r).type.spec.tableRole)return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}(t,e),mergeCells:()=>({state:t,dispatch:e})=>nt(t,e),splitCell:()=>({state:t,dispatch:e})=>rt(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>it("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>it("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>st(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>!!nt(t,e)||rt(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>function(t,e){return function(n,r){if(!w(n))return!1;var o=D(n);if(o.nodeAfter.attrs[t]===e)return!1;if(r){var i=n.tr;n.selection instanceof M?n.selection.forEachCell((function(n,r){n.attrs[t]!==e&&i.setNodeMarkup(r,null,x(n.attrs,t,e))})):i.setNodeMarkup(o.pos,null,x(o.nodeAfter.attrs,t,e)),r(i)}return!0}}(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>at(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>at(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&V(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const n=M.create(e.doc,t.anchorCell,t.headCell);e.setSelection(n)}return!0}}),addKeyboardShortcuts(){return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:wn,"Mod-Backspace":wn,Delete:wn,"Mod-Delete":wn}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[pt({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],vt({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:(0,i.nU)((0,i.Nl)(t,"tableRole",e))}}})},6667:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>i});var r=n(6798);const o=/^\s*(\[([ |x])\])\s$/,i=r.NB.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{}}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:t=>"true"===t.getAttribute("data-checked"),renderHTML:t=>({"data-checked":t.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",(0,r.P1)(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const o=document.createElement("li"),i=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),u=document.createElement("div");return i.contentEditable="false",a.type="checkbox",a.addEventListener("change",(t=>{if(!r.isEditable)return void(a.checked=!a.checked);const{checked:e}=t.target;r.isEditable&&"function"==typeof n&&r.chain().focus(void 0,{scrollIntoView:!1}).command((({tr:t})=>{const r=n(),o=t.doc.nodeAt(r);return t.setNodeMarkup(r,void 0,{...null==o?void 0:o.attrs,checked:e}),!0})).run()})),Object.entries(this.options.HTMLAttributes).forEach((([t,e])=>{o.setAttribute(t,e)})),o.dataset.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","checked"),i.append(a,s),o.append(i,u),Object.entries(e).forEach((([t,e])=>{o.setAttribute(t,e)})),{dom:o,contentDOM:u,update:t=>t.type===this.type&&(o.dataset.checked=t.attrs.checked,t.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[(0,r.S0)({find:o,type:this.type,getAttributes:t=>({checked:"x"===t[t.length-1]})})]}})},4746:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(6798);const o=r.NB.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",(0,r.P1)(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}})},9068:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n(6798).NB.create({name:"text",group:"inline"})},78:(t,e,n)=>{"use strict";function r(t,e){return"function"==typeof t?t.apply(null,e):t}function o(t,e,n){return void 0===t||n!==t[e]?{...t,[e]:n}:t}n.d(e,{EG:()=>f,NG:()=>m,I4:()=>h,d4:()=>d,_Y:()=>p,eJ:()=>l});const i=new WeakMap,s=[];function a(){const t=s[s.length-1],e=i.get(t);if(void 0!==e)return e;throw new Error("Hooks only valid inside an Articulated Function or a Custom Hook.")}function u(t,e){if(void 0===t||void 0===e)return!0;if(t.length!==e.length)return!0;for(const[n,r]of t.entries())if(!Object.is(r,e[n]))return!0;return!1}function c(t,e){return n.reset=function(){s.push(n);const t=a();try{for(let e of t.c)r(e)}finally{s.pop(),t.sS.length=0,t.e.length=0,t.c.length=0,t.m.length=0,t.nSSI=0,t.nEI=0,t.nMI=0}},n;function n(...o){s.push(n);let a,u=i.get(n);null==u?(u={nSSI:0,nEI:0,nMI:0,sS:[],e:[],c:[],m:[],hUS:!1,af:n.bind(this,...o)},i.set(n,u)):(u.nSSI=0,u.nEI=0,u.nMI=0,u.af=n.bind(this,...o));try{a=t.apply(this,o)}finally{try{return function(t){for(let[e,[n]]of t.e.entries())try{r(n)}finally{t.e[e][0]=void 0}}(u),e(a)}finally{u.hUS&&(u.hUS=!1,u.af()),s.pop()}}}}function l(t){return p((function(t,e){return r(e,[t])}),t)}function p(t,e,...n){var o=a();if(!(o.nSSI in o.sS)){let i=[r(e),function(e){i[0]=t(i[0],e),s.length>0?o.hUS=!0:o.af()}];o.sS[o.nSSI]=i,n.length>0&&o.sS[o.nSSI][1](n[0])}return[...o.sS[o.nSSI++]]}function d(t,...e){e.length>0?1==e.length&&Array.isArray(e[0])&&(e=e[0]):e=void 0;const n=a();n.nEI in n.e||(n.e[n.nEI]=[]);let o=n.nEI,i=n.e[o];u(i[1],e)&&(i[0]=function(){try{r(n.c[o])}finally{n.c[o]=void 0}var e=t();"function"==typeof e&&(n.c[o]=e)},i[1]=e),n.nEI++}function h(t,...e){return function(t,...e){e.length>0?1==e.length&&Array.isArray(e[0])&&(e=e[0]):e=[t];const n=a();n.nMI in n.m||(n.m[n.nMI]=[]);const r=n.m[n.nMI];if(u(r[1],e))try{r[0]=t()}finally{r[1]=e}return n.nMI++,r[0]}((function(){return t}),...e)}function f(t){const e=t.mapper||o;return n=>{const r=function(t,e,n,r,o){var i;const s=((i=class extends HTMLElement{constructor(){super(),this._props={};const i=void 0!==o?this.attachShadow(o):this;this.aFunc=c(t,(t=>n(t,i)));for(const t in e){const n=e[t];let o;"type"in n&&(this.props[t]=n.default,o=n.attribute),Reflect.defineProperty(this,t,{get:()=>this.props[t],set:e=>{this.props=r.apply(this,[this.props,t,e,o])},enumerable:!0})}}static get observedAttributes(){return Object.values(this.attributes)}set props(t){void 0!==t&&this.props!==t&&(this._props=t,this.render())}get props(){return this._props}connectedCallback(){this.render()}attributeChangedCallback(t,e,n){if(e!==n)for(const[e,r]of Object.entries(this.constructor.attributes))if(r===t&&this[e]!==n){this[e]=n;break}}render(){this.isConnected&&Reflect.apply(this.aFunc,this,[this.props])}}).attributes={},i),a=Reflect.get(s,"attributes");for(const t in e){const n=e[t];"type"in n&&void 0!==n.attribute&&Reflect.defineProperty(s,"attributes",{value:{...a,[t]:n.attribute},enumerable:!0,writable:!0})}return s}(n,t.props||{},t.render,e,t.shadow);return(t,e)=>{try{customElements.define(t,r,e)}catch(t){console.warn(t)}const n=async e=>customElements.whenDefined(t).then((()=>customElements.get(t)));return n.element=r,n.adapter=(e,n)=>e(t,n),n}}}function m(t){return e=>n=>{const r=new WeakMap;return o=>{const i=n||function(t){var[e]=l({current:t});return e}(null);let s=r.get(i);if(void 0===s){const n=c(e,(e=>t.render(e,i)));s=(t=o)=>Reflect.apply(n,i.current,[t]),r.set(i,s)}return s(o)}}}},7012:(t,e,n)=>{"use strict";function r(t,e,n){return void 0===t||n!==t[e]?{...t,[e]:n}:t}n.d(e,{s:()=>u});const o=t=>({type:{},attribute:t,optional:!0}),i=String.raw,s=String.raw;function a(t,e){let n=e.querySelector("div");if(null==n&&(n=document.createElement("div"),n.style.display="contents",n.innerHTML=t.template,e.append(n)),window.ShadowRoot&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype){const n=new CSSStyleSheet;n.replaceSync(t.style),e.adoptedStyleSheets=[n]}else{let r=e.querySelector("style");null==r?(r=document.createElement("style"),r.innerHTML=t.style,e.insertBefore(r,n)):r.innerHTML=t.style}}const u=function(t){const e=(null==t?void 0:t.mapper)||r;return n=>{const r=function(t,e,n){var r;const o=((r=class extends HTMLElement{constructor(){super(),this._props={},this.isScheduledNext=!1;for(const t in e){const r=e[t];let o;"type"in r&&(o=r.attribute),Reflect.defineProperty(this,t,{get:()=>this.props[t],set:e=>{this.props=n.apply(this,[this.props,t,e,o])},enumerable:!0})}}static get observedAttributes(){return Object.values(this.attributes)}set props(t){void 0!==t&&this.props!==t&&(this._props=t,this.next())}get props(){return this._props}async next(){if(!this.isScheduledNext&&null!=this.generation){this.isScheduledNext=!0;const t=await Promise.resolve(this.generation);this.isScheduledNext=!1,t.next(this.props)}}connectedCallback(){this.generation=t.apply(this,[this.props]),this.generation.next(this.props)}attributeChangedCallback(t,e,n){if(e!==n)for(const[e,r]of Object.entries(this.constructor.attributes))if(r===t&&this[e]!==n){this[e]=n;break}}disconnectedCallback(){var t;null===(t=this.generation)||void 0===t||t.return()}}).attributes={},r),i=Reflect.get(o,"attributes");for(const t in e){const n=e[t];"type"in n&&void 0!==n.attribute&&Reflect.defineProperty(o,"attributes",{value:{...i,[t]:n.attribute},enumerable:!0,writable:!0})}return o}(n,(null==t?void 0:t.props)||{},e);return(t,e)=>{try{customElements.define(t,r,e)}catch(t){console.warn(t)}const n=function(e){return null!=new.target?new r:customElements.whenDefined(t).then((()=>customElements.get(t)))};return n.adapter=(e,n)=>e(t,n),n}}}({props:{config:o(),color:o("color")}})((function*(t){const e=this.attachShadow({mode:"open"});let n,r=t.config||{duration:2e3,stepsCount:1},o=t.color||"#ef534e",u=!1,c="";const l=t=>{n=t,this.next()},p=t=>{u=t,this.next()},d=t=>{const e=100/t;let n="";for(let r=0;r<t;r++)n=n+" "+s`@keyframes${` loadingPB_${r}`}{from{width:${r*e+"%"};}to{width:${(r+1)*e+"%"};}}`;c=n;let r=0;this.ref=this.ref||{},this.ref.current=this,this.generateProgress=function*(){for(;;)r<t?(l(`loadingPB_${r}`),++r,yield r):(p(!1),l(void 0),r=0,yield r)}(),this.togglePause=t=>p("boolean"==typeof t?t:!u)};d(r.stepsCount);try{for(;;){var h,f;o=t.color||o,null!=(null===(h=t.config)||void 0===h?void 0:h.stepsCount)&&t.config.stepsCount!==r.stepsCount&&(r.stepsCount=t.config.stepsCount,d(r.stepsCount)),null!=(null===(f=t.config)||void 0===f?void 0:f.duration)&&t.config.duration!==r.duration&&(r.duration=t.config.duration),t=yield a({style:s`${c}.lpb{animation-timing-function:cubic-bezier(.55,0,1,.45);animation-fill-mode:both;background:${o};height:3px;left:0;top:0;width:0%;z-index:9999;position:fixed;animation-name:${n};animation-duration:${r.duration+"ms"};animation-play-state:${u?"paused":"running"}}.lpb:after{display:${void 0!==n?"block":"none"};position:absolute;content:'';right:0;width:100px;height:100%;box-shadow:${`0 0 10px ${o}, 0 0 5px ${o}`};opacity:1;transform:rotate(3deg)translate(0,-4px)}`,template:i`<div class="lpb"></div>`},e)}}finally{var m;null===(m=this.generateProgress)||void 0===m||m.return(0)}}))},8557:(t,e,n)=>{"use strict";n.d(e,{b:()=>h});var r=n(655),o=function(t){function e(e,n){return t.call(this)||this}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(204).w0),i={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,(0,r.ev)([],(0,r.CR)(t)))},clearInterval:function(t){var e=i.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},s=n(3699),a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),i.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;i.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(o),u=n(4318),c=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=u.l.now,t}(),l=new(function(t){function e(e,n){void 0===n&&(n=c.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return(0,r.ZT)(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(c))(a),p=n(4176),d=n(2566);function h(t,e){return void 0===e&&(e=l),(0,p.e)((function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var t=i;i=null,r.next(t)}};function u(){var n=s+t,i=e.now();if(i<n)return o=this.schedule(void 0,n-i),void r.add(o);a()}n.subscribe((0,d.x)(r,(function(n){i=n,s=e.now(),o||(o=e.schedule(u,t),r.add(o))}),(function(){a(),r.complete()}),void 0,(function(){i=o=null})))}))}},2006:(t,e,n)=>{"use strict";n.d(e,{b:()=>a});var r=n(8474),o=n(4176),i=n(2566),s=n(278);function a(t,e,n){var a=(0,r.m)(t)||e||n?{next:t,error:e,complete:n}:t;return a?(0,o.e)((function(t,e){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var r=!0;t.subscribe((0,i.x)(e,(function(t){var n;null===(n=a.next)||void 0===n||n.call(a,t),e.next(t)}),(function(){var t;r=!1,null===(t=a.complete)||void 0===t||t.call(a),e.complete()}),(function(t){var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,t),e.error(t)}),(function(){var t,e;r&&(null===(t=a.unsubscribe)||void 0===t||t.call(a)),null===(e=a.finalize)||void 0===e||e.call(a)})))})):s.y}},3861:(t,e,n)=>{"use strict";function r(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function o(t){return t instanceof r(t).Element||t instanceof Element}function i(t){return t instanceof r(t).HTMLElement||t instanceof HTMLElement}function s(t){return"undefined"!=typeof ShadowRoot&&(t instanceof r(t).ShadowRoot||t instanceof ShadowRoot)}n.d(e,{ZP:()=>se});var a=Math.max,u=Math.min,c=Math.round;function l(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),r=1,o=1;if(i(t)&&e){var s=t.offsetHeight,a=t.offsetWidth;a>0&&(r=c(n.width)/a||1),s>0&&(o=c(n.height)/s||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function p(t){var e=r(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function d(t){return t?(t.nodeName||"").toLowerCase():null}function h(t){return((o(t)?t.ownerDocument:t.document)||window.document).documentElement}function f(t){return l(h(t)).left+p(t).scrollLeft}function m(t){return r(t).getComputedStyle(t)}function g(t){var e=m(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function v(t,e,n){void 0===n&&(n=!1);var o,s,a=i(e),u=i(e)&&function(t){var e=t.getBoundingClientRect(),n=c(e.width)/t.offsetWidth||1,r=c(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),m=h(e),v=l(t,u),y={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(a||!a&&!n)&&(("body"!==d(e)||g(m))&&(y=(o=e)!==r(o)&&i(o)?{scrollLeft:(s=o).scrollLeft,scrollTop:s.scrollTop}:p(o)),i(e)?((b=l(e,!0)).x+=e.clientLeft,b.y+=e.clientTop):m&&(b.x=f(m))),{x:v.left+y.scrollLeft-b.x,y:v.top+y.scrollTop-b.y,width:v.width,height:v.height}}function y(t){var e=l(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function b(t){return"html"===d(t)?t:t.assignedSlot||t.parentNode||(s(t)?t.host:null)||h(t)}function w(t){return["html","body","#document"].indexOf(d(t))>=0?t.ownerDocument.body:i(t)&&g(t)?t:w(b(t))}function D(t,e){var n;void 0===e&&(e=[]);var o=w(t),i=o===(null==(n=t.ownerDocument)?void 0:n.body),s=r(o),a=i?[s].concat(s.visualViewport||[],g(o)?o:[]):o,u=e.concat(a);return i?u:u.concat(D(b(a)))}function E(t){return["table","td","th"].indexOf(d(t))>=0}function A(t){return i(t)&&"fixed"!==m(t).position?t.offsetParent:null}function C(t){for(var e=r(t),n=A(t);n&&E(n)&&"static"===m(n).position;)n=A(n);return n&&("html"===d(n)||"body"===d(n)&&"static"===m(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&i(t)&&"fixed"===m(t).position)return null;for(var n=b(t);i(n)&&["html","body"].indexOf(d(n))<0;){var r=m(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}var x="top",k="bottom",S="right",M="left",O="auto",T=[x,k,S,M],F="start",N="end",_="viewport",B="popper",R=T.reduce((function(t,e){return t.concat([e+"-"+F,e+"-"+N])}),[]),L=[].concat(T,[O]).reduce((function(t,e){return t.concat([e,e+"-"+F,e+"-"+N])}),[]),I=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(t){var e=new Map,n=new Set,r=[];function o(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&o(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||o(t)})),r}var j={placement:"bottom",modifiers:[],strategy:"absolute"};function z(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function $(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,s=void 0===i?j:i;return function(t,e,n){void 0===n&&(n=s);var i,a,u={placement:"bottom",orderedModifiers:[],options:Object.assign({},j,s),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],l=!1,p={state:u,setOptions:function(n){var i="function"==typeof n?n(u.options):n;d(),u.options=Object.assign({},s,u.options,i),u.scrollParents={reference:o(t)?D(t):t.contextElement?D(t.contextElement):[],popper:D(e)};var a=function(t){var e=H(t);return I.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(r,u.options.modifiers)));return u.orderedModifiers=a.filter((function(t){return t.enabled})),u.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var i=o({state:u,name:e,instance:p,options:r}),s=function(){};c.push(i||s)}})),p.update()},forceUpdate:function(){if(!l){var t=u.elements,e=t.reference,n=t.popper;if(z(e,n)){u.rects={reference:v(e,C(n),"fixed"===u.options.strategy),popper:y(n)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach((function(t){return u.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<u.orderedModifiers.length;r++)if(!0!==u.reset){var o=u.orderedModifiers[r],i=o.fn,s=o.options,a=void 0===s?{}:s,c=o.name;"function"==typeof i&&(u=i({state:u,options:a,name:c,instance:p})||u)}else u.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(t){p.forceUpdate(),t(u)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(i())}))}))),a}),destroy:function(){d(),l=!0}};if(!z(t,e))return p;function d(){c.forEach((function(t){return t()})),c=[]}return p.setOptions(n).then((function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)})),p}}var P={passive:!0};function q(t){return t.split("-")[0]}function W(t){return t.split("-")[1]}function U(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function K(t){var e,n=t.reference,r=t.element,o=t.placement,i=o?q(o):null,s=o?W(o):null,a=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(i){case x:e={x:a,y:n.y-r.height};break;case k:e={x:a,y:n.y+n.height};break;case S:e={x:n.x+n.width,y:u};break;case M:e={x:n.x-r.width,y:u};break;default:e={x:n.x,y:n.y}}var c=i?U(i):null;if(null!=c){var l="y"===c?"height":"width";switch(s){case F:e[c]=e[c]-(n[l]/2-r[l]/2);break;case N:e[c]=e[c]+(n[l]/2-r[l]/2)}}return e}var Z={top:"auto",right:"auto",bottom:"auto",left:"auto"};function J(t){var e,n=t.popper,o=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,u=t.position,l=t.gpuAcceleration,p=t.adaptive,d=t.roundOffsets,f=t.isFixed,g=!0===d?function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:c(e*r)/r||0,y:c(n*r)/r||0}}(a):"function"==typeof d?d(a):a,v=g.x,y=void 0===v?0:v,b=g.y,w=void 0===b?0:b,D=a.hasOwnProperty("x"),E=a.hasOwnProperty("y"),A=M,O=x,T=window;if(p){var F=C(n),_="clientHeight",B="clientWidth";if(F===r(n)&&"static"!==m(F=h(n)).position&&"absolute"===u&&(_="scrollHeight",B="scrollWidth"),F=F,i===x||(i===M||i===S)&&s===N)O=k,w-=(f&&T.visualViewport?T.visualViewport.height:F[_])-o.height,w*=l?1:-1;if(i===M||(i===x||i===k)&&s===N)A=S,y-=(f&&T.visualViewport?T.visualViewport.width:F[B])-o.width,y*=l?1:-1}var R,L=Object.assign({position:u},p&&Z);return l?Object.assign({},L,((R={})[O]=E?"0":"",R[A]=D?"0":"",R.transform=(T.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",R)):Object.assign({},L,((e={})[O]=E?w+"px":"",e[A]=D?y+"px":"",e.transform="",e))}const V={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];i(o)&&d(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],o=e.attributes[t]||{},s=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});i(r)&&d(r)&&(Object.assign(r.style,s),Object.keys(o).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]};const G={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=void 0===o?[0,0]:o,s=L.reduce((function(t,n){return t[n]=function(t,e,n){var r=q(t),o=[M,x].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},e,{placement:t})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[M,S].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,e.rects,i),t}),{}),a=s[e.placement],u=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}};var Y={left:"right",right:"left",bottom:"top",top:"bottom"};function X(t){return t.replace(/left|right|bottom|top/g,(function(t){return Y[t]}))}var Q={start:"end",end:"start"};function tt(t){return t.replace(/start|end/g,(function(t){return Q[t]}))}function et(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&s(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function nt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function rt(t,e){return e===_?nt(function(t){var e=r(t),n=h(t),o=e.visualViewport,i=n.clientWidth,s=n.clientHeight,a=0,u=0;return o&&(i=o.width,s=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=o.offsetLeft,u=o.offsetTop)),{width:i,height:s,x:a+f(t),y:u}}(t)):o(e)?function(t){var e=l(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):nt(function(t){var e,n=h(t),r=p(t),o=null==(e=t.ownerDocument)?void 0:e.body,i=a(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=a(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-r.scrollLeft+f(t),c=-r.scrollTop;return"rtl"===m(o||n).direction&&(u+=a(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:u,y:c}}(h(t)))}function ot(t,e,n){var r="clippingParents"===e?function(t){var e=D(b(t)),n=["absolute","fixed"].indexOf(m(t).position)>=0,r=n&&i(t)?C(t):t;return o(r)?e.filter((function(t){return o(t)&&et(t,r)&&"body"!==d(t)&&(!n||"static"!==m(t).position)})):[]}(t):[].concat(e),s=[].concat(r,[n]),c=s[0],l=s.reduce((function(e,n){var r=rt(t,n);return e.top=a(r.top,e.top),e.right=u(r.right,e.right),e.bottom=u(r.bottom,e.bottom),e.left=a(r.left,e.left),e}),rt(t,c));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function it(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function st(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function at(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,s=n.boundary,a=void 0===s?"clippingParents":s,u=n.rootBoundary,c=void 0===u?_:u,p=n.elementContext,d=void 0===p?B:p,f=n.altBoundary,m=void 0!==f&&f,g=n.padding,v=void 0===g?0:g,y=it("number"!=typeof v?v:st(v,T)),b=d===B?"reference":B,w=t.rects.popper,D=t.elements[m?b:d],E=ot(o(D)?D:D.contextElement||h(t.elements.popper),a,c),A=l(t.elements.reference),C=K({reference:A,element:w,strategy:"absolute",placement:i}),M=nt(Object.assign({},w,C)),O=d===B?M:A,F={top:E.top-O.top+y.top,bottom:O.bottom-E.bottom+y.bottom,left:E.left-O.left+y.left,right:O.right-E.right+y.right},N=t.modifiersData.offset;if(d===B&&N){var R=N[i];Object.keys(F).forEach((function(t){var e=[S,k].indexOf(t)>=0?1:-1,n=[x,k].indexOf(t)>=0?"y":"x";F[t]+=R[n]*e}))}return F}function ut(t,e,n){return a(t,u(e,n))}const ct={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,c=void 0!==s&&s,l=n.boundary,p=n.rootBoundary,d=n.altBoundary,h=n.padding,f=n.tether,m=void 0===f||f,g=n.tetherOffset,v=void 0===g?0:g,b=at(e,{boundary:l,rootBoundary:p,padding:h,altBoundary:d}),w=q(e.placement),D=W(e.placement),E=!D,A=U(w),O="x"===A?"y":"x",T=e.modifiersData.popperOffsets,N=e.rects.reference,_=e.rects.popper,B="function"==typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,R="number"==typeof B?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(T){if(i){var H,j="y"===A?x:M,z="y"===A?k:S,$="y"===A?"height":"width",P=T[A],K=P+b[j],Z=P-b[z],J=m?-_[$]/2:0,V=D===F?N[$]:_[$],G=D===F?-_[$]:-N[$],Y=e.elements.arrow,X=m&&Y?y(Y):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tt=Q[j],et=Q[z],nt=ut(0,N[$],X[$]),rt=E?N[$]/2-J-nt-tt-R.mainAxis:V-nt-tt-R.mainAxis,ot=E?-N[$]/2+J+nt+et+R.mainAxis:G+nt+et+R.mainAxis,it=e.elements.arrow&&C(e.elements.arrow),st=it?"y"===A?it.clientTop||0:it.clientLeft||0:0,ct=null!=(H=null==L?void 0:L[A])?H:0,lt=P+ot-ct,pt=ut(m?u(K,P+rt-ct-st):K,P,m?a(Z,lt):Z);T[A]=pt,I[A]=pt-P}if(c){var dt,ht="x"===A?x:M,ft="x"===A?k:S,mt=T[O],gt="y"===O?"height":"width",vt=mt+b[ht],yt=mt-b[ft],bt=-1!==[x,M].indexOf(w),wt=null!=(dt=null==L?void 0:L[O])?dt:0,Dt=bt?vt:mt-N[gt]-_[gt]-wt+R.altAxis,Et=bt?mt+N[gt]+_[gt]-wt-R.altAxis:yt,At=m&&bt?function(t,e,n){var r=ut(t,e,n);return r>n?n:r}(Dt,mt,Et):ut(m?Dt:vt,mt,m?Et:yt);T[O]=At,I[O]=At-mt}e.modifiersData[r]=I}},requiresIfExists:["offset"]};const lt={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=q(n.placement),u=U(a),c=[M,S].indexOf(a)>=0?"height":"width";if(i&&s){var l=function(t,e){return it("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:st(t,T))}(o.padding,n),p=y(i),d="y"===u?x:M,h="y"===u?k:S,f=n.rects.reference[c]+n.rects.reference[u]-s[u]-n.rects.popper[c],m=s[u]-n.rects.reference[u],g=C(i),v=g?"y"===u?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,w=l[d],D=v-p[c]-l[h],E=v/2-p[c]/2+b,A=ut(w,E,D),O=u;n.modifiersData[r]=((e={})[O]=A,e.centerOffset=A-E,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&et(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function dt(t){return[x,S,k,M].some((function(e){return t[e]>=0}))}var ht=$({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,o=t.options,i=o.scroll,s=void 0===i||i,a=o.resize,u=void 0===a||a,c=r(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach((function(t){t.addEventListener("scroll",n.update,P)})),u&&c.addEventListener("resize",n.update,P),function(){s&&l.forEach((function(t){t.removeEventListener("scroll",n.update,P)})),u&&c.removeEventListener("resize",n.update,P)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=K({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,u=void 0===a||a,c={placement:q(e.placement),variation:W(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,J(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,J(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},V,G,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,u=n.fallbackPlacements,c=n.padding,l=n.boundary,p=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,f=void 0===h||h,m=n.allowedAutoPlacements,g=e.options.placement,v=q(g),y=u||(v===g||!f?[X(g)]:function(t){if(q(t)===O)return[];var e=X(t);return[tt(t),e,tt(e)]}(g)),b=[g].concat(y).reduce((function(t,n){return t.concat(q(n)===O?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?L:u,l=W(r),p=l?a?R:R.filter((function(t){return W(t)===l})):T,d=p.filter((function(t){return c.indexOf(t)>=0}));0===d.length&&(d=p);var h=d.reduce((function(e,n){return e[n]=at(t,{placement:n,boundary:o,rootBoundary:i,padding:s})[q(n)],e}),{});return Object.keys(h).sort((function(t,e){return h[t]-h[e]}))}(e,{placement:n,boundary:l,rootBoundary:p,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),w=e.rects.reference,D=e.rects.popper,E=new Map,A=!0,C=b[0],N=0;N<b.length;N++){var _=b[N],B=q(_),I=W(_)===F,H=[x,k].indexOf(B)>=0,j=H?"width":"height",z=at(e,{placement:_,boundary:l,rootBoundary:p,altBoundary:d,padding:c}),$=H?I?S:M:I?k:x;w[j]>D[j]&&($=X($));var P=X($),U=[];if(i&&U.push(z[B]<=0),a&&U.push(z[$]<=0,z[P]<=0),U.every((function(t){return t}))){C=_,A=!1;break}E.set(_,U)}if(A)for(var K=function(t){var e=b.find((function(e){var n=E.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return C=e,"break"},Z=f?3:1;Z>0;Z--){if("break"===K(Z))break}e.placement!==C&&(e.modifiersData[r]._skip=!0,e.placement=C,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},ct,lt,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=at(e,{elementContext:"reference"}),a=at(e,{altBoundary:!0}),u=pt(s,r),c=pt(a,o,i),l=dt(u),p=dt(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":p})}}]}),ft="tippy-content",mt="tippy-backdrop",gt="tippy-arrow",vt="tippy-svg-arrow",yt={passive:!0,capture:!0},bt=function(){return document.body};function wt(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function Dt(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function Et(t,e){return"function"==typeof t?t.apply(void 0,e):t}function At(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout((function(){t(r)}),e)};var n}function Ct(t){return[].concat(t)}function xt(t,e){-1===t.indexOf(e)&&t.push(e)}function kt(t){return t.split("-")[0]}function St(t){return[].slice.call(t)}function Mt(t){return Object.keys(t).reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})}function Ot(){return document.createElement("div")}function Tt(t){return["Element","Fragment"].some((function(e){return Dt(t,e)}))}function Ft(t){return Dt(t,"MouseEvent")}function Nt(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function _t(t){return Tt(t)?[t]:function(t){return Dt(t,"NodeList")}(t)?St(t):Array.isArray(t)?t:St(document.querySelectorAll(t))}function Bt(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function Rt(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function Lt(t){var e,n=Ct(t)[0];return null!=n&&null!=(e=n.ownerDocument)&&e.body?n.ownerDocument:document}function It(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[r](e,n)}))}function Ht(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var jt={isTouch:!1},zt=0;function $t(){jt.isTouch||(jt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Pt))}function Pt(){var t=performance.now();t-zt<20&&(jt.isTouch=!1,document.removeEventListener("mousemove",Pt)),zt=t}function qt(){var t=document.activeElement;if(Nt(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var Wt=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var Ut={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Kt=Object.assign({appendTo:bt,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ut,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Zt=Object.keys(Kt);function Jt(t){var e=(t.plugins||[]).reduce((function(e,n){var r,o=n.name,i=n.defaultValue;o&&(e[o]=void 0!==t[o]?t[o]:null!=(r=Kt[o])?r:i);return e}),{});return Object.assign({},t,e)}function Vt(t,e){var n=Object.assign({},e,{content:Et(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(Jt(Object.assign({},Kt,{plugins:e}))):Zt).reduce((function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(t){e[n]=r}return e}),{})}(t,e.plugins));return n.aria=Object.assign({},Kt.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function Gt(t,e){t.innerHTML=e}function Yt(t){var e=Ot();return!0===t?e.className=gt:(e.className=vt,Tt(t)?e.appendChild(t):Gt(e,t)),e}function Xt(t,e){Tt(e.content)?(Gt(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?Gt(t,e.content):t.textContent=e.content)}function Qt(t){var e=t.firstElementChild,n=St(e.children);return{box:e,content:n.find((function(t){return t.classList.contains(ft)})),arrow:n.find((function(t){return t.classList.contains(gt)||t.classList.contains(vt)})),backdrop:n.find((function(t){return t.classList.contains(mt)}))}}function te(t){var e=Ot(),n=Ot();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Ot();function o(n,r){var o=Qt(e),i=o.box,s=o.content,a=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Xt(s,t.props),r.arrow?a?n.arrow!==r.arrow&&(i.removeChild(a),i.appendChild(Yt(r.arrow))):i.appendChild(Yt(r.arrow)):a&&i.removeChild(a)}return r.className=ft,r.setAttribute("data-state","hidden"),Xt(r,t.props),e.appendChild(n),n.appendChild(r),o(t.props,t.props),{popper:e,onUpdate:o}}te.$$tippy=!0;var ee=1,ne=[],re=[];function oe(t,e){var n,r,o,i,s,a,u,c,l=Vt(t,Object.assign({},Kt,Jt(Mt(e)))),p=!1,d=!1,h=!1,f=!1,m=[],g=At(Z,l.interactiveDebounce),v=ee++,y=(c=l.plugins).filter((function(t,e){return c.indexOf(t)===e})),b={id:v,reference:t,popper:Ot(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(e){0;if(b.state.isDestroyed)return;_("onBeforeUpdate",[b,e]),U();var n=b.props,r=Vt(t,Object.assign({},n,Mt(e),{ignoreAttributes:!0}));b.props=r,W(),n.interactiveDebounce!==r.interactiveDebounce&&(L(),g=At(Z,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Ct(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):r.triggerTarget&&t.removeAttribute("aria-expanded");R(),N(),E&&E(n,r);b.popperInstance&&(Y(),Q().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})));_("onAfterUpdate",[b,e])},setContent:function(t){b.setProps({content:t})},show:function(){0;var t=b.state.isVisible,e=b.state.isDestroyed,n=!b.state.isEnabled,r=jt.isTouch&&!b.props.touch,o=wt(b.props.duration,0,Kt.duration);if(t||e||n||r)return;if(M().hasAttribute("disabled"))return;if(_("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,S()&&(D.style.visibility="visible");N(),z(),b.state.isMounted||(D.style.transition="none");if(S()){var i=T(),s=i.box,u=i.content;Bt([s,u],0)}a=function(){var t;if(b.state.isVisible&&!f){if(f=!0,D.offsetHeight,D.style.transition=b.props.moveTransition,S()&&b.props.animation){var e=T(),n=e.box,r=e.content;Bt([n,r],o),Rt([n,r],"visible")}B(),R(),xt(re,b),null==(t=b.popperInstance)||t.forceUpdate(),_("onMount",[b]),b.props.animation&&S()&&function(t,e){P(t,e)}(o,(function(){b.state.isShown=!0,_("onShown",[b])}))}},function(){var t,e=b.props.appendTo,n=M();t=b.props.interactive&&e===bt||"parent"===e?n.parentNode:Et(e,[n]);t.contains(D)||t.appendChild(D);b.state.isMounted=!0,Y(),!1}()},hide:function(){0;var t=!b.state.isVisible,e=b.state.isDestroyed,n=!b.state.isEnabled,r=wt(b.props.duration,1,Kt.duration);if(t||e||n)return;if(_("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,f=!1,p=!1,S()&&(D.style.visibility="hidden");if(L(),$(),N(!0),S()){var o=T(),i=o.box,s=o.content;b.props.animation&&(Bt([i,s],r),Rt([i,s],"hidden"))}B(),R(),b.props.animation?S()&&function(t,e){P(t,(function(){!b.state.isVisible&&D.parentNode&&D.parentNode.contains(D)&&e()}))}(r,b.unmount):b.unmount()},hideWithInteractivity:function(t){0;O().addEventListener("mousemove",g),xt(ne,g),g(t)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;X(),Q().forEach((function(t){t._tippy.unmount()})),D.parentNode&&D.parentNode.removeChild(D);re=re.filter((function(t){return t!==b})),b.state.isMounted=!1,_("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),U(),delete t._tippy,b.state.isDestroyed=!0,_("onDestroy",[b])}};if(!l.render)return b;var w=l.render(b),D=w.popper,E=w.onUpdate;D.setAttribute("data-tippy-root",""),D.id="tippy-"+b.id,b.popper=D,t._tippy=b,D._tippy=b;var A=y.map((function(t){return t.fn(b)})),C=t.hasAttribute("aria-expanded");return W(),R(),N(),_("onCreate",[b]),l.showOnCreate&&tt(),D.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),D.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&O().addEventListener("mousemove",g)})),b;function x(){var t=b.props.touch;return Array.isArray(t)?t:[t,0]}function k(){return"hold"===x()[0]}function S(){var t;return!(null==(t=b.props.render)||!t.$$tippy)}function M(){return u||t}function O(){var t=M().parentNode;return t?Lt(t):document}function T(){return Qt(D)}function F(t){return b.state.isMounted&&!b.state.isVisible||jt.isTouch||i&&"focus"===i.type?0:wt(b.props.delay,t?0:1,Kt.delay)}function N(t){void 0===t&&(t=!1),D.style.pointerEvents=b.props.interactive&&!t?"":"none",D.style.zIndex=""+b.props.zIndex}function _(t,e,n){var r;(void 0===n&&(n=!0),A.forEach((function(n){n[t]&&n[t].apply(n,e)})),n)&&(r=b.props)[t].apply(r,e)}function B(){var e=b.props.aria;if(e.content){var n="aria-"+e.content,r=D.id;Ct(b.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(b.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var o=e&&e.replace(r,"").trim();o?t.setAttribute(n,o):t.removeAttribute(n)}}))}}function R(){!C&&b.props.aria.expanded&&Ct(b.props.triggerTarget||t).forEach((function(t){b.props.interactive?t.setAttribute("aria-expanded",b.state.isVisible&&t===M()?"true":"false"):t.removeAttribute("aria-expanded")}))}function L(){O().removeEventListener("mousemove",g),ne=ne.filter((function(t){return t!==g}))}function I(e){if(!jt.isTouch||!h&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!b.props.interactive||!Ht(D,n)){if(Ct(b.props.triggerTarget||t).some((function(t){return Ht(t,n)}))){if(jt.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else _("onClickOutside",[b,e]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),d=!0,setTimeout((function(){d=!1})),b.state.isMounted||$())}}}function H(){h=!0}function j(){h=!1}function z(){var t=O();t.addEventListener("mousedown",I,!0),t.addEventListener("touchend",I,yt),t.addEventListener("touchstart",j,yt),t.addEventListener("touchmove",H,yt)}function $(){var t=O();t.removeEventListener("mousedown",I,!0),t.removeEventListener("touchend",I,yt),t.removeEventListener("touchstart",j,yt),t.removeEventListener("touchmove",H,yt)}function P(t,e){var n=T().box;function r(t){t.target===n&&(It(n,"remove",r),e())}if(0===t)return e();It(n,"remove",s),It(n,"add",r),s=r}function q(e,n,r){void 0===r&&(r=!1),Ct(b.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,r),m.push({node:t,eventType:e,handler:n,options:r})}))}function W(){var t;k()&&(q("touchstart",K,{passive:!0}),q("touchend",J,{passive:!0})),(t=b.props.trigger,t.split(/\s+/).filter(Boolean)).forEach((function(t){if("manual"!==t)switch(q(t,K),t){case"mouseenter":q("mouseleave",J);break;case"focus":q(Wt?"focusout":"blur",V);break;case"focusin":q("focusout",V)}}))}function U(){m.forEach((function(t){var e=t.node,n=t.eventType,r=t.handler,o=t.options;e.removeEventListener(n,r,o)})),m=[]}function K(t){var e,n=!1;if(b.state.isEnabled&&!G(t)&&!d){var r="focus"===(null==(e=i)?void 0:e.type);i=t,u=t.currentTarget,R(),!b.state.isVisible&&Ft(t)&&ne.forEach((function(e){return e(t)})),"click"===t.type&&(b.props.trigger.indexOf("mouseenter")<0||p)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:tt(t),"click"===t.type&&(p=!n),n&&!r&&et(t)}}function Z(t){var e=t.target,n=M().contains(e)||D.contains(e);if("mousemove"!==t.type||!n){var r=Q().concat(D).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:l}:null})).filter(Boolean);(function(t,e){var n=e.clientX,r=e.clientY;return t.every((function(t){var e=t.popperRect,o=t.popperState,i=t.props.interactiveBorder,s=kt(o.placement),a=o.modifiersData.offset;if(!a)return!0;var u="bottom"===s?a.top.y:0,c="top"===s?a.bottom.y:0,l="right"===s?a.left.x:0,p="left"===s?a.right.x:0,d=e.top-r+u>i,h=r-e.bottom-c>i,f=e.left-n+l>i,m=n-e.right-p>i;return d||h||f||m}))})(r,t)&&(L(),et(t))}}function J(t){G(t)||b.props.trigger.indexOf("click")>=0&&p||(b.props.interactive?b.hideWithInteractivity(t):et(t))}function V(t){b.props.trigger.indexOf("focusin")<0&&t.target!==M()||b.props.interactive&&t.relatedTarget&&D.contains(t.relatedTarget)||et(t)}function G(t){return!!jt.isTouch&&k()!==t.type.indexOf("touch")>=0}function Y(){X();var e=b.props,n=e.popperOptions,r=e.placement,o=e.offset,i=e.getReferenceClientRect,s=e.moveTransition,u=S()?Qt(D).arrow:null,c=i?{getBoundingClientRect:i,contextElement:i.contextElement||M()}:t,l={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(S()){var n=T().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}},p=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},l];S()&&u&&p.push({name:"arrow",options:{element:u,padding:3}}),p.push.apply(p,(null==n?void 0:n.modifiers)||[]),b.popperInstance=ht(c,D,Object.assign({},n,{placement:r,onFirstUpdate:a,modifiers:p}))}function X(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Q(){return St(D.querySelectorAll("[data-tippy-root]"))}function tt(t){b.clearDelayTimeouts(),t&&_("onTrigger",[b,t]),z();var e=F(!0),r=x(),o=r[0],i=r[1];jt.isTouch&&"hold"===o&&i&&(e=i),e?n=setTimeout((function(){b.show()}),e):b.show()}function et(t){if(b.clearDelayTimeouts(),_("onUntrigger",[b,t]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&p)){var e=F(!1);e?r=setTimeout((function(){b.state.isVisible&&b.hide()}),e):o=requestAnimationFrame((function(){b.hide()}))}}else $()}}function ie(t,e){void 0===e&&(e={});var n=Kt.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",$t,yt),window.addEventListener("blur",qt);var r=Object.assign({},e,{plugins:n}),o=_t(t).reduce((function(t,e){var n=e&&oe(e,r);return n&&t.push(n),t}),[]);return Tt(t)?o[0]:o}ie.defaultProps=Kt,ie.setDefaultProps=function(t){Object.keys(t).forEach((function(e){Kt[e]=t[e]}))},ie.currentInput=jt;Object.assign({},V,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}});ie.setDefaultProps({render:te});const se=ie},8960:()=>{"use strict";const t=(t,e=0,n=1)=>t>n?n:t<e?e:t,e=(t,e=0,n=Math.pow(10,e))=>Math.round(n*t)/n,n=(Math.PI,t=>("#"===t[0]&&(t=t.substr(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}:{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:1})),r=({h:t,s:n,v:r,a:o})=>{const i=(200-n)*r/100;return{h:e(t),s:e(i>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0),l:e(i/2),a:e(o,2)}},o=t=>{const{h:e,s:n,l:o}=r(t);return`hsl(${e}, ${n}%, ${o}%)`},i=({h:t,s:n,v:r,a:o})=>{t=t/360*6,n/=100,r/=100;const i=Math.floor(t),s=r*(1-n),a=r*(1-(t-i)*n),u=r*(1-(1-t+i)*n),c=i%6;return{r:e(255*[r,a,s,s,u,r][c]),g:e(255*[u,r,r,a,s,s][c]),b:e(255*[s,s,u,r,r,a][c]),a:e(o,2)}},s=t=>{const e=t.toString(16);return e.length<2?"0"+e:e},a=({r:t,g:e,b:n})=>"#"+s(t)+s(e)+s(n),u=({r:t,g:n,b:r,a:o})=>{const i=Math.max(t,n,r),s=i-Math.min(t,n,r),a=s?i===t?(n-r)/s:i===n?2+(r-t)/s:4+(t-n)/s:0;return{h:e(60*(a<0?a+6:a)),s:e(i?s/i*100:0),v:e(i/255*100),a:o}},c=(t,e)=>{if(t===e)return!0;for(const n in t)if(t[n]!==e[n])return!1;return!0},l={},p=t=>{let e=l[t];return e||(e=document.createElement("template"),e.innerHTML=t,l[t]=e),e},d=(t,e,n)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:n}))};let h=!1;const f=t=>"touches"in t,m=(e,n)=>{const r=f(n)?n.touches[0]:n,o=e.el.getBoundingClientRect();d(e.el,"move",e.getMove({x:t((r.pageX-(o.left+window.pageXOffset))/o.width),y:t((r.pageY-(o.top+window.pageYOffset))/o.height)}))};class g{constructor(t,e,n,r){const o=p(`<div role="slider" tabindex="0" part="${e}" ${n}><div part="${e}-pointer"></div></div>`);t.appendChild(o.content.cloneNode(!0));const i=t.querySelector(`[part=${e}]`);i.addEventListener("mousedown",this),i.addEventListener("touchstart",this),i.addEventListener("keydown",this),this.el=i,this.xy=r,this.nodes=[i.firstChild,i]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e(h?"touchmove":"mousemove",this),e(h?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!(t=>!(h&&!f(t)||(h||(h=f(t)),0)))(t)||!h&&0!=t.button)return;this.el.focus(),m(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),m(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((t,e)=>{const n=e.keyCode;n>40||t.xy&&n<37||n<33||(e.preventDefault(),d(t.el,"move",t.getMove({x:39===n?.01:37===n?-.01:34===n?.05:33===n?-.05:35===n?1:36===n?-1:0,y:40===n?.01:38===n?-.01:0},!0)))})(this,t)}}style(t){t.forEach(((t,e)=>{for(const n in t)this.nodes[e].style.setProperty(n,t[n])}))}}class v extends g{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:t/360*100+"%",color:o({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${e(t)}`)}getMove(e,n){return{h:n?t(this.h+360*e.x,0,360):360*e.x}}}class y extends g{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:100-t.v+"%",left:`${t.s}%`,color:o(t)},{"background-color":o({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${e(t.s)}%, Brightness ${e(t.v)}%`)}getMove(e,n){return{s:n?t(this.hsva.s+100*e.x,0,100):100*e.x,v:n?t(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const b=Symbol("same"),w=Symbol("color"),D=Symbol("hsva"),E=Symbol("change"),A=Symbol("update"),C=Symbol("parts"),x=Symbol("css"),k=Symbol("sliders");class S extends HTMLElement{static get observedAttributes(){return["color"]}get[x](){return[":host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{display:block;content:'';position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}","[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[k](){return[y,v]}get color(){return this[w]}set color(t){if(!this[b](t)){const e=this.colorModel.toHsva(t);this[A](e),this[E](t)}}constructor(){super();const t=p(`<style>${this[x].join("")}</style>`),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[C]=this[k].map((t=>new t(e)))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,n){const r=this.colorModel.fromAttr(n);this[b](r)||(this.color=r)}handleEvent(t){const e=this[D],n={...e,...t.detail};let r;this[A](n),c(n,e)||this[b](r=this.colorModel.fromHsva(n))||this[E](r)}[b](t){return this.color&&this.colorModel.equal(t,this.color)}[A](t){this[D]=t,this[C].forEach((e=>e.update(t)))}[E](t){this[w]=t,d(this,"color-changed",{value:t})}}const M={defaultColor:"#000",toHsva:t=>u(n(t)),fromHsva:t=>a(i(t)),equal:(t,e)=>t.toLowerCase()===e.toLowerCase()||c(n(t),n(e)),fromAttr:t=>t};class O extends S{get colorModel(){return M}}customElements.define("hex-color-picker",class extends O{})},3390:t=>{var e={exports:{}};function n(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(e){var r=t[e];"object"!=typeof r||Object.isFrozen(r)||n(r)})),t}e.exports=n,e.exports.default=n;var r=e.exports;class o{constructor(t){void 0===t.data&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function i(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function s(t,...e){const n=Object.create(null);for(const e in t)n[e]=t[e];return e.forEach((function(t){for(const e in t)n[e]=t[e]})),n}const a=t=>!!t.kind;class u{constructor(t,e){this.buffer="",this.classPrefix=e.classPrefix,t.walk(this)}addText(t){this.buffer+=i(t)}openNode(t){if(!a(t))return;let e=t.kind;e=t.sublanguage?`language-${e}`:((t,{prefix:e})=>{if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map(((t,e)=>`${t}${"_".repeat(e+1)}`))].join(" ")}return`${e}${t}`})(e,{prefix:this.classPrefix}),this.span(e)}closeNode(t){a(t)&&(this.buffer+="</span>")}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}class c{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const e={kind:t,children:[]};this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,e){return"string"==typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach((e=>this._walk(t,e))),t.closeNode(e)),t}static _collapse(t){"string"!=typeof t&&t.children&&(t.children.every((t=>"string"==typeof t))?t.children=[t.children.join("")]:t.children.forEach((t=>{c._collapse(t)})))}}class l extends c{constructor(t){super(),this.options=t}addKeyword(t,e){""!==t&&(this.openNode(e),this.addText(t),this.closeNode())}addText(t){""!==t&&this.add(t)}addSublanguage(t,e){const n=t.root;n.kind=e,n.sublanguage=!0,this.add(n)}toHTML(){return new u(this,this.options).value()}finalize(){return!0}}function p(t){return t?"string"==typeof t?t:t.source:null}function d(t){return m("(?=",t,")")}function h(t){return m("(?:",t,")*")}function f(t){return m("(?:",t,")?")}function m(...t){return t.map((t=>p(t))).join("")}function g(...t){const e=function(t){const e=t[t.length-1];return"object"==typeof e&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}(t);return"("+(e.capture?"":"?:")+t.map((t=>p(t))).join("|")+")"}function v(t){return new RegExp(t.toString()+"|").exec("").length-1}const y=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function b(t,{joinWith:e}){let n=0;return t.map((t=>{n+=1;const e=n;let r=p(t),o="";for(;r.length>0;){const t=y.exec(r);if(!t){o+=r;break}o+=r.substring(0,t.index),r=r.substring(t.index+t[0].length),"\\"===t[0][0]&&t[1]?o+="\\"+String(Number(t[1])+e):(o+=t[0],"("===t[0]&&n++)}return o})).map((t=>`(${t})`)).join(e)}const w="[a-zA-Z]\\w*",D="[a-zA-Z_]\\w*",E="\\b\\d+(\\.\\d+)?",A="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",C="\\b(0b[01]+)",x={begin:"\\\\[\\s\\S]",relevance:0},k={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[x]},S={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[x]},M=function(t,e,n={}){const r=s({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=g("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:m(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},O=M("//","$"),T=M("/\\*","\\*/"),F=M("#","$"),N={scope:"number",begin:E,relevance:0},_={scope:"number",begin:A,relevance:0},B={scope:"number",begin:C,relevance:0},R={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[x,{begin:/\[/,end:/\]/,relevance:0,contains:[x]}]}]},L={scope:"title",begin:w,relevance:0},I={scope:"title",begin:D,relevance:0},H={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0};var j=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:w,UNDERSCORE_IDENT_RE:D,NUMBER_RE:E,C_NUMBER_RE:A,BINARY_NUMBER_RE:C,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=m(e,/.*\b/,t.binary,/\b.*/)),s({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,e)=>{0!==t.index&&e.ignoreMatch()}},t)},BACKSLASH_ESCAPE:x,APOS_STRING_MODE:k,QUOTE_STRING_MODE:S,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT:M,C_LINE_COMMENT_MODE:O,C_BLOCK_COMMENT_MODE:T,HASH_COMMENT_MODE:F,NUMBER_MODE:N,C_NUMBER_MODE:_,BINARY_NUMBER_MODE:B,REGEXP_MODE:R,TITLE_MODE:L,UNDERSCORE_TITLE_MODE:I,METHOD_GUARD:H,END_SAME_AS_BEGIN:function(t){return Object.assign(t,{"on:begin":(t,e)=>{e.data._beginMatch=t[1]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}})}});function z(t,e){"."===t.input[t.index-1]&&e.ignoreMatch()}function $(t,e){void 0!==t.className&&(t.scope=t.className,delete t.className)}function P(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=z,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,void 0===t.relevance&&(t.relevance=0))}function q(t,e){Array.isArray(t.illegal)&&(t.illegal=g(...t.illegal))}function W(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function U(t,e){void 0===t.relevance&&(t.relevance=1)}const K=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach((e=>{delete t[e]})),t.keywords=n.keywords,t.begin=m(n.beforeMatch,d(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},Z=["of","and","for","in","not","or","if","then","parent","list","value"];function J(t,e,n="keyword"){const r=Object.create(null);return"string"==typeof t?o(n,t.split(" ")):Array.isArray(t)?o(n,t):Object.keys(t).forEach((function(n){Object.assign(r,J(t[n],e,n))})),r;function o(t,n){e&&(n=n.map((t=>t.toLowerCase()))),n.forEach((function(e){const n=e.split("|");r[n[0]]=[t,V(n[0],n[1])]}))}}function V(t,e){return e?Number(e):function(t){return Z.includes(t.toLowerCase())}(t)?0:1}const G={},Y=t=>{console.error(t)},X=(t,...e)=>{console.log(`WARN: ${t}`,...e)},Q=(t,e)=>{G[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),G[`${t}/${e}`]=!0)},tt=new Error;function et(t,e,{key:n}){let r=0;const o=t[n],i={},s={};for(let t=1;t<=e.length;t++)s[t+r]=o[t],i[t+r]=!0,r+=v(e[t-1]);t[n]=s,t[n]._emit=i,t[n]._multi=!0}function nt(t){!function(t){t.scope&&"object"==typeof t.scope&&null!==t.scope&&(t.beginScope=t.scope,delete t.scope)}(t),"string"==typeof t.beginScope&&(t.beginScope={_wrap:t.beginScope}),"string"==typeof t.endScope&&(t.endScope={_wrap:t.endScope}),function(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Y("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),tt;if("object"!=typeof t.beginScope||null===t.beginScope)throw Y("beginScope must be object"),tt;et(t,t.begin,{key:"beginScope"}),t.begin=b(t.begin,{joinWith:""})}}(t),function(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Y("skip, excludeEnd, returnEnd not compatible with endScope: {}"),tt;if("object"!=typeof t.endScope||null===t.endScope)throw Y("endScope must be object"),tt;et(t,t.end,{key:"endScope"}),t.end=b(t.end,{joinWith:""})}}(t)}function rt(t){function e(e,n){return new RegExp(p(e),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(t,e){e.position=this.position++,this.matchIndexes[this.matchAt]=e,this.regexes.push([e,t]),this.matchAt+=v(t)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const t=this.regexes.map((t=>t[1]));this.matcherRe=e(b(t,{joinWith:"|"}),!0),this.lastIndex=0}exec(t){this.matcherRe.lastIndex=this.lastIndex;const e=this.matcherRe.exec(t);if(!e)return null;const n=e.findIndex(((t,e)=>e>0&&void 0!==t)),r=this.matchIndexes[n];return e.splice(0,n),Object.assign(e,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(t){if(this.multiRegexes[t])return this.multiRegexes[t];const e=new n;return this.rules.slice(t).forEach((([t,n])=>e.addRule(t,n))),e.compile(),this.multiRegexes[t]=e,e}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(t,e){this.rules.push([t,e]),"begin"===e.type&&this.count++}exec(t){const e=this.getMatcher(this.regexIndex);e.lastIndex=this.lastIndex;let n=e.exec(t);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const e=this.getMatcher(0);e.lastIndex=this.lastIndex+1,n=e.exec(t)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=s(t.classNameAliases||{}),function n(o,i){const a=o;if(o.isCompiled)return a;[$,W,nt,K].forEach((t=>t(o,i))),t.compilerExtensions.forEach((t=>t(o,i))),o.__beforeBegin=null,[P,q,U].forEach((t=>t(o,i))),o.isCompiled=!0;let u=null;return"object"==typeof o.keywords&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),u=o.keywords.$pattern,delete o.keywords.$pattern),u=u||/\w+/,o.keywords&&(o.keywords=J(o.keywords,t.case_insensitive)),a.keywordPatternRe=e(u,!0),i&&(o.begin||(o.begin=/\B|\b/),a.beginRe=e(a.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(a.endRe=e(a.end)),a.terminatorEnd=p(a.end)||"",o.endsWithParent&&i.terminatorEnd&&(a.terminatorEnd+=(o.end?"|":"")+i.terminatorEnd)),o.illegal&&(a.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map((function(t){return function(t){t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map((function(e){return s(t,{variants:null},e)})));if(t.cachedVariants)return t.cachedVariants;if(ot(t))return s(t,{starts:t.starts?s(t.starts):null});if(Object.isFrozen(t))return s(t);return t}("self"===t?o:t)}))),o.contains.forEach((function(t){n(t,a)})),o.starts&&n(o.starts,i),a.matcher=function(t){const e=new r;return t.contains.forEach((t=>e.addRule(t.begin,{rule:t,type:"begin"}))),t.terminatorEnd&&e.addRule(t.terminatorEnd,{type:"end"}),t.illegal&&e.addRule(t.illegal,{type:"illegal"}),e}(a),a}(t)}function ot(t){return!!t&&(t.endsWithParent||ot(t.starts))}class it extends Error{constructor(t,e){super(t),this.name="HTMLInjectionError",this.html=e}}const st=i,at=s,ut=Symbol("nomatch");var ct=function(t){const e=Object.create(null),n=Object.create(null),i=[];let s=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",u={disableAutodetect:!0,name:"Plain text",contains:[]};let c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:l};function p(t){return c.noHighlightRe.test(t)}function v(t,e,n){let r="",o="";"object"==typeof e?(r=t,n=e.ignoreIllegals,o=e.language):(Q("10.7.0","highlight(lang, code, ...args) has been deprecated."),Q("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=t,r=e),void 0===n&&(n=!0);const i={code:r,language:o};k("before:highlight",i);const s=i.result?i.result:y(i.language,i.code,n);return s.code=i.code,k("after:highlight",s),s}function y(t,n,r,i){const u=Object.create(null);function l(){if(!x.keywords)return void S.addText(M);let t=0;x.keywordPatternRe.lastIndex=0;let e=x.keywordPatternRe.exec(M),n="";for(;e;){n+=M.substring(t,e.index);const o=D.case_insensitive?e[0].toLowerCase():e[0],i=(r=o,x.keywords[r]);if(i){const[t,r]=i;if(S.addText(n),n="",u[o]=(u[o]||0)+1,u[o]<=7&&(O+=r),t.startsWith("_"))n+=e[0];else{const n=D.classNameAliases[t]||t;S.addKeyword(e[0],n)}}else n+=e[0];t=x.keywordPatternRe.lastIndex,e=x.keywordPatternRe.exec(M)}var r;n+=M.substr(t),S.addText(n)}function p(){null!=x.subLanguage?function(){if(""===M)return;let t=null;if("string"==typeof x.subLanguage){if(!e[x.subLanguage])return void S.addText(M);t=y(x.subLanguage,M,!0,k[x.subLanguage]),k[x.subLanguage]=t._top}else t=b(M,x.subLanguage.length?x.subLanguage:null);x.relevance>0&&(O+=t.relevance),S.addSublanguage(t._emitter,t.language)}():l(),M=""}function d(t,e){let n=1;for(;void 0!==e[n];){if(!t._emit[n]){n++;continue}const r=D.classNameAliases[t[n]]||t[n],o=e[n];r?S.addKeyword(o,r):(M=o,l(),M=""),n++}}function h(t,e){return t.scope&&"string"==typeof t.scope&&S.openNode(D.classNameAliases[t.scope]||t.scope),t.beginScope&&(t.beginScope._wrap?(S.addKeyword(M,D.classNameAliases[t.beginScope._wrap]||t.beginScope._wrap),M=""):t.beginScope._multi&&(d(t.beginScope,e),M="")),x=Object.create(t,{parent:{value:x}}),x}function f(t,e,n){let r=function(t,e){const n=t&&t.exec(e);return n&&0===n.index}(t.endRe,n);if(r){if(t["on:end"]){const n=new o(t);t["on:end"](e,n),n.isMatchIgnored&&(r=!1)}if(r){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return f(t.parent,e,n)}function m(t){return 0===x.matcher.regexIndex?(M+=t[0],1):(N=!0,0)}function g(t){const e=t[0],r=n.substr(t.index),o=f(x,t,r);if(!o)return ut;const i=x;x.endScope&&x.endScope._wrap?(p(),S.addKeyword(e,x.endScope._wrap)):x.endScope&&x.endScope._multi?(p(),d(x.endScope,t)):i.skip?M+=e:(i.returnEnd||i.excludeEnd||(M+=e),p(),i.excludeEnd&&(M=e));do{x.scope&&S.closeNode(),x.skip||x.subLanguage||(O+=x.relevance),x=x.parent}while(x!==o.parent);return o.starts&&h(o.starts,t),i.returnEnd?0:e.length}let v={};function w(e,i){const a=i&&i[0];if(M+=e,null==a)return p(),0;if("begin"===v.type&&"end"===i.type&&v.index===i.index&&""===a){if(M+=n.slice(i.index,i.index+1),!s){const e=new Error(`0 width match regex (${t})`);throw e.languageName=t,e.badRule=v.rule,e}return 1}if(v=i,"begin"===i.type)return function(t){const e=t[0],n=t.rule,r=new o(n),i=[n.__beforeBegin,n["on:begin"]];for(const n of i)if(n&&(n(t,r),r.isMatchIgnored))return m(e);return n.skip?M+=e:(n.excludeBegin&&(M+=e),p(),n.returnBegin||n.excludeBegin||(M=e)),h(n,t),n.returnBegin?0:e.length}(i);if("illegal"===i.type&&!r){const t=new Error('Illegal lexeme "'+a+'" for mode "'+(x.scope||"<unnamed>")+'"');throw t.mode=x,t}if("end"===i.type){const t=g(i);if(t!==ut)return t}if("illegal"===i.type&&""===a)return 1;if(F>1e5&&F>3*i.index){throw new Error("potential infinite loop, way more iterations than matches")}return M+=a,a.length}const D=A(t);if(!D)throw Y(a.replace("{}",t)),new Error('Unknown language: "'+t+'"');const E=rt(D);let C="",x=i||E;const k={},S=new c.__emitter(c);!function(){const t=[];for(let e=x;e!==D;e=e.parent)e.scope&&t.unshift(e.scope);t.forEach((t=>S.openNode(t)))}();let M="",O=0,T=0,F=0,N=!1;try{for(x.matcher.considerAll();;){F++,N?N=!1:x.matcher.considerAll(),x.matcher.lastIndex=T;const t=x.matcher.exec(n);if(!t)break;const e=w(n.substring(T,t.index),t);T=t.index+e}return w(n.substr(T)),S.closeAllNodes(),S.finalize(),C=S.toHTML(),{language:t,value:C,relevance:O,illegal:!1,_emitter:S,_top:x}}catch(e){if(e.message&&e.message.includes("Illegal"))return{language:t,value:st(n),illegal:!0,relevance:0,_illegalBy:{message:e.message,index:T,context:n.slice(T-100,T+100),mode:e.mode,resultSoFar:C},_emitter:S};if(s)return{language:t,value:st(n),illegal:!1,relevance:0,errorRaised:e,_emitter:S,_top:x};throw e}}function b(t,n){n=n||c.languages||Object.keys(e);const r=function(t){const e={value:st(t),illegal:!1,relevance:0,_top:u,_emitter:new c.__emitter(c)};return e._emitter.addText(t),e}(t),o=n.filter(A).filter(x).map((e=>y(e,t,!1)));o.unshift(r);const i=o.sort(((t,e)=>{if(t.relevance!==e.relevance)return e.relevance-t.relevance;if(t.language&&e.language){if(A(t.language).supersetOf===e.language)return 1;if(A(e.language).supersetOf===t.language)return-1}return 0})),[s,a]=i,l=s;return l.secondBest=a,l}function w(t){let e=null;const r=function(t){let e=t.className+" ";e+=t.parentNode?t.parentNode.className:"";const n=c.languageDetectRe.exec(e);if(n){const e=A(n[1]);return e||(X(a.replace("{}",n[1])),X("Falling back to no-highlight mode for this block.",t)),e?n[1]:"no-highlight"}return e.split(/\s+/).find((t=>p(t)||A(t)))}(t);if(p(r))return;if(k("before:highlightElement",{el:t,language:r}),t.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(t)),c.throwUnescapedHTML)){throw new it("One of your code blocks includes unescaped HTML.",t.innerHTML)}e=t;const o=e.textContent,i=r?v(o,{language:r,ignoreIllegals:!0}):b(o);t.innerHTML=i.value,function(t,e,r){const o=e&&n[e]||r;t.classList.add("hljs"),t.classList.add(`language-${o}`)}(t,r,i.language),t.result={language:i.language,re:i.relevance,relevance:i.relevance},i.secondBest&&(t.secondBest={language:i.secondBest.language,relevance:i.secondBest.relevance}),k("after:highlightElement",{el:t,result:i,text:o})}let D=!1;function E(){if("loading"===document.readyState)return void(D=!0);document.querySelectorAll(c.cssSelector).forEach(w)}function A(t){return t=(t||"").toLowerCase(),e[t]||e[n[t]]}function C(t,{languageName:e}){"string"==typeof t&&(t=[t]),t.forEach((t=>{n[t.toLowerCase()]=e}))}function x(t){const e=A(t);return e&&!e.disableAutodetect}function k(t,e){const n=t;i.forEach((function(t){t[n]&&t[n](e)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){D&&E()}),!1),Object.assign(t,{highlight:v,highlightAuto:b,highlightAll:E,highlightElement:w,highlightBlock:function(t){return Q("10.7.0","highlightBlock will be removed entirely in v12.0"),Q("10.7.0","Please use highlightElement now."),w(t)},configure:function(t){c=at(c,t)},initHighlighting:()=>{E(),Q("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){E(),Q("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,r){let o=null;try{o=r(t)}catch(t){if(Y("Language definition for '{}' could not be registered.".replace("{}",n)),!s)throw t;Y(t),o=u}o.name||(o.name=n),e[n]=o,o.rawDefinition=r.bind(null,t),o.aliases&&C(o.aliases,{languageName:n})},unregisterLanguage:function(t){delete e[t];for(const e of Object.keys(n))n[e]===t&&delete n[e]},listLanguages:function(){return Object.keys(e)},getLanguage:A,registerAliases:C,autoDetection:x,inherit:at,addPlugin:function(t){!function(t){t["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))})}(t),i.push(t)}}),t.debugMode=function(){s=!1},t.safeMode=function(){s=!0},t.versionString="11.4.0",t.regex={concat:m,lookahead:d,either:g,optional:f,anyNumberOfTimes:h};for(const t in j)"object"==typeof j[t]&&r(j[t]);return Object.assign(t,j),t}({});t.exports=ct,ct.HighlightJS=ct,ct.default=ct},837:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n(3390)},6167:(t,e,n)=>{"use strict";function r(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const o={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},i={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,o]};o.contains.push(s);const a={begin:/\$\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},u=t.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),c={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z._-]+\b/,keyword:["if","then","else","elif","fi","for","while","in","do","done","case","esac","function"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[u,t.SHEBANG(),c,a,t.HASH_COMMENT_MODE,i,{match:/(\/[a-z._-]+)+/},s,{className:"",begin:/\\"/},{className:"string",begin:/'/,end:/'/},n]}}n.d(e,{Z:()=>r})},836:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});const r=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],o=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],i=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],s=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],a=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-height","max-width","min-height","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function u(t){const e=t.regex,n=(t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}))(t),u=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+i.join("|")+")"},{begin:":(:)?("+s.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+a.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...u,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:o.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...u,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+r.join("|")+")\\b"}]}}},9622:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});const r="[A-Za-z$_][0-9A-Za-z$_]*",o=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],i=["true","false","null","undefined","NaN","Infinity"],s=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],a=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],u=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],c=["arguments","this","super","console","window","document","localStorage","module","global"],l=[].concat(u,s,a);function p(t){const e=t.regex,n=r,p="<>",d="</>",h={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const n=t[0].length+t.index,r=t.input[n];if("<"===r||","===r)return void e.ignoreMatch();let o;">"===r&&(((t,{after:e})=>{const n="</"+t[0].slice(1);return-1!==t.input.indexOf(n,e)})(t,{after:n})||e.ignoreMatch());(o=t.input.substr(n).match(/^\s+extends\s+/))&&0===o.index&&e.ignoreMatch()}},f={$pattern:r,keyword:o,literal:i,built_in:l,"variable.language":c},m="\\.([0-9](_?[0-9])*)",g="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",v={className:"number",variants:[{begin:`(\\b(${g})((${m})|\\.)?|(${m}))[eE][+-]?([0-9](_?[0-9])*)\\b`},{begin:`\\b(${g})\\b((${m})\\b|\\.)?|(${m})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},y={className:"subst",begin:"\\$\\{",end:"\\}",keywords:f,contains:[]},b={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"xml"}},w={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"css"}},D={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,y]},E={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},A=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,b,w,D,v];y.contains=A.concat({begin:/\{/,end:/\}/,keywords:f,contains:["self"].concat(A)});const C=[].concat(E,y.contains),x=C.concat([{begin:/\(/,end:/\)/,keywords:f,contains:["self"].concat(C)}]),k={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:x},S={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},M={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...s,...a]}},O={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/};const T={match:e.concat(/\b/,(F=[...u,"super"],e.concat("(?!",F.join("|"),")")),n,e.lookahead(/\(/)),className:"title.function",relevance:0};var F;const N={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},_={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},B="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(B)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:f,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:M},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,b,w,D,E,v,M,{className:"attr",begin:n+e.lookahead(":"),relevance:0},R,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[E,t.REGEXP_MODE,{className:"function",begin:B,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:p,end:d},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:h.begin,"on:begin":h.isTrulyOpeningTag,end:h.end}],subLanguage:"xml",contains:[{begin:h.begin,end:h.end,skip:!0,contains:["self"]}]}]},O,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},N,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},T,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},S,_,{match:/\$[(.]/}]}}},8274:(t,e,n)=>{"use strict";function r(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}n.d(e,{Z:()=>r})},4085:(t,e,n)=>{"use strict";function r(t){const e=t.regex,n=t.COMMENT("--","$"),r=["true","false","unknown"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],i=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],s=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],a=i,u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter((t=>!i.includes(t))),c={begin:e.concat(/\b/,e.either(...a),/\s*\(/),relevance:0,keywords:{built_in:a}};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(t,{exceptions:e,when:n}={}){const r=n;return e=e||[],t.map((t=>t.match(/\|\d+$/)||e.includes(t)?t:r(t)?`${t}|0`:t))}(u,{when:t=>t.length<3}),literal:r,type:o,built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{begin:e.either(...s),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:u.concat(s),literal:r,type:o}},{className:"type",begin:e.either("double precision","large object","with timezone","without timezone")},c,{className:"variable",begin:/@[a-z0-9]+/},{className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,contains:[{begin:/""/}]},t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,{className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}}n.d(e,{Z:()=>r})},2247:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});const r="[A-Za-z$_][0-9A-Za-z$_]*",o=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],i=["true","false","null","undefined","NaN","Infinity"],s=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],a=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],u=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],c=["arguments","this","super","console","window","document","localStorage","module","global"],l=[].concat(u,s,a);function p(t){const e=t.regex,n=r,p="<>",d="</>",h={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const n=t[0].length+t.index,r=t.input[n];if("<"===r||","===r)return void e.ignoreMatch();let o;">"===r&&(((t,{after:e})=>{const n="</"+t[0].slice(1);return-1!==t.input.indexOf(n,e)})(t,{after:n})||e.ignoreMatch());(o=t.input.substr(n).match(/^\s+extends\s+/))&&0===o.index&&e.ignoreMatch()}},f={$pattern:r,keyword:o,literal:i,built_in:l,"variable.language":c},m="\\.([0-9](_?[0-9])*)",g="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",v={className:"number",variants:[{begin:`(\\b(${g})((${m})|\\.)?|(${m}))[eE][+-]?([0-9](_?[0-9])*)\\b`},{begin:`\\b(${g})\\b((${m})\\b|\\.)?|(${m})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},y={className:"subst",begin:"\\$\\{",end:"\\}",keywords:f,contains:[]},b={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"xml"}},w={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"css"}},D={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,y]},E={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},A=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,b,w,D,v];y.contains=A.concat({begin:/\{/,end:/\}/,keywords:f,contains:["self"].concat(A)});const C=[].concat(E,y.contains),x=C.concat([{begin:/\(/,end:/\)/,keywords:f,contains:["self"].concat(C)}]),k={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:x},S={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},M={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...s,...a]}},O={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/};const T={match:e.concat(/\b/,(F=[...u,"super"],e.concat("(?!",F.join("|"),")")),n,e.lookahead(/\(/)),className:"title.function",relevance:0};var F;const N={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},_={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},B="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(B)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:f,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:M},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,b,w,D,E,v,M,{className:"attr",begin:n+e.lookahead(":"),relevance:0},R,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[E,t.REGEXP_MODE,{className:"function",begin:B,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:p,end:d},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:h.begin,"on:begin":h.isTrulyOpeningTag,end:h.end}],subLanguage:"xml",contains:[{begin:h.begin,end:h.end,skip:!0,contains:["self"]}]}]},O,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},N,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},T,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},S,_,{match:/\$[(.]/}]}}function d(t){const e=p(t),n=["any","void","number","boolean","string","object","never","enum"],s={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[e.exports.CLASS_REFERENCE]},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:n},contains:[e.exports.CLASS_REFERENCE]},u={$pattern:r,keyword:o.concat(["type","namespace","typedef","interface","public","private","protected","implements","declare","abstract","readonly"]),literal:i,built_in:l.concat(n),"variable.language":c},d={className:"meta",begin:"@[A-Za-z$_][0-9A-Za-z$_]*"},h=(t,e,n)=>{const r=t.contains.findIndex((t=>t.label===e));if(-1===r)throw new Error("can not find mode to replace");t.contains.splice(r,1,n)};Object.assign(e.keywords,u),e.exports.PARAMS_CONTAINS.push(d),e.contains=e.contains.concat([d,s,a]),h(e,"shebang",t.SHEBANG()),h(e,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/});return e.contains.find((t=>"func.def"===t.label)).relevance=0,Object.assign(e,{name:"TypeScript",aliases:["ts","tsx"]}),e}},1042:(t,e,n)=>{"use strict";function r(t){const e=t.regex,n=e.concat(/[A-Z_]/,e.optional(/[A-Z0-9_.-]*:/),/[A-Z0-9_.-]*/),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},i=t.inherit(o,{begin:/\(/,end:/\)/}),s=t.inherit(t.APOS_STRING_MODE,{className:"string"}),a=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[A-Za-z0-9._:-]+/,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,a,s,i,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,i,a,s]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}n.d(e,{Z:()=>r})},5688:(t,e,n)=>{"use strict";function r(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},o=t.inherit(r,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),i={className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},s={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},a={begin:/\{/,end:/\}/,contains:[s],illegal:"\\n",relevance:0},u={begin:"\\[",end:"\\]",contains:[s],illegal:"\\n",relevance:0},c=[{className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},i,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},a,u,r],l=[...c];return l.pop(),l.push(o),s.contains=l,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:c}}n.d(e,{Z:()=>r})}}]);