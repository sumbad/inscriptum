(self.webpackChunkinscriptum=self.webpackChunkinscriptum||[]).push([[5039],{16313:t=>{var e=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,i;try{e=Map}catch(t){e=function(){}}try{n=Set}catch(t){n=function(){}}try{i=Promise}catch(t){i=function(){}}function s(r,o,a,u,c){"object"==typeof o&&(a=o.depth,u=o.prototype,c=o.includeNonEnumerable,o=o.circular);var h=[],d=[],f="undefined"!=typeof Buffer;return void 0===o&&(o=!0),void 0===a&&(a=1/0),function r(a,p){if(null===a)return null;if(0===p)return a;var g,m;if("object"!=typeof a)return a;if(t(a,e))g=new e;else if(t(a,n))g=new n;else if(t(a,i))g=new i((function(t,e){a.then((function(e){t(r(e,p-1))}),(function(t){e(r(t,p-1))}))}));else if(s.__isArray(a))g=[];else if(s.__isRegExp(a))g=new RegExp(a.source,l(a)),a.lastIndex&&(g.lastIndex=a.lastIndex);else if(s.__isDate(a))g=new Date(a.getTime());else{if(f&&Buffer.isBuffer(a))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(a.length):new Buffer(a.length),a.copy(g),g;t(a,Error)?g=Object.create(a):void 0===u?(m=Object.getPrototypeOf(a),g=Object.create(m)):(g=Object.create(u),m=u)}if(o){var y=h.indexOf(a);if(-1!=y)return d[y];h.push(a),d.push(g)}for(var b in t(a,e)&&a.forEach((function(t,e){var n=r(e,p-1),i=r(t,p-1);g.set(n,i)})),t(a,n)&&a.forEach((function(t){var e=r(t,p-1);g.add(e)})),a){var E;m&&(E=Object.getOwnPropertyDescriptor(m,b)),E&&null==E.set||(g[b]=r(a[b],p-1))}if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(a);for(b=0;b<N.length;b++){var x=N[b];(!(T=Object.getOwnPropertyDescriptor(a,x))||T.enumerable||c)&&(g[x]=r(a[x],p-1),T.enumerable||Object.defineProperty(g,x,{enumerable:!1}))}}if(c){var v=Object.getOwnPropertyNames(a);for(b=0;b<v.length;b++){var T,S=v[b];(T=Object.getOwnPropertyDescriptor(a,S))&&T.enumerable||(g[S]=r(a[S],p-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(r,a)}function r(t){return Object.prototype.toString.call(t)}function l(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return s.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},s.__objToStr=r,s.__isDate=function(t){return"object"==typeof t&&"[object Date]"===r(t)},s.__isArray=function(t){return"object"==typeof t&&"[object Array]"===r(t)},s.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===r(t)},s.__getRegExpFlags=l,s}();t.exports&&(t.exports=e)},85327:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(70347),s=n.n(i),r=n(53691);class l extends s().Container{}l.allowedChildren=[r.ZP,r.i2,l];const o=l},98333:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(70347),s=n.n(i),r=n(17822);class l extends s().Embed{static value(){}constructor(t,e){super(t),this.selection=e,this.textNode=document.createTextNode(l.CONTENTS),this.domNode.appendChild(this.textNode),this._length=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(t,e){if(0!==this._length)return super.format(t,e);let n=this,i=0;for(;null!=n&&n.statics.scope!==s().Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=l.CONTENTS.length,n.optimize(),n.formatAt(i,l.CONTENTS.length,t,e),this._length=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this._length}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return;let t,e,n,i=this.textNode,o=this.selection.getNativeRange();for(null!=o&&o.start.node===i&&o.end.node===i&&([t,e,n]=[i,o.start.offset,o.end.offset]);null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==l.CONTENTS){let e=this.textNode.data.split(l.CONTENTS).join("");this.next instanceof r.Z?(t=this.next.domNode,this.next.insertAt(0,e),this.textNode.data=l.CONTENTS):(this.textNode.data=e,this.parent.insertBefore(s().create(this.textNode),this),this.textNode=document.createTextNode(l.CONTENTS),this.domNode.appendChild(this.textNode))}return this.remove(),null!=e?([e,n]=[e,n].map((function(e){return Math.max(0,Math.min(t.data.length,e-1))})),{startNode:t,startOffset:e,endNode:t,endOffset:n}):void 0}update(t,e){if(t.some((t=>"characterData"===t.type&&t.target===this.textNode))){let t=this.restore();t&&(e.range=t)}}value(){return""}}l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff";const o=l},25039:(t,e,n)=>{"use strict";n.d(e,{Z:()=>S});var i=n(70347),s=n.n(i),r=n(8783),l=n(53691),o=n(52376),a=n(85327),u=n(98333),c=n(17822);const h="\ufeff";class d extends s().Embed{constructor(t){super(t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable",!1),[].slice.call(this.domNode.childNodes).forEach((t=>{this.contentNode.appendChild(t)})),this.leftGuard=document.createTextNode(h),this.rightGuard=document.createTextNode(h),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e,n,i=t.data.split(h).join("");if(t===this.leftGuard)if(this.prev instanceof c.Z){let t=this.prev.length();this.prev.insertAt(t,i),e={startNode:this.prev.domNode,startOffset:t+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(s().create(n),this),e={startNode:n,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof c.Z?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(s().create(n),this.next),e={startNode:n,startOffset:i.length}));return t.data=h,e}update(t,e){t.forEach((t=>{if("characterData"===t.type&&(t.target===this.leftGuard||t.target===this.rightGuard)){let n=this.restore(t.target);n&&(e.range=n)}}))}}const f=d;var p=n(31154),g=n(50835),m=n(22415);function y(t){return t instanceof l.ZP||t instanceof l.i2}class b extends s().Scroll{constructor(t,e){super(t),this.emitter=e.emitter,Array.isArray(e.whitelist)&&(this.whitelist=e.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),this.domNode.addEventListener("DOMNodeInserted",(function(){})),this.optimize(),this.enable()}batchStart(){this.batch=!0}batchEnd(){this.batch=!1,this.optimize()}deleteAt(t,e){let[n,i]=this.line(t),[s]=this.line(t+e);if(super.deleteAt(t,e),null!=s&&n!==s&&i>0){if(n instanceof l.i2||s instanceof l.i2)return void this.optimize();if(n instanceof m.Z){let t=n.newlineIndex(n.length(),!0);if(t>-1&&(n=n.split(t+1),n===s))return void this.optimize()}else if(s instanceof m.Z){let t=s.newlineIndex(0);t>-1&&s.split(t+1)}let t=s.children.head instanceof o.Z?null:s.children.head;n.moveChildren(s,t),n.remove()}this.optimize()}enable(t=!0){this.domNode.setAttribute("contenteditable",t)}formatAt(t,e,n,i){(null==this.whitelist||this.whitelist[n])&&(super.formatAt(t,e,n,i),this.optimize())}insertAt(t,e,n){if(null==n||null==this.whitelist||this.whitelist[e]){if(t>=this.length())if(null==n||null==s().query(e,s().Scope.BLOCK)){let t=s().create(this.statics.defaultChild);this.appendChild(t),null==n&&e.endsWith("\n")&&(e=e.slice(0,-1)),t.insertAt(0,e,n)}else{let t=s().create(e,n);this.appendChild(t)}else super.insertAt(t,e,n);this.optimize()}}insertBefore(t,e){if(t.statics.scope===s().Scope.INLINE_BLOT){let e=s().create(this.statics.defaultChild);e.appendChild(t),t=e}super.insertBefore(t,e)}leaf(t){return this.path(t).pop()||[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(y,t)}lines(t=0,e=Number.MAX_VALUE){let n=(t,e,i)=>{let r=[],l=i;return t.children.forEachAt(e,i,(function(t,e,i){y(t)?r.push(t):t instanceof s().Container&&(r=r.concat(n(t,e,l))),l-=i})),r};return n(this,t,e)}optimize(t=[],e={}){!0!==this.batch&&(super.optimize(t,e),t.length>0&&this.emitter.emit(g.Z.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}update(t){if(!0===this.batch)return;let e=g.Z.sources.USER;"string"==typeof t&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(g.Z.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(g.Z.events.SCROLL_UPDATE,e,t)}}b.blotName="scroll",b.className="ql-editor",b.tagName="DIV",b.defaultChild="block",b.allowedChildren=[l.ZP,l.i2,a.Z];const E=b;var N=n(43703),x=n(95937);class v extends x.Z{constructor(t,e){super(t,e),this.lastRecorded=0,this.ignoreChange=!1,this.clear(),this.quill.on(r.ZP.events.EDITOR_CHANGE,((t,e,n,i)=>{t!==r.ZP.events.TEXT_CHANGE||this.ignoreChange||(this.options.userOnly&&i!==r.ZP.sources.USER?this.transform(e):this.record(e,n))})),this.quill.keyboard.addBinding({key:"Z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"Y",shortKey:!0},this.redo.bind(this))}change(t,e){if(0===this.stack[t].length)return;let n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],r.ZP.sources.USER),this.ignoreChange=!1;let i=function(t){let e=t.reduce((function(t,e){return t+=e.delete||0}),0),n=t.length()-e;(function(t){let e=t.ops[t.ops.length-1];if(null==e)return!1;if(null!=e.insert)return"string"==typeof e.insert&&e.insert.endsWith("\n");if(null!=e.attributes)return Object.keys(e.attributes).some((function(t){return null!=s().query(t,s().Scope.BLOCK)}));return!1})(t)&&(n-=1);return n}(n[t]);this.quill.setSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(0===t.ops.length)return;this.stack.redo=[];let n=this.quill.getContents().diff(e),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){let e=this.stack.undo.pop();n=n.compose(e.undo),t=e.redo.compose(t)}else this.lastRecorded=i;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}redo(){this.change("redo","undo")}transform(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}undo(){this.change("undo","redo")}}v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};var T=n(71812);r.ZP.register({"blots/block":l.ZP,"blots/block/embed":l.i2,"blots/break":o.Z,"blots/container":a.Z,"blots/cursor":u.Z,"blots/embed":f,"blots/inline":p.Z,"blots/scroll":E,"blots/text":c.Z,"modules/clipboard":N.ZP,"modules/history":v,"modules/keyboard":T.Z}),s().register(l.ZP,o.Z,u.Z,p.Z,E,c.Z);const S=r.ZP},50835:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(31930),s=n.n(i);let r=(0,n(10369).Z)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,((...t)=>{[].slice.call(document.querySelectorAll(".ql-container")).forEach((e=>{e.__quill&&e.__quill.emitter&&e.__quill.emitter.handleDOM(...t)}))}))}));class l extends(s()){constructor(){super(),this.listeners={},this.on("error",r.error)}emit(){r.log.apply(r,arguments),super.emit.apply(this,arguments)}handleDOM(t,...e){(this.listeners[t.type]||[]).forEach((function({node:n,handler:i}){(t.target===n||n.contains(t.target))&&i(t,...e)}))}listenDOM(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"};const o=l},10369:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});let i=["error","warn","log","info"],s="warn";function r(t,...e){i.indexOf(t)<=i.indexOf(s)&&console[t](...e)}function l(t){return i.reduce((function(e,n){return e[n]=r.bind(console,n,t),e}),{})}r.level=l.level=function(t){s=t};const o=l},95937:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});class i{constructor(t,e={}){this.quill=t,this.options=e}}i.DEFAULTS={};const s=i},58299:()=>{let t=document.createElement("div");if(t.classList.toggle("test-class",!1),t.classList.contains("test-class")){let t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,n){return arguments.length>1&&!this.contains(e)==!n?n:t.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var i=n.indexOf(t,e);return-1!==i&&i===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,s=arguments[1],r=0;r<i;r++)if(e=n[r],t.call(s,e,r,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},8783:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>q});n(58299);var i=n(28090),s=n.n(i),r=n(62710),l=n.n(r),o=n(70347),a=n.n(o),u=n(22415),c=n(98333),h=n(53691),d=n(52376),f=n(16313),p=n.n(f),g=n(10251),m=n.n(g),y=n(94470),b=n.n(y);const E=/^[ -~]*$/;function N(t,e){return Object.keys(e).reduce((function(n,i){return null==t[i]||(e[i]===t[i]?n[i]=e[i]:Array.isArray(e[i])?e[i].indexOf(t[i])<0&&(n[i]=e[i].concat([t[i]])):n[i]=[e[i],t[i]]),n}),{})}const x=class{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){let e=!1;this.scroll.update();let n=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce((function(t,e){if(1===e.insert){let n=p()(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=p()(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){let n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)}),new(s()))}(t)).reduce(((t,i)=>{let s=i.retain||i.delete||i.insert.length||1,r=i.attributes||{};if(null!=i.insert){if("string"==typeof i.insert){let s=i.insert;s.endsWith("\n")&&e&&(e=!1,s=s.slice(0,-1)),t>=n&&!s.endsWith("\n")&&(e=!0),this.scroll.insertAt(t,s);let[o,u]=this.scroll.line(t),c=b()({},(0,h.E2)(o));if(o instanceof h.ZP){let[t]=o.descendant(a().Leaf,u);c=b()(c,(0,h.E2)(t))}r=l().attributes.diff(c,r)||{}}else if("object"==typeof i.insert){let e=Object.keys(i.insert)[0];if(null==e)return t;this.scroll.insertAt(t,e,i.insert[e])}n+=s}return Object.keys(r).forEach((e=>{this.scroll.formatAt(t,s,e,r[e])})),t+s}),0),t.reduce(((t,e)=>"number"==typeof e.delete?(this.scroll.deleteAt(t,e.delete),t):t+(e.retain||e.insert.length||1)),0),this.scroll.batchEnd(),this.update(t)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update((new(s())).retain(t).delete(e))}formatLine(t,e,n={}){return this.scroll.update(),Object.keys(n).forEach((i=>{if(null!=this.scroll.whitelist&&!this.scroll.whitelist[i])return;let s=this.scroll.lines(t,Math.max(e,1)),r=e;s.forEach((e=>{let s=e.length();if(e instanceof u.Z){let s=t-e.offset(this.scroll),l=e.newlineIndex(s+r)-s+1;e.formatAt(s,l,i,n[i])}else e.format(i,n[i]);r-=s}))})),this.scroll.optimize(),this.update((new(s())).retain(t).retain(e,p()(n)))}formatText(t,e,n={}){return Object.keys(n).forEach((i=>{this.scroll.formatAt(t,e,i,n[i])})),this.update((new(s())).retain(t).retain(e,p()(n)))}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce(((t,e)=>t.concat(e.delta())),new(s()))}getFormat(t,e=0){let n=[],i=[];0===e?this.scroll.path(t).forEach((function(t){let[e]=t;e instanceof h.ZP?n.push(e):e instanceof a().Leaf&&i.push(e)})):(n=this.scroll.lines(t,e),i=this.scroll.descendants(a().Leaf,t,e));let s=[n,i].map((function(t){if(0===t.length)return{};let e=(0,h.E2)(t.shift());for(;Object.keys(e).length>0;){let n=t.shift();if(null==n)return e;e=N((0,h.E2)(n),e)}return e}));return b().apply(b(),s)}getText(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new(s())).retain(t).insert({[e]:n}))}insertText(t,e,n={}){return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(n).forEach((i=>{this.scroll.formatAt(t,e.length,i,n[i])})),this.update((new(s())).retain(t).insert(e,p()(n)))}isBlank(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;let t=this.scroll.children.head;return t.statics.blotName===h.ZP.blotName&&(!(t.children.length>1)&&t.children.head instanceof d.Z)}removeFormat(t,e){let n=this.getText(t,e),[i,r]=this.scroll.line(t+e),l=0,o=new(s());null!=i&&(l=i instanceof u.Z?i.newlineIndex(r)-r+1:i.length()-r,o=i.delta().slice(r,r+l-1).insert("\n"));let a=this.getContents(t,e+l).diff((new(s())).insert(n).concat(o)),c=(new(s())).retain(t).concat(a);return this.applyDelta(c)}update(t,e=[],n){let i=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(E)&&a().find(e[0].target)){let r=a().find(e[0].target),l=(0,h.E2)(r),o=r.offset(this.scroll),u=e[0].oldValue.replace(c.Z.CONTENTS,""),d=(new(s())).insert(u),f=(new(s())).insert(r.value());t=(new(s())).retain(o).concat(d.diff(f,n)).reduce((function(t,e){return e.insert?t.insert(e.insert,l):t.push(e)}),new(s())),this.delta=i.compose(t)}else this.delta=this.getDelta(),t&&m()(i.compose(t),this.delta)||(t=i.diff(this.delta,n));return t}};var v=n(50835),T=n(95937),S=n(10369);let C=(0,S.Z)("quill:selection");class k{constructor(t,e=0){this.index=t,this.length=e}}class L{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a().create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||setTimeout(this.update.bind(this,v.Z.sources.USER),1)})),this.emitter.on(v.Z.events.EDITOR_CHANGE,((t,e)=>{t===v.Z.events.TEXT_CHANGE&&e.length()>0&&this.update(v.Z.sources.SILENT)})),this.emitter.on(v.Z.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;let t=this.getNativeRange();null!=t&&t.start.node!==this.cursor.textNode&&this.emitter.once(v.Z.events.SCROLL_UPDATE,(()=>{try{this.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}}))})),this.emitter.on(v.Z.events.SCROLL_OPTIMIZE,((t,e)=>{if(e.range){const{startNode:t,startOffset:n,endNode:i,endOffset:s}=e.range;this.setNativeRange(t,n,i,s)}})),this.update(v.Z.sources.SILENT)}handleComposition(){this.root.addEventListener("compositionstart",(()=>{this.composing=!0})),this.root.addEventListener("compositionend",(()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout((()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(v.Z.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}format(t,e){if(null!=this.scroll.whitelist&&!this.scroll.whitelist[t])return;this.scroll.update();let n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!a().query(t,a().Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){let t=a().find(n.start.node,!1);if(null==t)return;if(t instanceof a().Leaf){let e=t.split(n.start.offset);t.parent.insertBefore(this.cursor,e)}else t.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t,e=0){let n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let i,[s,r]=this.scroll.leaf(t);if(null==s)return null;[i,r]=s.position(r,!0);let l=document.createRange();if(e>0)return l.setStart(i,r),[s,r]=this.scroll.leaf(t+e),null==s?null:([i,r]=s.position(r,!0),l.setEnd(i,r),l.getBoundingClientRect());{let t,e="left";return i instanceof Text?(r<i.data.length?(l.setStart(i,r),l.setEnd(i,r+1)):(l.setStart(i,r-1),l.setEnd(i,r),e="right"),t=l.getBoundingClientRect()):(t=s.domNode.getBoundingClientRect(),r>0&&(e="right")),{bottom:t.top+t.height,height:t.height,left:t[e],right:t[e],top:t.top,width:0}}}getNativeRange(){let t=document.getSelection();if(null==t||t.rangeCount<=0)return null;let e=t.getRangeAt(0);if(null==e)return null;let n=this.normalizeNative(e);return C.info("getNativeRange",n),n}getRange(){let t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root}normalizedToRange(t){let e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);let n=e.map((t=>{let[e,n]=t,i=a().find(e,!0),s=i.offset(this.scroll);return 0===n?s:i instanceof a().Container?s+i.length():s+i.index(e,n)})),i=Math.min(Math.max(...n),this.scroll.length()-1),s=Math.min(i,...n);return new k(s,i-s)}normalizeNative(t){if(!A(this.root,t.startContainer)||!t.collapsed&&!A(this.root,t.endContainer))return null;let e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){let e=t.node,n=t.offset;for(;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;e=e.lastChild,n=e instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}rangeToNative(t){let e=t.collapsed?[t.index]:[t.index,t.index+t.length],n=[],i=this.scroll.length();return e.forEach(((t,e)=>{t=Math.min(i-1,t);let s,[r,l]=this.scroll.leaf(t);[s,l]=r.position(l,0!==e),n.push(s,l)})),n.length<2&&(n=n.concat(n)),n}scrollIntoView(t){let e=this.lastRange;if(null==e)return;let n=this.getBounds(e.index,e.length);if(null==n)return;let i=this.scroll.length()-1,[s]=this.scroll.line(Math.min(e.index,i)),r=s;if(e.length>0&&([r]=this.scroll.line(Math.min(e.index+e.length,i))),null==s||null==r)return;let l=t.getBoundingClientRect();n.top<l.top?t.scrollTop-=l.top-n.top:n.bottom>l.bottom&&(t.scrollTop+=n.bottom-l.bottom)}setNativeRange(t,e,n=t,i=e,s=!1){if(C.info("setNativeRange",t,e,n,i),null!=t&&(null==this.root.parentNode||null==t.parentNode||null==n.parentNode))return;let r=document.getSelection();if(null!=r)if(null!=t){this.hasFocus()||this.root.focus();let l=(this.getNativeRange()||{}).native;if(null==l||s||t!==l.startContainer||e!==l.startOffset||n!==l.endContainer||i!==l.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);let s=document.createRange();s.setStart(t,e),s.setEnd(n,i),r.removeAllRanges(),r.addRange(s)}}else r.removeAllRanges(),this.root.blur(),document.body.focus()}setRange(t,e=!1,n=v.Z.sources.API){if("string"==typeof e&&(n=e,e=!1),C.info("setRange",t),null!=t){let n=this.rangeToNative(t);this.setNativeRange(...n,e)}else this.setNativeRange(null);this.update(n)}update(t=v.Z.sources.USER){let e=this.lastRange,[n,i]=this.getRange();if(this.lastRange=n,null!=this.lastRange&&(this.savedRange=this.lastRange),!m()(e,this.lastRange)){!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode&&this.cursor.restore();let n=[v.Z.events.SELECTION_CHANGE,p()(this.lastRange),p()(e),t];this.emitter.emit(v.Z.events.EDITOR_CHANGE,...n),t!==v.Z.sources.SILENT&&this.emitter.emit(...n)}}}function A(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}class w{constructor(t,e){this.quill=t,this.options=e,this.modules={}}init(){Object.keys(this.options.modules).forEach((t=>{null==this.modules[t]&&this.addModule(t)}))}addModule(t){let e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}w.DEFAULTS={modules:{}},w.themes={default:w};const O=w;let Z=(0,S.Z)("quill");class q{static debug(t){!0===t&&(t="log"),S.Z.level(t)}static find(t){return t.__quill||a().find(t)}static import(t){return null==this.imports[t]&&Z.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(t,e,n=!1){if("string"!=typeof t){let n=t.attrName||t.blotName;"string"==typeof n?this.register("formats/"+n,t,e):Object.keys(t).forEach((n=>{this.register(n,t[n],e)}))}else null==this.imports[t]||n||Z.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?a().register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}constructor(t,e={}){if(this.options=function(t,e){if((e=b()(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==q.DEFAULTS.theme){if(e.theme=q.import(`themes/${e.theme}`),null==e.theme)throw new Error(`Invalid theme ${e.theme}. Did you register it?`)}else e.theme=O;let n=b()(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));let i=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce((function(t,e){let n=q.import(`modules/${e}`);return null==n?Z.error(`Cannot load ${e} module. Are you sure you registered it?`):t[e]=n.DEFAULTS||{},t}),{});null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar});return e=b()(!0,{},q.DEFAULTS,{modules:i},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}(t,e),this.container=this.options.container,null==this.container)return Z.error("Invalid Quill container",t);this.options.debug&&q.debug(this.options.debug);let n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new v.Z,this.scroll=a().create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new x(this.scroll),this.selection=new L(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(v.Z.events.EDITOR_CHANGE,(t=>{t===v.Z.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())})),this.emitter.on(v.Z.events.SCROLL_UPDATE,((t,e)=>{let n=this.selection.lastRange,i=n&&0===n.length?n.index:void 0;R.call(this,(()=>this.editor.update(null,e,i)),t)}));let i=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">${n}<p><br></p></div>`);this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}addContainer(t,e=null){if("string"==typeof t){let e=t;(t=document.createElement("div")).classList.add(e)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=_(t,e,n),R.call(this,(()=>this.editor.deleteText(t,e)),n,t,-1*e)}disable(){this.enable(!1)}enable(t=!0){this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}format(t,e,n=v.Z.sources.API){return R.call(this,(()=>{let n=this.getSelection(!0),i=new(s());if(null==n)return i;if(a().query(t,a().Scope.BLOCK))i=this.editor.formatLine(n.index,n.length,{[t]:e});else{if(0===n.length)return this.selection.format(t,e),i;i=this.editor.formatText(n.index,n.length,{[t]:e})}return this.setSelection(n,v.Z.sources.SILENT),i}),n)}formatLine(t,e,n,i,s){let r;return[t,e,r,s]=_(t,e,n,i,s),R.call(this,(()=>this.editor.formatLine(t,e,r)),s,t,0)}formatText(t,e,n,i,s){let r;return[t,e,r,s]=_(t,e,n,i,s),R.call(this,(()=>this.editor.formatText(t,e,r)),s,t,0)}getBounds(t,e=0){let n;n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);let i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}getContents(t=0,e=this.getLength()-t){return[t,e]=_(t,e),this.editor.getContents(t,e)}getFormat(t=this.getSelection(!0),e=0){return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(t=0,e=Number.MAX_VALUE){return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(t=!1){return t&&this.focus(),this.update(),this.selection.getRange()[0]}getText(t=0,e=this.getLength()-t){return[t,e]=_(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n,i=q.sources.API){return R.call(this,(()=>this.editor.insertEmbed(t,e,n)),i,t)}insertText(t,e,n,i,s){let r;return[t,,r,s]=_(t,0,n,i,s),R.call(this,(()=>this.editor.insertText(t,e,r)),s,t,e.length)}isEnabled(){return!this.container.classList.contains("ql-disabled")}off(){return this.emitter.off.apply(this.emitter,arguments)}on(){return this.emitter.on.apply(this.emitter,arguments)}once(){return this.emitter.once.apply(this.emitter,arguments)}pasteHTML(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}removeFormat(t,e,n){return[t,e,,n]=_(t,e,n),R.call(this,(()=>this.editor.removeFormat(t,e)),n,t)}scrollIntoView(){this.selection.scrollIntoView(this.scrollingContainer)}setContents(t,e=v.Z.sources.API){return R.call(this,(()=>{t=new(s())(t);let e=this.getLength(),n=this.editor.deleteText(0,e),i=this.editor.applyDelta(t),r=i.ops[i.ops.length-1];return null!=r&&"string"==typeof r.insert&&"\n"===r.insert[r.insert.length-1]&&(this.editor.deleteText(this.getLength()-1,1),i.delete(1)),n.compose(i)}),e)}setSelection(t,e,n){null==t?this.selection.setRange(null,e||q.sources.API):([t,e,,n]=_(t,e,n),this.selection.setRange(new k(t,e),n),n!==v.Z.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer))}setText(t,e=v.Z.sources.API){let n=(new(s())).insert(t);return this.setContents(n,e)}update(t=v.Z.sources.USER){let e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t,e=v.Z.sources.API){return R.call(this,(()=>(t=new(s())(t),this.editor.applyDelta(t,e))),e,!0)}}function R(t,e,n,i){if(this.options.strict&&!this.isEnabled()&&e===v.Z.sources.USER)return new(s());let r=null==n?null:this.getSelection(),l=this.editor.delta,o=t();if(null!=r&&(!0===n&&(n=r.index),null==i?r=P(r,o,e):0!==i&&(r=P(r,n,i,e)),this.setSelection(r,v.Z.sources.SILENT)),o.length()>0){let t=[v.Z.events.TEXT_CHANGE,o,l,e];this.emitter.emit(v.Z.events.EDITOR_CHANGE,...t),e!==v.Z.sources.SILENT&&this.emitter.emit(...t)}return o}function _(t,e,n,i,s){let r={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(s=i,i=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(s=i,i=n,n=e,e=0),"object"==typeof n?(r=n,s=i):"string"==typeof n&&(null!=i?r[n]=i:s=n),[t,e,r,s=s||v.Z.sources.API]}function P(t,e,n,i){if(null==t)return null;let r,l;return e instanceof s()?[r,l]=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,i!==v.Z.sources.USER)})):[r,l]=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&i===v.Z.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),new k(r,l-r)}q.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},q.events=v.Z.events,q.sources=v.Z.sources,q.version="undefined"==typeof QUILL_VERSION?"dev":QUILL_VERSION,q.imports={delta:s(),parchment:a(),"core/module":T.Z,"core/theme":O}},22415:(t,e,n)=>{"use strict";n.d(e,{E:()=>c,Z:()=>h});var i=n(28090),s=n.n(i),r=n(70347),l=n.n(r),o=n(53691),a=n(31154),u=n(17822);class c extends a.Z{}c.blotName="code",c.tagName="CODE";class h extends o.ZP{static create(t){let e=super.create(t);return e.setAttribute("spellcheck",!1),e}static formats(){return!0}delta(){let t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(((t,e)=>t.insert(e).insert("\n",this.formats())),new(s()))}format(t,e){if(t===this.statics.blotName&&e)return;let[n]=this.descendant(u.Z,this.length()-1);null!=n&&n.deleteAt(n.length()-1,1),super.format(t,e)}formatAt(t,e,n,i){if(0===e)return;if(null==l().query(n,l().Scope.BLOCK)||n===this.statics.blotName&&i===this.statics.formats(this.domNode))return;let s=this.newlineIndex(t);if(s<0||s>=t+e)return;let r=this.newlineIndex(t,!0)+1,o=s-r+1,a=this.isolate(r,o),u=a.next;a.format(n,i),u instanceof h&&u.formatAt(0,t-r+e-o,n,i)}insertAt(t,e,n){if(null!=n)return;let[i,s]=this.descendant(u.Z,t);i.insertAt(s,e)}length(){let t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}newlineIndex(t,e=!1){if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");{let e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}}optimize(t){this.domNode.textContent.endsWith("\n")||this.appendChild(l().create("text","\n")),super.optimize(t);let e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===e.statics.formats(e.domNode)&&(e.optimize(t),e.moveChildren(this),e.remove())}replace(t){super.replace(t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){let e=l().find(t);null==e?t.parentNode.removeChild(t):e instanceof l().Embed?e.remove():e.unwrap()}))}}h.blotName="code-block",h.tagName="PRE",h.TAB="  "},43703:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>Z});var i=n(94470),s=n.n(i),r=n(28090),l=n.n(r),o=n(70347),a=n.n(o),u=n(8783),c=n(10369),h=n(95937);let d={scope:a().Scope.BLOCK,whitelist:["right","center","justify"]},f=new(a().Attributor.Attribute)("align","align",d),p=(new(a().Attributor.Class)("align","ql-align",d),new(a().Attributor.Style)("align","text-align",d));class g extends a().Attributor.Style{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+e.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):e}}new(a().Attributor.Class)("color","ql-color",{scope:a().Scope.INLINE});let m=new g("color","color",{scope:a().Scope.INLINE}),y=(new(a().Attributor.Class)("background","ql-bg",{scope:a().Scope.INLINE}),new g("background","background-color",{scope:a().Scope.INLINE}));var b=n(22415);let E={scope:a().Scope.BLOCK,whitelist:["rtl"]},N=new(a().Attributor.Attribute)("direction","dir",E),x=(new(a().Attributor.Class)("direction","ql-direction",E),new(a().Attributor.Style)("direction","direction",E)),v={scope:a().Scope.INLINE,whitelist:["serif","monospace"]};new(a().Attributor.Class)("font","ql-font",v);class T extends a().Attributor.Style{value(t){return super.value(t).replace(/["']/g,"")}}let S=new T("font","font-family",v),C=(new(a().Attributor.Class)("size","ql-size",{scope:a().Scope.INLINE,whitelist:["small","large","huge"]}),new(a().Attributor.Style)("size","font-size",{scope:a().Scope.INLINE,whitelist:["10px","18px","32px"]})),k=(0,c.Z)("quill:clipboard");const L="__ql-matcher",A=[[Node.TEXT_NODE,function(t,e){let n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!R(t.parentNode).whiteSpace.startsWith("pre")){let e=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,e.bind(e,!0)),(null==t.previousSibling&&P(t.parentNode)||null!=t.previousSibling&&P(t.previousSibling))&&(n=n.replace(/^\s+/,e.bind(e,!1))),(null==t.nextSibling&&P(t.parentNode)||null!=t.nextSibling&&P(t.nextSibling))&&(n=n.replace(/\s+$/,e.bind(e,!1)))}return e.insert(n)}],[Node.TEXT_NODE,B],["br",function(t,e){_(e,"\n")||e.insert("\n");return e}],[Node.ELEMENT_NODE,B],[Node.ELEMENT_NODE,function(t,e){let n=a().query(t);if(null==n)return e;if(n.prototype instanceof a().Embed){let i={},s=n.value(t);null!=s&&(i[n.blotName]=s,e=(new(l())).insert(i,n.formats(t)))}else"function"==typeof n.formats&&(e=q(e,n.blotName,n.formats(t)));return e}],[Node.ELEMENT_NODE,U],[Node.ELEMENT_NODE,function(t,e){let n=a().Attributor.Attribute.keys(t),i=a().Attributor.Class.keys(t),s=a().Attributor.Style.keys(t),r={};n.concat(i).concat(s).forEach((e=>{let n=a().query(e,a().Scope.ATTRIBUTE);null!=n&&(r[n.attrName]=n.value(t),r[n.attrName])||(n=w[e],null==n||n.attrName!==e&&n.keyName!==e||(r[n.attrName]=n.value(t)||void 0),n=O[e],null==n||n.attrName!==e&&n.keyName!==e||(n=O[e],r[n.attrName]=n.value(t)||void 0))})),Object.keys(r).length>0&&(e=q(e,r));return e}],[Node.ELEMENT_NODE,function(t,e){let n={},i=t.style||{};i.fontStyle&&"italic"===R(t).fontStyle&&(n.italic=!0);i.fontWeight&&(R(t).fontWeight.startsWith("bold")||parseInt(R(t).fontWeight)>=700)&&(n.bold=!0);Object.keys(n).length>0&&(e=q(e,n));parseFloat(i.textIndent||0)>0&&(e=(new(l())).insert("\t").concat(e));return e}],["li",function(t,e){let n=a().query(t);if(null==n||"list-item"!==n.blotName||!_(e,"\n"))return e;let i=-1,s=t.parentNode;for(;!s.classList.contains("ql-clipboard");)"list"===(a().query(s)||{}).blotName&&(i+=1),s=s.parentNode;return i<=0?e:e.compose((new(l())).retain(e.length()-1).retain(1,{indent:i}))}],["b",D.bind(D,"bold")],["i",D.bind(D,"italic")],["style",function(){return new(l())}]],w=[f,N].reduce((function(t,e){return t[e.keyName]=e,t}),{}),O=[p,y,m,x,S,C].reduce((function(t,e){return t[e.keyName]=e,t}),{});class Z extends h.Z{constructor(t,e){super(t,e),this.quill.root.addEventListener("paste",this.onPaste.bind(this)),this.container=this.quill.addContainer("ql-clipboard"),this.container.setAttribute("contenteditable",!0),this.container.setAttribute("tabindex",-1),this.matchers=[],A.concat(this.options.matchers).forEach((([t,n])=>{(e.matchVisual||n!==U)&&this.addMatcher(t,n)}))}addMatcher(t,e){this.matchers.push([t,e])}convert(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();const e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[b.Z.blotName]){const t=this.container.innerText;return this.container.innerHTML="",(new(l())).insert(t,{[b.Z.blotName]:e[b.Z.blotName]})}let[n,i]=this.prepareMatching(),s=I(this.container,n,i);return _(s,"\n")&&null==s.ops[s.ops.length-1].attributes&&(s=s.compose((new(l())).retain(s.length()-1).delete(1))),k.log("convert",this.container.innerHTML,s),this.container.innerHTML="",s}dangerouslyPasteHTML(t,e,n=u.ZP.sources.API){if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,u.ZP.sources.SILENT);else{let i=this.convert(e);this.quill.updateContents((new(l())).retain(t).concat(i),n),this.quill.setSelection(t+i.length(),u.ZP.sources.SILENT)}}onPaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;let e=this.quill.getSelection(),n=(new(l())).retain(e.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.ZP.sources.SILENT),setTimeout((()=>{n=n.concat(this.convert()).delete(e.length),this.quill.updateContents(n,u.ZP.sources.USER),this.quill.setSelection(n.length()-e.length,u.ZP.sources.SILENT),this.quill.scrollingContainer.scrollTop=i,this.quill.focus()}),1)}prepareMatching(){let t=[],e=[];return this.matchers.forEach((n=>{let[i,s]=n;switch(i){case Node.TEXT_NODE:e.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(this.container.querySelectorAll(i),(t=>{t[L]=t[L]||[],t[L].push(s)}))}})),[t,e]}}function q(t,e,n){return"object"==typeof e?Object.keys(e).reduce((function(t,n){return q(t,n,e[n])}),t):t.reduce((function(t,i){return i.attributes&&i.attributes[e]?t.push(i):t.insert(i.insert,s()({},{[e]:n},i.attributes))}),new(l()))}function R(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};const e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function _(t,e){let n="";for(let i=t.ops.length-1;i>=0&&n.length<e.length;--i){let e=t.ops[i];if("string"!=typeof e.insert)break;n=e.insert+n}return n.slice(-1*e.length)===e}function P(t){if(0===t.childNodes.length)return!1;let e=R(t);return["block","list-item"].indexOf(e.display)>-1}function I(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,n){return n(t,e)}),new(l())):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],((i,s)=>{let r=I(s,e,n);return s.nodeType===t.ELEMENT_NODE&&(r=e.reduce((function(t,e){return e(s,t)}),r),r=(s[L]||[]).reduce((function(t,e){return e(s,t)}),r)),i.concat(r)}),new(l())):new(l())}function D(t,e,n){return q(n,t,!0)}function B(t,e){return _(e,"\n")||(P(t)||e.length()>0&&t.nextSibling&&P(t.nextSibling))&&e.insert("\n"),e}function U(t,e){if(P(t)&&null!=t.nextElementSibling&&!_(e,"\n\n")){let n=t.offsetHeight+parseFloat(R(t).marginTop)+parseFloat(R(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}Z.DEFAULTS={matchers:[],matchVisual:!0}},71812:(t,e,n)=>{"use strict";n.d(e,{Z:()=>N});var i=n(16313),s=n.n(i),r=n(10251),l=n.n(r),o=n(94470),a=n.n(o),u=n(28090),c=n.n(u),h=n(62710),d=n.n(h),f=n(70347),p=n.n(f),g=n(8783),m=n(10369),y=n(95937);let b=(0,m.Z)("quill:keyboard");const E=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class N extends y.Z{static match(t,e){return e=A(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach((e=>{("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&this.options.bindings[e]&&this.addBinding(this.options.bindings[e])})),this.addBinding({key:N.keys.ENTER,shiftKey:null},C),this.addBinding({key:N.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:N.keys.BACKSPACE},{collapsed:!0},v),this.addBinding({key:N.keys.DELETE},{collapsed:!0},T)):(this.addBinding({key:N.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},v),this.addBinding({key:N.keys.DELETE},{collapsed:!0,suffix:/^.?$/},T)),this.addBinding({key:N.keys.BACKSPACE},{collapsed:!1},S),this.addBinding({key:N.keys.DELETE},{collapsed:!1},S),this.addBinding({key:N.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},v),this.listen()}addBinding(t,e={},n={}){let i=A(t);if(null==i||null==i.key)return b.warn("Attempted to add invalid keyboard binding",i);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),i=a()(i,e,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}listen(){this.quill.root.addEventListener("keydown",(t=>{if(t.defaultPrevented)return;let e=t.which||t.keyCode,n=(this.bindings[e]||[]).filter((function(e){return N.match(t,e)}));if(0===n.length)return;let i=this.quill.getSelection();if(null==i||!this.quill.hasFocus())return;let[s,r]=this.quill.getLine(i.index),[o,a]=this.quill.getLeaf(i.index),[u,c]=0===i.length?[o,a]:this.quill.getLeaf(i.index+i.length),h=o instanceof p().Text?o.value().slice(0,a):"",d=u instanceof p().Text?u.value().slice(c):"",f={collapsed:0===i.length,empty:0===i.length&&s.length()<=1,format:this.quill.getFormat(i),offset:r,prefix:h,suffix:d};n.some((t=>{if(null!=t.collapsed&&t.collapsed!==f.collapsed)return!1;if(null!=t.empty&&t.empty!==f.empty)return!1;if(null!=t.offset&&t.offset!==f.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(t){return null==f.format[t]})))return!1}else if("object"==typeof t.format&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=f.format[e]:!1===t.format[e]?null==f.format[e]:l()(t.format[e],f.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(f.prefix))&&(!(null!=t.suffix&&!t.suffix.test(f.suffix))&&!0!==t.handler.call(this,i,f))}))&&t.preventDefault()}))}}function x(t,e){const n=t===N.keys.LEFT?"prefix":"suffix";return{key:t,shiftKey:e,altKey:null,[n]:/^$/,handler:function(n){let i=n.index;t===N.keys.RIGHT&&(i+=n.length+1);const[s]=this.quill.getLeaf(i);return!(s instanceof p().Embed)||(t===N.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,g.ZP.sources.USER):this.quill.setSelection(n.index-1,g.ZP.sources.USER):e?this.quill.setSelection(n.index,n.length+1,g.ZP.sources.USER):this.quill.setSelection(n.index+n.length+1,g.ZP.sources.USER),!1)}}}function v(t,e){if(0===t.index||this.quill.getLength()<=1)return;let[n]=this.quill.getLine(t.index),i={};if(0===e.offset){let[e]=this.quill.getLine(t.index-1);if(null!=e&&e.length()>1){let e=n.formats(),s=this.quill.getFormat(t.index-1,1);i=d().attributes.diff(e,s)||{}}}let s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-s,s,g.ZP.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index-s,s,i,g.ZP.sources.USER),this.quill.focus()}function T(t,e){let n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let i={},s=0,[r]=this.quill.getLine(t.index);if(e.offset>=r.length()-1){let[e]=this.quill.getLine(t.index+1);if(e){let n=r.formats(),l=this.quill.getFormat(t.index,1);i=d().attributes.diff(n,l)||{},s=e.length()}}this.quill.deleteText(t.index,n,g.ZP.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index+s-1,n,i,g.ZP.sources.USER)}function S(t){let e=this.quill.getLines(t),n={};if(e.length>1){let t=e[0].formats(),i=e[e.length-1].formats();n=d().attributes.diff(i,t)||{}}this.quill.deleteText(t,g.ZP.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,g.ZP.sources.USER),this.quill.setSelection(t.index,g.ZP.sources.SILENT),this.quill.focus()}function C(t,e){t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);let n=Object.keys(e.format).reduce((function(t,n){return p().query(n,p().Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",n,g.ZP.sources.USER),this.quill.setSelection(t.index+1,g.ZP.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((t=>{null==n[t]&&(Array.isArray(e.format[t])||"link"!==t&&this.quill.format(t,e.format[t],g.ZP.sources.USER))}))}function k(t){return{key:N.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){let n=p().query("code-block"),i=e.index,s=e.length,[r,l]=this.quill.scroll.descendant(n,i);if(null==r)return;let o=this.quill.getIndex(r),a=r.newlineIndex(l,!0)+1,u=r.newlineIndex(o+l+s),c=r.domNode.textContent.slice(a,u).split("\n");l=0,c.forEach(((e,o)=>{t?(r.insertAt(a+l,n.TAB),l+=n.TAB.length,0===o?i+=n.TAB.length:s+=n.TAB.length):e.startsWith(n.TAB)&&(r.deleteAt(a+l,n.TAB.length),l-=n.TAB.length,0===o?i-=n.TAB.length:s-=n.TAB.length),l+=e.length+1})),this.quill.update(g.ZP.sources.USER),this.quill.setSelection(i,s,g.ZP.sources.SILENT)}}}function L(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],g.ZP.sources.USER)}}}function A(t){if("string"==typeof t||"number"==typeof t)return A({key:t});if("object"==typeof t&&(t=s()(t,!1)),"string"==typeof t.key)if(null!=N.keys[t.key.toUpperCase()])t.key=N.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[E]=t.shortKey,delete t.shortKey),t}N.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},N.DEFAULTS={bindings:{bold:L("bold"),italic:L("italic"),underline:L("underline"),indent:{key:N.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",g.ZP.sources.USER)}},outdent:{key:N.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",g.ZP.sources.USER)}},"outdent backspace":{key:N.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",g.ZP.sources.USER):null!=e.format.list&&this.quill.format("list",!1,g.ZP.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:N.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,g.ZP.sources.USER)}},tab:{key:N.keys.TAB,handler:function(t){this.quill.history.cutoff();let e=(new(c())).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,g.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,g.ZP.sources.SILENT)}},"list empty enter":{key:N.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,g.ZP.sources.USER),e.format.indent&&this.quill.format("indent",!1,g.ZP.sources.USER)}},"checklist enter":{key:N.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){let[e,n]=this.quill.getLine(t.index),i=a()({},e.formats(),{list:"checked"}),s=(new(c())).retain(t.index).insert("\n",i).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,g.ZP.sources.USER),this.quill.setSelection(t.index+1,g.ZP.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:N.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){let[n,i]=this.quill.getLine(t.index),s=(new(c())).retain(t.index).insert("\n",e.format).retain(n.length()-i-1).retain(1,{header:null});this.quill.updateContents(s,g.ZP.sources.USER),this.quill.setSelection(t.index+1,g.ZP.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){let n,i=e.prefix.length,[s,r]=this.quill.getLine(t.index);if(r>i)return!0;switch(e.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(t.index," ",g.ZP.sources.USER),this.quill.history.cutoff();let l=(new(c())).retain(t.index-r).delete(i+1).retain(s.length()-2-r).retain(1,{list:n});this.quill.updateContents(l,g.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-i,g.ZP.sources.SILENT)}},"code exit":{key:N.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){const[e,n]=this.quill.getLine(t.index),i=(new(c())).retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(i,g.ZP.sources.USER)}},"embed left":x(N.keys.LEFT,!1),"embed left shift":x(N.keys.LEFT,!0),"embed right":x(N.keys.RIGHT,!1),"embed right shift":x(N.keys.RIGHT,!0)}}},31930:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function i(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),r.prototype.eventNames=function(){var t,i,s=[];if(0===this._eventsCount)return s;for(i in t=this._events)e.call(t,i)&&s.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(t)):s},r.prototype.listeners=function(t,e){var i=n?n+t:t,s=this._events[i];if(e)return!!s;if(!s)return[];if(s.fn)return[s.fn];for(var r=0,l=s.length,o=new Array(l);r<l;r++)o[r]=s[r].fn;return o},r.prototype.emit=function(t,e,i,s,r,l){var o=n?n+t:t;if(!this._events[o])return!1;var a,u,c=this._events[o],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,s),!0;case 5:return c.fn.call(c.context,e,i,s,r),!0;case 6:return c.fn.call(c.context,e,i,s,r,l),!0}for(u=1,a=new Array(h-1);u<h;u++)a[u-1]=arguments[u];c.fn.apply(c.context,a)}else{var d,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,i);break;case 4:c[u].fn.call(c[u].context,e,i,s);break;default:if(!a)for(d=1,a=new Array(h-1);d<h;d++)a[d-1]=arguments[d];c[u].fn.apply(c[u].context,a)}}return!0},r.prototype.on=function(t,e,i){var r=new s(e,i||this),l=n?n+t:t;return this._events[l]?this._events[l].fn?this._events[l]=[this._events[l],r]:this._events[l].push(r):(this._events[l]=r,this._eventsCount++),this},r.prototype.once=function(t,e,i){var r=new s(e,i||this,!0),l=n?n+t:t;return this._events[l]?this._events[l].fn?this._events[l]=[this._events[l],r]:this._events[l].push(r):(this._events[l]=r,this._eventsCount++),this},r.prototype.removeListener=function(t,e,s,r){var l=n?n+t:t;if(!this._events[l])return this;if(!e)return 0==--this._eventsCount?this._events=new i:delete this._events[l],this;var o=this._events[l];if(o.fn)o.fn!==e||r&&!o.once||s&&o.context!==s||(0==--this._eventsCount?this._events=new i:delete this._events[l]);else{for(var a=0,u=[],c=o.length;a<c;a++)(o[a].fn!==e||r&&!o[a].once||s&&o[a].context!==s)&&u.push(o[a]);u.length?this._events[l]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new i:delete this._events[l]}return this},r.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new i:delete this._events[e])):(this._events=new i,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=n,r.EventEmitter=r,t.exports=r}}]);