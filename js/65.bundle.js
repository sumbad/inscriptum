(window.webpackJsonp=window.webpackJsonp||[]).push([[65,9,23,30,31,32,33,34,37,38,39,40,41,45,46,47,48,50,51,52],{102:function(t,e,n){"use strict";var i=n(78);class o extends i.a{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}o.blotName="bold",o.tagName=["STRONG","B"],e.a=o},115:function(t,e,n){"use strict";n.r(e),n.d(e,"EditorTooltipComponent",(function(){return s}));var i=n(32),o=n(13),r=n(51),a=n(68),l=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};let s=class extends i.a{constructor(){super(r.a,!1),this.html=o.e,this.linkTTOptions={padding:7,position:"bottom",depend:this.$tl_tooltip,dependPadding:10},this.formatTTOptions={padding:10,position:a.browser.mobile?"bottom":"top",minDelta:5}}connectedCallback(){super.connectedCallback(),this.$tl_link_tooltip=this.querySelector("#_tl_link_tooltip")||document.createElement("div"),this.$tl_tooltip=this.querySelector("#_tl_tooltip")||document.createElement("div"),this.$tl_blocks=this.querySelector("#_tl_blocks")||document.createElement("div"),this.$bold_button=this.querySelector("#_bold_button")||document.createElement("div"),this.$italic_button=this.querySelector("#_italic_button")||document.createElement("div"),this.$link_button=this.querySelector("#_link_button")||document.createElement("div"),this.$header_button=this.querySelector("#_header_button")||document.createElement("div"),this.$subheader_button=this.querySelector("#_subheader_button")||document.createElement("div"),this.$quote_button=this.querySelector("#_quote_button")||document.createElement("div"),this.$strikeButton=this.querySelector("#_strike_button")||document.createElement("div"),this.$image_button=this.querySelector("#_image_button")||document.createElement("div"),this.$embed_button=this.querySelector("#_embed_button")||document.createElement("div")}render(){return this.html`
      <div id="_tl_link_tooltip" class="tl_link_tooltip"></div>
      <div id="_tl_tooltip" class="tl_tooltip" @mouseover=${this.handleMouseover.bind(this)} @mouseout=${this.handleMouseout.bind(this)}>
        <div class="buttons">
          <span class="button_hover"></span>
          <div class="button_group">
            <button id="_bold_button"></button>
            <button id="_italic_button"></button>
            <button id="_link_button"></button>
          </div>
          <div class="button_group">
            <button id="_header_button"></button>
            <button id="_subheader_button"></button>
            <button id="_quote_button"></button>
          </div>
          <div class="button_group">
            <button id="_strike_button" class="tt-icon-btn">
            ${o.i`
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-strikethrough" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <line x1="5" y1="12" x2="19" y2="12" />
              <path d="M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7" />
              <path d="M16.5 16a3.5 3.5 0 0 1 -3.5 3h-1.5a4 2 0 0 1 -4 -1.5" />
            </svg>
              `}
            </button>
          </div>
        </div>
        <div class="prompt">
          <span class="close"></span>
          <div class="prompt_input_wrap"><input type="url" class="prompt_input" /></div>
        </div>
      </div>
      <div id="_tl_blocks" class="tl_blocks">
        <div class="buttons">
          <button id="_image_button"></button>
          <button id="_embed_button"></button>
        </div>
      </div>
    `}handleMouseover(t){let e=t.target;t instanceof MouseEvent&&"BUTTON"==(null==e?void 0:e.tagName)&&!e.classList.contains("disabled")&&(this.$tl_tooltip.setAttribute("data-hover",e.id),this.$tl_tooltip.classList.add("hover"),setTimeout(()=>{this.$tl_tooltip.classList.add("hover_anim")},1),clearTimeout(this.$tl_tooltip.to))}handleMouseout(t){"BUTTON"==t.target.tagName&&(this.$tl_tooltip.classList.remove("hover"),this.$tl_tooltip.to=setTimeout(()=>{this.$tl_tooltip.classList.remove("hover_anim")},70))}tooltipUpdatePosition(t,e,n,i){if(n=n||{padding:10,position:"top"},null==(e=e||t._range||null))return;let o=i.getBounds(e),r=i.container.getBoundingClientRect(),a={width:t.offsetWidth,height:t.offsetHeight},l=window.outerWidth,s=window.outerHeight,c=document.body.scrollTop,u=9,d=c+9,p=l-a.width-9,h=c+s-a.height-9;a.left=o.left+o.width/2-a.width/2;let f,m=r.left+a.left;if(m<u?a.left=u-r.left:m>p&&(a.left=p-r.left),"top"==n.position){a.top=o.top-a.height-n.padding,f=!1,r.top+a.top<d&&(a.top=o.bottom+n.padding,f=!0)}else if("bottom"==n.position){let t=!1;a.top=o.bottom+n.padding,(t=this.isOverElement(a,n.depend,n.dependPadding))&&(a.top=t.bottom+n.dependPadding),f=!0,r.top+(a.top||0)>h&&(a.top=o.top-a.height-n.padding,(t=this.isOverElement(a,n.depend,n.dependPadding))&&(a.top=t.top-a.height-n.dependPadding),f=!1)}a.left=Math.round(a.left),a.top=Math.round(a.top||0),t._range=e,n.minDelta&&Math.abs(a.left-t._left)<n.minDelta&&Math.abs(a.top-t._top)<n.minDelta||(t._left=a.left,t._top=a.top,t.style.left=a.left+"px",t.style.top=a.top+"px",t.classList.toggle("bottom",f))}isOverElement(t,e,n){if(!e||!e.classList.contains("shown"))return!1;t.bottom=t.top+t.height,t.right=t.left+t.width;let i={_left:e.offsetLeft,_top:e.offsetTop},o={top:i._top,bottom:i._top+e.offsetHeight,left:i._left,right:i._left+e.offsetWidth};return!(t.left-o.right>=n||o.left-t.right>=n||t.top-o.bottom>=n||o.top-t.bottom>=n)&&o}hideBlocksTooltip(){this.$tl_blocks.classList.remove("shown")}showFormatTooltip(t,e,n){n&&(this.$tl_tooltip.classList.remove("tooltip_prompt"),this.tooltipUpdatePosition(this.$tl_tooltip,t,this.formatTTOptions,e),this.$tl_tooltip.classList.contains("move_anim")||setTimeout(()=>{this.$tl_tooltip.classList.add("move_anim")},10),this.$tl_tooltip.classList.contains("shown")?this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,e):setTimeout(()=>{this.$tl_tooltip.classList.add("shown"),this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,e)},10))}hideFormatTooltip(t){this.$tl_tooltip.classList.remove("move_anim","shown"),this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,t)}showBlocksTooltip(t,e,n){e&&(this.$tl_blocks.classList.add("shown"),this.blocksUpdatePosition(t,n))}blocksUpdatePosition(t,e){if(void 0===t&&(t=e.getSelection()),null==t||!e)return;let n=e.getBounds(t);this.$tl_blocks.style.top=n.top+n.height/2+"px"}showLinkTooltip(t,e,n,i){if(!n)return;let o={index:t.offset(i.scroll),length:t.length()};this.$tl_link_tooltip.textContent=e,this.tooltipUpdatePosition(this.$tl_link_tooltip,o,this.linkTTOptions,i),this.$tl_link_tooltip.classList.contains("move_anim")||setTimeout(()=>{this.$tl_link_tooltip.classList.add("move_anim")},1),this.$tl_link_tooltip.classList.contains("shown")||setTimeout(()=>{this.$tl_link_tooltip.classList.add("shown")},10)}hideLinkTooltip(t){this.$tl_link_tooltip.classList.remove("move_anim","shown")}};s=l([Object(i.b)("inscriptum-editor-tooltip")],s)},117:function(t,e,n){var i,o,r;!function(a){"use strict";o=[n(62)],void 0===(r="function"==typeof(i=function(t){var e=t.transform;t.transform=function(n,i,o,r,a){e.call(t,t.scale(n,i,a),i,o,r,a)},t.transformCoordinates=function(){},t.getTransformedOptions=function(t,e){var n,i,o,r,a=e.aspectRatio;if(!a)return e;for(i in n={},e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n.crop=!0,(o=t.naturalWidth||t.width)/(r=t.naturalHeight||t.height)>a?(n.maxWidth=r*a,n.maxHeight=r):(n.maxWidth=o,n.maxHeight=o/a),n},t.renderImageToCanvas=function(t,e,n,i,o,r,a,l,s,c,u){var d=t.getContext("2d");return!1===u.imageSmoothingEnabled?d.imageSmoothingEnabled=!1:u.imageSmoothingQuality&&(d.imageSmoothingQuality=u.imageSmoothingQuality),d.drawImage(e,n,i,o,r,a,l,s,c),t},t.hasCanvasOption=function(t){return t.canvas||t.crop||!!t.aspectRatio},t.scale=function(e,n,i){n=n||{};var o,r,a,l,s,c,u,d,p,h,f,m=document.createElement("canvas"),g=e.getContext||t.hasCanvasOption(n)&&m.getContext,b=e.naturalWidth||e.width,v=e.naturalHeight||e.height,y=b,_=v;function x(){var t=Math.max((a||y)/y,(l||_)/_);t>1&&(y*=t,_*=t)}function k(){var t=Math.min((o||y)/y,(r||_)/_);t<1&&(y*=t,_*=t)}if(g&&(u=(n=t.getTransformedOptions(e,n,i)).left||0,d=n.top||0,n.sourceWidth?(s=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=b-s-n.right)):s=b-u-(n.right||0),n.sourceHeight?(c=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=v-c-n.bottom)):c=v-d-(n.bottom||0),y=s,_=c),o=n.maxWidth,r=n.maxHeight,a=n.minWidth,l=n.minHeight,g&&o&&r&&n.crop?(y=o,_=r,(f=s/c-o/r)<0?(c=r*s/o,void 0===n.top&&void 0===n.bottom&&(d=(v-c)/2)):f>0&&(s=o*c/r,void 0===n.left&&void 0===n.right&&(u=(b-s)/2))):((n.contain||n.cover)&&(a=o=o||a,l=r=r||l),n.cover?(k(),x()):(x(),k())),g){if((p=n.pixelRatio)>1&&(m.style.width=y+"px",m.style.height=_+"px",y*=p,_*=p,m.getContext("2d").scale(p,p)),(h=n.downsamplingRatio)>0&&h<1&&y<s&&_<c)for(;s*h>y;)m.width=s*h,m.height=c*h,t.renderImageToCanvas(m,e,u,d,s,c,0,0,m.width,m.height,n),u=0,d=0,s=m.width,c=m.height,(e=document.createElement("canvas")).width=s,e.height=c,t.renderImageToCanvas(e,m,0,0,s,c,0,0,s,c,n);return m.width=y,m.height=_,t.transformCoordinates(m,n),t.renderImageToCanvas(m,e,u,d,s,c,0,0,y,_,n)}return e.width=y,e.height=_,e}})?i.apply(e,o):i)||(t.exports=r)}()},118:function(t,e,n){var i,o,r;!function(a){"use strict";o=[n(62),n(77)],void 0===(r="function"==typeof(i=function(t){t.ExifMap=function(){return this},t.ExifMap.prototype.map={Orientation:274},t.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]]},t.getExifThumbnail=function(e,n,i){if(i&&!(n+i>e.byteLength))return t.createObjectURL(new Blob([e.buffer.slice(n,n+i)]));console.log("Invalid Exif data: Invalid thumbnail data.")},t.exifTagTypes={1:{getValue:function(t,e){return t.getUint8(e)},size:1},2:{getValue:function(t,e){return String.fromCharCode(t.getUint8(e))},size:1,ascii:!0},3:{getValue:function(t,e,n){return t.getUint16(e,n)},size:2},4:{getValue:function(t,e,n){return t.getUint32(e,n)},size:4},5:{getValue:function(t,e,n){return t.getUint32(e,n)/t.getUint32(e+4,n)},size:8},9:{getValue:function(t,e,n){return t.getInt32(e,n)},size:4},10:{getValue:function(t,e,n){return t.getInt32(e,n)/t.getInt32(e+4,n)},size:8}},t.exifTagTypes[7]=t.exifTagTypes[1],t.getExifValue=function(e,n,i,o,r,a){var l,s,c,u,d,p,h=t.exifTagTypes[o];if(h){if(!((s=(l=h.size*r)>4?n+e.getUint32(i+8,a):i+8)+l>e.byteLength)){if(1===r)return h.getValue(e,s,a);for(c=[],u=0;u<r;u+=1)c[u]=h.getValue(e,s+u*h.size,a);if(h.ascii){for(d="",u=0;u<c.length&&"\0"!==(p=c[u]);u+=1)d+=p;return d}return c}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},t.parseExifTag=function(e,n,i,o){return{number:e.getUint16(i,o),value:t.getExifValue(e,n,i,e.getUint16(i+2,o),e.getUint32(i+4,o),o)}},t.parseExifTags=function(t,e,n,i,o){var r,a,l,s,c;if(n+6>t.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=n+2+12*(r=t.getUint16(n,i)))+4>t.byteLength)){for(l=0;l<r;l+=1)s=n+2+12*l,c=this.parseExifTag(t,e,s,i,o),o.exif[c.number]=c.value,o.exifOffsets&&(o.exifOffsets[c.number]=s);return t.getUint32(a,i)}console.log("Invalid Exif data: Invalid directory size.")}},t.parseExifData=function(e,n,i,o,r){if(!r.disableExif){var a,l,s,c=n+10;if(1165519206===e.getUint32(n+4))if(c+8>e.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===e.getUint16(n+8)){switch(e.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===e.getUint16(c+2,a)?(l=e.getUint32(c+4,a),o.exif=new t.ExifMap,r.disableExifOffsets||(o.exifOffsets=new t.ExifMap,o.exifTiffOffset=c,o.exifLittleEndian=a),(l=t.parseExifTags(e,c,c+l,a,o))&&!r.disableExifThumbnail&&(s={exif:{}},l=t.parseExifTags(e,c,c+l,a,s),s.exif[513]&&(o.exif.Thumbnail=t.getExifThumbnail(e,c+s.exif[513],s.exif[514]))),o.exif[34665]&&!r.disableExifSub&&t.parseExifTags(e,c,c+o.exif[34665],a,o),o.exif[34853]&&!r.disableExifGps&&t.parseExifTags(e,c,c+o.exif[34853],a,o)):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},t.metaDataParsers.jpeg[65505].push(t.parseExifData),t.exifWriters={274:function(t,e,n){return new DataView(t,e.exifOffsets[274]+8,2).setUint16(0,n,e.exifLittleEndian),t}},t.writeExifData=function(e,n,i,o){t.exifWriters[n.exif.map[i]](e,n,o)}})?i.apply(e,o):i)||(t.exports=r)}()},119:function(t,e,n){var i,o,r;!function(a){"use strict";o=[n(62),n(77)],void 0===(r="function"==typeof(i=function(t){t.IptcMap=function(){return this},t.IptcMap.prototype.map={ObjectName:5},t.IptcMap.prototype.get=function(t){return this[t]||this[this.map[t]]},t.parseIptcTags=function(t,e,n,i){function o(t,e,n){for(var i="",o=e;o<e+n;o++)i+=String.fromCharCode(t.getUint8(o));return i}for(var r,a,l,s=e;s<e+n;)28===t.getUint8(s)&&2===t.getUint8(s+1)&&(l=t.getUint8(s+2))in i.iptc.tags&&(a=t.getInt16(s+3),r=o(t,s+5,a),Object.prototype.hasOwnProperty.call(i.iptc,l)?i.iptc[l]instanceof Array?i.iptc[l].push(r):i.iptc[l]=[i.iptc[l],r]:i.iptc[l]=r),s++},t.parseIptcData=function(e,n,i,o,r){if(!r.disableIptc){for(var a=n+i,l=function(t,e){return 943868237===t.getUint32(e)&&1028===t.getUint16(e+4)};n+8<a;){if(l(e,n)){var s=e.getUint8(n+7);s%2!=0&&(s+=1),0===s&&(s=4);var c=n+8+s;if(c>a){console.log("Invalid IPTC data: Invalid segment offset.");break}var u=e.getUint16(n+6+s);if(n+u>a){console.log("Invalid IPTC data: Invalid segment size.");break}return o.iptc=new t.IptcMap,t.parseIptcTags(e,c,u,o)}n++}console.log("No IPTC data at this offset - could be XMP")}},t.metaDataParsers.jpeg[65517].push(t.parseIptcData)})?i.apply(e,o):i)||(t.exports=r)}()},129:function(t,e,n){"use strict";var i=n(102);class o extends i.a{}o.blotName="italic",o.tagName=["EM","I"],e.a=o},130:function(t,e,n){"use strict";function i(t,e){return"function"==typeof t?t.apply(null,e):t}function o(t,e,n){return void 0===t||n!==t[e]?{...t,[e]:n}:t}n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return u}));const r=new WeakMap,a=[];function l(){const t=a[a.length-1],e=r.get(t);if(void 0!==e)return e;throw new Error("Hooks only valid inside an Articulated Function or a Custom Hook.")}function s(t,e){if(void 0===t||void 0===e)return!0;if(t.length!==e.length)return!0;for(const[n,i]of t.entries())if(!Object.is(i,e[n]))return!0;return!1}function c(t,e){return n.reset=function(){a.push(n);const t=l();try{for(let e of t.c)i(e)}finally{a.pop(),t.sS.length=0,t.e.length=0,t.c.length=0,t.m.length=0,t.nSSI=0,t.nEI=0,t.nMI=0}},n;function n(...o){a.push(n);let l,s=r.get(n);null==s?(s={nSSI:0,nEI:0,nMI:0,sS:[],e:[],c:[],m:[],hUS:!1,cb:e,af:()=>n(...o)},r.set(n,s)):(s.nSSI=0,s.nEI=0,s.nMI=0,s.af=()=>n(...o));try{l=t.apply(this,o)}finally{try{return function(t){for(let[e,[n]]of t.e.entries())try{i(n)}finally{t.e[e][0]=void 0}}(s),s.cb(l)}finally{s.hUS&&(s.hUS=!1,s.af()),a.pop()}}}}function u(t){return function(t,e,...n){var o=l();if(!(o.nSSI in o.sS)){let r=[i(e),function(e){r[0]=t(r[0],e),a.length>0?o.hUS=!0:o.af()}];o.sS[o.nSSI]=r,n.length>0&&o.sS[o.nSSI][1](n[0])}return[...o.sS[o.nSSI++]]}((function(t,e){return i(e,[t])}),t)}function d(t,...e){e.length>0?1==e.length&&Array.isArray(e[0])&&(e=e[0]):e=void 0;const n=l();n.nEI in n.e||(n.e[n.nEI]=[]);let o=n.nEI,r=n.e[o];s(r[1],e)&&(r[0]=function(){try{i(n.c[o])}finally{n.c[o]=void 0}var e=t();"function"==typeof e&&(n.c[o]=e)},r[1]=e),n.nEI++}function p(t,...e){return function(t,...e){e.length>0?1==e.length&&Array.isArray(e[0])&&(e=e[0]):e=[t];const n=l();n.nMI in n.m||(n.m[n.nMI]=[]);const i=n.m[n.nMI];if(s(i[1],e))try{i[0]=t()}finally{i[1]=e}return n.nMI++,i[0]}((function(){return t}),...e)}function h(t){var[e]=u({current:t});return e}function f(t){const e=t.mapper||o;return n=>{const i=function(t,e,n,i,o){var r;const a=((r=class extends HTMLElement{constructor(){super(),this._props={};const r=void 0!==o?this.attachShadow(o):this;this.aFunc=c(t,t=>n(t,r));for(const t in e){const n=e[t];let o=void 0;"type"in n&&(this.props[t]=n.default,o=n.attribute),Reflect.defineProperty(this,t,{get:()=>this.props[t],set:e=>{this.props=i.apply(this,[this.props,t,e,o])},enumerable:!0})}}static get observedAttributes(){return Object.values(this.attributes)}set props(t){void 0!==t&&this.props!==t&&(this._props=t,this.render())}get props(){return this._props}connectedCallback(){this.render()}attributeChangedCallback(t,e,n){if(e!==n)for(const[e,i]of Object.entries(this.constructor.attributes))if(i===t&&this[e]!==n){this[e]=n;break}}render(){this.isConnected&&Reflect.apply(this.aFunc,this,[this.props])}}).attributes={},r),l=Reflect.get(a,"attributes");for(const t in e){const n=e[t];"type"in n&&void 0!==n.attribute&&Reflect.defineProperty(a,"attributes",{value:{...l,[t]:n.attribute},enumerable:!0,writable:!0})}return a}(n,t.props||{},t.render,e,t.shadow);return(t,e)=>{try{customElements.define(t,i,e)}catch(t){console.warn(t)}const n=async e=>customElements.whenDefined(t).then(()=>customElements.get(t));return n.element=i,n.adapter=(e,n)=>e(t,n),n}}}},141:function(t,e,n){t.exports=n(62),n(117),n(77),n(154),n(118),n(155),n(119),n(156),n(157)},142:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(61),o=n.n(i);class r extends o.a.Attributor.Class{add(t,e){if("+1"===e||"-1"===e){let n=this.value(t)||0;e="+1"===e?n+1:n-1}return 0===e?(this.remove(t),!0):super.add(t,e)}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e))}value(t){return parseInt(super.value(t))||void 0}}let a=new r("indent","ql-indent",{scope:o.a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]})},143:function(t,e,n){"use strict";var i=n(78);class o extends i.a{}o.blotName="strike",o.tagName="S",e.a=o},154:function(t,e,n){var i,o,r;!function(a){"use strict";o=[n(62),n(77)],void 0===(r="function"==typeof(i=function(t){"undefined"!=typeof fetch&&"undefined"!=typeof Request?t.fetchBlob=function(e,n,i){t.hasMetaOption(i)?fetch(new Request(e,i)).then((function(t){return t.blob()})).then(n).catch((function(t){console.log(t),n()})):n()}:"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof ProgressEvent&&(t.fetchBlob=function(e,n,i){if(t.hasMetaOption(i)){i=i||{};var o=new XMLHttpRequest;o.open(i.method||"GET",e),i.headers&&Object.keys(i.headers).forEach((function(t){o.setRequestHeader(t,i.headers[t])})),o.withCredentials="include"===i.credentials,o.responseType="blob",o.onload=function(){n(o.response)},o.onerror=o.onabort=o.ontimeout=function(t){console.log(t),n()},o.send(i.body)}else n()})})?i.apply(e,o):i)||(t.exports=r)}()},155:function(t,e,n){var i,o,r;!function(a){"use strict";o=[n(62),n(118)],void 0===(r="function"==typeof(i=function(t){t.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},t.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},t.ExifMap.prototype.getText=function(t){var e=this.get(t);switch(t){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[t][e];case"ExifVersion":case"FlashpixVersion":if(!e)return;return String.fromCharCode(e[0],e[1],e[2],e[3]);case"ComponentsConfiguration":if(!e)return;return this.stringValues[t][e[0]]+this.stringValues[t][e[1]]+this.stringValues[t][e[2]]+this.stringValues[t][e[3]];case"GPSVersionID":if(!e)return;return e[0]+"."+e[1]+"."+e[2]+"."+e[3]}return String(e)},function(t){var e,n=t.tags,i=t.map;for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[n[e]]=e)}(t.ExifMap.prototype),t.ExifMap.prototype.getAll=function(){var t,e,n={};for(t in this)Object.prototype.hasOwnProperty.call(this,t)&&(e=this.tags[t])&&(n[e]=this.getText(e));return n}})?i.apply(e,o):i)||(t.exports=r)}()},156:function(t,e,n){var i,o,r;!function(a){"use strict";o=[n(62),n(119)],void 0===(r="function"==typeof(i=function(t){t.IptcMap.prototype.tags={3:"ObjectType",4:"ObjectAttribute",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectRef",15:"Category",20:"SupplCategory",22:"FixtureID",25:"Keywords",26:"ContentLocCode",27:"ContentLocName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"RefService",47:"RefDate",50:"RefNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"CountryName",103:"OrigTransRef",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",122:"WriterEditor",130:"ImageType",131:"ImageOrientation",135:"LanguageID"},t.IptcMap.prototype.getText=function(t){var e=this.get(t);return String(e)},function(t){var e,n=t.tags,i=t.map||{};for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[n[e]]=e)}(t.IptcMap.prototype),t.IptcMap.prototype.getAll=function(){var t,e,n={};for(t in this)Object.prototype.hasOwnProperty.call(this,t)&&(e=this.tags[t])&&(n[e]=this.getText(e));return n}})?i.apply(e,o):i)||(t.exports=r)}()},157:function(t,e,n){var i,o,r;!function(a){"use strict";o=[n(62),n(117),n(77)],void 0===(r="function"==typeof(i=function(t){var e=t.hasCanvasOption,n=t.hasMetaOption,i=t.transformCoordinates,o=t.getTransformedOptions;r=document.createElement("img"),r.onload=function(){t.orientation=1===r.width&&2===r.height},r.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",t.hasCanvasOption=function(n){return!0==!!n.orientation&&!t.orientation||n.orientation>1&&n.orientation<9||e.call(t,n)},t.hasMetaOption=function(e){return e&&!0===e.orientation&&!t.orientation||n.call(t,e)},t.transformCoordinates=function(e,n){i.call(t,e,n);var o=e.getContext("2d"),r=e.width,a=e.height,l=e.style.width,s=e.style.height,c=n.orientation;if(c>1&&c<9)switch(c>4&&(e.width=a,e.height=r,e.style.width=s,e.style.height=l),c){case 2:o.translate(r,0),o.scale(-1,1);break;case 3:o.translate(r,a),o.rotate(Math.PI);break;case 4:o.translate(0,a),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-a);break;case 7:o.rotate(.5*Math.PI),o.translate(r,-a),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-r,0)}},t.getTransformedOptions=function(e,n,i){var r,a,l=o.call(t,e,n),s=l.orientation;if(!0===s){if(t.orientation)return l;s=i&&i.exif&&i.exif.get("Orientation")}if(!(s>1&&s<9))return l;for(a in r={},l)Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);switch(r.orientation=s,s){case 2:r.left=l.right,r.right=l.left;break;case 3:r.left=l.right,r.top=l.bottom,r.right=l.left,r.bottom=l.top;break;case 4:r.top=l.bottom,r.bottom=l.top;break;case 5:r.left=l.top,r.top=l.left,r.right=l.bottom,r.bottom=l.right;break;case 6:r.left=l.top,r.top=l.right,r.right=l.bottom,r.bottom=l.left;break;case 7:r.left=l.bottom,r.top=l.right,r.right=l.top,r.bottom=l.left;break;case 8:r.left=l.bottom,r.top=l.left,r.right=l.top,r.bottom=l.right}return r.orientation>4&&(r.maxWidth=l.maxHeight,r.maxHeight=l.maxWidth,r.minWidth=l.minHeight,r.minHeight=l.minWidth,r.sourceWidth=l.sourceHeight,r.sourceHeight=l.sourceWidth),r};var r})?i.apply(e,o):i)||(t.exports=r)}()},161:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(1),o=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),r=function(t){function e(n,i){void 0===i&&(i=o.now);var r=t.call(this,n,(function(){return e.delegate&&e.delegate!==r?e.delegate.now():i()}))||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return i.a(e,t),e.prototype.schedule=function(n,i,o){return void 0===i&&(i=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,i,o):t.prototype.schedule.call(this,n,i,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(o)},162:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(1),o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return i.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(t){n=!0,i=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(5).a))},169:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(13);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const o=(t,e)=>{const n=t.startNode.parentNode,o=void 0===e?t.endNode:e.startNode,r=n.insertBefore(Object(i.c)(),o);n.insertBefore(Object(i.c)(),o);const a=new i.b(t.options);return a.insertAfterNode(r),a},r=(t,e)=>(t.setValue(e),t.commit(),t),a=(t,e,n)=>{const o=t.startNode.parentNode,r=n?n.startNode:t.endNode,a=e.endNode.nextSibling;a!==r&&Object(i.h)(o,e.startNode,a,r)},l=t=>{Object(i.f)(t.startNode.parentNode,t.startNode,t.endNode.nextSibling)},s=(t,e,n)=>{const i=new Map;for(let o=e;o<=n;o++)i.set(t[o],o);return i},c=new WeakMap,u=new WeakMap,d=Object(i.d)((t,e,n)=>{let d;return void 0===n?n=e:void 0!==e&&(d=e),e=>{if(!(e instanceof i.b))throw new Error("repeat can only be used in text bindings");const p=c.get(e)||[],h=u.get(e)||[],f=[],m=[],g=[];let b,v,y=0;for(const e of t)g[y]=d?d(e,y):y,m[y]=n(e,y),y++;let _=0,x=p.length-1,k=0,T=m.length-1;for(;_<=x&&k<=T;)if(null===p[_])_++;else if(null===p[x])x--;else if(h[_]===g[k])f[k]=r(p[_],m[k]),_++,k++;else if(h[x]===g[T])f[T]=r(p[x],m[T]),x--,T--;else if(h[_]===g[T])f[T]=r(p[_],m[T]),a(e,p[_],f[T+1]),_++,T--;else if(h[x]===g[k])f[k]=r(p[x],m[k]),a(e,p[x],p[_]),x--,k++;else if(void 0===b&&(b=s(g,k,T),v=s(h,_,x)),b.has(h[_]))if(b.has(h[x])){const t=v.get(g[k]),n=void 0!==t?p[t]:null;if(null===n){const t=o(e,p[_]);r(t,m[k]),f[k]=t}else f[k]=r(n,m[k]),a(e,n,p[_]),p[t]=null;k++}else l(p[x]),x--;else l(p[_]),_++;for(;k<=T;){const t=o(e,f[T+1]);r(t,m[k]),f[k++]=t}for(;_<=x;){const t=p[_++];null!==t&&l(t)}c.set(e,f),u.set(e,g)}})},366:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(130);const o=String.raw,r=String.raw,a=Object(i.a)({props:{config:{type:{},default:{duration:2e3,stepsCount:1}},color:{type:String,attribute:"color",default:"#ef534e"}},render:(t,e)=>{e.innerHTML!==t.template&&(e.innerHTML=t.template);const n=new CSSStyleSheet;n.replaceSync(t.style),e.adoptedStyleSheets=[n]},shadow:{mode:"open"}})((function(t){const[e,n]=Object(i.e)(!1),[a,l]=Object(i.e)(),[s,c]=Object(i.e)(),u=t.config.duration;return Object(i.c)(()=>{const e=t.config.stepsCount,i=100/e;let o="";for(let t=0;t<e;t++)o=o+" "+r`@keyframes${" loadingPB_"+t*i}{from{width:${t*i+"%"};}to{width:${(t+1)*i+"%"};}}`;l(o);let a=0;this.ref=this.ref||{},this.ref.current=this,this.generateProgress=function*(){for(;;)a<e?(c("loadingPB_"+a*i),yield++a):(n(!1),c(void 0),a=0,yield a)}(),this.togglePause=t=>n(e=>"boolean"==typeof t?t:!e)},[t.config]),{style:r`${a}.lpb{animation-timing-function:cubic-bezier(.55,0,1,.45);animation-fill-mode:both;background:${t.color};height:3px;left:0;top:0;width:0%;z-index:9999;position:fixed;animation-name:${s};animation-duration:${u+"ms"};animation-play-state:${e?"paused":"running"}}.lpb:after{display:${void 0!==s?"block":"none"};position:absolute;content:'';right:0;width:100px;height:100%;box-shadow:${`0 0 10px ${t.color}, 0 0 5px ${t.color}`};opacity:1;transform:rotate(3deg)translate(0,-4px)}`,template:o`<div class="lpb"></div>`}}))},381:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.syntaxError=function(t,e,n){return new i.GraphQLError("Syntax Error: ".concat(n),void 0,t,[e])};var i=n(406)},382:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_TO_STRING_TAG=e.SYMBOL_ASYNC_ITERATOR=e.SYMBOL_ITERATOR=void 0;var i="function"==typeof Symbol&&null!=Symbol.iterator?Symbol.iterator:"@@iterator";e.SYMBOL_ITERATOR=i;var o="function"==typeof Symbol&&null!=Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator";e.SYMBOL_ASYNC_ITERATOR=o;var r="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";e.SYMBOL_TO_STRING_TAG=r},383:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLocation=function(t,e){var n,i=/\r\n|[\n\r]/g,o=1,r=e+1;for(;(n=i.exec(t.body))&&n.index<e;)o+=1,r=e+1-(n.index+n[0].length);return{line:o,column:r}}},384:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenKind=void 0;var i=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});e.TokenKind=i},386:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(1),o=n(4),r=n(162),a=new(n(161).a)(r.a);function l(t,e){return void 0===e&&(e=a),function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.dueTime,this.scheduler))},t}(),c=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return i.a(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(o.a);function u(t){t.debouncedNext()}},404:function(t,e,n){var i=n(405).parse;function o(t){return t.replace(/[\s,]+/g," ").trim()}var r={},a={};var l=!0;var s=!1;function c(t){var e=o(t);if(r[e])return r[e];var n=i(t,{experimentalFragmentVariables:s});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function t(e,n){var i=Object.prototype.toString.call(e);if("[object Array]"===i)return e.map((function(e){return t(e,n)}));if("[object Object]"!==i)throw new Error("Unexpected input.");n&&e.loc&&delete e.loc,e.loc&&(delete e.loc.startToken,delete e.loc.endToken);var o,r,a,l=Object.keys(e);for(o in l)l.hasOwnProperty(o)&&(r=e[l[o]],"[object Object]"!==(a=Object.prototype.toString.call(r))&&"[object Array]"!==a||(e[l[o]]=t(r,!0)));return e}(n=function(t){for(var e,n={},i=[],r=0;r<t.definitions.length;r++){var s=t.definitions[r];if("FragmentDefinition"===s.kind){var c=s.name.value,u=o((e=s.loc).source.body.substring(e.start,e.end));a.hasOwnProperty(c)&&!a[c][u]?(l&&console.warn("Warning: fragment with name "+c+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),a[c][u]=!0):a.hasOwnProperty(c)||(a[c]={},a[c][u]=!0),n[u]||(n[u]=!0,i.push(s))}else i.push(s)}return t.definitions=i,t}(n),!1),r[e]=n,n}function u(){for(var t=Array.prototype.slice.call(arguments),e=t[0],n="string"==typeof e?e:e[0],i=1;i<t.length;i++)t[i]&&t[i].kind&&"Document"===t[i].kind?n+=t[i].loc.source.body:n+=t[i],n+=e[i];return c(n)}u.default=u,u.resetCaches=function(){r={},a={}},u.disableFragmentWarnings=function(){l=!1},u.enableExperimentalFragmentVariables=function(){s=!0},u.disableExperimentalFragmentVariables=function(){s=!1},t.exports=u},405:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(t,e){return new u(t,e).parseDocument()},e.parseValue=function(t,e){var n=new u(t,e);n.expectToken(a.TokenKind.SOF);var i=n.parseValueLiteral(!1);return n.expectToken(a.TokenKind.EOF),i},e.parseType=function(t,e){var n=new u(t,e);n.expectToken(a.TokenKind.SOF);var i=n.parseTypeReference();return n.expectToken(a.TokenKind.EOF),i},e.Parser=void 0;var i=n(381),o=n(409),r=n(36),a=n(384),l=n(410),s=n(413),c=n(414);var u=function(){function t(t,e){var n=(0,l.isSource)(t)?t:new l.Source(t);this._lexer=new c.Lexer(n),this._options=e}var e=t.prototype;return e.parseName=function(){var t=this.expectToken(a.TokenKind.NAME);return{kind:o.Kind.NAME,value:t.value,loc:this.loc(t)}},e.parseDocument=function(){var t=this._lexer.token;return{kind:o.Kind.DOCUMENT,definitions:this.many(a.TokenKind.SOF,this.parseDefinition,a.TokenKind.EOF),loc:this.loc(t)}},e.parseDefinition=function(){if(this.peek(a.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(a.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var t=this._lexer.token;if(this.peek(a.TokenKind.BRACE_L))return{kind:o.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)};var e,n=this.parseOperationType();return this.peek(a.TokenKind.NAME)&&(e=this.parseName()),{kind:o.Kind.OPERATION_DEFINITION,operation:n,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseOperationType=function(){var t=this.expectToken(a.TokenKind.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(t)},e.parseVariableDefinitions=function(){return this.optionalMany(a.TokenKind.PAREN_L,this.parseVariableDefinition,a.TokenKind.PAREN_R)},e.parseVariableDefinition=function(){var t=this._lexer.token;return{kind:o.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(a.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(a.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(t)}},e.parseVariable=function(){var t=this._lexer.token;return this.expectToken(a.TokenKind.DOLLAR),{kind:o.Kind.VARIABLE,name:this.parseName(),loc:this.loc(t)}},e.parseSelectionSet=function(){var t=this._lexer.token;return{kind:o.Kind.SELECTION_SET,selections:this.many(a.TokenKind.BRACE_L,this.parseSelection,a.TokenKind.BRACE_R),loc:this.loc(t)}},e.parseSelection=function(){return this.peek(a.TokenKind.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var t,e,n=this._lexer.token,i=this.parseName();return this.expectOptionalToken(a.TokenKind.COLON)?(t=i,e=this.parseName()):e=i,{kind:o.Kind.FIELD,alias:t,name:e,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(a.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(t){var e=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(a.TokenKind.PAREN_L,e,a.TokenKind.PAREN_R)},e.parseArgument=function(){var t=this._lexer.token,e=this.parseName();return this.expectToken(a.TokenKind.COLON),{kind:o.Kind.ARGUMENT,name:e,value:this.parseValueLiteral(!1),loc:this.loc(t)}},e.parseConstArgument=function(){var t=this._lexer.token;return{kind:o.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(a.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(t)}},e.parseFragment=function(){var t=this._lexer.token;this.expectToken(a.TokenKind.SPREAD);var e=this.expectOptionalKeyword("on");return!e&&this.peek(a.TokenKind.NAME)?{kind:o.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(t)}:{kind:o.Kind.INLINE_FRAGMENT,typeCondition:e?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseFragmentDefinition=function(){var t,e=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(t=this._options)||void 0===t?void 0:t.experimentalFragmentVariables)?{kind:o.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}:{kind:o.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},e.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(t){var e=this._lexer.token;switch(e.kind){case a.TokenKind.BRACKET_L:return this.parseList(t);case a.TokenKind.BRACE_L:return this.parseObject(t);case a.TokenKind.INT:return this._lexer.advance(),{kind:o.Kind.INT,value:e.value,loc:this.loc(e)};case a.TokenKind.FLOAT:return this._lexer.advance(),{kind:o.Kind.FLOAT,value:e.value,loc:this.loc(e)};case a.TokenKind.STRING:case a.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case a.TokenKind.NAME:switch(this._lexer.advance(),e.value){case"true":return{kind:o.Kind.BOOLEAN,value:!0,loc:this.loc(e)};case"false":return{kind:o.Kind.BOOLEAN,value:!1,loc:this.loc(e)};case"null":return{kind:o.Kind.NULL,loc:this.loc(e)};default:return{kind:o.Kind.ENUM,value:e.value,loc:this.loc(e)}}case a.TokenKind.DOLLAR:if(!t)return this.parseVariable()}throw this.unexpected()},e.parseStringLiteral=function(){var t=this._lexer.token;return this._lexer.advance(),{kind:o.Kind.STRING,value:t.value,block:t.kind===a.TokenKind.BLOCK_STRING,loc:this.loc(t)}},e.parseList=function(t){var e=this,n=this._lexer.token;return{kind:o.Kind.LIST,values:this.any(a.TokenKind.BRACKET_L,(function(){return e.parseValueLiteral(t)}),a.TokenKind.BRACKET_R),loc:this.loc(n)}},e.parseObject=function(t){var e=this,n=this._lexer.token;return{kind:o.Kind.OBJECT,fields:this.any(a.TokenKind.BRACE_L,(function(){return e.parseObjectField(t)}),a.TokenKind.BRACE_R),loc:this.loc(n)}},e.parseObjectField=function(t){var e=this._lexer.token,n=this.parseName();return this.expectToken(a.TokenKind.COLON),{kind:o.Kind.OBJECT_FIELD,name:n,value:this.parseValueLiteral(t),loc:this.loc(e)}},e.parseDirectives=function(t){for(var e=[];this.peek(a.TokenKind.AT);)e.push(this.parseDirective(t));return e},e.parseDirective=function(t){var e=this._lexer.token;return this.expectToken(a.TokenKind.AT),{kind:o.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t),loc:this.loc(e)}},e.parseTypeReference=function(){var t,e=this._lexer.token;return this.expectOptionalToken(a.TokenKind.BRACKET_L)?(t=this.parseTypeReference(),this.expectToken(a.TokenKind.BRACKET_R),t={kind:o.Kind.LIST_TYPE,type:t,loc:this.loc(e)}):t=this.parseNamedType(),this.expectOptionalToken(a.TokenKind.BANG)?{kind:o.Kind.NON_NULL_TYPE,type:t,loc:this.loc(e)}:t},e.parseNamedType=function(){var t=this._lexer.token;return{kind:o.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(t)}},e.parseTypeSystemDefinition=function(){var t=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(t.kind===a.TokenKind.NAME)switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(t)},e.peekDescription=function(){return this.peek(a.TokenKind.STRING)||this.peek(a.TokenKind.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),i=this.many(a.TokenKind.BRACE_L,this.parseOperationTypeDefinition,a.TokenKind.BRACE_R);return{kind:o.Kind.SCHEMA_DEFINITION,description:e,directives:n,operationTypes:i,loc:this.loc(t)}},e.parseOperationTypeDefinition=function(){var t=this._lexer.token,e=this.parseOperationType();this.expectToken(a.TokenKind.COLON);var n=this.parseNamedType();return{kind:o.Kind.OPERATION_TYPE_DEFINITION,operation:e,type:n,loc:this.loc(t)}},e.parseScalarTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),i=this.parseDirectives(!0);return{kind:o.Kind.SCALAR_TYPE_DEFINITION,description:e,name:n,directives:i,loc:this.loc(t)}},e.parseObjectTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),a=this.parseFieldsDefinition();return{kind:o.Kind.OBJECT_TYPE_DEFINITION,description:e,name:n,interfaces:i,directives:r,fields:a,loc:this.loc(t)}},e.parseImplementsInterfaces=function(){var t;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLImplementsInterfaces)){var e=[];this.expectOptionalToken(a.TokenKind.AMP);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(a.TokenKind.AMP)||this.peek(a.TokenKind.NAME));return e}return this.delimitedMany(a.TokenKind.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var t;return!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLEmptyFields)&&this.peek(a.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===a.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(a.TokenKind.BRACE_L,this.parseFieldDefinition,a.TokenKind.BRACE_R)},e.parseFieldDefinition=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(a.TokenKind.COLON);var r=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:o.Kind.FIELD_DEFINITION,description:e,name:n,arguments:i,type:r,directives:l,loc:this.loc(t)}},e.parseArgumentDefs=function(){return this.optionalMany(a.TokenKind.PAREN_L,this.parseInputValueDef,a.TokenKind.PAREN_R)},e.parseInputValueDef=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName();this.expectToken(a.TokenKind.COLON);var i,r=this.parseTypeReference();this.expectOptionalToken(a.TokenKind.EQUALS)&&(i=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:o.Kind.INPUT_VALUE_DEFINITION,description:e,name:n,type:r,defaultValue:i,directives:l,loc:this.loc(t)}},e.parseInterfaceTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),a=this.parseFieldsDefinition();return{kind:o.Kind.INTERFACE_TYPE_DEFINITION,description:e,name:n,interfaces:i,directives:r,fields:a,loc:this.loc(t)}},e.parseUnionTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseUnionMemberTypes();return{kind:o.Kind.UNION_TYPE_DEFINITION,description:e,name:n,directives:i,types:r,loc:this.loc(t)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(a.TokenKind.EQUALS)?this.delimitedMany(a.TokenKind.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();return{kind:o.Kind.ENUM_TYPE_DEFINITION,description:e,name:n,directives:i,values:r,loc:this.loc(t)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(a.TokenKind.BRACE_L,this.parseEnumValueDefinition,a.TokenKind.BRACE_R)},e.parseEnumValueDefinition=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName(),i=this.parseDirectives(!0);return{kind:o.Kind.ENUM_VALUE_DEFINITION,description:e,name:n,directives:i,loc:this.loc(t)}},e.parseInputObjectTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();return{kind:o.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:e,name:n,directives:i,fields:r,loc:this.loc(t)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(a.TokenKind.BRACE_L,this.parseInputValueDef,a.TokenKind.BRACE_R)},e.parseTypeSystemExtension=function(){var t=this._lexer.lookahead();if(t.kind===a.TokenKind.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)},e.parseSchemaExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var e=this.parseDirectives(!0),n=this.optionalMany(a.TokenKind.BRACE_L,this.parseOperationTypeDefinition,a.TokenKind.BRACE_R);if(0===e.length&&0===n.length)throw this.unexpected();return{kind:o.Kind.SCHEMA_EXTENSION,directives:e,operationTypes:n,loc:this.loc(t)}},e.parseScalarTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var e=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:o.Kind.SCALAR_TYPE_EXTENSION,name:e,directives:n,loc:this.loc(t)}},e.parseObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var e=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:o.Kind.OBJECT_TYPE_EXTENSION,name:e,interfaces:n,directives:i,fields:r,loc:this.loc(t)}},e.parseInterfaceTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var e=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:o.Kind.INTERFACE_TYPE_EXTENSION,name:e,interfaces:n,directives:i,fields:r,loc:this.loc(t)}},e.parseUnionTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var e=this.parseName(),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:o.Kind.UNION_TYPE_EXTENSION,name:e,directives:n,types:i,loc:this.loc(t)}},e.parseEnumTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var e=this.parseName(),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:o.Kind.ENUM_TYPE_EXTENSION,name:e,directives:n,values:i,loc:this.loc(t)}},e.parseInputObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var e=this.parseName(),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:o.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:e,directives:n,fields:i,loc:this.loc(t)}},e.parseDirectiveDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("directive"),this.expectToken(a.TokenKind.AT);var n=this.parseName(),i=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:o.Kind.DIRECTIVE_DEFINITION,description:e,name:n,arguments:i,repeatable:r,locations:l,loc:this.loc(t)}},e.parseDirectiveLocations=function(){return this.delimitedMany(a.TokenKind.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var t=this._lexer.token,e=this.parseName();if(void 0!==s.DirectiveLocation[e.value])return e;throw this.unexpected(t)},e.loc=function(t){var e;if(!0!==(null===(e=this._options)||void 0===e?void 0:e.noLocation))return new r.Location(t,this._lexer.lastToken,this._lexer.source)},e.peek=function(t){return this._lexer.token.kind===t},e.expectToken=function(t){var e=this._lexer.token;if(e.kind===t)return this._lexer.advance(),e;throw(0,i.syntaxError)(this._lexer.source,e.start,"Expected ".concat(p(t),", found ").concat(d(e),"."))},e.expectOptionalToken=function(t){var e=this._lexer.token;if(e.kind===t)return this._lexer.advance(),e},e.expectKeyword=function(t){var e=this._lexer.token;if(e.kind!==a.TokenKind.NAME||e.value!==t)throw(0,i.syntaxError)(this._lexer.source,e.start,'Expected "'.concat(t,'", found ').concat(d(e),"."));this._lexer.advance()},e.expectOptionalKeyword=function(t){var e=this._lexer.token;return e.kind===a.TokenKind.NAME&&e.value===t&&(this._lexer.advance(),!0)},e.unexpected=function(t){var e=null!=t?t:this._lexer.token;return(0,i.syntaxError)(this._lexer.source,e.start,"Unexpected ".concat(d(e),"."))},e.any=function(t,e,n){this.expectToken(t);for(var i=[];!this.expectOptionalToken(n);)i.push(e.call(this));return i},e.optionalMany=function(t,e,n){if(this.expectOptionalToken(t)){var i=[];do{i.push(e.call(this))}while(!this.expectOptionalToken(n));return i}return[]},e.many=function(t,e,n){this.expectToken(t);var i=[];do{i.push(e.call(this))}while(!this.expectOptionalToken(n));return i},e.delimitedMany=function(t,e){this.expectOptionalToken(t);var n=[];do{n.push(e.call(this))}while(this.expectOptionalToken(t));return n},t}();function d(t){var e=t.value;return p(t.kind)+(null!=e?' "'.concat(e,'"'):"")}function p(t){return(0,c.isPunctuatorTokenKind)(t)?'"'.concat(t,'"'):t}e.Parser=u},406:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printError=v,e.GraphQLError=void 0;var i,o=(i=n(407))&&i.__esModule?i:{default:i},r=n(382),a=n(383),l=n(408);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return h(t,arguments,g(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),m(i,t)})(t)}function h(t,e,n){return(h=f()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&m(o,n.prototype),o}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(h,t);var e,n,i,l,s,p=(e=h,n=f(),function(){var t,i=g(e);if(n){var o=g(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return u(this,t)});function h(t,e,n,i,r,l,s){var c,f,m,g,b;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),b=p.call(this,t);var v,y=Array.isArray(e)?0!==e.length?e:void 0:e?[e]:void 0,_=n;!_&&y&&(_=null===(v=y[0].loc)||void 0===v?void 0:v.source);var x,k=i;!k&&y&&(k=y.reduce((function(t,e){return e.loc&&t.push(e.loc.start),t}),[])),k&&0===k.length&&(k=void 0),i&&n?x=i.map((function(t){return(0,a.getLocation)(n,t)})):y&&(x=y.reduce((function(t,e){return e.loc&&t.push((0,a.getLocation)(e.loc.source,e.loc.start)),t}),[]));var T=s;if(null==T&&null!=l){var E=l.extensions;(0,o.default)(E)&&(T=E)}return Object.defineProperties(d(b),{name:{value:"GraphQLError"},message:{value:t,enumerable:!0,writable:!0},locations:{value:null!==(c=x)&&void 0!==c?c:void 0,enumerable:null!=x},path:{value:null!=r?r:void 0,enumerable:null!=r},nodes:{value:null!=y?y:void 0},source:{value:null!==(f=_)&&void 0!==f?f:void 0},positions:{value:null!==(m=k)&&void 0!==m?m:void 0},originalError:{value:l},extensions:{value:null!==(g=T)&&void 0!==g?g:void 0,enumerable:null!=T}}),(null==l?void 0:l.stack)?(Object.defineProperty(d(b),"stack",{value:l.stack,writable:!0,configurable:!0}),u(b)):(Error.captureStackTrace?Error.captureStackTrace(d(b),h):Object.defineProperty(d(b),"stack",{value:Error().stack,writable:!0,configurable:!0}),b)}return i=h,(l=[{key:"toString",value:function(){return v(this)}},{key:r.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}])&&c(i.prototype,l),s&&c(i,s),h}(p(Error));function v(t){var e=t.message;if(t.nodes)for(var n=0,i=t.nodes;n<i.length;n++){var o=i[n];o.loc&&(e+="\n\n"+(0,l.printLocation)(o.loc))}else if(t.source&&t.locations)for(var r=0,a=t.locations;r<a.length;r++){var s=a[r];e+="\n\n"+(0,l.printSourceLocation)(t.source,s)}return e}e.GraphQLError=b},407:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"object"==i(t)&&null!==t}},408:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printLocation=function(t){return o(t.source,(0,i.getLocation)(t.source,t.start))},e.printSourceLocation=o;var i=n(383);function o(t,e){var n=t.locationOffset.column-1,i=a(n)+t.body,o=e.line-1,l=t.locationOffset.line-1,s=e.line+l,c=1===e.line?n:0,u=e.column+c,d="".concat(t.name,":").concat(s,":").concat(u,"\n"),p=i.split(/\r\n|[\n\r]/g),h=p[o];if(h.length>120){for(var f=Math.floor(u/80),m=u%80,g=[],b=0;b<h.length;b+=80)g.push(h.slice(b,b+80));return d+r([["".concat(s),g[0]]].concat(g.slice(1,f+1).map((function(t){return["",t]})),[[" ",a(m-1)+"^"],["",g[f+1]]]))}return d+r([["".concat(s-1),p[o-1]],["".concat(s),h],["",a(u-1)+"^"],["".concat(s+1),p[o+1]]])}function r(t){var e=t.filter((function(t){t[0];return void 0!==t[1]})),n=Math.max.apply(Math,e.map((function(t){return t[0].length})));return e.map((function(t){var e,i=t[0],o=t[1];return a(n-(e=i).length)+e+(o?" | "+o:" |")})).join("\n")}function a(t){return Array(t+1).join(" ")}},409:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Kind=void 0;var i=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});e.Kind=i},410:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSource=function(t){return(0,a.default)(t,c)},e.Source=void 0;var i=n(382),o=l(n(37)),r=l(n(411)),a=l(n(412));function l(t){return t&&t.__esModule?t:{default:t}}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof t||(0,r.default)(0,"Body must be a string. Received: ".concat((0,o.default)(t),".")),this.body=t,this.name=e,this.locationOffset=n,this.locationOffset.line>0||(0,r.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,r.default)(0,"column in locationOffset is 1-indexed and must be positive.")}var e,n,a;return e=t,(n=[{key:i.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}])&&s(e.prototype,n),a&&s(e,a),t}();e.Source=c},411:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!Boolean(t))throw new Error(e)}},412:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){return t instanceof e};e.default=i},413:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveLocation=void 0;var i=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});e.DirectiveLocation=i},414:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPunctuatorTokenKind=function(t){return t===r.TokenKind.BANG||t===r.TokenKind.DOLLAR||t===r.TokenKind.AMP||t===r.TokenKind.PAREN_L||t===r.TokenKind.PAREN_R||t===r.TokenKind.SPREAD||t===r.TokenKind.COLON||t===r.TokenKind.EQUALS||t===r.TokenKind.AT||t===r.TokenKind.BRACKET_L||t===r.TokenKind.BRACKET_R||t===r.TokenKind.BRACE_L||t===r.TokenKind.PIPE||t===r.TokenKind.BRACE_R},e.Lexer=void 0;var i=n(381),o=n(36),r=n(384),a=n(38),l=function(){function t(t){var e=new o.Token(r.TokenKind.SOF,0,0,0,0,null);this.source=t,this.lastToken=e,this.token=e,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},e.lookahead=function(){var t=this.token;if(t.kind!==r.TokenKind.EOF)do{var e;t=null!==(e=t.next)&&void 0!==e?e:t.next=c(this,t)}while(t.kind===r.TokenKind.COMMENT);return t},t}();function s(t){return isNaN(t)?r.TokenKind.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function c(t,e){for(var n=t.source,a=n.body,l=a.length,s=e.end;s<l;){var c=a.charCodeAt(s),h=t.line,g=1+s-t.lineStart;switch(c){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++t.line,t.lineStart=s;continue;case 13:10===a.charCodeAt(s+1)?s+=2:++s,++t.line,t.lineStart=s;continue;case 33:return new o.Token(r.TokenKind.BANG,s,s+1,h,g,e);case 35:return d(n,s,h,g,e);case 36:return new o.Token(r.TokenKind.DOLLAR,s,s+1,h,g,e);case 38:return new o.Token(r.TokenKind.AMP,s,s+1,h,g,e);case 40:return new o.Token(r.TokenKind.PAREN_L,s,s+1,h,g,e);case 41:return new o.Token(r.TokenKind.PAREN_R,s,s+1,h,g,e);case 46:if(46===a.charCodeAt(s+1)&&46===a.charCodeAt(s+2))return new o.Token(r.TokenKind.SPREAD,s,s+3,h,g,e);break;case 58:return new o.Token(r.TokenKind.COLON,s,s+1,h,g,e);case 61:return new o.Token(r.TokenKind.EQUALS,s,s+1,h,g,e);case 64:return new o.Token(r.TokenKind.AT,s,s+1,h,g,e);case 91:return new o.Token(r.TokenKind.BRACKET_L,s,s+1,h,g,e);case 93:return new o.Token(r.TokenKind.BRACKET_R,s,s+1,h,g,e);case 123:return new o.Token(r.TokenKind.BRACE_L,s,s+1,h,g,e);case 124:return new o.Token(r.TokenKind.PIPE,s,s+1,h,g,e);case 125:return new o.Token(r.TokenKind.BRACE_R,s,s+1,h,g,e);case 34:return 34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)?m(n,s,h,g,e,t):f(n,s,h,g,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return p(n,s,c,h,g,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return b(n,s,h,g,e)}throw(0,i.syntaxError)(n,s,u(c))}var v=t.line,y=1+s-t.lineStart;return new o.Token(r.TokenKind.EOF,l,l,v,y,e)}function u(t){return t<32&&9!==t&&10!==t&&13!==t?"Cannot contain the invalid character ".concat(s(t),"."):39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(s(t),".")}function d(t,e,n,i,a){var l,s=t.body,c=e;do{l=s.charCodeAt(++c)}while(!isNaN(l)&&(l>31||9===l));return new o.Token(r.TokenKind.COMMENT,e,c,n,i,a,s.slice(e+1,c))}function p(t,e,n,a,l,c){var u=t.body,d=n,p=e,f=!1;if(45===d&&(d=u.charCodeAt(++p)),48===d){if((d=u.charCodeAt(++p))>=48&&d<=57)throw(0,i.syntaxError)(t,p,"Invalid number, unexpected digit after 0: ".concat(s(d),"."))}else p=h(t,p,d),d=u.charCodeAt(p);if(46===d&&(f=!0,d=u.charCodeAt(++p),p=h(t,p,d),d=u.charCodeAt(p)),69!==d&&101!==d||(f=!0,43!==(d=u.charCodeAt(++p))&&45!==d||(d=u.charCodeAt(++p)),p=h(t,p,d),d=u.charCodeAt(p)),46===d||function(t){return 95===t||t>=65&&t<=90||t>=97&&t<=122}(d))throw(0,i.syntaxError)(t,p,"Invalid number, expected digit but got: ".concat(s(d),"."));return new o.Token(f?r.TokenKind.FLOAT:r.TokenKind.INT,e,p,a,l,c,u.slice(e,p))}function h(t,e,n){var o=t.body,r=e,a=n;if(a>=48&&a<=57){do{a=o.charCodeAt(++r)}while(a>=48&&a<=57);return r}throw(0,i.syntaxError)(t,r,"Invalid number, expected digit but got: ".concat(s(a),"."))}function f(t,e,n,a,l){for(var c,u,d,p,h=t.body,f=e+1,m=f,b=0,v="";f<h.length&&!isNaN(b=h.charCodeAt(f))&&10!==b&&13!==b;){if(34===b)return v+=h.slice(m,f),new o.Token(r.TokenKind.STRING,e,f+1,n,a,l,v);if(b<32&&9!==b)throw(0,i.syntaxError)(t,f,"Invalid character within String: ".concat(s(b),"."));if(++f,92===b){switch(v+=h.slice(m,f-1),b=h.charCodeAt(f)){case 34:v+='"';break;case 47:v+="/";break;case 92:v+="\\";break;case 98:v+="\b";break;case 102:v+="\f";break;case 110:v+="\n";break;case 114:v+="\r";break;case 116:v+="\t";break;case 117:var y=(c=h.charCodeAt(f+1),u=h.charCodeAt(f+2),d=h.charCodeAt(f+3),p=h.charCodeAt(f+4),g(c)<<12|g(u)<<8|g(d)<<4|g(p));if(y<0){var _=h.slice(f+1,f+5);throw(0,i.syntaxError)(t,f,"Invalid character escape sequence: \\u".concat(_,"."))}v+=String.fromCharCode(y),f+=4;break;default:throw(0,i.syntaxError)(t,f,"Invalid character escape sequence: \\".concat(String.fromCharCode(b),"."))}m=++f}}throw(0,i.syntaxError)(t,f,"Unterminated string.")}function m(t,e,n,l,c,u){for(var d=t.body,p=e+3,h=p,f=0,m="";p<d.length&&!isNaN(f=d.charCodeAt(p));){if(34===f&&34===d.charCodeAt(p+1)&&34===d.charCodeAt(p+2))return m+=d.slice(h,p),new o.Token(r.TokenKind.BLOCK_STRING,e,p+3,n,l,c,(0,a.dedentBlockStringValue)(m));if(f<32&&9!==f&&10!==f&&13!==f)throw(0,i.syntaxError)(t,p,"Invalid character within String: ".concat(s(f),"."));10===f?(++p,++u.line,u.lineStart=p):13===f?(10===d.charCodeAt(p+1)?p+=2:++p,++u.line,u.lineStart=p):92===f&&34===d.charCodeAt(p+1)&&34===d.charCodeAt(p+2)&&34===d.charCodeAt(p+3)?(m+=d.slice(h,p)+'"""',h=p+=4):++p}throw(0,i.syntaxError)(t,p,"Unterminated string.")}function g(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function b(t,e,n,i,a){for(var l=t.body,s=l.length,c=e+1,u=0;c!==s&&!isNaN(u=l.charCodeAt(c))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++c;return new o.Token(r.TokenKind.NAME,e,c,n,i,a,l.slice(e,c))}e.Lexer=l},415:function(t,e){t.exports="/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica, Arial, sans-serif;font-size:13px;height:100%;margin:0px;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li::before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor ul,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li::before{content:'\\2022'}.ql-editor ul[data-checked=true],.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=true]>li *,.ql-editor ul[data-checked=false]>li *{pointer-events:all}.ql-editor ul[data-checked=true]>li::before,.ql-editor ul[data-checked=false]>li::before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li::before{content:'\\2611'}.ql-editor ul[data-checked=false]>li::before{content:'\\2610'}.ql-editor li::before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl)::before{margin-left:-1.5em;margin-right:0.3em;text-align:right}.ql-editor li.ql-direction-rtl::before{margin-left:0.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0, decimal) \". \"}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1, lower-alpha) \". \"}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2, lower-roman) \". \"}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3, decimal) \". \"}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4, lower-alpha) \". \"}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5, lower-roman) \". \"}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6, decimal) \". \"}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7, lower-alpha) \". \"}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8, lower-roman) \". \"}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9, decimal) \". \"}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia, Times New Roman, serif}.ql-editor .ql-font-monospace{font-family:Monaco, Courier New, monospace}.ql-editor .ql-size-small{font-size:0.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank::before{color:rgba(0,0,0,0.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.hljs{display:block;overflow-x:auto;padding:0.5em;background:#23241f}.hljs,.hljs-tag,.hljs-subst{color:#f8f8f2}.hljs-strong,.hljs-emphasis{color:#a8a8a2}.hljs-bullet,.hljs-quote,.hljs-number,.hljs-regexp,.hljs-literal,.hljs-link{color:#ae81ff}.hljs-code,.hljs-title,.hljs-section,.hljs-selector-class{color:#a6e22e}.hljs-strong{font-weight:bold}.hljs-emphasis{font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-name,.hljs-attr{color:#f92672}.hljs-symbol,.hljs-attribute{color:#66d9ef}.hljs-params,.hljs-class .hljs-title{color:#f8f8f2}.hljs-string,.hljs-type,.hljs-built_in,.hljs-builtin-name,.hljs-selector-id,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-addition,.hljs-variable,.hljs-template-variable{color:#e6db74}.hljs-comment,.hljs-deletion,.hljs-meta{color:#75715e}html,body{padding:0;margin:0}input:focus,textarea:focus,button:focus,[contenteditable=true]:focus{outline:none}textarea{resize:none}.tl_page_wrap{max-width:732px;margin:0 auto}.tl_page{position:relative;padding:21px 0}.button{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-weight:600;font-style:normal;font-size:17px;color:#000;text-decoration:none;border:2px solid #333;border-radius:16px;text-transform:uppercase;padding:4px 12px;margin:0 0 15px;background-color:#fff;cursor:pointer}.tl_message{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;padding:70px 0;color:#79828B;text-align:center}.tl_message h1{font-size:120px;margin:0}.tl_article_buttons{position:fixed;left:50%;top:0;right:0;margin:46px 0 0 376px}@media (max-width: 960px){.tl_article_buttons{position:static;width:auto;margin:30px 21px;padding:1px 0}}.tl_article_buttons .button{transition:opacity 0.4s ease;visibility:hidden;opacity:0}.tl_article_buttons .edit_button{position:absolute}.tl_article_edit .publish_button,.tl_article_saving .publish_button{visibility:visible;opacity:1}.tl_article_saving .publish_button{opacity:.4}.tl_article .share_button,.tl_article_editable .edit_button{visibility:visible;opacity:1}.tl_article_edit .share_button,.tl_article_saving .share_button,.tl_article_edit .edit_button,.tl_article_saving .edit_button{visibility:hidden;opacity:0}.tl_article .ql-container{height:auto}.prompt{position:absolute;left:0;right:0;top:0;bottom:0}.prompt .prompt_input_wrap{overflow:hidden}.prompt .prompt_input{width:100%;margin:0;border:none;background-color:transparent;box-sizing:border-box}.tl_tooltip{position:absolute;left:0;top:0;background-color:#292927;border-radius:6px;padding:9px 12px;line-height:0;white-space:nowrap;pointer-events:none;transition:opacity 0.2s ease 0.06s, transform 0.2s ease 0.06s;transform:translate3d(0, 16px, 0);opacity:0}.tl_tooltip.bottom{transform:translate3d(0, -16px, 0)}.tl_tooltip.bottom button{transform:translate3d(0, -10px, 0);opacity:1}.tl_tooltip.move_anim{transition:opacity 0.2s ease 0.06s, transform 0.2s ease 0.06s, top 0.2s ease, left 0.2s ease}.tl_tooltip.shown{pointer-events:auto;transform:translate3d(0, 0, 0);opacity:1}.tl_tooltip.shown button{transform:translate3d(0, 0, 0);opacity:1}.tl_tooltip.shown button.disabled{cursor:default;opacity:.6}.tl_tooltip button,.tl_tooltip .button_hover{display:inline-block;background-color:transparent;padding:0;margin:0;border-radius:3px;border:none;cursor:pointer}.tl_tooltip button{position:relative;transition:opacity 0.2s ease, transform 0.2s ease, background-color 0.2s ease;transform:translate3d(0, 10px, 0);opacity:0}.tl_tooltip button:before,.tl_tooltip button:after{content:'';position:absolute;left:0;right:0;top:0;bottom:0;transition:opacity 0.2s ease, transform 0.2s ease}.tl_tooltip button:before,.tl_tooltip button.active:after{transform:scale3d(1, 1, 1);opacity:1}.tl_tooltip button:after,.tl_tooltip button.active:before{transform:scale3d(1.2, 1.2, 1);opacity:0}.tl_tooltip button#_bold_button{transition-delay:0s}.tl_tooltip button#_italic_button{transition-delay:.02s}.tl_tooltip button#_link_button{transition-delay:.04s}.tl_tooltip button#_header_button{transition-delay:.06s}.tl_tooltip button#_subheader_button{transition-delay:.08s}.tl_tooltip button#_quote_button{transition-delay:.1s}.tl_tooltip button#_strike_button{transition-delay:.12s}.tl_tooltip button+button{margin-left:7px}.tl_tooltip button.active{background-color:#eaeaea}.tl_tooltip .button_hover{background-color:#545452}.tl_tooltip .prompt,.tl_tooltip .buttons{transition:opacity 0.2s ease}.tl_tooltip .prompt,.tl_tooltip.tooltip_prompt .buttons{pointer-events:none;opacity:0}.tl_tooltip.shown.buttons,.tl_tooltip.shown.tooltip_prompt .prompt{pointer-events:auto;opacity:1}.tl_tooltip .prompt_input{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:15px;line-height:18px;color:#fff;padding:13px 10px}.tl_tooltip .close{float:right;width:18px;font-size:15px;line-height:18px;margin:13px 5px;color:#ccc;text-align:center;cursor:pointer;transition:color 0.2s ease}.tl_tooltip .close:before{content:'\\00d7'}.tl_tooltip .close:hover{color:#fff}.button_hover{position:absolute;transition:opacity 0.2s ease;opacity:0}.tl_tooltip.hover_anim .button_hover{transition:opacity 0.2s ease, transform 0.2s ease}.tl_tooltip.hover .button_hover{opacity:1}.tl_tooltip[data-hover=_bold_button] .button_hover{transform:translate3d(0, 0, 0)}.tl_tooltip[data-hover=_italic_button] .button_hover{transform:translate3d(33px, 0, 0)}.tl_tooltip[data-hover=_link_button] .button_hover{transform:translate3d(66px, 0, 0)}.tl_tooltip[data-hover=_header_button] .button_hover{transform:translate3d(106px, 0, 0)}.tl_tooltip[data-hover=_subheader_button] .button_hover{transform:translate3d(139px, 0, 0)}.tl_tooltip[data-hover=_quote_button] .button_hover{transform:translate3d(172px, 0, 0)}.tl_tooltip[data-hover=_strike_button] .button_hover{transform:translate3d(212px, 0, 0)}.tl_tooltip .icon-tabler{stroke:#fff}.tl_tooltip .active .icon-tabler{stroke:#000}body.mobile .button_hover{display:none}.buttons{position:relative}.buttons button,.buttons .button_hover{width:26px;height:26px;display:inline-block;vertical-align:top}.buttons button:before,.buttons button:after,.tl_blocks .buttons button{background:url(\"/images/icons.png?1\") no-repeat -8px 26px}@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi){.buttons button:before,.buttons button:after,.tl_blocks .buttons button{background-image:url(\"/images/icons_2x.png?1\");background-size:40px 487px}}.buttons #_bold_button:before{background-position:-8px -6px}.buttons #_bold_button:after{background-position:-8px -38px}.buttons #_italic_button:before{background-position:-8px -70px}.buttons #_italic_button:after{background-position:-8px -102px}.buttons #_link_button:before{background-position:-8px -134px}.buttons #_link_button:after{background-position:-8px -166px}.buttons #_header_button:before{background-position:-8px -198px}.buttons #_header_button:after{background-position:-8px -230px}.buttons #_subheader_button:before{background-position:-8px -262px}.buttons #_subheader_button:after{background-position:-8px -294px}.buttons #_quote_button:before{background-position:-8px -326px}.buttons #_quote_button:after{background-position:-8px -390px}.buttons #_quote_button.pullquote:after{background-position:-8px -358px}.buttons #_image_button{background-position:-8px -422px}.buttons #_embed_button{background-position:-8px -454px}.buttons .button_group+.button_group{margin-left:14px}.tl_blocks{position:absolute;text-align:right;left:0;right:0;visibility:hidden;opacity:0;transition:opacity .15s ease}.tl_blocks.shown{visibility:visible;opacity:1}@media (max-width: 960px){.tl_blocks{text-align:center}}.tl_blocks .buttons{position:absolute;display:inline-block;right:100%;margin-top:-14px;margin-right:-6px;width:80px}@media (max-width: 960px){.tl_blocks .buttons{background-color:rgba(255,255,255,0.8);border-radius:14px;margin-left:auto;margin-right:auto;right:0;left:0}}.tl_blocks button{background-color:transparent;display:inline-block;vertical-align:top;padding:2px;margin:1px 6px;border-radius:3px;border:none;cursor:pointer;float:right}@media (max-width: 960px){.tl_blocks button{float:none}}.tl_article_header{word-wrap:break-word}.tl_article.tl_article_edit .tl_article_header{text-align:left}.tl_article.tl_article_edit .tl_article_content h1,.tl_article.tl_article_edit .tl_article_content address,.tl_article .tl_article_header{display:block}.tl_article .tl_article_content h1,.tl_article .tl_article_content address,.tl_article_edit .tl_article_header{display:none}.tl_article ::selection{background:#dbdbdb}.tl_article ::-moz-selection{background:#dbdbdb}.tl_article .cursor_wrapper{display:none;position:absolute;font-size:1px;left:50%;z-index:-1}.tl_article.tl_article_edit .cursor_wrapper{display:inline}.tl_article.tl_article_edit *[data-placeholder].empty{position:relative}.tl_article.tl_article_edit *[data-placeholder].empty:before{position:absolute;left:0;right:0;content:attr(data-placeholder);color:rgba(0,0,0,0.44);font-weight:normal;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;pointer-events:none}.tl_article.tl_article_edit *[data-label]{position:relative}.tl_article.tl_article_edit *[data-label]:after,.tl_article.tl_article_edit.title_focused *[data-label].empty:after{position:absolute;content:attr(data-label);color:rgba(0,0,0,0.44);border-right:1px solid rgba(0,0,0,0.15);right:100%;top:-6px;bottom:-6px;padding:6px 12px;font-weight:normal;margin:0 21px;opacity:0;visibility:hidden;transition:opacity .15s ease}@media (max-width: 960px){.tl_article.tl_article_edit *[data-label]:after{display:none}}.tl_article.tl_article_edit.title_focused *[data-label]:after{opacity:1;visibility:visible}.tl_article.tl_article_edit h1:before,.tl_article.tl_article_edit h1:after{transition:color 0.4s ease, border-right 0.4s ease}.tl_article.tl_article_edit.title_required h1[data-placeholder]:before{color:rgba(255,0,0,0.75)}.tl_article.tl_article_edit.title_required h1[data-label]:after{border-right:1px solid rgba(255,0,0,0.25);color:rgba(255,0,0,0.75)}.tl_article .tl_article_header,.tl_article .tl_article_content,.tl_article .tl_article_content .ql-editor{font-family:CustomSerif, Georgia, Cambria, 'Times New Roman', serif;font-weight:400;font-style:normal;font-size:18px;line-height:1.58;padding:0;margin:0;color:rgba(0,0,0,0.8)}.tl_article .ql-editor{height:100%;overflow:visible;text-align:inherit}.tl_article.tl_article.tl_article_edit .ql-editor{text-align:left}.tl_article .tl_article_content.ql-container{white-space:normal}.tl_article h1,.tl_article h2{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-weight:700;font-style:normal;font-size:32px;margin:21px 21px 12px;line-height:34px}.tl_article h2{font-size:24px;margin:-6px 21px 12px;color:rgba(0,0,0,0.44)}.tl_article address{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:15px;line-height:18px;color:#79828B;margin:12px 21px;font-style:normal}.tl_article address a{color:#79828B}.tl_article address.empty{display:none}.tl_article.tl_article_edit address.empty{display:block}.tl_article address time:before{content:'\\2022';padding:0 7px}.tl_article time:empty:before,.tl_article address a[rel=author]:empty+time:before{display:none}.tl_article a[href]{color:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0.44);text-decoration:none;border-bottom:0.1em solid rgba(0,0,0,0.7)}.tl_article address a[href]{border-bottom:none}.tl_article.tl_article_edit address a[href]{border-bottom:0.1em solid rgba(0,0,0,0.4)}.tl_article .tl_article_content p{margin:0 21px 12px;word-wrap:break-word}.tl_article .tl_article_content h3,.tl_article .tl_article_content h4{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-weight:700;font-style:normal;font-size:28px;margin:18px 21px 9px}.tl_article .tl_article_content h4{font-size:24px;margin:18px 21px 7px}.tl_article .tl_article_content blockquote{font-family:CustomSerif, Georgia, Cambria, 'Times New Roman', serif;margin:18px 21px 16px 0;padding-left:15px;position:relative;font-style:italic;word-wrap:break-word;border-left:3px solid #000}.tl_article .tl_article_content aside{font-family:CustomSerif, Georgia, Cambria, 'Times New Roman', serif;font-size:21px;color:rgba(0,0,0,0.6);margin:18px 21px 16px;padding:0 18px;text-align:center;font-style:italic}.tl_article .tl_article_content hr{width:50%;margin:30px auto;border:none;font-size:2px;text-align:right;overflow:visible}.tl_article .tl_article_content hr:after{content:'';display:block;border-top:1px solid #c9cdd1;margin:0 3px;position:relative;top:1px}.tl_article .tl_article_content ul,.tl_article .tl_article_content ol{padding:0;margin:21px}.tl_article .tl_article_content ul li,.tl_article .tl_article_content ol li{margin-bottom:14px}.tl_article .tl_article_content ul li:before{padding:1px 15px 0 0;content:'\\2022'}.tl_article .tl_article_content ol li:before{font-feature-settings:'liga' on, 'lnum' on;-moz-font-feature-settings:'liga' on, 'lnum' on;-webkit-font-feature-settings:'liga' on, 'lnum' on;padding-right:12px}.tl_article .tl_article_content img,.tl_article .tl_article_content video,.tl_article .tl_article_content iframe,.tl_article .tl_article_content .iframe_wrap{max-width:100%;vertical-align:top}.tl_article .tl_article_content .iframe_wrap{max-width:100%;vertical-align:top;position:relative}.tl_article .tl_article_content .iframe_wrap iframe{position:absolute;width:1px;height:1px;min-width:100%;min-height:100%;*width:100%;*height:100%;top:0;left:0}.tl_article .tl_article_content figure{margin:0 21px 16px;padding:0;text-align:center;position:relative}.tl_article .tl_article_content figcaption,.tl_article .tl_article_content figcaption .editable_input{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:15px;color:#79828B;padding:12px 21px 0;line-height:18px;vertical-align:top;text-align:center}.tl_article .tl_article_content figcaption .editable_input{width:100%;border:none;padding:0;margin:0}.tl_article .tl_article_content .figure_wrapper{position:relative}.tl_article .tl_article_content .figure_wrapper img,.tl_article .tl_article_content .figure_wrapper video{opacity:1;transition:opacity .15s ease;max-height:690px}.tl_article .tl_article_content .figure_wrapper.loading img,.tl_article .tl_article_content .figure_wrapper.loading video{opacity:0.3}.tl_article .tl_article_content .figure_wrapper .file_progress{position:absolute;z-index:1;bottom:0;left:0;right:0;padding:3px;background-color:rgba(255,255,255,0.7);transition:opacity .15s ease;visibility:hidden;opacity:0}.tl_article .tl_article_content .figure_wrapper.loading .file_progress{visibility:visible;opacity:1}.tl_article .tl_article_content .figure_wrapper .file_progress_bar{height:2px;background-color:#333;transition:width .1s linear;width:0}.tl_article .tl_article_content input.ql-image[type=file],.tl_article .tl_article_content input.ql-image[type=file]{display:none}.tl_article.tl_article_edit img:hover,.tl_article.tl_article_edit video:hover,.tl_article.tl_article_edit iframe:hover,.tl_article.tl_article_edit .iframe_wrap:hover{box-shadow:0 0 0 3px rgba(0,0,0,0.2)}.tl_article.tl_article_edit figure.focus img,.tl_article.tl_article_edit figure.focus video,.tl_article.tl_article_edit figure.focus iframe,.tl_article.tl_article_edit figure.focus .iframe_wrap{box-shadow:0 0 0 3px rgba(0,0,0,0.4)}.tl_article.tl_article_edit figcaption[data-placeholder].empty{position:relative;overflow:hidden}.tl_article.tl_article_edit figcaption[data-placeholder].empty:before{display:none}.tl_article.tl_article_edit figcaption[data-placeholder].empty:after{position:relative;content:attr(data-placeholder);color:rgba(0,0,0,0.44);font-weight:normal}.tl_article.tl_article_edit figcaption[data-placeholder].empty .editable_input{text-align:left;position:absolute;width:1px}.account{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:15px;line-height:18px;color:#000;margin:0 0 15px;white-space:pre-wrap}.account:empty{display:none}@media (max-width: 960px){.account_top{display:none}}.account_bottom{display:none}@media (max-width: 960px){.account_bottom{display:block}}.error_msg{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:15px;color:rgba(255,0,0,0.75);font-style:normal;line-height:18px;margin:0 0 15px;white-space:pre;opacity:0;visibility:hidden;transition:opacity .4s ease}.error_msg.shown{opacity:1;visibility:visible}.tl_link_tooltip{position:absolute;left:0;top:0;font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:14px;background-color:#292927;border:none !important;border-radius:6px;line-height:19px;padding:7px 10px;color:#fff;word-wrap:break-word;text-align:center;max-width:300px;pointer-events:none;transition:opacity 0.2s ease 0.06s;opacity:0}.tl_link_tooltip.move_anim{transition:opacity 0.2s ease 0.06s, top 0.2s ease, left 0.2s ease}.tl_link_tooltip.shown{pointer-events:auto;opacity:1}@media (max-width: 350px){.tl_link_tooltip{max-width:80%}}.ql-container .tl_link_tooltip,.ql-container .tl_tooltip,.ql-container .tl_blocks{display:block}.buttons,.button_group,.tl_blocks .buttons{display:flex}.buttons,.button_group,.tl_blocks .buttons{display:flex}.tl_article .tl_article_content code{font-family:Menlo, 'Courier New', Courier, monospace;font-size:16px}.tl_article .tl_article_content code:not(.hljs){background:#F5F8FC}.tl_article .tl_article_content code{padding:1px 3px}.tl_article .tl_article_content pre{margin:14px 0;white-space:pre-wrap;word-wrap:break-word}.ql-syntax code.hljs{background:#232B2B;border-radius:3px;box-shadow:0 10px 20px rgba(0,0,0,0.4);border-left:6px solid #516363;margin:20px auto;white-space:pre-wrap;padding:20px 20px 20px 50px;color:#c7d3de;counter-reset:step;counter-increment:step 0;position:relative;font-size:12px}.ql-syntax code.hljs span.l{line-height:1.4em}.ql-syntax code.hljs span.l:before{color:#516363;position:absolute;left:15px;content:counter(step);counter-increment:step}.ql-container.ql-bubble:not(.ql-disabled) a{white-space:initial}\n"},416:function(t,e){t.exports='/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:2rem;font-weight:300}h1{font-size:4.0rem;line-height:1.2;letter-spacing:-.1rem}h2{font-size:3.6rem;line-height:1.25;letter-spacing:-.1rem}h3{font-size:3.0rem;line-height:1.3;letter-spacing:-.1rem}h4{font-size:2.4rem;line-height:1.35;letter-spacing:-.08rem}h5{font-size:1.8rem;line-height:1.5;letter-spacing:-.05rem}h6{font-size:1.5rem;line-height:1.6;letter-spacing:0}@media (min-width: 550px){h1{font-size:5.0rem}h2{font-size:4.2rem}h3{font-size:3.6rem}h4{font-size:3.0rem}h5{font-size:2.4rem}h6{font-size:1.5rem}}p{margin-top:0}@media (min-width: 400px){.toc-stub{margin-bottom:3rem}}.toc-panel{--toc-border-width: 1px;--color-contrast-low: hsl(240, 1%, 83%);--color-contrast-medium: hsl(240, 1%, 48%);--color-contrast-high: hsl(240, 4%, 20%);--text-unit: 1em;--text-scale-ratio: 1.2;--text-xs: calc((1em / 1.2) / 1.2);--text-xs: calc((var(--text-unit) / var(--text-scale-ratio)) / var(--text-scale-ratio));--text-sm: calc(calc((1em / 1.2) / 1.2) * 1.2);--text-sm: calc(var(--text-xs) * var(--text-scale-ratio));box-shadow:inset 1px 0 0 hsl(240, 1%, 83%);box-shadow:inset var(--toc-border-width) 0 0 var(--color-contrast-low);font-family:"Raleway","HelveticaNeue","Helvetica Neue",Helvetica,Arial,sans-serif;position:sticky;top:1.25rem;max-height:calc(100vh - 1.25rem);overflow:visible}.toc-panel ol,.toc-panel ul{list-style:none;margin:0;padding:0;border:0}.toc-panel .toc-panel__list{position:relative}.toc-panel .toc-panel__list .toc-panel__list .toc-panel__header{padding-left:calc(1.25rem * 2)}.toc-panel .toc-panel__title{padding:0.25rem 1.25rem;text-transform:uppercase;letter-spacing:0.1em;font-size:calc(calc((1em / 1.2) / 1.2) * 1.2);font-size:var(--text-sm)}.toc-panel .toc-panel__header{padding:0.25rem 1.25rem;position:relative;display:inline-flex;color:hsl(240, 1%, 48%);color:var(--color-contrast-medium);text-decoration:none;overflow:hidden;text-overflow:ellipsis}.toc-panel .toc-panel__header::before{content:\'\';width:1px;width:var(--toc-border-width);height:100%;position:absolute;left:0;top:0}.toc-panel .toc-panel__header:hover{color:hsl(240, 4%, 20%);color:var(--color-contrast-high)}.toc-panel .toc-panel__header_selected{color:#2a6df4}.toc-panel .toc-panel__header_selected::before{background-color:#2a6df4}.toc-panel .toc-panel__page-numb{width:2rem;text-align:right;padding-top:0.25rem;padding-right:0.5rem;flex-shrink:0;white-space:nowrap}.toc-panel .toc-panel__item{display:flex;margin-left:-2.5rem;color:hsl(240, 1%, 48%);color:var(--color-contrast-medium)}.toc-panel .toc-panel__item:hover{color:hsl(240, 4%, 20%);color:var(--color-contrast-high)}\n'},417:function(t,e){t.exports='/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}.container{position:relative;width:100%;max-width:960px;margin:0 auto;padding:0 20px;box-sizing:border-box}.column,.columns{width:100%;float:left;box-sizing:border-box}@media (min-width: 400px){.container{width:85%;padding:0}}@media (min-width: 550px){.container{width:80%}.column,.columns{margin-left:4%}.column:first-child,.columns:first-child{margin-left:0}.one.column,.one.columns{width:grid-column-width(1)}.two.columns{width:grid-column-width(2)}.three.columns{width:grid-column-width(3)}.four.columns{width:grid-column-width(4)}.five.columns{width:grid-column-width(5)}.six.columns{width:grid-column-width(6)}.seven.columns{width:grid-column-width(7)}.eight.columns{width:grid-column-width(8)}.nine.columns{width:grid-column-width(9)}.ten.columns{width:grid-column-width(10)}.eleven.columns{width:grid-column-width(11)}.twelve.columns{width:100%;margin-left:0}.one-third.column{width:grid-column-width(4)}.two-thirds.column{width:grid-column-width(8)}.one-half.column{width:grid-column-width(6)}.offset-by-one.column,.offset-by-one.columns{margin-left:grid-offset-length(1)}.offset-by-two.column,.offset-by-two.columns{margin-left:grid-offset-length(2)}.offset-by-three.column,.offset-by-three.columns{margin-left:grid-offset-length(3)}.offset-by-four.column,.offset-by-four.columns{margin-left:grid-offset-length(4)}.offset-by-five.column,.offset-by-five.columns{margin-left:grid-offset-length(5)}.offset-by-six.column,.offset-by-six.columns{margin-left:grid-offset-length(6)}.offset-by-seven.column,.offset-by-seven.columns{margin-left:grid-offset-length(7)}.offset-by-eight.column,.offset-by-eight.columns{margin-left:grid-offset-length(8)}.offset-by-nine.column,.offset-by-nine.columns{margin-left:grid-offset-length(9)}.offset-by-ten.column,.offset-by-ten.columns{margin-left:grid-offset-length(10)}.offset-by-eleven.column,.offset-by-eleven.columns{margin-left:grid-offset-length(11)}.offset-by-one-third.column,.offset-by-one-third.columns{margin-left:grid-offset-length(4)}.offset-by-two-thirds.column,.offset-by-two-thirds.columns{margin-left:grid-offset-length(8)}.offset-by-one-half.column,.offset-by-one-half.column{margin-left:grid-offset-length(6)}}.container:after,.row:after,.u-cf{content:"";display:table;clear:both}.um-drafts__submenu{display:flex;flex-direction:row-reverse;padding-top:10px;border-bottom:1px solid #eee}.um-drafts__export-all{margin:0 0 10px 10px;stroke:#ffffff;stroke-width:30px;color:#bbb}.um-drafts__export-all:hover{color:#888;cursor:pointer}.fab-container{bottom:0;margin:1em;right:0px;display:flex;align-items:center;justify-content:flex-end}.fab-container [tooltip]:before{bottom:115%;font-family:arial;font-weight:600;border-radius:2px;background:rgba(88,88,88,0.16);content:attr(tooltip);font-size:12px;visibility:hidden;opacity:0;padding:5px 7px;margin-right:12px;position:absolute;white-space:nowrap}.fab-container [tooltip]:hover:before,.fab-container [tooltip]:hover:after{visibility:visible;opacity:1}.fab-buttons{border:none;background-color:transparent;cursor:pointer;box-shadow:2px 2px 2px 0px rgba(0,0,0,0.18),0px 4px 7px -7px rgba(0,0,0,0.15);border-radius:50%;display:block;width:50px;height:50px;margin-left:15px;position:relative;transition:all 0.1s ease-out;opacity:1;text-decoration:none;display:flex;justify-content:center;align-items:center;color:#bbb}.fab-buttons:active,.fab-buttons:focus,.fab-buttons:hover{box-shadow:3px 2px 2px rgba(0,0,0,0.14),0 4px 8px rgba(0,0,0,0.28);color:#bbb}.fab-buttons:not(:last-child){width:40px;height:40px;opacity:0;margin-left:0;transform:translateX(10px)}.fab-container:hover .fab-buttons:not(:last-child){opacity:1;transform:none;margin-left:15px}.fab-buttons:nth-last-child(1){-webkit-transition-delay:25ms;transition-delay:25ms;background-size:contain}.fab-buttons:not(:last-child):nth-last-child(2){-webkit-transition-delay:50ms;transition-delay:20ms;background-size:contain}.fab-buttons:not(:last-child):nth-last-child(3){-webkit-transition-delay:75ms;transition-delay:40ms;background-size:contain}.fab-buttons:not(:last-child):nth-last-child(4){-webkit-transition-delay:100ms;transition-delay:60ms;background-size:contain}.draft-content{display:flex;flex-direction:column}@media (min-width: 400px){.draft-content{flex-direction:row}}\n'},428:function(t,e,n){"use strict";n.r(e),n.d(e,"draftElement",(function(){return jn}));var i=n(13),o=n(130);function r(t,e){const[n,i]=Object(o.e)(),[r,a]=Object(o.e)();return Object(o.c)(()=>{const n=new t(...null!=e?e:[]);i(n);const o=n.state$.subscribe(a);return()=>{n.destroy(),o.unsubscribe()}},[]),[r,n]}var a=n(169),l=n(366);function s(t){return t&&"function"==typeof t.schedule}var c=n(16),u=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},d=n(5);function p(t,e){return new c.a((function(n){var i=new d.a,o=0;return i.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}function h(t,e){return e?p(t,e):new c.a(u(t))}function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return s(n)?(t.pop(),p(t,n)):h(t)}var m=n(1),g=n(4),b=function(t){function e(e,n,i){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=i,o.index=0,o}return m.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(g.a),v=n(9);function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var _=y(),x=n(19),k=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function T(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var E=n(27),S=function(t){if(t&&"function"==typeof t[x.a])return i=t,function(t){var e=i[x.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(k(t))return u(t);if(T(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,v.a),t};if(t&&"function"==typeof t[_])return e=t,function(t){for(var n=e[_]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,i,o=Object(E.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function w(t,e,n,i,o){if(void 0===o&&(o=new b(t,n,i)),!o.closed)return e instanceof c.a?e.subscribe(o):S(e)(o)}var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m.a(e,t),e.prototype.notifyNext=function(t,e,n,i,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(g.a);function N(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new I(t,e))}}var I=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new O(t,this.project,this.thisArg))},t}(),O=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return m.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(g.a);function L(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[x.a]}(t))return function(t,e){return new c.a((function(n){var i=new d.a;return i.add(e.schedule((function(){var o=t[x.a]();i.add(o.subscribe({next:function(t){i.add(e.schedule((function(){return n.next(t)})))},error:function(t){i.add(e.schedule((function(){return n.error(t)})))},complete:function(){i.add(e.schedule((function(){return n.complete()})))}}))}))),i}))}(t,e);if(T(t))return function(t,e){return new c.a((function(n){var i=new d.a;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){n.next(t),i.add(e.schedule((function(){return n.complete()})))})))}),(function(t){i.add(e.schedule((function(){return n.error(t)})))}))}))),i}))}(t,e);if(k(t))return p(t,e);if(function(t){return t&&"function"==typeof t[_]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new c.a((function(n){var i,o=new d.a;return o.add((function(){i&&"function"==typeof i.return&&i.return()})),o.add(e.schedule((function(){i=t[_](),o.add(e.schedule((function(){if(!n.closed){var t,e;try{var o=i.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),o}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function q(t,e){return e?L(t,e):t instanceof c.a?t:new c.a(S(t))}var C=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new D(t,this.project,this.concurrent))},t}(),D=function(t){function e(e,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return m.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=new b(this,e,n),o=this.destination;o.add(i);var r=w(this,t,void 0,void 0,i);r!==i&&o.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,i,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(A);function B(t){return t}function R(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(e,n,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"function"==typeof n?function(o){return o.pipe(t((function(t,i){return q(e(t,i)).pipe(N((function(e,o){return n(t,e,i,o)})))}),i))}:("number"==typeof n&&(i=n),function(t){return t.lift(new C(e,i))})}(B,t)}function j(){return R(1)}function P(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return j()(f.apply(void 0,t))}function F(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return s(n)?(t.pop(),function(e){return P(t,e,n)}):function(e){return P(t,e)}}function M(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new U(t,e,n))}}var U=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new K(t,this.accumulator,this.seed,this.hasSeed))},t}(),K=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.accumulator=n,r._seed=i,r.hasSeed=o,r.index=0,r}return m.a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(g.a);function z(t,e){return function(n){return n.lift(new V(t,e))}}var $,V=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new G(t,this.keySelector,this.flushes))},t}(),G=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.keySelector=n,o.values=new Set,i&&o.add(w(o,i)),o}return m.a(e,t),e.prototype.notifyNext=function(t,e,n,i,o){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(A),H=n(22),Q=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return m.a(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,i):e.flush(this)},e}(n(162).a),W=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m.a(e,t),e}(n(161).a))(Q),Y=new c.a((function(t){return t.complete()}));function J(t){return t?function(t){return new c.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Y}function X(t){var e=t.error;t.subscriber.error(e)}$||($={});var Z=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t,e;switch(this.kind){case"N":return f(this.value);case"E":return t=this.error,e?new c.a((function(n){return e.schedule(X,0,{error:t,subscriber:n})})):new c.a((function(e){return e.error(t)}));case"C":return J()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var tt=function(t){function e(e,n,i){void 0===i&&(i=0);var o=t.call(this,e)||this;return o.scheduler=n,o.delay=i,o}return m.a(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new et(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Z.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Z.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Z.createComplete()),this.unsubscribe()},e}(g.a),et=function(){return function(t,e){this.notification=t,this.destination=e}}(),nt=n(6),it=n(28),ot=function(t){function e(e,n,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return m.a(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new rt(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,r=i.length;if(this.closed)throw new nt.a;if(this.isStopped||this.hasError?e=d.a.EMPTY:(this.observers.push(t),e=new it.a(this,t)),o&&t.add(t=new tt(t,o)),n)for(var a=0;a<r&&!t.closed;a++)t.next(i[a]);else for(a=0;a<r&&!t.closed;a++)t.next(i[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||W).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,o=i.length,r=0;r<o&&!(t-i[r].time<n);)r++;return o>e&&(r=Math.max(r,o-e)),r>0&&i.splice(0,r),i},e}(H.a),rt=function(){return function(t,e){this.time=t,this.value=e}}();function at(){return function(t){return t.lift(new lt(t))}}var lt=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new st(t,n),o=e.subscribe(i);return i.closed||(i.connection=n.connect()),o},t}(),st=function(t){function e(e,n){var i=t.call(this,e)||this;return i.connectable=n,i}return m.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},e}(g.a),ct=function(t){function e(e,n){var i=t.call(this)||this;return i.source=e,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return m.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d.a).add(this.source.subscribe(new dt(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.a.EMPTY)),t},e.prototype.refCount=function(){return at()(this)},e}(c.a),ut=function(){var t=ct.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),dt=function(t){function e(e,n){var i=t.call(this,e)||this;return i.connectable=n,i}return m.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(H.b);g.a;var pt=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(t);return o.add(e.subscribe(i)),o},t}();function ht(t,e,n,i){n&&"function"!=typeof n&&(i=n);var o="function"==typeof n?n:void 0,r=new ot(t,e,i);return function(t){return function(t,e){return function(n){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new pt(i,e));var o=Object.create(n,ut);return o.source=n,o.subjectFactory=i,o}}((function(){return r}),o)(t)}}function ft(t,e){return function(n){return n.lift(new mt(t,e))}}var mt=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new gt(t,this.predicate,this.thisArg))},t}(),gt=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return m.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(g.a);var bt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new vt(t,this.project))},t}(),vt=function(t){function e(e,n){var i=t.call(this,e)||this;return i.project=n,i.index=0,i}return m.a(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe();var o=new b(this,e,n),r=this.destination;r.add(o),this.innerSubscription=w(this,t,void 0,void 0,o),this.innerSubscription!==o&&r.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,i,o){this.destination.next(e)},e}(A);function yt(t){return function(e){var n=new _t(t),i=e.lift(n);return n.caught=i}}var _t=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new xt(t,this.selector,this.caught))},t}(),xt=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.selector=n,o.caught=i,o}return m.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var i=new b(this,void 0,void 0);this.add(i);var o=w(this,n,void 0,void 0,i);o!==i&&this.add(o)}},e}(A),kt=n(29);function Tt(t){var e;const n=new kt.a.WebAuth({domain:"inscriptum.auth0.com",clientID:"sSGAFDwnRqJUsJw7v12KV8SAeuYtl3Cd",redirectUri:t,responseType:"token id_token",scope:"openid email",audience:"https://inscriptum.js.org"}),i=null!==(e=sessionStorage.windowLocationHash)&&void 0!==e?e:window.location.hash;return null!=i&&i.length>0?function(t){var e;const n=null!==(e=sessionStorage.windowLocationHash)&&void 0!==e?e:window.location.hash;return new c.a(e=>{t.parseHash({hash:n},(t,n)=>{const i=Et(t,n);e.next(i)})})}(n):function(t,e){return new c.a(n=>{t.checkSession({},(i,o)=>{try{const t=Et(i,o);n.next(t)}catch(i){t.authorize({redirectUri:e}),n.error(i)}})})}(n,t)}function Et(t,e){var n;if(null!=(null==e?void 0:e.accessToken)&&null!=(null==e?void 0:e.idToken)){localStorage.setItem("isLoggedIn","true");const t=Number(JSON.stringify(1e3*(null!==(n=e.expiresIn)&&void 0!==n?n:1)+(new Date).getTime()));return{accessToken:e.accessToken,expiresAt:t,idToken:e.idToken}}{let e="";throw t&&(e="Error: "+t.error+". Check the console for further details.",console.warn(e)),Error(e)}}const St={auth:void 0},wt=new H.a;window.actions$=wt;const At=wt.pipe(ft(t=>"auth"===t.type),function t(e,n){return"function"==typeof n?function(i){return i.pipe(t((function(t,i){return q(e(t,i)).pipe(N((function(e,o){return n(t,e,i,o)})))})))}:function(t){return t.lift(new bt(e))}}(t=>Tt(t.payload.redirectUri).pipe(N(t=>({type:"auth done",payload:t})),yt(t=>f({type:"auth failed",payload:t})))));function Nt(t){wt.next(t)}const It=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return s(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===i&&1===t.length&&t[0]instanceof c.a?t[0]:R(n)(h(t,i))}(wt,At).pipe(F(St),M((function(t,e){switch(e.type){case"auth":return Object.assign(Object.assign({},t),{auth:{error:null,isLoading:!0}});case"auth done":return Object.assign(Object.assign({},t),{auth:{data:e.payload,isLoading:!1}});case"auth failed":return Object.assign(Object.assign({},t),{auth:{error:e.payload,isLoading:!1}});default:return t}})),z(),ht(1),at());let Ot=St;It.subscribe(t=>{Ot=t});const Lt=wt.asObservable();var qt=n(30),Ct="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t){return Rt(t,[])}function Rt(t,e){switch(Dt(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return null===t?"null":function(t,e){if(-1!==e.indexOf(t))return"[Circular]";var n=[].concat(e,[t]),i=function(t){var e=t[String(Ct)];if("function"==typeof e)return e;if("function"==typeof t.inspect)return t.inspect}(t);if(void 0!==i){var o=i.call(t);if(o!==t)return"string"==typeof o?o:Rt(o,n)}else if(Array.isArray(t))return function(t,e){if(0===t.length)return"[]";if(e.length>2)return"[Array]";for(var n=Math.min(10,t.length),i=t.length-n,o=[],r=0;r<n;++r)o.push(Rt(t[r],e));1===i?o.push("... 1 more item"):i>1&&o.push("... ".concat(i," more items"));return"["+o.join(", ")+"]"}(t,n);return function(t,e){var n=Object.keys(t);if(0===n.length)return"{}";if(e.length>2)return"["+function(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"==typeof t.constructor){var n=t.constructor.name;if("string"==typeof n&&""!==n)return n}return e}(t)+"]";return"{ "+n.map((function(n){return n+": "+Rt(t[n],e)})).join(", ")+" }"}(t,n)}(t,e);default:return String(t)}}function jt(t){var e=t.prototype.toJSON;"function"==typeof e||function(t,e){if(!Boolean(t))throw new Error(null!=e?e:"Unexpected invariant triggered.")}(0),t.prototype.inspect=e,Ct&&(t.prototype[Ct]=e)}function Pt(t){return null!=t&&"string"==typeof t.kind}jt(function(){function t(t,e,n){this.start=t.start,this.end=e.end,this.startToken=t,this.endToken=e,this.source=n}return t.prototype.toJSON=function(){return{start:this.start,end:this.end}},t}()),jt(function(){function t(t,e,n,i,o,r,a){this.kind=t,this.start=e,this.end=n,this.line=i,this.column=o,this.value=a,this.prev=r,this.next=null}return t.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}());var Ft={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Mt=Object.freeze({});function Ut(t,e,n){var i=t[e];if(i){if(!n&&"function"==typeof i)return i;var o=n?i.leave:i.enter;if("function"==typeof o)return o}else{var r=n?t.leave:t.enter;if(r){if("function"==typeof r)return r;var a=r[e];if("function"==typeof a)return a}}}function Kt(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ft,i=void 0,o=Array.isArray(t),r=[t],a=-1,l=[],s=void 0,c=void 0,u=void 0,d=[],p=[],h=t;do{var f=++a===r.length,m=f&&0!==l.length;if(f){if(c=0===p.length?void 0:d[d.length-1],s=u,u=p.pop(),m){if(o)s=s.slice();else{for(var g={},b=0,v=Object.keys(s);b<v.length;b++){var y=v[b];g[y]=s[y]}s=g}for(var _=0,x=0;x<l.length;x++){var k=l[x][0],T=l[x][1];o&&(k-=_),o&&null===T?(s.splice(k,1),_++):s[k]=T}}a=i.index,r=i.keys,l=i.edits,o=i.inArray,i=i.prev}else{if(c=u?o?a:r[a]:void 0,null==(s=u?u[c]:h))continue;u&&d.push(c)}var E,S=void 0;if(!Array.isArray(s)){if(!Pt(s))throw new Error("Invalid AST Node: ".concat(Bt(s),"."));var w=Ut(e,s.kind,f);if(w){if((S=w.call(e,s,c,u,d,p))===Mt)break;if(!1===S){if(!f){d.pop();continue}}else if(void 0!==S&&(l.push([c,S]),!f)){if(!Pt(S)){d.pop();continue}s=S}}}if(void 0===S&&m&&l.push([c,s]),f)d.pop();else i={inArray:o,index:a,keys:r,edits:l,prev:i},r=(o=Array.isArray(s))?s:null!==(E=n[s.kind])&&void 0!==E?E:[],a=-1,l=[],u&&p.push(u),u=s}while(void 0!==i);return 0!==l.length&&(h=l[l.length-1][1]),h}(t,{leave:zt})}var zt={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return Vt(t.definitions,"\n\n")+"\n"},OperationDefinition:function(t){var e=t.operation,n=t.name,i=Ht("(",Vt(t.variableDefinitions,", "),")"),o=Vt(t.directives," "),r=t.selectionSet;return n||o||i||"query"!==e?Vt([e,Vt([n,i]),o,r]," "):r},VariableDefinition:function(t){var e=t.variable,n=t.type,i=t.defaultValue,o=t.directives;return e+": "+n+Ht(" = ",i)+Ht(" ",Vt(o," "))},SelectionSet:function(t){return Gt(t.selections)},Field:function(t){var e=t.alias,n=t.name,i=t.arguments,o=t.directives,r=t.selectionSet,a=Ht("",e,": ")+n,l=a+Ht("(",Vt(i,", "),")");return l.length>80&&(l=a+Ht("(\n",Qt(Vt(i,"\n")),"\n)")),Vt([l,Vt(o," "),r]," ")},Argument:function(t){return t.name+": "+t.value},FragmentSpread:function(t){return"..."+t.name+Ht(" ",Vt(t.directives," "))},InlineFragment:function(t){var e=t.typeCondition,n=t.directives,i=t.selectionSet;return Vt(["...",Ht("on ",e),Vt(n," "),i]," ")},FragmentDefinition:function(t){var e=t.name,n=t.typeCondition,i=t.variableDefinitions,o=t.directives,r=t.selectionSet;return"fragment ".concat(e).concat(Ht("(",Vt(i,", "),")")," ")+"on ".concat(n," ").concat(Ht("",Vt(o," ")," "))+r},IntValue:function(t){return t.value},FloatValue:function(t){return t.value},StringValue:function(t,e){var n=t.value;return t.block?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1===t.indexOf("\n"),o=" "===t[0]||"\t"===t[0],r='"'===t[t.length-1],a="\\"===t[t.length-1],l=!i||r||a||n,s="";return!l||i&&o||(s+="\n"+e),s+=e?t.replace(/\n/g,"\n"+e):t,l&&(s+="\n"),'"""'+s.replace(/"""/g,'\\"""')+'"""'}(n,"description"===e?"":"  "):JSON.stringify(n)},BooleanValue:function(t){return t.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){return t.value},ListValue:function(t){return"["+Vt(t.values,", ")+"]"},ObjectValue:function(t){return"{"+Vt(t.fields,", ")+"}"},ObjectField:function(t){return t.name+": "+t.value},Directive:function(t){return"@"+t.name+Ht("(",Vt(t.arguments,", "),")")},NamedType:function(t){return t.name},ListType:function(t){return"["+t.type+"]"},NonNullType:function(t){return t.type+"!"},SchemaDefinition:$t((function(t){var e=t.directives,n=t.operationTypes;return Vt(["schema",Vt(e," "),Gt(n)]," ")})),OperationTypeDefinition:function(t){return t.operation+": "+t.type},ScalarTypeDefinition:$t((function(t){return Vt(["scalar",t.name,Vt(t.directives," ")]," ")})),ObjectTypeDefinition:$t((function(t){var e=t.name,n=t.interfaces,i=t.directives,o=t.fields;return Vt(["type",e,Ht("implements ",Vt(n," & ")),Vt(i," "),Gt(o)]," ")})),FieldDefinition:$t((function(t){var e=t.name,n=t.arguments,i=t.type,o=t.directives;return e+(Yt(n)?Ht("(\n",Qt(Vt(n,"\n")),"\n)"):Ht("(",Vt(n,", "),")"))+": "+i+Ht(" ",Vt(o," "))})),InputValueDefinition:$t((function(t){var e=t.name,n=t.type,i=t.defaultValue,o=t.directives;return Vt([e+": "+n,Ht("= ",i),Vt(o," ")]," ")})),InterfaceTypeDefinition:$t((function(t){var e=t.name,n=t.interfaces,i=t.directives,o=t.fields;return Vt(["interface",e,Ht("implements ",Vt(n," & ")),Vt(i," "),Gt(o)]," ")})),UnionTypeDefinition:$t((function(t){var e=t.name,n=t.directives,i=t.types;return Vt(["union",e,Vt(n," "),i&&0!==i.length?"= "+Vt(i," | "):""]," ")})),EnumTypeDefinition:$t((function(t){var e=t.name,n=t.directives,i=t.values;return Vt(["enum",e,Vt(n," "),Gt(i)]," ")})),EnumValueDefinition:$t((function(t){return Vt([t.name,Vt(t.directives," ")]," ")})),InputObjectTypeDefinition:$t((function(t){var e=t.name,n=t.directives,i=t.fields;return Vt(["input",e,Vt(n," "),Gt(i)]," ")})),DirectiveDefinition:$t((function(t){var e=t.name,n=t.arguments,i=t.repeatable,o=t.locations;return"directive @"+e+(Yt(n)?Ht("(\n",Qt(Vt(n,"\n")),"\n)"):Ht("(",Vt(n,", "),")"))+(i?" repeatable":"")+" on "+Vt(o," | ")})),SchemaExtension:function(t){var e=t.directives,n=t.operationTypes;return Vt(["extend schema",Vt(e," "),Gt(n)]," ")},ScalarTypeExtension:function(t){return Vt(["extend scalar",t.name,Vt(t.directives," ")]," ")},ObjectTypeExtension:function(t){var e=t.name,n=t.interfaces,i=t.directives,o=t.fields;return Vt(["extend type",e,Ht("implements ",Vt(n," & ")),Vt(i," "),Gt(o)]," ")},InterfaceTypeExtension:function(t){var e=t.name,n=t.interfaces,i=t.directives,o=t.fields;return Vt(["extend interface",e,Ht("implements ",Vt(n," & ")),Vt(i," "),Gt(o)]," ")},UnionTypeExtension:function(t){var e=t.name,n=t.directives,i=t.types;return Vt(["extend union",e,Vt(n," "),i&&0!==i.length?"= "+Vt(i," | "):""]," ")},EnumTypeExtension:function(t){var e=t.name,n=t.directives,i=t.values;return Vt(["extend enum",e,Vt(n," "),Gt(i)]," ")},InputObjectTypeExtension:function(t){var e=t.name,n=t.directives,i=t.fields;return Vt(["extend input",e,Vt(n," "),Gt(i)]," ")}};function $t(t){return function(e){return Vt([e.description,t(e)],"\n")}}function Vt(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(e=null==t?void 0:t.filter((function(t){return t})).join(n))&&void 0!==e?e:""}function Gt(t){return Ht("{\n",Qt(Vt(t,"\n")),"\n}")}function Ht(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=e&&""!==e?t+e+n:""}function Qt(t){return Ht("  ",t.replace(/\n/g,"\n  "))}function Wt(t){return-1!==t.indexOf("\n")}function Yt(t){return null!=t&&t.some(Wt)}var Jt,Xt,Zt,te,ee,ne,ie,oe,re,ae,le,se,ce,ue,de=n(404),pe=n.n(de);!function(t){t.AuthorAuth0UserIdKey="author_auth0UserId_key",t.AuthorPkey="author_pkey"}(Jt||(Jt={})),function(t){t.Auth0Id="auth0_id",t.CreatedAt="created_at",t.Email="email",t.Id="id",t.LastSeen="last_seen",t.Name="name"}(Xt||(Xt={})),function(t){t.Auth0Id="auth0_id",t.CreatedAt="created_at",t.Email="email",t.Id="id",t.LastSeen="last_seen",t.Name="name"}(Zt||(Zt={})),function(t){t.DraftPkey="draft_pkey"}(te||(te={})),function(t){t.AuthorId="author_id",t.CreatedAt="created_at",t.EndedAt="ended_at",t.Id="id",t.TableOfContents="table_of_contents",t.UpdatedAt="updated_at"}(ee||(ee={})),function(t){t.AuthorId="author_id",t.CreatedAt="created_at",t.EndedAt="ended_at",t.Id="id",t.TableOfContents="table_of_contents",t.UpdatedAt="updated_at"}(ne||(ne={})),function(t){t.NotePkey="note_pkey",t.UqNoteDraftIdEndedAt="uq_note_draft_id_ended_at"}(ie||(ie={})),function(t){t.AuthorId="author_id",t.CreatedAt="created_at",t.DraftId="draft_id",t.EndedAt="ended_at",t.Id="id",t.Name="name",t.Preview="preview",t.StaticLink="static_link",t.UpdatedAt="updated_at"}(oe||(oe={})),function(t){t.AuthorId="author_id",t.CreatedAt="created_at",t.DraftId="draft_id",t.EndedAt="ended_at",t.Id="id",t.Name="name",t.Preview="preview",t.StaticLink="static_link",t.UpdatedAt="updated_at"}(re||(re={})),function(t){t.LastSeen="last_seen",t.Name="name"}(ae||(ae={})),function(t){t.Asc="asc",t.AscNullsFirst="asc_nulls_first",t.AscNullsLast="asc_nulls_last",t.Desc="desc",t.DescNullsFirst="desc_nulls_first",t.DescNullsLast="desc_nulls_last"}(le||(le={})),function(t){t.PagePkey="page_pkey"}(se||(se={})),function(t){t.Content="content",t.CreatedAt="created_at",t.DraftId="draft_id",t.EndedAt="ended_at",t.Id="id",t.Order="order",t.UpdatedAt="updated_at"}(ce||(ce={})),function(t){t.Content="content",t.CreatedAt="created_at",t.DraftId="draft_id",t.EndedAt="ended_at",t.Id="id",t.Order="order",t.UpdatedAt="updated_at"}(ue||(ue={}));const he=pe.a`
    query getDraftById($id: uuid!) {
  draft: draft_by_pk(id: $id) {
    id
    created_at
    updated_at
    table_of_contents
    notes(order_by: {created_at: asc}, where: {ended_at: {_is_null: true}}) {
      id
    }
    pages(order_by: {created_at: asc}, where: {ended_at: {_is_null: true}}) {
      id
      content
      order
    }
  }
}
    `,fe=pe.a`
    mutation updateDraftTOC($id: uuid!, $table_of_contents: jsonb!, $updated_at: timestamptz!) {
  update_draft_by_pk(
    pk_columns: {id: $id}
    _set: {table_of_contents: $table_of_contents, updated_at: $updated_at}
  ) {
    table_of_contents
    updated_at
    id
  }
}
    `,me=pe.a`
    mutation updatePageById($id: uuid!, $content: jsonb!, $updated_at: timestamptz!) {
  update_page_by_pk(
    pk_columns: {id: $id}
    _set: {content: $content, updated_at: $updated_at}
  ) {
    id
  }
}
    `,ge=pe.a`
    mutation addPageToDraft($created_at: timestamptz!, $draft_id: uuid!, $order: Int!) {
  update_page(
    where: {draft_id: {_eq: $draft_id}, ended_at: {_is_null: true}, order: {_gte: $order}}
    _inc: {order: 1}
  ) {
    returning {
      id
      order
    }
  }
  insert_page_one(
    object: {created_at: $created_at, draft_id: $draft_id, order: $order}
  ) {
    id
    order
    content
  }
}
    `,be=pe.a`
    mutation deletePage($id: uuid!, $ended_at: timestamptz!, $draft_id: uuid!, $order: Int!) {
  update_page_by_pk(pk_columns: {id: $id}, _set: {ended_at: $ended_at}) {
    id
  }
  update_page(
    where: {draft_id: {_eq: $draft_id}, ended_at: {_is_null: true}, order: {_gte: $order}}
    _inc: {order: -1}
  ) {
    returning {
      id
      order
    }
  }
}
    `,ve=t=>t();function ye(t,e=ve){return{getDraftById:(n,i)=>e(()=>t.request(Kt(he),n,i)),updateDraftTOC:(n,i)=>e(()=>t.request(Kt(fe),n,i)),updatePageById:(n,i)=>e(()=>t.request(Kt(me),n,i)),addPageToDraft:(n,i)=>e(()=>t.request(Kt(ge),n,i)),deletePage:(n,i)=>e(()=>t.request(Kt(be),n,i))}}var _e=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),xe=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function ke(t){return function(e){return 0===t?J():e.lift(new Te(t))}}var Te=function(){function t(t){if(this.total=t,this.total<0)throw new xe}return t.prototype.call=function(t,e){return e.subscribe(new Ee(t,this.total))},t}(),Ee=function(t){function e(e,n){var i=t.call(this,e)||this;return i.total=n,i.count=0,i}return m.a(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(g.a);function Se(t){return void 0===t&&(t=null),function(e){return e.lift(new we(t))}}var we=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new Ae(t,this.defaultValue))},t}(),Ae=function(t){function e(e,n){var i=t.call(this,e)||this;return i.defaultValue=n,i.isEmpty=!0,i}return m.a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(g.a);function Ne(t){return void 0===t&&(t=Le),function(e){return e.lift(new Ie(t))}}var Ie=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new Oe(t,this.errorFactory))},t}(),Oe=function(t){function e(e,n){var i=t.call(this,e)||this;return i.errorFactory=n,i.hasValue=!1,i}return m.a(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(g.a);function Le(){return new _e}var qe,Ce=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},De=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Be{constructor(){this._graphQLClientOptions={credentials:"include",mode:"cors",cache:"no-cache",method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"}},this._graphQLClientEndpoint="https://inscriptum-hasura.herokuapp.com/v1/graphql",this.graphQLClient=new qt.GraphQLClient(this._graphQLClientEndpoint,this._graphQLClientOptions),this.sdkApi=ye(this.graphQLClient),this.subs=[],qe.set(this,void 0),Ce(this,qe,It.pipe(function(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?ft((function(e,n){return t(e,n,i)})):B,ke(1),n?Se(e):Ne((function(){return new _e})))}}(t=>{var e;return null!=(null===(e=t.auth)||void 0===e?void 0:e.data)}),N(t=>{var e,n;return null!=(null===(e=t.auth)||void 0===e?void 0:e.data)&&(this._graphQLClientOptions=Object.assign(Object.assign({},this._graphQLClientOptions),{headers:Object.assign(Object.assign({},this._graphQLClientOptions.headers),{Authorization:"Bearer "+t.auth.data.idToken})}),this.graphQLClient=new qt.GraphQLClient(this._graphQLClientEndpoint,this._graphQLClientOptions),this.sdkApi=ye(this.graphQLClient)),null!==(n=t.auth)&&void 0!==n?n:{}}),ht(1),at()))}authorizedWork(t,e){var n,i;null!=(null===(n=Ot.auth)||void 0===n?void 0:n.data)||(null===(i=Ot.auth)||void 0===i?void 0:i.isLoading)||Nt({type:"auth",payload:{redirectUri:e}}),De(this,qe).pipe(ke(1)).subscribe(e=>{null!=(null==e?void 0:e.data)&&null==(null==e?void 0:e.error)&&t()})}destroy(){for(const t of this.subs)t.unsubscribe()}}qe=new WeakMap;var Re=n(386),je=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{s(i.next(t))}catch(t){r(t)}}function l(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))};const Pe={data:void 0,isLoading:!1},Fe="PAGE_ACTION",Me={SAVE:Symbol(`[${Fe}] SAVE`),SAVING:Symbol(`[${Fe}] SAVING`),SAVE_DONE:Symbol(`[${Fe}] SAVE_DONE`),SAVE_FAIL:Symbol(`[${Fe}] SAVE_FAIL`),FOLD:Symbol(`[${Fe}] FOLD`)};class Ue extends Be{constructor(t=Pe){super(),this.unsavedContent=null,this.state$=Lt.pipe(ft(t=>{var e;return t.payload.pageId===(null===(e=this.state.data)||void 0===e?void 0:e.id)}),F(t),M(this.stateReducer),z(),ht(1),at()),this.subs.push(this.state$.subscribe(t=>{this.state=t})),this.subs.push(Lt.pipe(ft(t=>{var e;return t.type===Me.SAVE&&t.payload.pageId===(null===(e=this.state.data)||void 0===e?void 0:e.id)}),Object(Re.a)(1e4)).subscribe(()=>{var t,e;P(f({type:Me.SAVING,payload:{draftId:null===(t=this.state.data)||void 0===t?void 0:t.draftId,pageId:null===(e=this.state.data)||void 0===e?void 0:e.id}}),this.saveChanges().pipe(N(t=>({type:Me.SAVE_DONE,payload:{pageId:t.id,draftId:t.draftId,content:t.content}})),yt(t=>f({type:Me.SAVE_FAIL,payload:t})))).subscribe(t=>Nt(t))}))}stateReducer(t,e){switch(e.type){case Me.SAVE:return Object.assign(Object.assign({},t),{error:null});case Me.SAVE_DONE:return t.data&&(t.data.content=e.payload.content),t;case Me.SAVE_FAIL:return Object.assign(Object.assign({},t),{error:e.payload});case Me.FOLD:return Object.assign(Object.assign({},t),{data:null!=t.data?Object.assign(Object.assign({},t.data),{isFolded:e.payload.flag}):void 0});default:return t}}changeContent(t){null!=this.state.data&&(this.unsavedContent=t,Nt({type:Me.SAVE,payload:{pageId:this.state.data.id,draftId:this.state.data.draftId}}))}saveChanges(){return new c.a(t=>{this.authorizedWork(()=>je(this,void 0,void 0,(function*(){try{if(null!=this.unsavedContent&&null!=this.state.data){const{update_page_by_pk:e}=yield this.sdkApi.updatePageById({id:this.state.data.id,content:this.unsavedContent,updated_at:(new Date).toISOString()});null!=e&&t.next(Object.assign(Object.assign({},this.state.data),{content:this.unsavedContent})),this.unsavedContent=null}else t.next(this.state.data)}catch(e){t.error(e)}})),document.location.origin+"/drafts")})}}var Ke=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{s(i.next(t))}catch(t){r(t)}}function l(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))};const ze={LOAD:Symbol("[DRAFT_ACTION] LOAD"),LOADING:Symbol("[DRAFT_ACTION] LOADING"),LOAD_DONE:Symbol("[DRAFT_ACTION] LOAD_DONE"),UPDATE_TOC_DONE:Symbol("[DRAFT_ACTION] UPDATE_TOC_DONE"),UPDATE_TOC_ERROR:Symbol("[DRAFT_ACTION] UPDATE_TOC_ERROR")},$e={data:void 0,isLoading:!1};class Ve extends Be{constructor(){super(),this.state$=Lt.pipe(F($e),M(this.stateReducer),z(),ht(1),at()),this.subs.push(this.state$.subscribe(t=>{this.state=t}))}stateReducer(t,e){switch(e.type){case ze.LOAD:case ze.LOADING:return Object.assign(Object.assign({},t),{isLoading:!0});case ze.LOAD_DONE:return Object.assign(Object.assign({},t),{data:e.payload,isLoading:!1});case ze.UPDATE_TOC_DONE:return null!=t.data?Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{table_of_contents:e.payload.toc})}):t;case ze.UPDATE_TOC_ERROR:return console.warn(e.payload.error),t;default:return t}}getById(t){Nt({type:ze.LOADING,payload:{id:t}}),this.authorizedWork(()=>Ke(this,void 0,void 0,(function*(){const{draft:e}=yield this.sdkApi.getDraftById({id:t});null!=e&&Nt({type:ze.LOAD_DONE,payload:{id:e.id,created_at:e.created_at,updated_at:e.updated_at,table_of_contents:e.table_of_contents,notes:e.notes,pages:e.pages.sort((t,e)=>t.order-e.order).map((e,n)=>{var i;return Object.assign(Object.assign({},e),{content:null!==(i=e.content)&&void 0!==i?i:{},draftId:t,isFolded:0!==n})})}})})),document.location.origin+"/drafts")}foldPage(t,e){Nt({type:Me.FOLD,payload:{pageId:t,flag:e}})}savingProcess(t){const e=document.title,n="*"+e,i=t.current.togglePause,o=t.current.generateProgress;if(null!=i&&null!=o){let t=2e3,r=!1;this.subs.push(Lt.pipe(ft(t=>t.type===Me.SAVE)).subscribe(()=>{document.title!==n&&(document.title=n)})),this.subs.push(Lt.pipe(ft(t=>t.type===Me.SAVING)).subscribe(()=>{r&&o.next(),t=2e3,r=!0;const e=o.next();void 0!==e&&1===e.value&&(setTimeout(()=>{r&&(i(!0),t-=300)},300),setTimeout(()=>{r&&i(!1)},1e3),setTimeout(()=>{r&&(i(!0),t-=1e3)},2e3),setTimeout(()=>{r&&(t-=1e3)},3e3))})),this.subs.push(Lt.pipe(ft(t=>t.type===Me.SAVE_DONE)).subscribe(n=>{var a,l,s,c,u,d;if(n.type===Me.SAVE_DONE&&n.payload.draftId===(null===(a=this.state.data)||void 0===a?void 0:a.id)){const t=null!==(u=null===(c=null===(s=null===(l=this.state.data)||void 0===l?void 0:l.pages)||void 0===s?void 0:s.find(t=>t.id===n.payload.pageId))||void 0===c?void 0:c.order)&&void 0!==u?u:0,e=this.state.data.table_of_contents;e[t]={header:null!==(d=String(n.payload.content.ops[0].insert))&&void 0!==d?d:"...",pageId:n.payload.pageId},this.updateToc(e)}r=!1,i(!1),setTimeout(()=>{o.next()},t>0?t:0),document.title=e}))}}addNewPage(t){this.authorizedWork(()=>Ke(this,void 0,void 0,(function*(){var e,n,i;if(null!=this.state.data){const{insert_page_one:o,update_page:r}=yield this.sdkApi.addPageToDraft({draft_id:this.state.data.id,order:t,created_at:(new Date).toISOString()}),a=new Map((null!==(e=null==r?void 0:r.returning)&&void 0!==e?e:[]).map(t=>[t.id,t.order]));if(null!=o){const e=null!==(n=this.state.data.pages)&&void 0!==n?n:[];for(const t of e){const e=a.get(t.id);null!=e&&(t.order=e)}o.content=null!==(i=o.content)&&void 0!==i?i:{},e.push(Object.assign({draftId:this.state.data.id},o)),Nt({type:ze.LOAD_DONE,payload:Object.assign(Object.assign({},this.state.data),{pages:e.sort((t,e)=>t.order-e.order)})});const r=this.state.data.table_of_contents,l=[...r.slice(0,t),{header:"...",pageId:o.id},...r.slice(t)];this.updateToc(l)}}})),document.location.origin+"/drafts")}deletePage(t,e){this.authorizedWork(()=>Ke(this,void 0,void 0,(function*(){var n,i,o;if(null!=this.state.data){const{update_page_by_pk:r,update_page:a}=yield this.sdkApi.deletePage({id:t,ended_at:(new Date).toISOString(),draft_id:null===(n=this.state.data)||void 0===n?void 0:n.id,order:e});if(null!=r&&null!=(null==a?void 0:a.returning)){const t=new Map((null!==(i=a.returning)&&void 0!==i?i:[]).map(t=>[t.id,t.order])),n=(null!==(o=this.state.data.pages)&&void 0!==o?o:[]).filter(t=>t.id!==r.id);for(const e of n){const n=t.get(e.id);null!=n&&(e.order=n)}Nt({type:ze.LOAD_DONE,payload:Object.assign(Object.assign({},this.state.data),{pages:n.sort((t,e)=>t.order-e.order)})});const l=this.state.data.table_of_contents,s=[...l.slice(0,e),...l.slice(e+1)];this.updateToc(s)}}})),document.location.origin+"/drafts")}updateToc(t){this.authorizedWork(()=>Ke(this,void 0,void 0,(function*(){if(null!=this.state.data)try{const{update_draft_by_pk:e}=yield this.sdkApi.updateDraftTOC({id:this.state.data.id,table_of_contents:t,updated_at:(new Date).toISOString()});null!=e&&Nt({type:ze.UPDATE_TOC_DONE,payload:{draftId:this.state.data.id,toc:e.table_of_contents}})}catch(t){Nt({type:ze.UPDATE_TOC_ERROR,payload:{draftId:this.state.data.id,error:t}})}})),document.location.origin+"/drafts")}}const Ge=String.raw,He=Object(o.a)({props:{page:{},foldPage:{}},shadow:{mode:"open"},render:(t,e)=>{var n;if(0==(null===(n=e.adoptedStyleSheets)||void 0===n?void 0:n.length)){const n=new CSSStyleSheet;n.replaceSync(t[0]),e.adoptedStyleSheets=[n]}Object(i.g)(t[1],e)}})((function(t){const[e,n]=Object(o.e)(t.page.isFolded),r=Object(o.b)(()=>{n(t=>!t),t.foldPage(t.page.id,!e)},[e,n,t]);return[Ge`
      :host {
        bottom: 0;
        margin-right: 1em;
        right: 0px;
        display: flex;
        align-items: center;
        justify-content: flex-end;
      }
      button {
        cursor: pointer;
        border: none;
        background-color: transparent;
      }
      button:focus {
        outline: 0;
      }
      .icon-tabler {
        stroke: #bbb;
        transition: 0.2s;
      }
      .icon-tabler:hover {
        stroke: #333;
      }
    `,i.e`<button @click=${r}>
      ${i.i`
          <svg
          xmlns="http://www.w3.org/2000/svg"
          class="icon icon-tabler icon-tabler-chevron-left"
          width="44"
          height="44"
          viewBox="0 0 24 24"
          stroke-width="0.5"
          stroke="#9e9e9e"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <polyline points=${e?"6 9 12 15 18 9":"15 6 9 12 15 18"} />
        </svg>        
        `}
    </button>`]}));var Qe=n(59);function We(){const[t]=Object(o.e)(()=>{let t;return{get current(){var e;return null===(e=null==t?void 0:t.committer)||void 0===e?void 0:e.element},ref:Object(i.d)(()=>e=>{t=e})}});return t}var Ye=n(85),Je=n(141),Xe=n.n(Je),Ze=n(114),tn=n.n(Ze),en=n(60),nn=n(98),on=n(87),rn=n(142),an=n(101),ln=n(143),sn=n(120),cn=n(64),un=n(66),dn=n(89),pn=n(91),hn=n(63),fn=n(83),mn=n(93),gn=n(102),bn=n(129),vn=n(74),yn=n(94),_n=n(84),xn=n(99),kn=n(65),Tn=n(95),En=n(96);let Sn=navigator.userAgent.toLowerCase(),wn=(/opera/i.test(Sn)||/opr/i.test(Sn),/msie/i.test(Sn)&&!/opera/i.test(Sn)||/trident\//i.test(Sn)||/edge/i.test(Sn),/edge/i.test(Sn)&&/opera/i.test(Sn),/firefox/i.test(Sn),/chrome/i.test(Sn)&&/edge/i.test(Sn),!/chrome/i.test(Sn)&&/webkit|safari|khtml/i.test(Sn),/iphone/i.test(Sn),/ipod/i.test(Sn),/ipad/i.test(Sn),/android/i.test(Sn),/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(Sn)),An=/iphone|ipod|ipad/i.test(Sn);/opera mini|opera mobi/i.test(Sn),/opera mini/i.test(Sn),/mac/i.test(Sn);function Nn(t,e,n=!0){dn.LinkBlot.blotName="link",dn.LinkBlot.tagName="a",dn.LinkBlot.showLinkTooltip=e=>{t.showLinkTooltip(e,e.value,Object(kn.isEdit)(),o)},dn.LinkBlot.hideLinkTooltip=()=>t.hideLinkTooltip(o),pn.MyQuill.register(dn.LinkBlot,!0),Ye.FigureBlot.blotName="blockFigure",Ye.FigureBlot.tagName="figure",Ye.FigureBlot.quillSetSelection=(t,e=0)=>o.setSelection(t,e,Qe.a.sources.USER),Ye.FigureBlot.quillDeleteText=(t,e,n=Qe.a.sources.USER)=>o.deleteText(t,e,n),Ye.FigureBlot.quillInsertText=(t,e)=>o.insertText(t,e,Qe.a.sources.USER),Ye.FigureBlot.draftSave=()=>Object(kn.draftSave)(i,o),pn.MyQuill.register(Ye.FigureBlot,!0),pn.MyQuill.register(En.DividerBlot),pn.MyQuill.register({"modules/syntax":_n.InsSyntaxModule,"formats/bold":gn.a,"formats/italic":bn.a,"formats/indent":rn.a,"formats/list":on.ListContinuer,"formats/list-item":nn.a,"formats/code":an.a,"formats/strike":ln.a},!0);var i=!1;wn&&document.body.classList.add("mobile");var o=new pn.MyQuill(e,{scrollingContainer:"html, body",readOnly:!0,modules:{syntax:{highlight:t=>Tn.default.highlightAuto(t).value},clipboard:{matchers:[r("h2",{blockHeader:!0}),r("h5",{blockSubheader:!0}),r("h6",{blockSubheader:!0}),["img",function(t,e){return t.src&&Object(kn.sanitize)(t.src,["http","https","data"])?(new tn.a).insert({blockFigure:{image:t.src,caption:t.alt||""}}):new tn.a}],["video",function(t,e){return t.src&&Object(kn.sanitize)(t.src,["http","https","data"])?(new tn.a).insert({blockFigure:{video:t.src}}):new tn.a}],["br",function(t,e){return console.log("modules.clipboard.matchers.br"),t.classList.contains("inline")?(new tn.a).insert({textBreak:!0}):e}]]},keyboard:{bindings:{"required enter":{key:sn.a.keys.ENTER,collapsed:!0,shiftKey:null,format:["blockTitle","blockDescription"],suffix:/^$/,handler:function(t,e){console.log("keyboard.bindings.required_enter.handler");let[n]=this.quill.scroll.descendant(un.FieldBlot,t.index);return!(n&&n.next&&n.next.domNode&&!n.next.domNode.textContent)||(this.quill.setSelection(n.next.offset(this.quill.scroll),0,Qe.a.sources.USER),!1)}},"required tab prev":{key:sn.a.keys.TAB,shiftKey:!0,handler:function(t,e){console.log("keyboard.bindings.required_tab_prev.handler");let n=null;if(t.length>0){let e=o.scroll.descendants(en.c,t.index,t.length);if(1!=e.length)return!0;n=e[0]}else[n]=o.scroll.descendant(en.c,t.index);if(null!=n&&null!=n.prev&&n.prev instanceof un.FieldBlot){let t=n.prev.offset(o.scroll),e=n.prev.length();return o.setSelection(t,e>1?e:0,Qe.a.sources.USER),!1}return!0}},"required tab next":{key:sn.a.keys.TAB,shiftKey:!1,handler:function(t,e){console.log("keyboard.bindings.required_tab_next.handler");let n=null;if(t.length>0){let e=o.scroll.descendants(en.c,t.index,t.length);if(1!=e.length)return!0;n=e[0]}else[n]=o.scroll.descendant(en.c,t.index);if(null!=n&&n instanceof un.FieldBlot&&null!=n.next){let t=n.next.offset(o.scroll);if(n.next instanceof un.FieldBlot){let e=n.next.length();o.setSelection(t,e>1?e:0,Qe.a.sources.USER)}else o.setSelection(t,0,Qe.a.sources.USER);return!1}return!0}},"no tab":{key:sn.a.keys.TAB,shiftKey:null,handler:function(t,e){return console.log("keyboard.bindings.no_tab.handler"),!1}},"detect embed":{key:sn.a.keys.ENTER,collapsed:!0,handler:function(e,n){console.log("keyboard.bindings.detect_embed.handler");let[i,r]=o.scroll.line(e.index);if(i){let n,a=i.domNode.textContent.substr(0,r);if(n=a.match(/(^|\s)(https?:\/\/\S+)$/)){let l=n[2];if(o.scroll.descendants(dn.LinkBlot,e.index-l.length,l.length).length||o.formatText(e.index-l.length,l.length,"link",l,Qe.a.sources.USER),!a.substr(0,r-l.length).trim().length&&"P"==i.domNode.tagName){let e=s(l);if(e){let n=i.offset(o.scroll);return o.updateContents((new tn.a).retain(n).delete(a.length).insert({blockFigure:e}),Qe.a.sources.USER),t.hideBlocksTooltip(),!1}}}}return!0}},"divider autofill":{key:sn.a.keys.ENTER,collapsed:!0,prefix:/^([-*])\1{2,}$/,handler:function(t,e){console.log("keyboard.bindings.divider_autofill.handler");let[n,i]=o.scroll.line(t.index);if(n&&"P"==n.domNode.tagName){let t=n.offset(o.scroll),e=(new tn.a).retain(t).delete(n.length()).insert({blockDivider:!0});return n.next||e.insert("\n"),o.updateContents(e,Qe.a.sources.USER),!1}return!0}},break:{key:sn.a.keys.ENTER,shiftKey:!0,handler:l.bind(null,!0)},enter:{key:sn.a.keys.ENTER,handler:l.bind(null,!1)},"detect link":{key:" ",collapsed:!0,handler:function(t){console.log("detectLinkHandler",t);let[e,n]=o.scroll.line(t.index);if(e){let i,r=e.domNode.textContent.substr(0,n);if(i=r.match(/(^|\s)((?:https?|tg):\/\/\S+|www\.\S+)$/)){let e=i[2],n=e.length;"www."==e.substr(0,4)&&(e="http://"+e),o.scroll.descendants(dn.LinkBlot,t.index-n,n).length||o.formatText(t.index-n,n,"link",e,Qe.a.sources.USER)}}return!0}},"cancel placeholder":{key:sn.a.keys.ESCAPE,handler:function(t,e){return console.log("keyboard.bindings.cancel_placeholder.handler"),On(),this.quill.updateSelection(Qe.a.sources.USER),!0}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{list:!1,"code-block":!1,blockquote:!1,header:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query&&null==this.quill.scroll.query("list"))return!0;const{length:n}=e.prefix,[i,o]=this.quill.getLine(t.index);if(o>n)return!0;let r;switch(e.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r={type:"ordered",start:Number(e.prefix.slice(0,-1))-1}}this.quill.insertText(t.index," ",Qe.a.sources.USER),this.quill.history.cutoff(),console.log("keyboard.bindings.list_autofill.handler",t,e);const a=(new tn.a).retain(t.index-o).delete(n+1).retain(i.length()-2-o).retain(1,{list:r,start:r.start});console.log("keyboard.bindings.list_autofill.handler",a);const l=this.quill.updateContents(a,Qe.a.sources.USER);return console.log("keyboard.bindings.list_autofill.handler",l),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,Qe.a.sources.SILENT),!1}},"pre wrap":{key:192,collapsed:!0,format:{"code-block":!1},prefix:/^``$/,offset:2,handler:function(t,e){console.log("keyboard.bindings.pre_wrap.handler");let n=e.prefix.length,i=t.index-n;this.quill.scroll.deleteAt(i,n),this.quill.formatLine(i,1,"code-block",!0,Qe.a.sources.USER),this.quill.setSelection(i,Qe.a.sources.SILENT)}},code:{key:192,handler:function(t,e){if(console.log("keyboard.bindings.code.handler",!e.format),!e.collapsed){let n=o.scroll.descendants(en.c,t.index,t.length);if(n.length>1||1==n.length&&n[0]instanceof xn.a)return this.quill.format("code-block",!e.format["code-block"],Qe.a.sources.USER),!1;if(o.scroll.descendants(cn.BreakBlot,t.index,t.length).length)return this.quill.format("code-block",!e.format["code-block"],Qe.a.sources.USER),!1}if(e.collapsed&&!e.format.code&&!/\s$/.test(e.prefix))return!0;this.quill.format("code",!e.format.code,Qe.a.sources.USER)}},"figure delete":{key:sn.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(t,e){console.log("keyboard.bindings.figure_delete.handler");let[n,i]=o.scroll.line(t.index);return!(n&&n.prev&&n.prev instanceof Ye.FigureBlot)||(e.empty&&o.deleteText(t.index,1,Qe.a.sources.USER),o.setSelection(n.prev.offset(o.scroll)),!1)}},"field backspace":{key:sn.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(t,e){console.log("keyboard.bindings.field_backspace.handler");let[n,i]=o.scroll.line(t.index);return!(n&&n.prev&&n.prev instanceof un.FieldBlot&&n.domNode.textContent.length>0)}},strikethrough:{key:"X",shortKey:!0,shiftKey:!0,handler:function(t,e){o.formatText(t,"strike",!e.format.strike)}}}}}});function r(t,e){return[t,function(t,n){return n.compose((new tn.a).retain(n.length(),e))}]}function a(t){let e=function(t){let[e,n]=o.scroll.line(t);return o.getText(t,e.length()-n)}(t);return!e||"\n"==e}function l(t,e,n){console.log("breakHandler",t,e,n);let i,r=e.index;e.length>0&&o.scroll.deleteAt(r,e.length);let l=a(r),s=!1;return[i]=o.scroll.descendant(cn.BreakBlot,r),i?(!i.prev||i.prev instanceof cn.BreakBlot)&&(o.scroll.deleteAt(--r,1),s=!0):([i]=o.scroll.descendant(cn.BreakBlot,r-1),i&&(o.scroll.deleteAt(--r,1),s=!0)),[i]=o.scroll.descendant(hn.SingleLineBlot,r),i||s||!t?(o.insertText(r,"\n",Qe.a.sources.USER),o.setSelection(++r,0,Qe.a.sources.USER),(n.format.blockHeader||n.format.blockSubheader||n.format.blockBlockquote||n.format.blockPullquote)&&l&&o.formatLine(r,1,{blockHeader:!1,blockSubheader:!1,blockBlockquote:!1,blockPullquote:!1},Qe.a.sources.USER)):(o.insertEmbed(r,"textBreak",!0,Qe.a.sources.USER),[i]=o.scroll.descendant(cn.BreakBlot,r),!i||i.next||i.prev&&i.prev instanceof cn.BreakBlot||(o.insertEmbed(++r,"textBreak",!0,Qe.a.sources.SILENT),o.setSelection(r,0,Qe.a.sources.SILENT))),!1}function s(t){let e;if((e=t.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/i))||(e=t.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/i)))return{embed:"/embed/youtube?url="+encodeURIComponent(t)};if(e=t.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/i))return{embed:"/embed/vimeo?url="+encodeURIComponent(t)};if(e=t.match(/^(https?):\/\/(www\.|mobile\.)?twitter\.com\/(.+)\/status\/(\d+)/i))return{embed:"/embed/twitter?url="+encodeURIComponent(t)};if(e=t.match(/^(https?):\/\/(t\.me|telegram\.me|telegram\.dog)\/([a-zA-Z0-9_]+)\/(\d+)/i))return{embed:"/embed/telegram?url="+encodeURIComponent(t)};if(e=t.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))return"video/"==e[1].substr(0,6)?{video:t}:{image:t};if(e=t.match(/^(https?):\/\/\S+/i)){let n=document.createElement("a");if(n.href=t,n.pathname.match(/\.(jpe?g|png|gif|mp4)$/i))return"mp4"==e[1]?{video:t}:{image:t}}return!1}function c(t){t.scroll.descendants(en.c,0,t.scroll.length()).forEach(t=>{if(t.domNode.hasAttribute("data-placeholder")){let e=t.domNode.textContent;t.domNode.classList.toggle("empty",!e)}})}function u(t){if(n){let[e,n]=t.scroll.lines();if(e instanceof en.a)t.updateContents((new tn.a).insert("\n",{blockTitle:!0}).insert("\n",{blockDescription:!0}),Qe.a.sources.SILENT);else if(e instanceof fn.TitleBlot||t.formatLine(0,1,{blockTitle:!0},Qe.a.sources.SILENT),n){if(n instanceof en.a){let e=n.offset(t.scroll);t.updateContents((new tn.a).retain(e).insert("\n",{blockDescription:!0}),Qe.a.sources.SILENT)}else if(!(n instanceof mn.DescriptionBlot)){let e=n.offset(t.scroll);t.formatLine(e,1,{blockDescription:!0},Qe.a.sources.SILENT)}}else{let e=t.scroll.length();t.updateContents((new tn.a).retain(e).insert("\n",{blockDescription:!0}),Qe.a.sources.SILENT)}let[,,i]=t.scroll.lines();if(i){let e=i.offset(t.scroll),n=t.scroll.length()-e;t.scroll.descendants(un.FieldBlot,e,n).forEach(e=>{let n=e.offset(t.scroll),i=e.length(),o=e.constructor.blotName;t.formatText(n,i,o,!1,Qe.a.sources.SILENT)})}else{let e=t.scroll.length();t.insertText(e,"\n",Qe.a.sources.SILENT)}}const i=t.scroll.lines();e.querySelectorAll("[data-placeholder]").forEach(t=>t.removeAttribute("data-placeholder"));(n?3===i.length:1===i.length)&&i.forEach((t,e)=>{if("P"==t.domNode.tagName){(n?2===e:0==e)&&t.domNode.setAttribute("data-placeholder","The page content...")}})}function d(t){let e=t.querySelector(".prompt_input"),n=t.querySelector(".close");e.onkeydown=null,e.onblur=null,n.onclick=null,t.style.display="",t.classList.remove("tooltip_prompt"),o.focus()}return o.addContainer(t),o.on(Qe.a.events.TEXT_CHANGE,(function(){o.getSelection();u(o),c(o),On(),Object(kn.draftSave)(i,o)})),o.on(Qe.a.events.SCROLL_OPTIMIZE,(function(t){t.forEach(t=>{if("childList"==t.type&&!t.addedNodes.length&&t.removedNodes.length){let e=t.previousSibling,n=t.nextSibling;if(!n&&e&&"BR"==e.tagName&&"inline"==e.className){let e=document.createElement("br");e.className="inline",t.target.appendChild(e)}else!n||!e||"BR"==e.tagName&&"inline"==e.className||"BR"!=n.tagName||"inline"!=n.className||n.nextSibling||n.parentNode&&n.parentNode.removeChild(n)}})})),o.scroll.domNode.setAttribute("dir","auto"),document.addEventListener("click touchstart",(function(e){let n=e.target;for(;n;){if(n===o.container)return;n=n.parentNode}t.hideFormatTooltip(o),t.hideBlocksTooltip()})),u(o),c(o),t.$bold_button.onclick=t=>{console.log("$bold_button.onclick");let e=t.target.classList.contains("active");t.preventDefault(),console.log("$bold_button.onclick",!e),o.format("bold",!e),console.log("$bold_button.onclick",o.getSelection(!0)),o.updateSelection(Qe.a.sources.API)},t.$italic_button.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault(),o.format("italic",!e),o.updateSelection(Qe.a.sources.API)},t.$link_button.onclick=e=>{let n=e.target.classList.contains("active");e.preventDefault();var i=o.getSelection(!0);if(n){o.scroll.descendants(dn.LinkBlot,i.index,i.length).forEach(t=>{let e=t.offset(o.scroll),n=t.length();o.formatText(e,n,"link",!1)}),In(i,o,t)}else!function(t,e,n){let i=t.querySelector(".prompt_input"),o=t.querySelector(".close");i.value="",i.setAttribute("placeholder",e),i.onkeydown=e=>{let o=e.which||e.keyCode;if(27==o)d(t);else if(13==o){let o=i.value;o&&(n&&n(o),e.preventDefault()),d(t)}},i.onblur=()=>{d(t)},o.onclick=()=>{d(t)},t.style.display="",t.classList.add("tooltip_prompt"),i.focus()}(t.$tl_tooltip,"Paste or type a link...",(function(e){"#"!=(e=e.trim()).substr(0,1)&&"/"!=e.substr(0,1)&&"http://"!=e.substr(0,7)&&"https://"!=e.substr(0,8)&&"tg://"!=e.substr(0,5)&&"mailto:"!=e.substr(0,7)&&(e=e.indexOf("@")>0?"mailto:"+e:"http://"+e),o.focus(),o.format("link",e),In(i,o,t)}))},t.$header_button.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault();let n=o.getSelection(!0);o.format("blockHeader",!e),o.scroll.descendants(vn.HeaderBlot,n.index,n.length).forEach(t=>{let e=t.offset(o.scroll),n=t.length();o.formatText(e,n,{bold:!1,italic:!1,code:!1},Qe.a.sources.SILENT)}),o.updateSelection(Qe.a.sources.API)},t.$subheader_button.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault();let n=o.getSelection(!0);o.format("blockSubheader",!e),o.scroll.descendants(yn.SubheaderBlot,n.index,n.length).forEach(t=>{let e=t.offset(o.scroll),n=t.length();o.formatText(e,n,{bold:!1,italic:!1,code:!1},Qe.a.sources.SILENT)}),o.updateSelection(Qe.a.sources.API)},t.$quote_button.onclick=t=>{let e=t.target,n=e.classList.contains("active"),i=e.classList.contains("pullquote");t.preventDefault();o.getSelection(!0);n?o.format("blockPullquote",!i):o.format("blockBlockquote",!0),o.updateSelection(Qe.a.sources.API)},t.$strikeButton.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault(),o.format("strike",!e),o.updateSelection(Qe.a.sources.API)},t.$image_button.onclick=()=>{let t=o.container.querySelector("input.ql-image[type=file][data-status=ready]");null==t&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",An?"image/gif, image/jpeg, image/jpg, image/png":"image/gif, image/jpeg, image/jpg, image/png, video/mp4"),t.classList.add("ql-image"),t.addEventListener("change",()=>{if(t&&null!=t.files&&null!=t.files[0]){var e=t.files[0];const n=function(){Object(kn.showError)("File too big (up to 5 MB allowed)")},i=5242880;!function(t,e){if("image/jpg"==t.type||"image/jpeg"==t.type)return Xe()(t,n=>{if("error"===n.type)e(t);else if(n.toBlob)n.toBlob((function(t){e(t)}),t.type);else{var i=n.toDataURL(t.type),o={type:t.type,base64_data:i.split(",")[1]};e(Object(kn.uploadDataToBlob)(o))}},{canvas:!0,orientation:!0});e(t)}(e,e=>{if(e.size>i)return n&&n();var r=new FileReader;r.onload=function(e){if(e&&null!==e.target){let n=s(e.target.result);if(n){let t=o.getSelection(!0);o.updateContents((new tn.a).retain(t.index).delete(t.length).insert({blockFigure:n}),Qe.a.sources.USER)}else Object(kn.showError)("Invalid file format");t.value="",t.setAttribute("data-status","ready")}},r.readAsDataURL(e)})}}),o.container.appendChild(t)),t.setAttribute("data-status","busy"),t.click()},t.$embed_button.onclick=e=>{let n=o.getSelection(!0),[i]=o.scroll.line(n.index);const r=i.domNode;if(i){r.textContent||(r.setAttribute("data-placeholder","Paste a YouTube, Vimeo or Twitter link, and press Enter"),r.classList.add("placeholder_once","empty"),t.hideBlocksTooltip())}},window.addEventListener("scroll resize",()=>{t.tooltipUpdatePosition(t.$tl_tooltip,null,t.formatTTOptions,o),t.tooltipUpdatePosition(t.$tl_link_tooltip,null,t.linkTTOptions,o)}),o}function In(t,e,n){let i=null==t?{}:e.getFormat(t),o=!!i.blockDescription,r=!(!i.blockHeader&&!i.blockSubheader),a=!!i["code-block"];if(n.$bold_button.classList.toggle("active",!!i.bold),n.$bold_button.classList.toggle("disabled",o||r||a),n.$italic_button.classList.toggle("active",!!i.italic),n.$italic_button.classList.toggle("disabled",o||r||a),n.$header_button.classList.toggle("active",!!i.blockHeader),n.$header_button.classList.toggle("disabled",o),n.$subheader_button.classList.toggle("active",!!i.blockSubheader),n.$subheader_button.classList.toggle("disabled",o),n.$quote_button.classList.toggle("active",!(!i.blockBlockquote&&!i.blockPullquote)),n.$quote_button.classList.toggle("pullquote",!!i.blockPullquote),n.$quote_button.classList.toggle("disabled",o),n.$strikeButton.classList.toggle("active",!!i.strike),n.$strikeButton.classList.toggle("disabled",o),null!=t){let i=e.scroll.descendants(dn.LinkBlot,t.index,t.length);n.$link_button.classList.toggle("active",!!i.length)}else n.$link_button.classList.toggle("active",!1);n.$link_button.classList.toggle("disabled",a)}function On(){const t=document.querySelector(".placeholder_once");null!==t&&(t.removeAttribute("data-placeholder"),t.classList.remove("placeholder_once","empty"))}var Ln=n(88),qn=n(92);n(115).EditorTooltipComponent,Object(o.a)({props:{content:{type:{}},textChangeCb:{type:{},default:()=>{}},isTitle:Boolean},render:i.g})((function(t){const e=We(),r=We(),a=We();return Object(o.c)(()=>{requestAnimationFrame(()=>{const n=a.current,i=r.current;if(null!=e.current&&null!=i&&null!=(null==n?void 0:n.$bold_button)){const o=Nn(n,e.current,t.isTitle);n.hideLinkTooltip(o),n.hideFormatTooltip(o),n.hideBlocksTooltip(),o.setContents(t.content),o.history.clear(),o.enable(),o.on(Qe.a.events.EDITOR_CHANGE,(function(t,e){if(t!==Qe.a.events.SELECTION_CHANGE)return;if(!o.isEnabled())return;if(null==e)return;!function(t){let[e]=o.scroll.descendant(Ye.FigureBlot,t.index);o.scroll.descendants(Ye.FigureBlot,0,o.scroll.length()).forEach(t=>{e!==t&&t.blur()}),e&&(e.focus(),null==n||n.hideFormatTooltip(o),null==n||n.hideBlocksTooltip())}(e);let[r,a]=o.scroll.descendant(en.c,e.index);0===e.length?(n.hideFormatTooltip(o),null==r||r instanceof un.FieldBlot||r instanceof Ln.BlockquoteBlot||r instanceof qn.PullquoteBlot||r instanceof xn.a||r instanceof nn.a||""!==r.domNode.textContent?n.hideBlocksTooltip():n.showBlocksTooltip(e,Object(kn.isEdit)(),o)):(null==r||r instanceof fn.TitleBlot?n.hideFormatTooltip(o):(n.showFormatTooltip(e,o,Object(kn.isEdit)()),In(e,o,n)),n.hideBlocksTooltip());let l=o.getFormat(e);i.classList.toggle("title_focused",!(!l.blockTitle&&!l.blockDescription)),On()})),o.on(Qe.a.events.TEXT_CHANGE,e=>t.textChangeCb(e,o.getContents()))}})},[e.current,a.current,t.content,t.isTitle]),i.e`
      <style>${n(415)}</style>
      <div class="tl_page_wrap">
        <div class="tl_page">
          <section .ref=${r.ref()} class="tl_article tl_article_edit">
            <article .ref=${e.ref()} id="_tl_editor" class="tl_article_content"></article>
          </section>
        </div>
      </div>
      <inscriptum-editor-tooltip .ref=${a.ref()}></inscriptum-editor-tooltip>
    `}))("inscriptum-editor");const Cn=String.raw,Dn=Object(o.a)({props:{page:{type:{}}},render:i.g})((function(t){const[e,n]=r(Ue,[{data:t.page,isLoading:!1}]),[a,l]=Object(o.e)(t.page.content),[s,c]=Object(o.e)(t.page.isFolded);Object(o.c)(()=>{var t;null!=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.content)&&(null==a&&null!=e.data.content&&l(e.data.content),null!=e.data.isFolded&&s!==e.data.isFolded&&(c(e.data.isFolded),e.data.isFolded||l(e.data.content)))},[e,a,s,l,c]);const u=Object(o.b)((t,e)=>{null==n||n.changeContent(e)},[n]);if(null!=(null==e?void 0:e.data))return s?i.e`<span style=${Cn`
            display: flex;
            justify-content: center;
            font-size: 1.6em;
            line-height: 0.1em;
          `}>
          ...
        </span>`:i.e`<inscriptum-editor .content=${a} .textChangeCb=${u} .isTitle=${0===e.data.order}></inscriptum-editor>`})),Bn=Object(o.a)({props:{items:{}},render:i.g})((function(t){var e;const[r,a]=Object(o.e)();return i.e`
      <style>${n(416)}</style>
      <div class="toc-stub"></div>
      <nav class="toc-panel">
        <ul class="toc-panel__list">
          <li class="toc-panel__title">${null!==(e=t.items[0].header)&&void 0!==e?e:"In this article"}</li>
          ${t.items.slice(1).map((t,e)=>i.e`<li class="toc-panel__item">
              <span class="toc-panel__page-numb">${e+1}</span>
              <a class=${"toc-panel__header "+(e+1===r?"toc-panel__header_selected":"")}>${t.header}</a>
            </li>`)}

          
        </ul>
      </nav>
    `})),Rn=String.raw,jn=(He("inscriptum-icon"),Dn("inscriptum-page"),Object(l.a)("loading-progress-bar"),Bn("inscriptum-table-of-content"),Object(o.a)({props:{id:{type:String,attribute:"data-id"}},render:i.g})((function(t){var e,l,s,c;const[u,d]=r(Ve),p=Object(o.d)(null);Object(o.c)(()=>{null==d||d.getById(t.id)},[t.id,d]),Object(o.c)(()=>{requestAnimationFrame(()=>{null!=d&&null!=p.current&&d.savingProcess({current:p.current})})},[d,p.current]);const h=Object(o.b)(t=>()=>{null==d||d.addNewPage(t)},[d]),f=Object(o.b)((t,e)=>()=>{null==d||d.deletePage(t,e)},[d]);return i.e`
      <style>${n(417)}</style>
      <loading-progress-bar .ref=${p}></loading-progress-bar>

      <um-preloader .loading=${null==u?void 0:u.isLoading}>
        <div class="draft-content">
          <inscriptum-table-of-content .items=${null!==(l=null===(e=null==u?void 0:u.data)||void 0===e?void 0:e.table_of_contents)&&void 0!==l?l:[]} style=${Rn`
              margin-right: 7rem;
              margin-left: 3rem;
              width: 15rem;
            `}></inscriptum-table-of-content>
          <div>
            ${Object(a.a)(null!==(c=null===(s=null==u?void 0:u.data)||void 0===s?void 0:s.pages)&&void 0!==c?c:[],t=>t.id,(t,e)=>i.e`
                  ${d&&t.order>0?i.e`<inscriptum-icon .page=${t} .foldPage=${d.foldPage}></inscriptum-icon>`:null}
                  <div class="row">
                    <inscriptum-page .page=${t}></inscriptum-page>
                  </div>
                  <div class="row" style=${Rn`
                      border-bottom: 1px solid #eee;
                    `}>
                    <div class="fab-container">
                      ${e>0?i.e`<button @click=${f(t.id,t.order)} class="fab-buttons" tooltip="delete">
                          -
                        </button>`:null}
                      <button @click=${h(t.order+1)} class="fab-buttons" tooltip="add new after">
                        +
                      </button>
                      <button class="fab-buttons">${t.order}</button>
                    </div>
                  </div>
                `)}
          </div>
        </div>
      </um-preloader>
    `})))},62:function(t,e,n){var i;!function(o){"use strict";function r(t,e,n){var i,o=document.createElement("img");return o.onerror=function(i){return r.onerror(o,i,t,e,n)},o.onload=function(i){return r.onload(o,i,t,e,n)},"string"==typeof t?(r.fetchBlob(t,(function(e){e&&r.isInstanceOf("Blob",e)?(t=e,i=r.createObjectURL(t)):(i=t,n&&n.crossOrigin&&(o.crossOrigin=n.crossOrigin)),o.src=i}),n),o):r.isInstanceOf("Blob",t)||r.isInstanceOf("File",t)?(i=o._objectURL=r.createObjectURL(t))?(o.src=i,o):r.readFile(t,(function(t){var n=t.target;n&&n.result?o.src=n.result:e&&e(t)})):void 0}var a=o.createObjectURL&&o||o.URL&&URL.revokeObjectURL&&URL||o.webkitURL&&webkitURL;function l(t,e){!t._objectURL||e&&e.noRevoke||(r.revokeObjectURL(t._objectURL),delete t._objectURL)}r.fetchBlob=function(t,e){e()},r.isInstanceOf=function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},r.transform=function(t,e,n,i,o){n(t,o)},r.onerror=function(t,e,n,i,o){l(t,o),i&&i.call(t,e)},r.onload=function(t,e,n,i,o){l(t,o),i&&r.transform(t,o,i,n,{originalWidth:t.naturalWidth||t.width,originalHeight:t.naturalHeight||t.height})},r.createObjectURL=function(t){return!!a&&a.createObjectURL(t)},r.revokeObjectURL=function(t){return!!a&&a.revokeObjectURL(t)},r.readFile=function(t,e,n){if(o.FileReader){var i=new FileReader;if(i.onload=i.onerror=e,i[n=n||"readAsDataURL"])return i[n](t),i}return!1},void 0===(i=function(){return r}.call(e,n,e,t))||(t.exports=i)}("undefined"!=typeof window&&window||this)},63:function(t,e,n){"use strict";n.r(e),n.d(e,"SingleLineBlot",(function(){return l}));var i=n(60),o=n(64),r=n(61),a=n.n(r);class l extends i.c{replace(t){t.children.forEach(t=>{t instanceof o.BreakBlot&&t.replaceWith(a.a.create("text"," "))}),super.replace(t)}insertAt(t,e,n){void 0!==n&&"textBreak"==e?super.insertAt(t,"\n"):super.insertAt(t,e,n)}}},64:function(t,e,n){"use strict";n.r(e),n.d(e,"BreakBlot",(function(){return r}));var i=n(59),o=n(60);class r extends o.a{}r.blotName="textBreak",r.tagName="br",r.className="inline",i.a.register(r)},65:function(t,e,n){"use strict";n.r(e),n.d(e,"T",(function(){return r})),n.d(e,"draftSave",(function(){return a})),n.d(e,"getPageContent",(function(){return l})),n.d(e,"isEdit",(function(){return s})),n.d(e,"updateEditableText",(function(){return c})),n.d(e,"sanitize",(function(){return d})),n.d(e,"uploadDataToBlob",(function(){return p})),n.d(e,"showError",(function(){return h})),n.d(e,"updateEditable",(function(){return f})),n.d(e,"transliterate",(function(){return m})),n.d(e,"storageDelete",(function(){return g})),n.d(e,"draftClear",(function(){return b}));var i=n(90),o=n.n(i);let r={apiUrl:"https://inscriptum.js.org",datetime:0,pageId:0};function a(t,e){if(!t)return!1;if(!r.pageId){var n=l(!0,e);if(t!=n)return t=n,function(t,e){try{return localStorage.setItem(t,e),!!localStorage.getItem(t)}catch(t){return!1}}("draft",n)}return!1}function l(t,e){let n=e.scroll.domNode;n.querySelectorAll("textarea,input").forEach(t=>{t.setAttribute("data-value",t.value)});let i=n.cloneNode(!0);n.querySelectorAll("textarea,input").forEach(t=>{t.removeAttribute("data-value")}),i.querySelectorAll("textarea,input").forEach(t=>{t.value=t.getAttribute("data-value")||"",t.removeAttribute("data-value")}),c(i,!1);i.querySelectorAll("[contenteditable]").forEach(t=>t.removeAttribute("contenteditable"));i.querySelectorAll("[data-placeholder]").forEach(t=>t.removeAttribute("data-placeholder"));i.querySelectorAll("[data-label]").forEach(t=>t.removeAttribute("data-label"));i.querySelectorAll("[data-title]").forEach(t=>t.removeAttribute("data-title"));i.querySelectorAll(".editable_text").forEach(t=>t.classList.remove("editable_text"));i.querySelectorAll(".focus").forEach(t=>t.classList.remove("focus"));i.querySelectorAll(".empty").forEach(t=>t.classList.remove("empty"));i.querySelectorAll('[class=""]').forEach(t=>t.removeAttribute("class"));i.querySelectorAll(".file_progress").forEach(t=>t.remove());if(i.querySelectorAll(".cursor_wrapper").forEach(t=>t.remove()),!t){const t=i.querySelector("h1,address");t&&t.remove();const e=i.querySelector("br.inline");return e&&e.replaceWith("\n"),{data:JSON.stringify(u(i).children),length:i.innerHTML.length}}return i.querySelectorAll("h1").forEach(t=>{t.querySelector("br")||t.append(document.createElement("br"))}),i.querySelectorAll("address").forEach(t=>{t.querySelector("br")||t.append(document.createElement("br"))}),i.innerHTML}function s(){return document.getElementsByClassName("tl_article_edit").length>0}function c(t,e){void 0===e&&(e=s()),e?t.querySelectorAll(".editable_text").forEach(t=>{let e=!1;if(t.childNodes.forEach(t=>{!e&&t&&t.classList&&(e=t.classList.contains("editable_input"))}),!e){let e=t.textContent||"",n=document.createElement("textarea");n.classList.add("editable_input"),n.setAttribute("tabindex","-1"),n.setAttribute("rows","1"),n.value=e,e||t.classList.add("empty"),t.innerHTML="",t.append(n),o()(n)}}):t.querySelectorAll(".editable_text > .editable_input").forEach(t=>{let e=t.value,n=t.parentNode;n.innerHTML="",n.textContent=e})}function u(t){if(!t.tagName)return t.data;let e={tag:t.tagName.toLowerCase()};if(t.attributes.length){e.attrs={};for(var n=0;n<t.attributes.length;n++){let i=t.attributes[n];e.attrs[i.name]=i.value}}if(t.childNodes.length){e.children=[];for(n=0;n<t.childNodes.length;n++)e.children.push(u(t.childNodes[n]))}return e}function d(t,e){let n=document.createElement("a");n.href=t;let i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}function p(t){for(var e=atob(t.base64_data),n=[],i=0;i<e.length;i++)n.push(e.charCodeAt(i));return new Blob([new Uint8Array(n)],{type:t.type})}function h(t){let e=document.querySelector("#_error_msg");e.textContent=t,clearTimeout(e.to),e.classList.add("shown"),e.to=setTimeout(()=>{e.classList.remove("shown")},3e3)}function f(t,e,n,i,o,r){if(i&&i.classList.toggle("tl_article_edit",t),c(document.body),e&&(e.enable(t),t&&e.focus()),!t&&o&&r){const t=o.querySelector("h1"),i=t?t.textContent:"",a=o.querySelector("address"),l=a?a.textContent:"",s=o.querySelector("address a"),c=s&&s.getAttribute("href");r.querySelector("h1").textContent=i,r.querySelector("address a").textContent=l,c?r.querySelector("address a").setAttribute("href",c):r.querySelector("address a").removeAttribute("href"),n.hideFormatTooltip(e),n.hideBlocksTooltip()}}function m(t,e=!1){const n="щ   ш  ч  ц  ю  я  ё  ж  ъ  ы  э  а б в г д е з и й к л м н о п р с т у ф х ь".split(/ +/g),i="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g);for(let o=0;o<n.length;o++)t=(t=t.split(e?i[o]:n[o]).join(e?n[o]:i[o])).split(e?i[o].toUpperCase():n[o].toUpperCase()).join(e?n[o].toUpperCase():i[o].toUpperCase());return t}function g(t){try{return localStorage.removeItem(t),!0}catch(t){return!1}}function b(){g("draft")}!function(){var t=document.querySelector("time");if(t&&r.datetime){var e=new Date(1e3*r.datetime);let n="January February March April May June July August September October November December".split(" ")[e.getMonth()],i=e.getDate();t.textContent=n+" "+(10>i?"0":"")+i+", "+e.getFullYear()}}()},66:function(t,e,n){"use strict";n.r(e),n.d(e,"FieldBlot",(function(){return o}));var i=n(63);class o extends i.SingleLineBlot{}},68:function(t,e,n){"use strict";n.r(e),n.d(e,"browser",(function(){return B})),n.d(e,"editor",(function(){return R}));var i=n(141),o=n.n(i),r=n(114),a=n.n(r),l=n(60),s=n(59),c=n(98),u=n(87),d=n(142),p=n(101),h=n(143),f=n(120),m=n(88),g=n(64),b=n(66),v=n(89),y=n(91),_=n(92),x=n(63),k=n(83),T=n(85),E=n(93),S=n(102),w=n(129),A=n(74),N=n(94),I=n(84),O=n(99),L=n(65),q=n(95),C=n(96);let D=navigator.userAgent.toLowerCase(),B={opera:/opera/i.test(D)||/opr/i.test(D),msie:/msie/i.test(D)&&!/opera/i.test(D)||/trident\//i.test(D)||/edge/i.test(D),msie_edge:/edge/i.test(D)&&!/opera/i.test(D),mozilla:/firefox/i.test(D),chrome:/chrome/i.test(D)&&!/edge/i.test(D),safari:!/chrome/i.test(D)&&/webkit|safari|khtml/i.test(D),iphone:/iphone/i.test(D),ipod:/ipod/i.test(D),ipad:/ipad/i.test(D),android:/android/i.test(D),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(D),safari_mobile:/iphone|ipod|ipad/i.test(D),opera_mobile:/opera mini|opera mobi/i.test(D),opera_mini:/opera mini/i.test(D),mac:/mac/i.test(D)};function R(t,e){console.log(y.MyQuill.length),console.log(y.MyQuill.imports["formats/"]),v.LinkBlot.blotName="link",v.LinkBlot.tagName="a",v.LinkBlot.showLinkTooltip=e=>{t.showLinkTooltip(e,e.value,Object(L.isEdit)(),V)},v.LinkBlot.hideLinkTooltip=()=>t.hideLinkTooltip(V),y.MyQuill.register(v.LinkBlot,!0),T.FigureBlot.blotName="blockFigure",T.FigureBlot.tagName="figure",T.FigureBlot.quillSetSelection=(t,e=0)=>V.setSelection(t,e,s.a.sources.USER),T.FigureBlot.quillDeleteText=(t,e,n=s.a.sources.USER)=>V.deleteText(t,e,n),T.FigureBlot.quillInsertText=(t,e)=>V.insertText(t,e,s.a.sources.USER),T.FigureBlot.draftSave=()=>Object(L.draftSave)(n,V),y.MyQuill.register(T.FigureBlot,!0),y.MyQuill.register(C.DividerBlot),y.MyQuill.register({"modules/syntax":I.InsSyntaxModule,"formats/bold":S.a,"formats/italic":w.a,"formats/indent":d.a,"formats/list":u.ListContinuer,"formats/list-item":c.a,"formats/code":p.a,"formats/strike":h.a},!0);var n=!1;B.mobile&&document.body.classList.add("mobile");let i=document.querySelector(".tl_article"),r=document.querySelector(".tl_article_header"),D=document.querySelector(".tl_article_content"),R=document.querySelector("#_bold_button"),j=document.querySelector("#_italic_button"),P=document.querySelector("#_link_button"),F=document.querySelector("#_header_button"),M=document.querySelector("#_subheader_button"),U=document.querySelector("#_quote_button"),K=document.querySelector("#_strike_button"),z=document.querySelector("#_image_button"),$=document.querySelector("#_embed_button");document.querySelector(".account");var V=new y.MyQuill(e,{scrollingContainer:"html, body",readOnly:!0,modules:{syntax:{highlight:t=>q.default.highlightAuto(t).value},clipboard:{matchers:[G("h2",{blockHeader:!0}),G("h5",{blockSubheader:!0}),G("h6",{blockSubheader:!0}),["img",function(t,e){return t.src&&Object(L.sanitize)(t.src,["http","https","data"])?(new a.a).insert({blockFigure:{image:t.src,caption:t.alt||""}}):new a.a}],["video",function(t,e){return t.src&&Object(L.sanitize)(t.src,["http","https","data"])?(new a.a).insert({blockFigure:{video:t.src}}):new a.a}],["br",function(t,e){return console.log("modules.clipboard.matchers.br"),t.classList.contains("inline")?(new a.a).insert({textBreak:!0}):e}]]},keyboard:{bindings:{"required enter":{key:f.a.keys.ENTER,collapsed:!0,shiftKey:null,format:["blockTitle","blockDescription"],suffix:/^$/,handler:function(t,e){console.log("keyboard.bindings.required_enter.handler");let[n]=this.quill.scroll.descendant(b.FieldBlot,t.index);return!(n&&n.next&&n.next.domNode&&!n.next.domNode.textContent)||(this.quill.setSelection(n.next.offset(this.quill.scroll),0,s.a.sources.USER),!1)}},"required tab prev":{key:f.a.keys.TAB,shiftKey:!0,handler:function(t,e){console.log("keyboard.bindings.required_tab_prev.handler");let n=null;if(t.length>0){let e=V.scroll.descendants(l.c,t.index,t.length);if(1!=e.length)return!0;n=e[0]}else[n]=V.scroll.descendant(l.c,t.index);if(null!=n&&null!=n.prev&&n.prev instanceof b.FieldBlot){let t=n.prev.offset(V.scroll),e=n.prev.length();return V.setSelection(t,e>1?e:0,s.a.sources.USER),!1}return!0}},"required tab next":{key:f.a.keys.TAB,shiftKey:!1,handler:function(t,e){console.log("keyboard.bindings.required_tab_next.handler");let n=null;if(t.length>0){let e=V.scroll.descendants(l.c,t.index,t.length);if(1!=e.length)return!0;n=e[0]}else[n]=V.scroll.descendant(l.c,t.index);if(null!=n&&n instanceof b.FieldBlot&&null!=n.next){let t=n.next.offset(V.scroll);if(n.next instanceof b.FieldBlot){let e=n.next.length();V.setSelection(t,e>1?e:0,s.a.sources.USER)}else V.setSelection(t,0,s.a.sources.USER);return!1}return!0}},"no tab":{key:f.a.keys.TAB,shiftKey:null,handler:function(t,e){return console.log("keyboard.bindings.no_tab.handler"),!1}},"detect embed":{key:f.a.keys.ENTER,collapsed:!0,handler:function(e,n){console.log("keyboard.bindings.detect_embed.handler");let[i,o]=V.scroll.line(e.index);if(i){let n,r=i.domNode.textContent.substr(0,o);if(n=r.match(/(^|\s)(https?:\/\/\S+)$/)){let l=n[2];if(V.scroll.descendants(v.LinkBlot,e.index-l.length,l.length).length||V.formatText(e.index-l.length,l.length,"link",l,s.a.sources.USER),!r.substr(0,o-l.length).trim().length&&"P"==i.domNode.tagName){let e=Y(l);if(e){let n=i.offset(V.scroll);return V.updateContents((new a.a).retain(n).delete(r.length).insert({blockFigure:e}),s.a.sources.USER),t.hideBlocksTooltip(),!1}}}}return!0}},"divider autofill":{key:f.a.keys.ENTER,collapsed:!0,prefix:/^([-*])\1{2,}$/,handler:function(t,e){console.log("keyboard.bindings.divider_autofill.handler");let[n,i]=V.scroll.line(t.index);if(n&&"P"==n.domNode.tagName){let t=n.offset(V.scroll),e=(new a.a).retain(t).delete(n.length()).insert({blockDivider:!0});return n.next||e.insert("\n"),V.updateContents(e,s.a.sources.USER),!1}return!0}},break:{key:f.a.keys.ENTER,shiftKey:!0,handler:Q.bind(null,!0)},enter:{key:f.a.keys.ENTER,handler:Q.bind(null,!1)},"detect link":{key:" ",collapsed:!0,handler:function(t){console.log("detectLinkHandler",t);let[e,n]=V.scroll.line(t.index);if(e){let i,o=e.domNode.textContent.substr(0,n);if(i=o.match(/(^|\s)((?:https?|tg):\/\/\S+|www\.\S+)$/)){let e=i[2],n=e.length;"www."==e.substr(0,4)&&(e="http://"+e),V.scroll.descendants(v.LinkBlot,t.index-n,n).length||V.formatText(t.index-n,n,"link",e,s.a.sources.USER)}}return!0}},"cancel placeholder":{key:f.a.keys.ESCAPE,handler:function(t,e){return console.log("keyboard.bindings.cancel_placeholder.handler"),J(),this.quill.updateSelection(s.a.sources.USER),!0}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{list:!1,"code-block":!1,blockquote:!1,header:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query&&null==this.quill.scroll.query("list"))return!0;const{length:n}=e.prefix,[i,o]=this.quill.getLine(t.index);if(o>n)return!0;let r;switch(e.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r={type:"ordered",start:Number(e.prefix.slice(0,-1))-1}}this.quill.insertText(t.index," ",s.a.sources.USER),this.quill.history.cutoff(),console.log("keyboard.bindings.list_autofill.handler",t,e);const l=(new a.a).retain(t.index-o).delete(n+1).retain(i.length()-2-o).retain(1,{list:r,start:r.start});console.log("keyboard.bindings.list_autofill.handler",l);const c=this.quill.updateContents(l,s.a.sources.USER);return console.log("keyboard.bindings.list_autofill.handler",c),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,s.a.sources.SILENT),!1}},"pre wrap":{key:192,collapsed:!0,format:{"code-block":!1},prefix:/^``$/,offset:2,handler:function(t,e){console.log("keyboard.bindings.pre_wrap.handler");let n=e.prefix.length,i=t.index-n;this.quill.scroll.deleteAt(i,n),this.quill.formatLine(i,1,"code-block",!0,s.a.sources.USER),this.quill.setSelection(i,s.a.sources.SILENT)}},code:{key:192,handler:function(t,e){if(console.log("keyboard.bindings.code.handler",!e.format),!e.collapsed){let n=V.scroll.descendants(l.c,t.index,t.length);if(n.length>1||1==n.length&&n[0]instanceof O.a)return this.quill.format("code-block",!e.format["code-block"],s.a.sources.USER),!1;if(V.scroll.descendants(g.BreakBlot,t.index,t.length).length)return this.quill.format("code-block",!e.format["code-block"],s.a.sources.USER),!1}if(e.collapsed&&!e.format.code&&!/\s$/.test(e.prefix))return!0;this.quill.format("code",!e.format.code,s.a.sources.USER)}},"figure delete":{key:f.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(t,e){console.log("keyboard.bindings.figure_delete.handler");let[n,i]=V.scroll.line(t.index);return!(n&&n.prev&&n.prev instanceof T.FigureBlot)||(e.empty&&V.deleteText(t.index,1,s.a.sources.USER),V.setSelection(n.prev.offset(V.scroll)),!1)}},"field backspace":{key:f.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(t,e){console.log("keyboard.bindings.field_backspace.handler");let[n,i]=V.scroll.line(t.index);return!(n&&n.prev&&n.prev instanceof b.FieldBlot&&n.domNode.textContent.length>0)}},strikethrough:{key:"X",shortKey:!0,shiftKey:!0,handler:function(t,e){V.formatText(t,"strike",!e.format.strike)}}}}}});function G(t,e){return[t,function(t,n){return n.compose((new a.a).retain(n.length(),e))}]}function H(t){let e=function(t){let[e,n]=V.scroll.line(t);return V.getText(t,e.length()-n)}(t);return!e||"\n"==e}function Q(t,e,n){console.log("breakHandler",t,e,n);let i,o=e.index;e.length>0&&V.scroll.deleteAt(o,e.length);let r=H(o),a=!1;return[i]=V.scroll.descendant(g.BreakBlot,o),i?(!i.prev||i.prev instanceof g.BreakBlot)&&(V.scroll.deleteAt(--o,1),a=!0):([i]=V.scroll.descendant(g.BreakBlot,o-1),i&&(V.scroll.deleteAt(--o,1),a=!0)),[i]=V.scroll.descendant(x.SingleLineBlot,o),i||a||!t?(V.insertText(o,"\n",s.a.sources.USER),V.setSelection(++o,0,s.a.sources.USER),(n.format.blockHeader||n.format.blockSubheader||n.format.blockBlockquote||n.format.blockPullquote)&&r&&V.formatLine(o,1,{blockHeader:!1,blockSubheader:!1,blockBlockquote:!1,blockPullquote:!1},s.a.sources.USER)):(V.insertEmbed(o,"textBreak",!0,s.a.sources.USER),[i]=V.scroll.descendant(g.BreakBlot,o),!i||i.next||i.prev&&i.prev instanceof g.BreakBlot||(V.insertEmbed(++o,"textBreak",!0,s.a.sources.SILENT),V.setSelection(o,0,s.a.sources.SILENT))),!1}function W(t){let e=null==t?{}:V.getFormat(t),n=!!e.blockDescription,i=!(!e.blockHeader&&!e.blockSubheader),o=!!e["code-block"];if(R.classList.toggle("active",!!e.bold),R.classList.toggle("disabled",n||i||o),j.classList.toggle("active",!!e.italic),j.classList.toggle("disabled",n||i||o),F.classList.toggle("active",!!e.blockHeader),F.classList.toggle("disabled",n),M.classList.toggle("active",!!e.blockSubheader),M.classList.toggle("disabled",n),U.classList.toggle("active",!(!e.blockBlockquote&&!e.blockPullquote)),U.classList.toggle("pullquote",!!e.blockPullquote),U.classList.toggle("disabled",n),K.classList.toggle("active",!!e.strike),K.classList.toggle("disabled",n),null!=t){let e=V.scroll.descendants(v.LinkBlot,t.index,t.length);P.classList.toggle("active",!!e.length)}else P.classList.toggle("active",!1);P.classList.toggle("disabled",o)}function Y(t){let e;if((e=t.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/i))||(e=t.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/i)))return{embed:"/embed/youtube?url="+encodeURIComponent(t)};if(e=t.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/i))return{embed:"/embed/vimeo?url="+encodeURIComponent(t)};if(e=t.match(/^(https?):\/\/(www\.|mobile\.)?twitter\.com\/(.+)\/status\/(\d+)/i))return{embed:"/embed/twitter?url="+encodeURIComponent(t)};if(e=t.match(/^(https?):\/\/(t\.me|telegram\.me|telegram\.dog)\/([a-zA-Z0-9_]+)\/(\d+)/i))return{embed:"/embed/telegram?url="+encodeURIComponent(t)};if(e=t.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))return"video/"==e[1].substr(0,6)?{video:t}:{image:t};if(e=t.match(/^(https?):\/\/\S+/i)){let n=document.createElement("a");if(n.href=t,n.pathname.match(/\.(jpe?g|png|gif|mp4)$/i))return"mp4"==e[1]?{video:t}:{image:t}}return!1}function J(){const t=document.querySelector(".placeholder_once");null!==t&&(t.removeAttribute("data-placeholder"),t.classList.remove("placeholder_once","empty"))}function X(t){t.scroll.descendants(l.c,0,t.scroll.length()).forEach(t=>{if(t.domNode.hasAttribute("data-placeholder")){let e=t.domNode.textContent;t.domNode.classList.toggle("empty",!e)}})}function Z(t){let[e,n]=t.scroll.lines();if(e instanceof l.a)t.updateContents((new a.a).insert("\n",{blockTitle:!0}).insert("\n",{blockDescription:!0}),s.a.sources.SILENT);else if(e instanceof k.TitleBlot||t.formatLine(0,1,{blockTitle:!0},s.a.sources.SILENT),n){if(n instanceof l.a){let e=n.offset(t.scroll);t.updateContents((new a.a).retain(e).insert("\n",{blockDescription:!0}),s.a.sources.SILENT)}else if(!(n instanceof E.DescriptionBlot)){let e=n.offset(t.scroll);t.formatLine(e,1,{blockDescription:!0},s.a.sources.SILENT)}}else{let e=t.scroll.length();t.updateContents((new a.a).retain(e).insert("\n",{blockDescription:!0}),s.a.sources.SILENT)}let[,,i]=t.scroll.lines();if(i){let e=i.offset(t.scroll),n=t.scroll.length()-e;t.scroll.descendants(b.FieldBlot,e,n).forEach(e=>{let n=e.offset(t.scroll),i=e.length(),o=e.constructor.blotName;t.formatText(n,i,o,!1,s.a.sources.SILENT)})}else{let e=t.scroll.length();t.insertText(e,"\n",s.a.sources.SILENT)}let o=t.scroll.lines();o.forEach((t,e)=>{"P"==t.domNode.tagName&&(3==o.length&&2==e?t.domNode.setAttribute("data-placeholder","Your story..."):t.domNode.removeAttribute("data-placeholder"))})}function tt(t,e){(e=e||{}).close_btn=e.close_btn||"OK",e.submit_btn=e.submit_btn||!1,e.close=e.close||et,e.submit=e.submit||e.close,et();var n=document.createElement("div");n.classList.add("tl_alert"),n.innerHTML='<main class="tl_alert_message"><section></section><aside class="tl_message_buttons"></aside></main>',n.querySelector("section").innerHTML=t;var i=n.querySelector("aside");if(e.close_btn){var o=document.createElement("button");o.classList.add("button"),o.innerHTML=e.close_btn,o.addEventListener("click",e.close),o.append(i)}if(e.submit_btn){var r=document.createElement("button");r.classList.add("button"),r.innerHTML=e.submit_btn,r.addEventListener("click",(function(){n.classList.add("tl_alert_loading"),e.submit()})),r.append(i)}n.append("body")}function et(){const t=document.querySelector(".tl_alert");t&&t.remove()}function nt(t){let e=t.querySelector(".prompt_input"),n=t.querySelector(".close");e.onkeydown=null,e.onblur=null,n.onclick=null,t.style.display="",t.classList.remove("tooltip_prompt"),V.focus()}return V.addContainer(t.$tl_link_tooltip),V.addContainer(t.$tl_tooltip),V.addContainer(t.$tl_blocks),V.on(s.a.events.EDITOR_CHANGE,(function(e,n){if(e!==s.a.events.SELECTION_CHANGE)return;if(!V.isEnabled())return;if(null==n)return;!function(e){let[n]=V.scroll.descendant(T.FigureBlot,e.index);V.scroll.descendants(T["FigureBlot"],0,V.scroll.length()).forEach(t=>{n!==t&&t.blur()}),n&&(n.focus(),t.hideFormatTooltip(V),t.hideBlocksTooltip())}(n);let[o,r]=V.scroll.descendant(l.c,n.index);0===n.length?(t.hideFormatTooltip(V),null==o||o instanceof b.FieldBlot||o instanceof m.BlockquoteBlot||o instanceof _.PullquoteBlot||o instanceof O.a||o instanceof c.a||""!==o.domNode.textContent?t.hideBlocksTooltip():t.showBlocksTooltip(n,Object(L.isEdit)(),V)):(null==o||o instanceof k.TitleBlot?t.hideFormatTooltip(V):(t.showFormatTooltip(n,V,Object(L.isEdit)()),W(n)),t.hideBlocksTooltip());let a=V.getFormat(n);i&&i.classList.toggle("title_focused",!(!a.blockTitle&&!a.blockDescription)),J()})),V.on(s.a.events.TEXT_CHANGE,(function(){V.getSelection();Z(V),X(V),J(),Object(L.draftSave)(n,V)})),V.on(s.a.events.SCROLL_OPTIMIZE,(function(t){t.forEach(t=>{if("childList"==t.type&&!t.addedNodes.length&&t.removedNodes.length){let e=t.previousSibling,n=t.nextSibling;if(!n&&e&&"BR"==e.tagName&&"inline"==e.className){let e=document.createElement("br");e.className="inline",t.target.appendChild(e)}else!n||!e||"BR"==e.tagName&&"inline"==e.className||"BR"!=n.tagName||"inline"!=n.className||n.nextSibling||n.parentNode&&n.parentNode.removeChild(n)}})})),V.scroll.domNode.setAttribute("dir","auto"),document.addEventListener("click touchstart",(function(e){let n=e.target;for(;n;){if(n===V.container)return;n=n.parentNode}t.hideFormatTooltip(V),t.hideBlocksTooltip()})),Z(V),X(V),function(){const e={page_id:L.T.pageId};e.save_hash&&(L.T.saveHash=e.save_hash);if(!L.T.pageId&&(i&&i.classList.add("tl_article_edit"),!function(){if(!L.T.pageId)return function(t){try{return localStorage.getItem(t)}catch(t){return!1}}("draft");return!1}()&&e.author_name)){let t;t=e.author_url?{link:e.author_url}:{};let[n]=V.scroll.descendants(E.DescriptionBlot);n&&V.updateContents((new a.a).retain(n.offset()).delete(n.length()).insert(e.author_name,t),s.a.sources.USER)}if(e.auth_alert&&e.short_name){var o="Success! You are now logged in as <b>"+(e.short_name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;")+"</b> in this browser.");e.migrate_count>0&&e.migrate_hash?(o+="<br/><br/>",tt(o+="We can also add "+e.migrate_count+" Telegraph page"+(e.migrate_count>1?"s":"")+" from this browser to your account.",{close_btn:"Skip",submit_btn:"Add",submit:function(){var t;t=e.migrate_hash,console.log(t)}})):tt(o)}n=Object(L.getPageContent)(!0,V),Object(L.updateEditable)(Object(L.isEdit)(),V,t,i,D,r)}(),R.onclick=t=>{console.log("$bold_button.onclick");let e=t.target.classList.contains("active");t.preventDefault(),console.log("$bold_button.onclick",!e),V.format("bold",!e),console.log("$bold_button.onclick",V.getSelection(!0)),V.updateSelection(s.a.sources.API)},j.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault(),V.format("italic",!e),V.updateSelection(s.a.sources.API)},P.onclick=e=>{let n=e.target.classList.contains("active");e.preventDefault();var i=V.getSelection(!0);if(n){V.scroll.descendants(v.LinkBlot,i.index,i.length).forEach(t=>{let e=t.offset(V.scroll),n=t.length();V.formatText(e,n,"link",!1)}),W(i)}else!function(t,e,n){let i=t.querySelector(".prompt_input"),o=t.querySelector(".close");i.value="",i.setAttribute("placeholder",e),i.onkeydown=e=>{let o=e.which||e.keyCode;if(27==o)nt(t);else if(13==o){let o=i.value;o&&(n&&n(o),e.preventDefault()),nt(t)}},i.onblur=()=>{nt(t)},o.onclick=()=>{nt(t)},t.style.display="",t.classList.add("tooltip_prompt"),i.focus()}(t.$tl_tooltip,"Paste or type a link...",(function(t){"#"!=(t=t.trim()).substr(0,1)&&"/"!=t.substr(0,1)&&"http://"!=t.substr(0,7)&&"https://"!=t.substr(0,8)&&"tg://"!=t.substr(0,5)&&"mailto:"!=t.substr(0,7)&&(t=t.indexOf("@")>0?"mailto:"+t:"http://"+t),V.focus(),V.format("link",t),W(i)}))},F.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault();let n=V.getSelection(!0);V.format("blockHeader",!e),V.scroll.descendants(A.HeaderBlot,n.index,n.length).forEach(t=>{let e=t.offset(V.scroll),n=t.length();V.formatText(e,n,{bold:!1,italic:!1,code:!1},s.a.sources.SILENT)}),V.updateSelection(s.a.sources.API)},M.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault();let n=V.getSelection(!0);V.format("blockSubheader",!e),V.scroll.descendants(N.SubheaderBlot,n.index,n.length).forEach(t=>{let e=t.offset(V.scroll),n=t.length();V.formatText(e,n,{bold:!1,italic:!1,code:!1},s.a.sources.SILENT)}),V.updateSelection(s.a.sources.API)},U.onclick=t=>{let e=t.target,n=e.classList.contains("active"),i=e.classList.contains("pullquote");t.preventDefault();V.getSelection(!0);n?V.format("blockPullquote",!i):V.format("blockBlockquote",!0),V.updateSelection(s.a.sources.API)},K.onclick=t=>{let e=t.target.classList.contains("active");t.preventDefault(),V.format("strike",!e),V.updateSelection(s.a.sources.API)},z.onclick=()=>{let t=V.container.querySelector("input.ql-image[type=file][data-status=ready]");null==t&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",B.safari_mobile?"image/gif, image/jpeg, image/jpg, image/png":"image/gif, image/jpeg, image/jpg, image/png, video/mp4"),t.classList.add("ql-image"),t.addEventListener("change",()=>{if(t&&null!=t.files&&null!=t.files[0]){var e=t.files[0];const n=function(){Object(L.showError)("File too big (up to 5 MB allowed)")},i=5242880;!function(t,e){if("image/jpg"==t.type||"image/jpeg"==t.type)return o()(t,n=>{if("error"===n.type)e(t);else if(n.toBlob)n.toBlob((function(t){e(t)}),t.type);else{var i=n.toDataURL(t.type),o={type:t.type,base64_data:i.split(",")[1]};e(Object(L.uploadDataToBlob)(o))}},{canvas:!0,orientation:!0});e(t)}(e,e=>{if(e.size>i)return n&&n();var o=new FileReader;o.onload=function(e){if(e&&null!==e.target){let n=Y(e.target.result);if(n){let t=V.getSelection(!0);V.updateContents((new a.a).retain(t.index).delete(t.length).insert({blockFigure:n}),s.a.sources.USER)}else Object(L.showError)("Invalid file format");t.value="",t.setAttribute("data-status","ready")}},o.readAsDataURL(e)})}}),V.container.appendChild(t)),t.setAttribute("data-status","busy"),t.click()},$.onclick=e=>{let n=V.getSelection(!0),[i]=V.scroll.line(n.index);const o=i.domNode;if(i){o.textContent||(o.setAttribute("data-placeholder","Paste a YouTube, Vimeo or Twitter link, and press Enter"),o.classList.add("placeholder_once","empty"),t.hideBlocksTooltip())}},window.addEventListener("scroll resize",()=>{t.tooltipUpdatePosition(t.$tl_tooltip,null,t.formatTTOptions,V),t.tooltipUpdatePosition(t.$tl_link_tooltip,null,t.linkTTOptions,V)}),V}},74:function(t,e,n){"use strict";n.r(e),n.d(e,"HeaderBlot",(function(){return r}));var i=n(59),o=n(63);class r extends o.SingleLineBlot{optimize(t){super.optimize(t);let e=this.domNode.innerText;e=e.replace(/[\s_]+/g,"-"),e=e.replace(/(^-+|-+$)/g,""),this.domNode.id!==e&&this.domNode.setAttribute("id",e)}formatAt(t,e,n,i){("bold"!==n&&"italic"!==n&&"code"!==n||!i)&&super.formatAt(t,e,n,i)}}r.blotName="blockHeader",r.tagName="h3",i.a.register(r)},77:function(t,e,n){var i,o,r;!function(a){"use strict";o=[n(62)],void 0===(r="function"==typeof(i=function(t){var e="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);t.blobSlice=e&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},t.metaDataParsers={jpeg:{65505:[],65517:[]}},t.parseMetaData=function(e,n,i,o){o=o||{};var r=this,a=(i=i||{}).maxMetaDataSize||262144;!!("undefined"!=typeof DataView&&e&&e.size>=12&&"image/jpeg"===e.type&&t.blobSlice)&&t.readFile(t.blobSlice.call(e,0,a),(function(e){if(e.target.error)return console.log(e.target.error),void n(o);var a,l,s,c,u=e.target.result,d=new DataView(u),p=2,h=d.byteLength-4,f=p;if(65496===d.getUint16(0)){for(;p<h&&((a=d.getUint16(p))>=65504&&a<=65519||65534===a);){if(p+(l=d.getUint16(p+2)+2)>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if((s=t.metaDataParsers.jpeg[a])&&!i.disableMetaDataParsers)for(c=0;c<s.length;c+=1)s[c].call(r,d,p,l,o,i);f=p+=l}!i.disableImageHead&&f>6&&(u.slice?o.imageHead=u.slice(0,f):o.imageHead=new Uint8Array(u).subarray(0,f))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(o)}),"readAsArrayBuffer")||n(o)},t.replaceHead=function(e,n,i){t.parseMetaData(e,(function(o){i(new Blob([n,t.blobSlice.call(e,o.imageHead.byteLength)],{type:"image/jpeg"}))}),{maxMetaDataSize:256,disableMetaDataParsers:!0})},t.hasMetaOption=function(t){return t&&t.meta};var n=t.transform;t.transform=function(e,i,o,r,a){t.hasMetaOption(i)?t.parseMetaData(r,(function(a){n.call(t,e,i,o,r,a)}),i,a):n.apply(t,arguments)}})?i.apply(e,o):i)||(t.exports=r)}()},83:function(t,e,n){"use strict";n.r(e),n.d(e,"TitleBlot",(function(){return r}));var i=n(59),o=n(66);class r extends o.FieldBlot{static create(t){let e=super.create(t);return e.setAttribute("data-placeholder","Title"),e.setAttribute("data-label","Title"),e}formatAt(t,e,n,i){n===r.blotName&&super.formatAt(t,e,n,i)}}r.blotName="blockTitle",r.tagName="h1",i.a.register(r)},84:function(t,e,n){"use strict";n.r(e),n.d(e,"CodeEndLineFlag",(function(){return a})),n.d(e,"InsSyntaxCodeBlock",(function(){return l})),n.d(e,"InsSyntaxModule",(function(){return s}));var i=n(59),o=n(78),r=n(99);class a extends o.a{static formats(){return{}}}a.blotName="code-end",a.className="l",a.tagName="SPAN",i.a.register(a);class l extends r.a{highlight(t){let e=this.domNode.textContent||"";if(this.cachedText!==e){if(e.trim().length>0||null==this.cachedText){let n="";const i=t(e).split("\n");for(let t=0;t<i.length-1;t++)n+=`<span class="l">${i[t]||" "}</span>\n`;n+=`<span class="l">${i[i.length-1]}</span>`,this.domNode.innerHTML=`<code class="hljs">${n}</code>`}this.cachedText=e}}}class s extends r.c{static register(){i.a.register(r.b,!0),i.a.register(l,!0)}highlight(){if(this.quill.selection.composing)return;this.quill.update(i.a.sources.USER);let t=this.quill.getSelection();this.quill.scroll.descendants(l).forEach(t=>{t.highlight(this.options.highlight)}),this.quill.update(i.a.sources.SILENT),null!=t&&document.activeElement===this.quill.container.querySelector("[contenteditable]")&&this.quill.setSelection(t,i.a.sources.SILENT)}}},85:function(t,e,n){"use strict";n.r(e),n.d(e,"FigureBlot",(function(){return d}));var i=n(59),o=n(60),r=n(120),a=n(90),l=n.n(a),s=n(86),c=n(65),u=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{s(i.next(t))}catch(t){r(t)}}function l(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))};class d extends o.a{constructor(t,e){super(t),this.domNode=t,this.domWrapper=document.createElement("div"),this.domCursor=document.createElement("span"),this.domCaption=document.createElement("figcaption"),this.domWrapper.classList.add("figure_wrapper"),this.domCursor.classList.add("cursor_wrapper"),this.domCursor.setAttribute("contenteditable","true"),this.domCaption.classList.add("editable_text"),this.domCaption.setAttribute("data-placeholder","Caption (optional)"),e.caption&&(this.domCaption.innerText=e.caption),this.domNode.appendChild(this.domWrapper),this.domNode.appendChild(this.domCursor),this.domNode.appendChild(this.domCaption),setTimeout(()=>{Object(c.updateEditableText)(this.domNode)},1);let n=!1;e.image?(this.appendImgNode(e.image),n=this.uploadData(e.image)):e.video?(this.appendVideoNode(e.video),n=this.uploadData(e.video)):e.embed&&this.appendIframeNode(e.embed),n&&(this.domProgress=document.createElement("div"),this.domProgressBar=document.createElement("div"),this.domProgress.classList.add("file_progress"),this.domProgressBar.classList.add("file_progress_bar"),this.domWrapper.classList.add("loading"),this.domProgress.appendChild(this.domProgressBar),this.domWrapper.appendChild(this.domProgress),this.uploadFile(n)),this.domWrapper.onclick=()=>{if(!this.domNode.classList.contains("focus")){let t=this.offset(this.scroll);this.focus(),d.quillSetSelection(t)}},this.domCursor.onkeydown=t=>{let e=t.which||t.keyCode;if(e==r.a.keys.BACKSPACE){let e=this.offset(this.scroll);d.quillDeleteText(e,this.length()),d.quillSetSelection(e-1),t.preventDefault()}else if(e==r.a.keys.ENTER){let e=this.offset(this.scroll)+this.length();this.focus(),d.quillInsertText(e,"\n"),d.quillSetSelection(e),t.preventDefault()}},this.domCursor.onpaste=t=>{t.stopPropagation(),t.preventDefault()},this.domCaption.onkeydown=t=>{let e=t.which||t.keyCode,n=t.target;if(e==r.a.keys.ENTER){if(t.shiftKey)return;let e={start:n.selectionStart,end:n.selectionEnd},i=n.value;if(e.start!=e.end)i=i.substr(0,e.start)+i.substr(e.end),n.setSelectionRange(i.length,i.length);else if(e.end==i.length){let t=this.offset(this.scroll)+this.length();this.focus(),d.quillInsertText(t,"\n"),d.quillSetSelection(t)}t.preventDefault()}else if(e==r.a.keys.DOWN||e==r.a.keys.TAB||e==r.a.keys.RIGHT){let e={start:n.selectionStart,end:n.selectionEnd},i=n.value;if(e.start==e.end&&e.end==i.length){let e=this.offset(this.scroll)+this.length();this.focus(),d.quillSetSelection(e,0),t.preventDefault()}}else if(e==r.a.keys.LEFT||e==r.a.keys.UP){let e={start:n.selectionStart,end:n.selectionEnd};if(e.start==e.end&&0===e.start){let e=this.offset(this.scroll)-1;this.focus(),d.quillSetSelection(e,0),t.preventDefault()}}};const i=t=>{null!==t&&null!==t.target&&(this.domCaption.classList.toggle("empty",!t.target.value),l.a.update(t.target),d.draftSave())};this.domCaption.onpaste=t=>{t.stopPropagation(),i(t)},this.domCaption.onkeyup=i,this.domCaption.ondrop=i,this.domCaption.onchange=i,this.domCaption.oninput=i,this.domCaption.oncut=i,this.domCaption.onclick=t=>{t.target&&t.target.focus()}}static create(t){let e=super.create(t);return e.setAttribute("contenteditable","false"),e}appendImgNode(t){let e=document.createElement("img");return e.setAttribute("src",this.sanitize(t)),this.domWrapper.appendChild(e),e}appendVideoNode(t){let e=document.createElement("video");return e.setAttribute("src",this.sanitize(t)),e.setAttribute("preload","auto"),e.setAttribute("controls","controls"),e.addEventListener("loadeddata",(function(){this.mozHasAudio||this.webkitAudioDecodedByteCount||this.audioTracks&&this.audioTracks.length||(this.setAttribute("autoplay","autoplay"),this.setAttribute("loop","loop"),this.setAttribute("muted","muted"),this.removeAttribute("controls"),this.play())})),this.domWrapper.appendChild(e),e}appendIframeNode(t){let e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("iframe");return e.classList.add("iframe_wrap"),e.appendChild(n),n.classList.add("iframe_helper"),n.style.paddingTop="56.25%",n.appendChild(i),i.setAttribute("src",this.sanitize(t)),i.setAttribute("width","640"),i.setAttribute("height","360"),i.setAttribute("frameborder","0"),i.setAttribute("allowtransparency","true"),i.setAttribute("allowfullscreen","true"),i.setAttribute("scrolling","no"),this.domWrapper.appendChild(e),e}uploadFile(t){this.uploadFileStart(t,(t,e)=>{let n=0;e&&t&&(n=100*t/e,n=Math.min(100,n)),this.domProgressBar.style.width=n+"%"},e=>{if(e){let n=this.sanitize(e.src);if("video/"==t.type.substr(0,6)){let t=this.domWrapper.querySelector("video");t&&t.setAttribute("src",n)}else{let t=this.domWrapper.querySelector("img");t&&t.setAttribute("src",n)}this.domWrapper.classList.remove("loading"),d.draftSave()}},t=>(d.quillDeleteText(this.offset(this.scroll),this.length(),i.a.sources.SILENT),d.draftSave(),Object(c.showError)(t)))}uploadData(t){let e=null;return!!(e=t.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))&&{type:e[1],base64_data:e[2]}}sanitize(t){return Object(c.sanitize)(t,["http","https","data"])?t:"//:0"}static value(t){let e={caption:""},n=t.querySelector("img");n&&(e.image=n.src);let i=t.querySelector("video");i&&(e.video=i.src);let o=t.querySelector("iframe");o&&(e.embed=o.src);let r=t.querySelector("figcaption");if(r){let t=r.querySelector(".editable_input");e.caption=t?t.value:r.innerText}return e}focus(){this.domNode.classList.add("focus")}blur(){this.domNode.classList.remove("focus")}_index(t,e){if(t===this.domCaption)return 0;let n=0;return t.nodeType==t.TEXT_NODE&&(n+=e>=0?e:t.data.length),t.previousSibling?n+this._index(t.previousSibling,-1):t.parentNode?n+this._index(t.parentNode,-1):0}_position(t,e){if(t.nodeType==t.TEXT_NODE)return e<=t.data.length?[t,e]:[null,e-=t.data.length];{let n=t.firstChild;for(;n;){let t=null;if([t,e]=this._position(n,e),t)return[t,e];n=n.nextSibling}return[t,e]}}update(t){this.domCursor.innerHTML=""}index(t,e){return 0}position(t,e){return[this.domCursor,0]}uploadFileStart(t,e,n,i){return u(this,void 0,void 0,(function*(){try{const i=yield Object(s.uploadFileService)(Object(c.uploadDataToBlob)(t),e);n&&n(i)}catch(t){i&&i("Network error")}}))}}},86:function(t,e,n){"use strict";n.r(e),n.d(e,"uploadFileService",(function(){return i}));function i(t,e){return new Promise((n,i)=>{var o=new XMLHttpRequest,r=new FormData;o.open("POST","https://api.cloudinary.com/v1_1/inscriptum/upload",!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.upload.addEventListener("progress",(function(t){t.lengthComputable&&e&&e(t.loaded,t.total)})),e&&e(0,1),r.append("upload_preset","cz5pibn5"),r.append("tags","browser_upload"),r.append("file",t),o.send(r),o.onreadystatechange=t=>{if(4==o.readyState&&200==o.status){var e=JSON.parse(o.responseText);console.log(1111,e),e.src=e.secure_url,n(e)}},o.onerror=function(){i(new Error("Network Error"))}})}},87:function(t,e,n){"use strict";n.r(e),n.d(e,"ListContinuer",(function(){return o}));var i=n(98);class o extends i.b{static create(t){let e;return"string"==typeof t?e=super.create(t):(e=super.create(t.type),void 0!==t.start&&(e.setAttribute("start",t.start),e.style["counter-reset"]="list-0 "+t.start)),e}static formats(t){let e=super.formats(t);return console.log("MyList-static.formats",e,t.getAttribute("start")),{type:e,start:t.getAttribute("start")}}}},88:function(t,e,n){"use strict";n.r(e),n.d(e,"BlockquoteBlot",(function(){return r}));var i=n(59),o=n(60);class r extends o.c{}r.blotName="blockBlockquote",r.tagName="blockquote",i.a.register(r)},89:function(t,e,n){"use strict";n.r(e),n.d(e,"LinkBlot",(function(){return r}));var i=n(78),o=n(65);class r extends i.a{constructor(t,e){super(t),this.value=e,t.addEventListener("mouseover",r.showLinkTooltip.bind(this,this),!1),t.addEventListener("mouseout",r.hideLinkTooltip,!1)}static create(t){let e=super.create(t);t=this.sanitize(t),e.setAttribute("href",t);var n=t.substr(0,1);return"/"!=n&&"#"!=n&&"tg://"!=t.substr(0,5)&&"mailto:"!=t.substr(0,7)&&e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){const e=r.relativeUrl(t);return Object(o.sanitize)(t,["http","https","tg","mailto"])?e:"about:blank"}detach(){this.domNode.removeEventListener("mouseover",r.showLinkTooltip.bind(this,this),!1),this.domNode.removeEventListener("mouseout",r.hideLinkTooltip,!1),super.detach(),r.hideLinkTooltip()}format(t,e){if(t!==this.statics.blotName||!e)return super.format(t,e);e=r.sanitize(e),this.domNode.setAttribute("href",e),this.domNode.setAttribute("data-title",e)}static relativeUrl(t){let e=location,n=document.createElement("a");return n.href=t,e.origin!==n.origin?n.href:e.pathname!==n.pathname||e.search!==n.search?n.pathname+n.search+n.hash:e.href===n.href?n.hash||n.pathname+n.search+n.hash:n.hash}}},90:function(t,e,n){var i,o,r;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/o=[t,e],void 0===(r="function"==typeof(i=function(t,e){"use strict";var n,i,o="function"==typeof Map?new Map:(n=[],i=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return i[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),i.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),i.splice(e,1))}}),r=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){r=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function a(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var e,n=null,i=null,a=null,l=function(){t.clientWidth!==i&&d()},s=function(e){window.removeEventListener("resize",l,!1),t.removeEventListener("input",d,!1),t.removeEventListener("keyup",d,!1),t.removeEventListener("autosize:destroy",s,!1),t.removeEventListener("autosize:update",d,!1),Object.keys(e).forEach((function(n){t.style[n]=e[n]})),o.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",s,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",d,!1),window.addEventListener("resize",l,!1),t.addEventListener("input",d,!1),t.addEventListener("autosize:update",d,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:s,update:d}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),d()}function c(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function u(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),o=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+n+"px",i=t.clientWidth,e.forEach((function(t){t.node.scrollTop=t.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function d(){u();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(i<e?"hidden"===n.overflowY&&(c("scroll"),u(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),u(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),a!==i){a=i;var o=r("autosize:resized");try{t.dispatchEvent(o)}catch(t){}}}}function l(t){var e=o.get(t);e&&e.destroy()}function s(t){var e=o.get(t);e&&e.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(t){return t}).destroy=function(t){return t},c.update=function(t){return t}):((c=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return a(t)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],l),t},c.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t}),e.default=c,t.exports=e.default})?i.apply(e,o):i)||(t.exports=r)},91:function(t,e,n){"use strict";n.r(e),n.d(e,"MyQuill",(function(){return o}));var i=n(59);class o extends i.a{formatLine(...t){super.formatLine(...t),this.updateSelection()}formatText(...t){super.formatText(...t),this.updateSelection()}updateSelection(t){if(this.hasFocus()){t=t||o.sources.SILENT;let e=this.getSelection(!0);this.setSelection(++e.index,e.length,t),this.setSelection(--e.index,e.length,t)}}}},92:function(t,e,n){"use strict";n.r(e),n.d(e,"PullquoteBlot",(function(){return r}));var i=n(59),o=n(60);class r extends o.c{}r.blotName="blockPullquote",r.tagName="aside",i.a.register(r)},93:function(t,e,n){"use strict";n.r(e),n.d(e,"DescriptionBlot",(function(){return r}));var i=n(59),o=n(66);class r extends o.FieldBlot{static create(t){console.log("DescriptionBlot create ",t);let e=super.create(t);return e.setAttribute("data-placeholder","Summary of the text"),e.setAttribute("data-label","Description"),e}formatAt(t,e,n,i){console.log("DescriptionBlot formatAt ",t,e,n,i),n===r.blotName?super.formatAt(t,e,n,i):"link"===n&&super.formatAt(0,this.length(),n,i)}format(t,e){console.log("DescriptionBlot format ",t,e),super.format(t,e)}replace(t){console.log("DescriptionBlot replace ",t),super.replace(t)}insertAt(t,e,n){console.log("DescriptionBlot insertAt ",t,e,n),super.insertAt(t,e,n)}}r.blotName="blockDescription",r.tagName="address",i.a.register(r)},94:function(t,e,n){"use strict";n.r(e),n.d(e,"SubheaderBlot",(function(){return r}));var i=n(59),o=n(74);class r extends o.HeaderBlot{}r.blotName="blockSubheader",r.tagName="h4",i.a.register(r)},95:function(t,e,n){"use strict";n.r(e);var i=n(160),o=n.n(i),r=n(148),a=n.n(r),l=n(151),s=n.n(l),c=n(147),u=n.n(c),d=n(149),p=n.n(d),h=n(144),f=n.n(h),m=n(146),g=n.n(m),b=n(145),v=n.n(b),y=n(150),_=n.n(y);o.a.registerLanguage("javascript",a.a),o.a.registerLanguage("typescript",s.a),o.a.registerLanguage("sql",p.a),o.a.registerLanguage("html",u.a),o.a.registerLanguage("xml",f.a),o.a.registerLanguage("css",g.a),o.a.registerLanguage("bash",v.a),o.a.registerLanguage("yaml",_.a),e.default=o.a},96:function(t,e,n){"use strict";n.r(e),n.d(e,"DividerBlot",(function(){return o}));var i=n(60);class o extends i.a{}o.blotName="blockDivider",o.tagName="hr"},98:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return s}));var i=n(61),o=n.n(i),r=n(60),a=n(133);class l extends r.c{static formats(t){return t.tagName===this.tagName?void 0:super.formats(t)}format(t,e){t!==s.blotName||e?super.format(t,e):this.replaceWith(o.a.create(this.statics.scope))}remove(){null==this.prev&&null==this.next?this.parent.remove():super.remove()}replaceWith(t,e){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,e),this):(this.parent.unwrap(),super.replaceWith(t,e))}}l.blotName="list-item",l.tagName="LI";class s extends a.a{static create(t){let e="ordered"===t?"OL":"UL",n=super.create(e);return"checked"!==t&&"unchecked"!==t||n.setAttribute("data-checked","checked"===t),n}static formats(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}constructor(t){super(t);const e=e=>{if(e.target.parentNode!==t)return;let n=this.statics.formats(t),i=o.a.find(e.target);"checked"===n?i.format("list","unchecked"):"unchecked"===n&&i.format("list","checked")};t.addEventListener("touchstart",e),t.addEventListener("mousedown",e)}format(t,e){this.children.length>0&&this.children.tail.format(t,e)}formats(){return{[this.statics.blotName]:this.statics.formats(this.domNode)}}insertBefore(t,e){if(t instanceof l)super.insertBefore(t,e);else{let n=null==e?this.length():e.offset(this),i=this.split(n);i.parent.insertBefore(t,i)}}optimize(t){super.optimize(t);let e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&e.domNode.tagName===this.domNode.tagName&&e.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(e.moveChildren(this),e.remove())}replace(t){if(t.statics.blotName!==this.statics.blotName){let e=o.a.create(this.statics.defaultChild);t.moveChildren(e),this.appendChild(e)}super.replace(t)}}s.blotName="list",s.scope=o.a.Scope.BLOCK_BLOT,s.tagName=["OL","UL"],s.defaultChild="list-item",s.allowedChildren=[l]},99:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u}));var i=n(61),o=n.n(i),r=n(131),a=n(128),l=n(101);class s extends l.b{replaceWith(t){this.domNode.textContent=this.domNode.textContent,this.attach(),super.replaceWith(t)}highlight(t){let e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}s.className="ql-syntax";let c=new o.a.Attributor.Class("token","hljs",{scope:o.a.Scope.INLINE});class u extends a.a{static register(){r.a.register(c,!0),r.a.register(s,!0)}constructor(t,e){if(super(t,e),"function"!=typeof this.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");let n=null;this.quill.on(r.a.events.SCROLL_OPTIMIZE,()=>{clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)}),this.highlight()}highlight(){if(this.quill.selection.composing)return;this.quill.update(r.a.sources.USER);let t=this.quill.getSelection();this.quill.scroll.descendants(s).forEach(t=>{t.highlight(this.options.highlight)}),this.quill.update(r.a.sources.SILENT),null!=t&&this.quill.setSelection(t,r.a.sources.SILENT)}}u.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3}}}]);