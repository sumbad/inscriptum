(window.webpackJsonp=window.webpackJsonp||[]).push([[65,9,23,30,31,32,33,34,37,38,39,40,41,45,46,47,48,50,51,52],{102:function(e,t,n){"use strict";var i=n(78);class o extends i.a{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}o.blotName="bold",o.tagName=["STRONG","B"],t.a=o},115:function(e,t,n){"use strict";n.r(t),n.d(t,"EditorTooltipComponent",(function(){return s}));var i=n(32),o=n(13),r=n(51),a=n(68),l=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let s=class extends i.a{constructor(){super(r.a,!1),this.html=o.e,this.linkTTOptions={padding:7,position:"bottom",depend:this.$tl_tooltip,dependPadding:10},this.formatTTOptions={padding:10,position:a.browser.mobile?"bottom":"top",minDelta:5}}connectedCallback(){super.connectedCallback(),this.$tl_link_tooltip=this.querySelector("#_tl_link_tooltip")||document.createElement("div"),this.$tl_tooltip=this.querySelector("#_tl_tooltip")||document.createElement("div"),this.$tl_blocks=this.querySelector("#_tl_blocks")||document.createElement("div"),this.$bold_button=this.querySelector("#_bold_button")||document.createElement("div"),this.$italic_button=this.querySelector("#_italic_button")||document.createElement("div"),this.$link_button=this.querySelector("#_link_button")||document.createElement("div"),this.$header_button=this.querySelector("#_header_button")||document.createElement("div"),this.$subheader_button=this.querySelector("#_subheader_button")||document.createElement("div"),this.$quote_button=this.querySelector("#_quote_button")||document.createElement("div"),this.$strikeButton=this.querySelector("#_strike_button")||document.createElement("div"),this.$image_button=this.querySelector("#_image_button")||document.createElement("div"),this.$embed_button=this.querySelector("#_embed_button")||document.createElement("div")}render(){return this.html`
      <div id="_tl_link_tooltip" class="tl_link_tooltip"></div>
      <div id="_tl_tooltip" class="tl_tooltip" @mouseover=${this.handleMouseover.bind(this)} @mouseout=${this.handleMouseout.bind(this)}>
        <div class="buttons">
          <span class="button_hover"></span>
          <div class="button_group">
            <button id="_bold_button"></button>
            <button id="_italic_button"></button>
            <button id="_link_button"></button>
          </div>
          <div class="button_group">
            <button id="_header_button"></button>
            <button id="_subheader_button"></button>
            <button id="_quote_button"></button>
          </div>
          <div class="button_group">
            <button id="_strike_button" class="tt-icon-btn">
            ${o.i`
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-strikethrough" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <line x1="5" y1="12" x2="19" y2="12" />
              <path d="M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7" />
              <path d="M16.5 16a3.5 3.5 0 0 1 -3.5 3h-1.5a4 2 0 0 1 -4 -1.5" />
            </svg>
              `}
            </button>
          </div>
        </div>
        <div class="prompt">
          <span class="close"></span>
          <div class="prompt_input_wrap"><input type="url" class="prompt_input" /></div>
        </div>
      </div>
      <div id="_tl_blocks" class="tl_blocks">
        <div class="buttons">
          <button id="_image_button"></button>
          <button id="_embed_button"></button>
        </div>
      </div>
    `}handleMouseover(e){let t=e.target;e instanceof MouseEvent&&"BUTTON"==(null==t?void 0:t.tagName)&&!t.classList.contains("disabled")&&(this.$tl_tooltip.setAttribute("data-hover",t.id),this.$tl_tooltip.classList.add("hover"),setTimeout(()=>{this.$tl_tooltip.classList.add("hover_anim")},1),clearTimeout(this.$tl_tooltip.to))}handleMouseout(e){"BUTTON"==e.target.tagName&&(this.$tl_tooltip.classList.remove("hover"),this.$tl_tooltip.to=setTimeout(()=>{this.$tl_tooltip.classList.remove("hover_anim")},70))}tooltipUpdatePosition(e,t,n,i){if(n=n||{padding:10,position:"top"},null==(t=t||e._range||null))return;let o=i.getBounds(t),r=i.container.getBoundingClientRect(),a={width:e.offsetWidth,height:e.offsetHeight},l=window.outerWidth,s=window.outerHeight,c=document.body.scrollTop,u=9,d=c+9,p=l-a.width-9,h=c+s-a.height-9;a.left=o.left+o.width/2-a.width/2;let f,m=r.left+a.left;if(m<u?a.left=u-r.left:m>p&&(a.left=p-r.left),"top"==n.position){a.top=o.top-a.height-n.padding,f=!1,r.top+a.top<d&&(a.top=o.bottom+n.padding,f=!0)}else if("bottom"==n.position){let e=!1;a.top=o.bottom+n.padding,(e=this.isOverElement(a,n.depend,n.dependPadding))&&(a.top=e.bottom+n.dependPadding),f=!0,r.top+(a.top||0)>h&&(a.top=o.top-a.height-n.padding,(e=this.isOverElement(a,n.depend,n.dependPadding))&&(a.top=e.top-a.height-n.dependPadding),f=!1)}a.left=Math.round(a.left),a.top=Math.round(a.top||0),e._range=t,n.minDelta&&Math.abs(a.left-e._left)<n.minDelta&&Math.abs(a.top-e._top)<n.minDelta||(e._left=a.left,e._top=a.top,e.style.left=a.left+"px",e.style.top=a.top+"px",e.classList.toggle("bottom",f))}isOverElement(e,t,n){if(!t||!t.classList.contains("shown"))return!1;e.bottom=e.top+e.height,e.right=e.left+e.width;let i={_left:t.offsetLeft,_top:t.offsetTop},o={top:i._top,bottom:i._top+t.offsetHeight,left:i._left,right:i._left+t.offsetWidth};return!(e.left-o.right>=n||o.left-e.right>=n||e.top-o.bottom>=n||o.top-e.bottom>=n)&&o}hideBlocksTooltip(){this.$tl_blocks.classList.remove("shown")}showFormatTooltip(e,t,n){n&&(this.$tl_tooltip.classList.remove("tooltip_prompt"),this.tooltipUpdatePosition(this.$tl_tooltip,e,this.formatTTOptions,t),this.$tl_tooltip.classList.contains("move_anim")||setTimeout(()=>{this.$tl_tooltip.classList.add("move_anim")},10),this.$tl_tooltip.classList.contains("shown")?this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,t):setTimeout(()=>{this.$tl_tooltip.classList.add("shown"),this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,t)},10))}hideFormatTooltip(e){this.$tl_tooltip.classList.remove("move_anim","shown"),this.tooltipUpdatePosition(this.$tl_link_tooltip,null,this.linkTTOptions,e)}showBlocksTooltip(e,t,n){t&&(this.$tl_blocks.classList.add("shown"),this.blocksUpdatePosition(e,n))}blocksUpdatePosition(e,t){if(void 0===e&&(e=t.getSelection()),null==e||!t)return;let n=t.getBounds(e);this.$tl_blocks.style.top=n.top+n.height/2+"px"}showLinkTooltip(e,t,n,i){if(!n)return;let o={index:e.offset(i.scroll),length:e.length()};this.$tl_link_tooltip.textContent=t,this.tooltipUpdatePosition(this.$tl_link_tooltip,o,this.linkTTOptions,i),this.$tl_link_tooltip.classList.contains("move_anim")||setTimeout(()=>{this.$tl_link_tooltip.classList.add("move_anim")},1),this.$tl_link_tooltip.classList.contains("shown")||setTimeout(()=>{this.$tl_link_tooltip.classList.add("shown")},10)}hideLinkTooltip(e){this.$tl_link_tooltip.classList.remove("move_anim","shown")}};s=l([Object(i.b)("inscriptum-editor-tooltip")],s)},117:function(e,t,n){var i,o,r;!function(a){"use strict";o=[n(62)],void 0===(r="function"==typeof(i=function(e){var t=e.transform;e.transform=function(n,i,o,r,a){t.call(e,e.scale(n,i,a),i,o,r,a)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var n,i,o,r,a=t.aspectRatio;if(!a)return t;for(i in n={},t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.crop=!0,(o=e.naturalWidth||e.width)/(r=e.naturalHeight||e.height)>a?(n.maxWidth=r*a,n.maxHeight=r):(n.maxWidth=o,n.maxHeight=o/a),n},e.renderImageToCanvas=function(e,t,n,i,o,r,a,l,s,c,u){var d=e.getContext("2d");return!1===u.imageSmoothingEnabled?d.imageSmoothingEnabled=!1:u.imageSmoothingQuality&&(d.imageSmoothingQuality=u.imageSmoothingQuality),d.drawImage(t,n,i,o,r,a,l,s,c),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,n,i){n=n||{};var o,r,a,l,s,c,u,d,p,h,f,m=document.createElement("canvas"),b=t.getContext||e.hasCanvasOption(n)&&m.getContext,g=t.naturalWidth||t.width,y=t.naturalHeight||t.height,v=g,_=y;function x(){var e=Math.max((a||v)/v,(l||_)/_);e>1&&(v*=e,_*=e)}function k(){var e=Math.min((o||v)/v,(r||_)/_);e<1&&(v*=e,_*=e)}if(b&&(u=(n=e.getTransformedOptions(t,n,i)).left||0,d=n.top||0,n.sourceWidth?(s=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=g-s-n.right)):s=g-u-(n.right||0),n.sourceHeight?(c=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=y-c-n.bottom)):c=y-d-(n.bottom||0),v=s,_=c),o=n.maxWidth,r=n.maxHeight,a=n.minWidth,l=n.minHeight,b&&o&&r&&n.crop?(v=o,_=r,(f=s/c-o/r)<0?(c=r*s/o,void 0===n.top&&void 0===n.bottom&&(d=(y-c)/2)):f>0&&(s=o*c/r,void 0===n.left&&void 0===n.right&&(u=(g-s)/2))):((n.contain||n.cover)&&(a=o=o||a,l=r=r||l),n.cover?(k(),x()):(x(),k())),b){if((p=n.pixelRatio)>1&&(m.style.width=v+"px",m.style.height=_+"px",v*=p,_*=p,m.getContext("2d").scale(p,p)),(h=n.downsamplingRatio)>0&&h<1&&v<s&&_<c)for(;s*h>v;)m.width=s*h,m.height=c*h,e.renderImageToCanvas(m,t,u,d,s,c,0,0,m.width,m.height,n),u=0,d=0,s=m.width,c=m.height,(t=document.createElement("canvas")).width=s,t.height=c,e.renderImageToCanvas(t,m,0,0,s,c,0,0,s,c,n);return m.width=v,m.height=_,e.transformCoordinates(m,n),e.renderImageToCanvas(m,t,u,d,s,c,0,0,v,_,n)}return t.width=v,t.height=_,t}})?i.apply(t,o):i)||(e.exports=r)}()},118:function(e,t,n){var i,o,r;!function(a){"use strict";o=[n(62),n(77)],void 0===(r="function"==typeof(i=function(e){e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(t,n,i){if(i&&!(n+i>t.byteLength))return e.createObjectURL(new Blob([t.buffer.slice(n,n+i)]));console.log("Invalid Exif data: Invalid thumbnail data.")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,i,o,r,a){var l,s,c,u,d,p,h=e.exifTagTypes[o];if(h){if(!((s=(l=h.size*r)>4?n+t.getUint32(i+8,a):i+8)+l>t.byteLength)){if(1===r)return h.getValue(t,s,a);for(c=[],u=0;u<r;u+=1)c[u]=h.getValue(t,s+u*h.size,a);if(h.ascii){for(d="",u=0;u<c.length&&"\0"!==(p=c[u]);u+=1)d+=p;return d}return c}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},e.parseExifTag=function(t,n,i,o){return{number:t.getUint16(i,o),value:e.getExifValue(t,n,i,t.getUint16(i+2,o),t.getUint32(i+4,o),o)}},e.parseExifTags=function(e,t,n,i,o){var r,a,l,s,c;if(n+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=n+2+12*(r=e.getUint16(n,i)))+4>e.byteLength)){for(l=0;l<r;l+=1)s=n+2+12*l,c=this.parseExifTag(e,t,s,i,o),o.exif[c.number]=c.value,o.exifOffsets&&(o.exifOffsets[c.number]=s);return e.getUint32(a,i)}console.log("Invalid Exif data: Invalid directory size.")}},e.parseExifData=function(t,n,i,o,r){if(!r.disableExif){var a,l,s,c=n+10;if(1165519206===t.getUint32(n+4))if(c+8>t.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===t.getUint16(n+8)){switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===t.getUint16(c+2,a)?(l=t.getUint32(c+4,a),o.exif=new e.ExifMap,r.disableExifOffsets||(o.exifOffsets=new e.ExifMap,o.exifTiffOffset=c,o.exifLittleEndian=a),(l=e.parseExifTags(t,c,c+l,a,o))&&!r.disableExifThumbnail&&(s={exif:{}},l=e.parseExifTags(t,c,c+l,a,s),s.exif[513]&&(o.exif.Thumbnail=e.getExifThumbnail(t,c+s.exif[513],s.exif[514]))),o.exif[34665]&&!r.disableExifSub&&e.parseExifTags(t,c,c+o.exif[34665],a,o),o.exif[34853]&&!r.disableExifGps&&e.parseExifTags(t,c,c+o.exif[34853],a,o)):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(e,t,n){return new DataView(e,t.exifOffsets[274]+8,2).setUint16(0,n,t.exifLittleEndian),e}},e.writeExifData=function(t,n,i,o){e.exifWriters[n.exif.map[i]](t,n,o)}})?i.apply(t,o):i)||(e.exports=r)}()},119:function(e,t,n){var i,o,r;!function(a){"use strict";o=[n(62),n(77)],void 0===(r="function"==typeof(i=function(e){e.IptcMap=function(){return this},e.IptcMap.prototype.map={ObjectName:5},e.IptcMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.parseIptcTags=function(e,t,n,i){function o(e,t,n){for(var i="",o=t;o<t+n;o++)i+=String.fromCharCode(e.getUint8(o));return i}for(var r,a,l,s=t;s<t+n;)28===e.getUint8(s)&&2===e.getUint8(s+1)&&(l=e.getUint8(s+2))in i.iptc.tags&&(a=e.getInt16(s+3),r=o(e,s+5,a),Object.prototype.hasOwnProperty.call(i.iptc,l)?i.iptc[l]instanceof Array?i.iptc[l].push(r):i.iptc[l]=[i.iptc[l],r]:i.iptc[l]=r),s++},e.parseIptcData=function(t,n,i,o,r){if(!r.disableIptc){for(var a=n+i,l=function(e,t){return 943868237===e.getUint32(t)&&1028===e.getUint16(t+4)};n+8<a;){if(l(t,n)){var s=t.getUint8(n+7);s%2!=0&&(s+=1),0===s&&(s=4);var c=n+8+s;if(c>a){console.log("Invalid IPTC data: Invalid segment offset.");break}var u=t.getUint16(n+6+s);if(n+u>a){console.log("Invalid IPTC data: Invalid segment size.");break}return o.iptc=new e.IptcMap,e.parseIptcTags(t,c,u,o)}n++}console.log("No IPTC data at this offset - could be XMP")}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData)})?i.apply(t,o):i)||(e.exports=r)}()},129:function(e,t,n){"use strict";var i=n(102);class o extends i.a{}o.blotName="italic",o.tagName=["EM","I"],t.a=o},138:function(e,t,n){"use strict";function i(e,t){return"function"==typeof e?e.apply(null,t):e}function o(e,t,n){return void 0===e||n!==e[t]?{...e,[t]:n}:e}n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return u}));const r=new WeakMap,a=[];function l(){const e=a[a.length-1],t=r.get(e);if(void 0!==t)return t;throw new Error("Hooks only valid inside an Articulated Function or a Custom Hook.")}function s(e,t){if(void 0===e||void 0===t)return!0;if(e.length!==t.length)return!0;for(const[n,i]of e.entries())if(!Object.is(i,t[n]))return!0;return!1}function c(e,t){return n.reset=function(){a.push(n);const e=l();try{for(let t of e.c)i(t)}finally{a.pop(),e.sS.length=0,e.e.length=0,e.c.length=0,e.m.length=0,e.nSSI=0,e.nEI=0,e.nMI=0}},n;function n(...o){a.push(n);let l,s=r.get(n);null==s?(s={nSSI:0,nEI:0,nMI:0,sS:[],e:[],c:[],m:[],hUS:!1,cb:t,af:()=>n(...o)},r.set(n,s)):(s.nSSI=0,s.nEI=0,s.nMI=0,s.af=()=>n(...o));try{l=e.apply(this,o)}finally{try{return function(e){for(let[t,[n]]of e.e.entries())try{i(n)}finally{e.e[t][0]=void 0}}(s),s.cb(l)}finally{s.hUS&&(s.hUS=!1,s.af()),a.pop()}}}}function u(e){return function(e,t,...n){var o=l();if(!(o.nSSI in o.sS)){let r=[i(t),function(t){r[0]=e(r[0],t),a.length>0?o.hUS=!0:o.af()}];o.sS[o.nSSI]=r,n.length>0&&o.sS[o.nSSI][1](n[0])}return[...o.sS[o.nSSI++]]}((function(e,t){return i(t,[e])}),e)}function d(e,...t){t.length>0?1==t.length&&Array.isArray(t[0])&&(t=t[0]):t=void 0;const n=l();n.nEI in n.e||(n.e[n.nEI]=[]);let o=n.nEI,r=n.e[o];s(r[1],t)&&(r[0]=function(){try{i(n.c[o])}finally{n.c[o]=void 0}var t=e();"function"==typeof t&&(n.c[o]=t)},r[1]=t),n.nEI++}function p(e,...t){return function(e,...t){t.length>0?1==t.length&&Array.isArray(t[0])&&(t=t[0]):t=[e];const n=l();n.nMI in n.m||(n.m[n.nMI]=[]);const i=n.m[n.nMI];if(s(i[1],t))try{i[0]=e()}finally{i[1]=t}return n.nMI++,i[0]}((function(){return e}),...t)}function h(e){var[t]=u({current:e});return t}function f(e){const t=e.mapper||o;return n=>{const i=function(e,t,n,i,o){var r;const a=((r=class extends HTMLElement{constructor(){super(),this._props={};const r=void 0!==o?this.attachShadow(o):this;this.aFunc=c(e,e=>n(e,r));for(const e in t){const n=t[e];let o=void 0;"type"in n&&(this.props[e]=n.default,o=n.attribute),Reflect.defineProperty(this,e,{get:()=>this.props[e],set:t=>{this.props=i.apply(this,[this.props,e,t,o])},enumerable:!0})}}static get observedAttributes(){return Object.values(this.attributes)}set props(e){void 0!==e&&this.props!==e&&(this._props=e,this.render())}get props(){return this._props}connectedCallback(){this.render()}attributeChangedCallback(e,t,n){if(t!==n)for(const[t,i]of Object.entries(this.constructor.attributes))if(i===e&&this[t]!==n){this[t]=n;break}}render(){this.isConnected&&Reflect.apply(this.aFunc,this,[this.props])}}).attributes={},r),l=Reflect.get(a,"attributes");for(const e in t){const n=t[e];"type"in n&&void 0!==n.attribute&&Reflect.defineProperty(a,"attributes",{value:{...l,[e]:n.attribute},enumerable:!0,writable:!0})}return a}(n,e.props||{},e.render,t,e.shadow);return(e,t)=>{try{customElements.define(e,i,t)}catch(e){console.warn(e)}const n=async t=>customElements.whenDefined(e).then(()=>customElements.get(e));return n.element=i,n.adapter=(t,n)=>t(e,n),n}}}},141:function(e,t,n){e.exports=n(62),n(117),n(77),n(154),n(118),n(155),n(119),n(156),n(157)},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(61),o=n.n(i);class r extends o.a.Attributor.Class{add(e,t){if("+1"===t||"-1"===t){let n=this.value(e)||0;t="+1"===t?n+1:n-1}return 0===t?(this.remove(e),!0):super.add(e,t)}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t))}value(e){return parseInt(super.value(e))||void 0}}let a=new r("indent","ql-indent",{scope:o.a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]})},143:function(e,t,n){"use strict";var i=n(78);class o extends i.a{}o.blotName="strike",o.tagName="S",t.a=o},154:function(e,t,n){var i,o,r;!function(a){"use strict";o=[n(62),n(77)],void 0===(r="function"==typeof(i=function(e){"undefined"!=typeof fetch&&"undefined"!=typeof Request?e.fetchBlob=function(t,n,i){e.hasMetaOption(i)?fetch(new Request(t,i)).then((function(e){return e.blob()})).then(n).catch((function(e){console.log(e),n()})):n()}:"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof ProgressEvent&&(e.fetchBlob=function(t,n,i){if(e.hasMetaOption(i)){i=i||{};var o=new XMLHttpRequest;o.open(i.method||"GET",t),i.headers&&Object.keys(i.headers).forEach((function(e){o.setRequestHeader(e,i.headers[e])})),o.withCredentials="include"===i.credentials,o.responseType="blob",o.onload=function(){n(o.response)},o.onerror=o.onabort=o.ontimeout=function(e){console.log(e),n()},o.send(i.body)}else n()})})?i.apply(t,o):i)||(e.exports=r)}()},155:function(e,t,n){var i,o,r;!function(a){"use strict";o=[n(62),n(118)],void 0===(r="function"==typeof(i=function(e){e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,i=e.map;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n}})?i.apply(t,o):i)||(e.exports=r)}()},156:function(e,t,n){var i,o,r;!function(a){"use strict";o=[n(62),n(119)],void 0===(r="function"==typeof(i=function(e){e.IptcMap.prototype.tags={3:"ObjectType",4:"ObjectAttribute",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectRef",15:"Category",20:"SupplCategory",22:"FixtureID",25:"Keywords",26:"ContentLocCode",27:"ContentLocName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"RefService",47:"RefDate",50:"RefNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"CountryName",103:"OrigTransRef",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",122:"WriterEditor",130:"ImageType",131:"ImageOrientation",135:"LanguageID"},e.IptcMap.prototype.getText=function(e){var t=this.get(e);return String(t)},function(e){var t,n=e.tags,i=e.map||{};for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[n[t]]=t)}(e.IptcMap.prototype),e.IptcMap.prototype.getAll=function(){var e,t,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n}})?i.apply(t,o):i)||(e.exports=r)}()},157:function(e,t,n){var i,o,r;!function(a){"use strict";o=[n(62),n(117),n(77)],void 0===(r="function"==typeof(i=function(e){var t=e.hasCanvasOption,n=e.hasMetaOption,i=e.transformCoordinates,o=e.getTransformedOptions;r=document.createElement("img"),r.onload=function(){e.orientation=1===r.width&&2===r.height},r.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",e.hasCanvasOption=function(n){return!0==!!n.orientation&&!e.orientation||n.orientation>1&&n.orientation<9||t.call(e,n)},e.hasMetaOption=function(t){return t&&!0===t.orientation&&!e.orientation||n.call(e,t)},e.transformCoordinates=function(t,n){i.call(e,t,n);var o=t.getContext("2d"),r=t.width,a=t.height,l=t.style.width,s=t.style.height,c=n.orientation;if(c>1&&c<9)switch(c>4&&(t.width=a,t.height=r,t.style.width=s,t.style.height=l),c){case 2:o.translate(r,0),o.scale(-1,1);break;case 3:o.translate(r,a),o.rotate(Math.PI);break;case 4:o.translate(0,a),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-a);break;case 7:o.rotate(.5*Math.PI),o.translate(r,-a),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-r,0)}},e.getTransformedOptions=function(t,n,i){var r,a,l=o.call(e,t,n),s=l.orientation;if(!0===s){if(e.orientation)return l;s=i&&i.exif&&i.exif.get("Orientation")}if(!(s>1&&s<9))return l;for(a in r={},l)Object.prototype.hasOwnProperty.call(l,a)&&(r[a]=l[a]);switch(r.orientation=s,s){case 2:r.left=l.right,r.right=l.left;break;case 3:r.left=l.right,r.top=l.bottom,r.right=l.left,r.bottom=l.top;break;case 4:r.top=l.bottom,r.bottom=l.top;break;case 5:r.left=l.top,r.top=l.left,r.right=l.bottom,r.bottom=l.right;break;case 6:r.left=l.top,r.top=l.right,r.right=l.bottom,r.bottom=l.left;break;case 7:r.left=l.bottom,r.top=l.right,r.right=l.top,r.bottom=l.left;break;case 8:r.left=l.bottom,r.top=l.left,r.right=l.top,r.bottom=l.right}return r.orientation>4&&(r.maxWidth=l.maxHeight,r.maxHeight=l.maxWidth,r.minWidth=l.minHeight,r.minHeight=l.minWidth,r.sourceWidth=l.sourceHeight,r.sourceHeight=l.sourceWidth),r};var r})?i.apply(t,o):i)||(e.exports=r)}()},161:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1),o=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),r=function(e){function t(n,i){void 0===i&&(i=o.now);var r=e.call(this,n,(function(){return t.delegate&&t.delegate!==r?t.delegate.now():i()}))||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return i.a(t,e),t.prototype.schedule=function(n,i,o){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,i,o):e.prototype.schedule.call(this,n,i,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o)},162:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),o=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return i.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return i.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(5).a))},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(13);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const o=(e,t)=>{const n=e.startNode.parentNode,o=void 0===t?e.endNode:t.startNode,r=n.insertBefore(Object(i.c)(),o);n.insertBefore(Object(i.c)(),o);const a=new i.b(e.options);return a.insertAfterNode(r),a},r=(e,t)=>(e.setValue(t),e.commit(),e),a=(e,t,n)=>{const o=e.startNode.parentNode,r=n?n.startNode:e.endNode,a=t.endNode.nextSibling;a!==r&&Object(i.h)(o,t.startNode,a,r)},l=e=>{Object(i.f)(e.startNode.parentNode,e.startNode,e.endNode.nextSibling)},s=(e,t,n)=>{const i=new Map;for(let o=t;o<=n;o++)i.set(e[o],o);return i},c=new WeakMap,u=new WeakMap,d=Object(i.d)((e,t,n)=>{let d;return void 0===n?n=t:void 0!==t&&(d=t),t=>{if(!(t instanceof i.b))throw new Error("repeat can only be used in text bindings");const p=c.get(t)||[],h=u.get(t)||[],f=[],m=[],b=[];let g,y,v=0;for(const t of e)b[v]=d?d(t,v):v,m[v]=n(t,v),v++;let _=0,x=p.length-1,k=0,E=m.length-1;for(;_<=x&&k<=E;)if(null===p[_])_++;else if(null===p[x])x--;else if(h[_]===b[k])f[k]=r(p[_],m[k]),_++,k++;else if(h[x]===b[E])f[E]=r(p[x],m[E]),x--,E--;else if(h[_]===b[E])f[E]=r(p[_],m[E]),a(t,p[_],f[E+1]),_++,E--;else if(h[x]===b[k])f[k]=r(p[x],m[k]),a(t,p[x],p[_]),x--,k++;else if(void 0===g&&(g=s(b,k,E),y=s(h,_,x)),g.has(h[_]))if(g.has(h[x])){const e=y.get(b[k]),n=void 0!==e?p[e]:null;if(null===n){const e=o(t,p[_]);r(e,m[k]),f[k]=e}else f[k]=r(n,m[k]),a(t,n,p[_]),p[e]=null;k++}else l(p[x]),x--;else l(p[_]),_++;for(;k<=E;){const e=o(t,f[E+1]);r(e,m[k]),f[k++]=e}for(;_<=x;){const e=p[_++];null!==e&&l(e)}c.set(t,f),u.set(t,b)}})},366:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(138);const o=String.raw,r=String.raw,a=Object(i.a)({props:{config:{type:{},default:{duration:2e3,stepsCount:1}}},render:(e,t)=>{t.innerHTML!==e.template&&(t.innerHTML=e.template);const n=new CSSStyleSheet;n.replaceSync(e.style),t.adoptedStyleSheets=[n]},shadow:{mode:"open"}})((function(e){const[t,n]=Object(i.e)(!1),[a,l]=Object(i.e)(),[s,c]=Object(i.e)(),u=e.config.duration;return Object(i.c)(()=>{const t=e.config.stepsCount,i=100/t;let o="";for(let e=0;e<t;e++)o=o+" "+r`@keyframes${" loadingPB_"+e*i}{from{width:${e*i+"%"};}to{width:${(e+1)*i+"%"};}}`;l(o);let a=0;this.ref=this.ref||{},this.ref.current=this,this.generateProgress=function*(){for(;;)a<t?(c("loadingPB_"+a*i),yield++a):(n(!1),c(void 0),a=0,yield a)}(),this.togglePause=e=>n(t=>"boolean"==typeof e?e:!t)},[e.config]),{style:r`${a}.lpb{animation-timing-function:cubic-bezier(.55,0,1,.45);animation-fill-mode:both;background:#ef534e;height:3px;left:0;top:0;width:0%;z-index:9999;position:fixed;animation-name:${s};animation-duration:${u+"ms"};animation-play-state:${t?"paused":"running"}}.lpb:after{display:${void 0!==s?"block":"none"};position:absolute;content:'';right:0;width:100px;height:100%;box-shadow:0 0 10px #ef534e,0 0 5px #ef534e;opacity:1;transform:rotate(3deg)translate(0,-4px)}`,template:o`<div class="lpb"></div>`}}))},381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntaxError=function(e,t,n){return new i.GraphQLError("Syntax Error: ".concat(n),void 0,e,[t])};var i=n(406)},382:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SYMBOL_TO_STRING_TAG=t.SYMBOL_ASYNC_ITERATOR=t.SYMBOL_ITERATOR=void 0;var i="function"==typeof Symbol&&null!=Symbol.iterator?Symbol.iterator:"@@iterator";t.SYMBOL_ITERATOR=i;var o="function"==typeof Symbol&&null!=Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator";t.SYMBOL_ASYNC_ITERATOR=o;var r="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";t.SYMBOL_TO_STRING_TAG=r},383:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=function(e,t){var n,i=/\r\n|[\n\r]/g,o=1,r=t+1;for(;(n=i.exec(e.body))&&n.index<t;)o+=1,r=t+1-(n.index+n[0].length);return{line:o,column:r}}},384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenKind=void 0;var i=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});t.TokenKind=i},386:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(1),o=n(4),r=n(162),a=new(n(161).a)(r.a);function l(e,t){return void 0===t&&(t=a),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))},e}(),c=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return i.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(o.a);function u(e){e.debouncedNext()}},404:function(e,t,n){var i=n(405).parse;function o(e){return e.replace(/[\s,]+/g," ").trim()}var r={},a={};var l=!0;var s=!1;function c(e){var t=o(e);if(r[t])return r[t];var n=i(e,{experimentalFragmentVariables:s});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var i=Object.prototype.toString.call(t);if("[object Array]"===i)return t.map((function(t){return e(t,n)}));if("[object Object]"!==i)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var o,r,a,l=Object.keys(t);for(o in l)l.hasOwnProperty(o)&&(r=t[l[o]],"[object Object]"!==(a=Object.prototype.toString.call(r))&&"[object Array]"!==a||(t[l[o]]=e(r,!0)));return t}(n=function(e){for(var t,n={},i=[],r=0;r<e.definitions.length;r++){var s=e.definitions[r];if("FragmentDefinition"===s.kind){var c=s.name.value,u=o((t=s.loc).source.body.substring(t.start,t.end));a.hasOwnProperty(c)&&!a[c][u]?(l&&console.warn("Warning: fragment with name "+c+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),a[c][u]=!0):a.hasOwnProperty(c)||(a[c]={},a[c][u]=!0),n[u]||(n[u]=!0,i.push(s))}else i.push(s)}return e.definitions=i,e}(n),!1),r[t]=n,n}function u(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],i=1;i<e.length;i++)e[i]&&e[i].kind&&"Document"===e[i].kind?n+=e[i].loc.source.body:n+=e[i],n+=t[i];return c(n)}u.default=u,u.resetCaches=function(){r={},a={}},u.disableFragmentWarnings=function(){l=!1},u.enableExperimentalFragmentVariables=function(){s=!0},u.disableExperimentalFragmentVariables=function(){s=!1},e.exports=u},405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t){return new u(e,t).parseDocument()},t.parseValue=function(e,t){var n=new u(e,t);n.expectToken(a.TokenKind.SOF);var i=n.parseValueLiteral(!1);return n.expectToken(a.TokenKind.EOF),i},t.parseType=function(e,t){var n=new u(e,t);n.expectToken(a.TokenKind.SOF);var i=n.parseTypeReference();return n.expectToken(a.TokenKind.EOF),i},t.Parser=void 0;var i=n(381),o=n(409),r=n(36),a=n(384),l=n(410),s=n(413),c=n(414);var u=function(){function e(e,t){var n=(0,l.isSource)(e)?e:new l.Source(e);this._lexer=new c.Lexer(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(a.TokenKind.NAME);return{kind:o.Kind.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:o.Kind.DOCUMENT,definitions:this.many(a.TokenKind.SOF,this.parseDefinition,a.TokenKind.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(a.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(a.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(a.TokenKind.BRACE_L))return{kind:o.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(a.TokenKind.NAME)&&(t=this.parseName()),{kind:o.Kind.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(a.TokenKind.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(a.TokenKind.PAREN_L,this.parseVariableDefinition,a.TokenKind.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:o.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(a.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(a.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(a.TokenKind.DOLLAR),{kind:o.Kind.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:o.Kind.SELECTION_SET,selections:this.many(a.TokenKind.BRACE_L,this.parseSelection,a.TokenKind.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(a.TokenKind.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,i=this.parseName();return this.expectOptionalToken(a.TokenKind.COLON)?(e=i,t=this.parseName()):t=i,{kind:o.Kind.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(a.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(a.TokenKind.PAREN_L,t,a.TokenKind.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(a.TokenKind.COLON),{kind:o.Kind.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:o.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(a.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(a.TokenKind.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(a.TokenKind.NAME)?{kind:o.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:o.Kind.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:o.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:o.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case a.TokenKind.BRACKET_L:return this.parseList(e);case a.TokenKind.BRACE_L:return this.parseObject(e);case a.TokenKind.INT:return this._lexer.advance(),{kind:o.Kind.INT,value:t.value,loc:this.loc(t)};case a.TokenKind.FLOAT:return this._lexer.advance(),{kind:o.Kind.FLOAT,value:t.value,loc:this.loc(t)};case a.TokenKind.STRING:case a.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case a.TokenKind.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:o.Kind.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:o.Kind.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:o.Kind.NULL,loc:this.loc(t)};default:return{kind:o.Kind.ENUM,value:t.value,loc:this.loc(t)}}case a.TokenKind.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:o.Kind.STRING,value:e.value,block:e.kind===a.TokenKind.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:o.Kind.LIST,values:this.any(a.TokenKind.BRACKET_L,(function(){return t.parseValueLiteral(e)}),a.TokenKind.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:o.Kind.OBJECT,fields:this.any(a.TokenKind.BRACE_L,(function(){return t.parseObjectField(e)}),a.TokenKind.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(a.TokenKind.COLON),{kind:o.Kind.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(a.TokenKind.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(a.TokenKind.AT),{kind:o.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(a.TokenKind.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(a.TokenKind.BRACKET_R),e={kind:o.Kind.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(a.TokenKind.BANG)?{kind:o.Kind.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:o.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===a.TokenKind.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(a.TokenKind.STRING)||this.peek(a.TokenKind.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),i=this.many(a.TokenKind.BRACE_L,this.parseOperationTypeDefinition,a.TokenKind.BRACE_R);return{kind:o.Kind.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(a.TokenKind.COLON);var n=this.parseNamedType();return{kind:o.Kind.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),i=this.parseDirectives(!0);return{kind:o.Kind.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),a=this.parseFieldsDefinition();return{kind:o.Kind.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:a,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(a.TokenKind.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(a.TokenKind.AMP)||this.peek(a.TokenKind.NAME));return t}return this.delimitedMany(a.TokenKind.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(a.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===a.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(a.TokenKind.BRACE_L,this.parseFieldDefinition,a.TokenKind.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(a.TokenKind.COLON);var r=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:o.Kind.FIELD_DEFINITION,description:t,name:n,arguments:i,type:r,directives:l,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(a.TokenKind.PAREN_L,this.parseInputValueDef,a.TokenKind.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(a.TokenKind.COLON);var i,r=this.parseTypeReference();this.expectOptionalToken(a.TokenKind.EQUALS)&&(i=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:o.Kind.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:l,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),a=this.parseFieldsDefinition();return{kind:o.Kind.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:a,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseUnionMemberTypes();return{kind:o.Kind.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:r,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(a.TokenKind.EQUALS)?this.delimitedMany(a.TokenKind.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();return{kind:o.Kind.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:r,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(a.TokenKind.BRACE_L,this.parseEnumValueDefinition,a.TokenKind.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseDirectives(!0);return{kind:o.Kind.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();return{kind:o.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(a.TokenKind.BRACE_L,this.parseInputValueDef,a.TokenKind.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===a.TokenKind.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(a.TokenKind.BRACE_L,this.parseOperationTypeDefinition,a.TokenKind.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:o.Kind.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:o.Kind.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:o.Kind.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:o.Kind.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:o.Kind.UNION_TYPE_EXTENSION,name:t,directives:n,types:i,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:o.Kind.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:o.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(a.TokenKind.AT);var n=this.parseName(),i=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:o.Kind.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:r,locations:l,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(a.TokenKind.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==s.DirectiveLocation[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new r.Location(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw(0,i.syntaxError)(this._lexer.source,t.start,"Expected ".concat(p(e),", found ").concat(d(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==a.TokenKind.NAME||t.value!==e)throw(0,i.syntaxError)(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(d(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===a.TokenKind.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return(0,i.syntaxError)(this._lexer.source,t.start,"Unexpected ".concat(d(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var i=[];!this.expectOptionalToken(n);)i.push(t.call(this));return i},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var i=[];do{i.push(t.call(this))}while(!this.expectOptionalToken(n));return i}return[]},t.many=function(e,t,n){this.expectToken(e);var i=[];do{i.push(t.call(this))}while(!this.expectOptionalToken(n));return i},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function d(e){var t=e.value;return p(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function p(e){return(0,c.isPunctuatorTokenKind)(e)?'"'.concat(e,'"'):e}t.Parser=u},406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printError=y,t.GraphQLError=void 0;var i,o=(i=n(407))&&i.__esModule?i:{default:i},r=n(382),a=n(383),l=n(408);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return h(e,arguments,b(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),m(i,e)})(e)}function h(e,t,n){return(h=f()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&m(o,n.prototype),o}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(h,e);var t,n,i,l,s,p=(t=h,n=f(),function(){var e,i=b(t);if(n){var o=b(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return u(this,e)});function h(e,t,n,i,r,l,s){var c,f,m,b,g;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),g=p.call(this,e);var y,v=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,_=n;!_&&v&&(_=null===(y=v[0].loc)||void 0===y?void 0:y.source);var x,k=i;!k&&v&&(k=v.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),k&&0===k.length&&(k=void 0),i&&n?x=i.map((function(e){return(0,a.getLocation)(n,e)})):v&&(x=v.reduce((function(e,t){return t.loc&&e.push((0,a.getLocation)(t.loc.source,t.loc.start)),e}),[]));var E=s;if(null==E&&null!=l){var T=l.extensions;(0,o.default)(T)&&(E=T)}return Object.defineProperties(d(g),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(c=x)&&void 0!==c?c:void 0,enumerable:null!=x},path:{value:null!=r?r:void 0,enumerable:null!=r},nodes:{value:null!=v?v:void 0},source:{value:null!==(f=_)&&void 0!==f?f:void 0},positions:{value:null!==(m=k)&&void 0!==m?m:void 0},originalError:{value:l},extensions:{value:null!==(b=E)&&void 0!==b?b:void 0,enumerable:null!=E}}),(null==l?void 0:l.stack)?(Object.defineProperty(d(g),"stack",{value:l.stack,writable:!0,configurable:!0}),u(g)):(Error.captureStackTrace?Error.captureStackTrace(d(g),h):Object.defineProperty(d(g),"stack",{value:Error().stack,writable:!0,configurable:!0}),g)}return i=h,(l=[{key:"toString",value:function(){return y(this)}},{key:r.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}])&&c(i.prototype,l),s&&c(i,s),h}(p(Error));function y(e){var t=e.message;if(e.nodes)for(var n=0,i=e.nodes;n<i.length;n++){var o=i[n];o.loc&&(t+="\n\n"+(0,l.printLocation)(o.loc))}else if(e.source&&e.locations)for(var r=0,a=e.locations;r<a.length;r++){var s=a[r];t+="\n\n"+(0,l.printSourceLocation)(e.source,s)}return t}t.GraphQLError=g},407:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"object"==i(e)&&null!==e}},408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printLocation=function(e){return o(e.source,(0,i.getLocation)(e.source,e.start))},t.printSourceLocation=o;var i=n(383);function o(e,t){var n=e.locationOffset.column-1,i=a(n)+e.body,o=t.line-1,l=e.locationOffset.line-1,s=t.line+l,c=1===t.line?n:0,u=t.column+c,d="".concat(e.name,":").concat(s,":").concat(u,"\n"),p=i.split(/\r\n|[\n\r]/g),h=p[o];if(h.length>120){for(var f=Math.floor(u/80),m=u%80,b=[],g=0;g<h.length;g+=80)b.push(h.slice(g,g+80));return d+r([["".concat(s),b[0]]].concat(b.slice(1,f+1).map((function(e){return["",e]})),[[" ",a(m-1)+"^"],["",b[f+1]]]))}return d+r([["".concat(s-1),p[o-1]],["".concat(s),h],["",a(u-1)+"^"],["".concat(s+1),p[o+1]]])}function r(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,i=e[0],o=e[1];return a(n-(t=i).length)+t+(o?" | "+o:" |")})).join("\n")}function a(e){return Array(e+1).join(" ")}},409:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Kind=void 0;var i=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});t.Kind=i},410:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSource=function(e){return(0,a.default)(e,c)},t.Source=void 0;var i=n(382),o=l(n(37)),r=l(n(411)),a=l(n(412));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||(0,r.default)(0,"Body must be a string. Received: ".concat((0,o.default)(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||(0,r.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,r.default)(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,a;return t=e,(n=[{key:i.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}])&&s(t.prototype,n),a&&s(t,a),e}();t.Source=c},411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(t)}},412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){return e instanceof t};t.default=i},413:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveLocation=void 0;var i=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});t.DirectiveLocation=i},414:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPunctuatorTokenKind=function(e){return e===r.TokenKind.BANG||e===r.TokenKind.DOLLAR||e===r.TokenKind.AMP||e===r.TokenKind.PAREN_L||e===r.TokenKind.PAREN_R||e===r.TokenKind.SPREAD||e===r.TokenKind.COLON||e===r.TokenKind.EQUALS||e===r.TokenKind.AT||e===r.TokenKind.BRACKET_L||e===r.TokenKind.BRACKET_R||e===r.TokenKind.BRACE_L||e===r.TokenKind.PIPE||e===r.TokenKind.BRACE_R},t.Lexer=void 0;var i=n(381),o=n(36),r=n(384),a=n(38),l=function(){function e(e){var t=new o.Token(r.TokenKind.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==r.TokenKind.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=c(this,e)}while(e.kind===r.TokenKind.COMMENT);return e},e}();function s(e){return isNaN(e)?r.TokenKind.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function c(e,t){for(var n=e.source,a=n.body,l=a.length,s=t.end;s<l;){var c=a.charCodeAt(s),h=e.line,b=1+s-e.lineStart;switch(c){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++e.line,e.lineStart=s;continue;case 13:10===a.charCodeAt(s+1)?s+=2:++s,++e.line,e.lineStart=s;continue;case 33:return new o.Token(r.TokenKind.BANG,s,s+1,h,b,t);case 35:return d(n,s,h,b,t);case 36:return new o.Token(r.TokenKind.DOLLAR,s,s+1,h,b,t);case 38:return new o.Token(r.TokenKind.AMP,s,s+1,h,b,t);case 40:return new o.Token(r.TokenKind.PAREN_L,s,s+1,h,b,t);case 41:return new o.Token(r.TokenKind.PAREN_R,s,s+1,h,b,t);case 46:if(46===a.charCodeAt(s+1)&&46===a.charCodeAt(s+2))return new o.Token(r.TokenKind.SPREAD,s,s+3,h,b,t);break;case 58:return new o.Token(r.TokenKind.COLON,s,s+1,h,b,t);case 61:return new o.Token(r.TokenKind.EQUALS,s,s+1,h,b,t);case 64:return new o.Token(r.TokenKind.AT,s,s+1,h,b,t);case 91:return new o.Token(r.TokenKind.BRACKET_L,s,s+1,h,b,t);case 93:return new o.Token(r.TokenKind.BRACKET_R,s,s+1,h,b,t);case 123:return new o.Token(r.TokenKind.BRACE_L,s,s+1,h,b,t);case 124:return new o.Token(r.TokenKind.PIPE,s,s+1,h,b,t);case 125:return new o.Token(r.TokenKind.BRACE_R,s,s+1,h,b,t);case 34:return 34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)?m(n,s,h,b,t,e):f(n,s,h,b,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return p(n,s,c,h,b,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return g(n,s,h,b,t)}throw(0,i.syntaxError)(n,s,u(c))}var y=e.line,v=1+s-e.lineStart;return new o.Token(r.TokenKind.EOF,l,l,y,v,t)}function u(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(s(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(s(e),".")}function d(e,t,n,i,a){var l,s=e.body,c=t;do{l=s.charCodeAt(++c)}while(!isNaN(l)&&(l>31||9===l));return new o.Token(r.TokenKind.COMMENT,t,c,n,i,a,s.slice(t+1,c))}function p(e,t,n,a,l,c){var u=e.body,d=n,p=t,f=!1;if(45===d&&(d=u.charCodeAt(++p)),48===d){if((d=u.charCodeAt(++p))>=48&&d<=57)throw(0,i.syntaxError)(e,p,"Invalid number, unexpected digit after 0: ".concat(s(d),"."))}else p=h(e,p,d),d=u.charCodeAt(p);if(46===d&&(f=!0,d=u.charCodeAt(++p),p=h(e,p,d),d=u.charCodeAt(p)),69!==d&&101!==d||(f=!0,43!==(d=u.charCodeAt(++p))&&45!==d||(d=u.charCodeAt(++p)),p=h(e,p,d),d=u.charCodeAt(p)),46===d||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(d))throw(0,i.syntaxError)(e,p,"Invalid number, expected digit but got: ".concat(s(d),"."));return new o.Token(f?r.TokenKind.FLOAT:r.TokenKind.INT,t,p,a,l,c,u.slice(t,p))}function h(e,t,n){var o=e.body,r=t,a=n;if(a>=48&&a<=57){do{a=o.charCodeAt(++r)}while(a>=48&&a<=57);return r}throw(0,i.syntaxError)(e,r,"Invalid number, expected digit but got: ".concat(s(a),"."))}function f(e,t,n,a,l){for(var c,u,d,p,h=e.body,f=t+1,m=f,g=0,y="";f<h.length&&!isNaN(g=h.charCodeAt(f))&&10!==g&&13!==g;){if(34===g)return y+=h.slice(m,f),new o.Token(r.TokenKind.STRING,t,f+1,n,a,l,y);if(g<32&&9!==g)throw(0,i.syntaxError)(e,f,"Invalid character within String: ".concat(s(g),"."));if(++f,92===g){switch(y+=h.slice(m,f-1),g=h.charCodeAt(f)){case 34:y+='"';break;case 47:y+="/";break;case 92:y+="\\";break;case 98:y+="\b";break;case 102:y+="\f";break;case 110:y+="\n";break;case 114:y+="\r";break;case 116:y+="\t";break;case 117:var v=(c=h.charCodeAt(f+1),u=h.charCodeAt(f+2),d=h.charCodeAt(f+3),p=h.charCodeAt(f+4),b(c)<<12|b(u)<<8|b(d)<<4|b(p));if(v<0){var _=h.slice(f+1,f+5);throw(0,i.syntaxError)(e,f,"Invalid character escape sequence: \\u".concat(_,"."))}y+=String.fromCharCode(v),f+=4;break;default:throw(0,i.syntaxError)(e,f,"Invalid character escape sequence: \\".concat(String.fromCharCode(g),"."))}m=++f}}throw(0,i.syntaxError)(e,f,"Unterminated string.")}function m(e,t,n,l,c,u){for(var d=e.body,p=t+3,h=p,f=0,m="";p<d.length&&!isNaN(f=d.charCodeAt(p));){if(34===f&&34===d.charCodeAt(p+1)&&34===d.charCodeAt(p+2))return m+=d.slice(h,p),new o.Token(r.TokenKind.BLOCK_STRING,t,p+3,n,l,c,(0,a.dedentBlockStringValue)(m));if(f<32&&9!==f&&10!==f&&13!==f)throw(0,i.syntaxError)(e,p,"Invalid character within String: ".concat(s(f),"."));10===f?(++p,++u.line,u.lineStart=p):13===f?(10===d.charCodeAt(p+1)?p+=2:++p,++u.line,u.lineStart=p):92===f&&34===d.charCodeAt(p+1)&&34===d.charCodeAt(p+2)&&34===d.charCodeAt(p+3)?(m+=d.slice(h,p)+'"""',h=p+=4):++p}throw(0,i.syntaxError)(e,p,"Unterminated string.")}function b(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function g(e,t,n,i,a){for(var l=e.body,s=l.length,c=t+1,u=0;c!==s&&!isNaN(u=l.charCodeAt(c))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++c;return new o.Token(r.TokenKind.NAME,t,c,n,i,a,l.slice(t,c))}t.Lexer=l},415:function(e,t){e.exports="/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica, Arial, sans-serif;font-size:13px;height:100%;margin:0px;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li::before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor ul,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li::before{content:'\\2022'}.ql-editor ul[data-checked=true],.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=true]>li *,.ql-editor ul[data-checked=false]>li *{pointer-events:all}.ql-editor ul[data-checked=true]>li::before,.ql-editor ul[data-checked=false]>li::before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li::before{content:'\\2611'}.ql-editor ul[data-checked=false]>li::before{content:'\\2610'}.ql-editor li::before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl)::before{margin-left:-1.5em;margin-right:0.3em;text-align:right}.ql-editor li.ql-direction-rtl::before{margin-left:0.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0, decimal) \". \"}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1, lower-alpha) \". \"}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2, lower-roman) \". \"}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3, decimal) \". \"}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4, lower-alpha) \". \"}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5, lower-roman) \". \"}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6, decimal) \". \"}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7, lower-alpha) \". \"}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8, lower-roman) \". \"}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9, decimal) \". \"}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia, Times New Roman, serif}.ql-editor .ql-font-monospace{font-family:Monaco, Courier New, monospace}.ql-editor .ql-size-small{font-size:0.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank::before{color:rgba(0,0,0,0.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.hljs{display:block;overflow-x:auto;padding:0.5em;background:#23241f}.hljs,.hljs-tag,.hljs-subst{color:#f8f8f2}.hljs-strong,.hljs-emphasis{color:#a8a8a2}.hljs-bullet,.hljs-quote,.hljs-number,.hljs-regexp,.hljs-literal,.hljs-link{color:#ae81ff}.hljs-code,.hljs-title,.hljs-section,.hljs-selector-class{color:#a6e22e}.hljs-strong{font-weight:bold}.hljs-emphasis{font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-name,.hljs-attr{color:#f92672}.hljs-symbol,.hljs-attribute{color:#66d9ef}.hljs-params,.hljs-class .hljs-title{color:#f8f8f2}.hljs-string,.hljs-type,.hljs-built_in,.hljs-builtin-name,.hljs-selector-id,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-addition,.hljs-variable,.hljs-template-variable{color:#e6db74}.hljs-comment,.hljs-deletion,.hljs-meta{color:#75715e}html,body{padding:0;margin:0}input:focus,textarea:focus,button:focus,[contenteditable=true]:focus{outline:none}textarea{resize:none}.tl_page_wrap{max-width:732px;margin:0 auto}.tl_page{position:relative;padding:21px 0}.button{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-weight:600;font-style:normal;font-size:17px;color:#000;text-decoration:none;border:2px solid #333;border-radius:16px;text-transform:uppercase;padding:4px 12px;margin:0 0 15px;background-color:#fff;cursor:pointer}.tl_message{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;padding:70px 0;color:#79828B;text-align:center}.tl_message h1{font-size:120px;margin:0}.tl_article_buttons{position:fixed;left:50%;top:0;right:0;margin:46px 0 0 376px}@media (max-width: 960px){.tl_article_buttons{position:static;width:auto;margin:30px 21px;padding:1px 0}}.tl_article_buttons .button{transition:opacity 0.4s ease;visibility:hidden;opacity:0}.tl_article_buttons .edit_button{position:absolute}.tl_article_edit .publish_button,.tl_article_saving .publish_button{visibility:visible;opacity:1}.tl_article_saving .publish_button{opacity:.4}.tl_article .share_button,.tl_article_editable .edit_button{visibility:visible;opacity:1}.tl_article_edit .share_button,.tl_article_saving .share_button,.tl_article_edit .edit_button,.tl_article_saving .edit_button{visibility:hidden;opacity:0}.tl_article .ql-container{height:auto}.prompt{position:absolute;left:0;right:0;top:0;bottom:0}.prompt .prompt_input_wrap{overflow:hidden}.prompt .prompt_input{width:100%;margin:0;border:none;background-color:transparent;box-sizing:border-box}.tl_tooltip{position:absolute;left:0;top:0;background-color:#292927;border-radius:6px;padding:9px 12px;line-height:0;white-space:nowrap;pointer-events:none;transition:opacity 0.2s ease 0.06s, transform 0.2s ease 0.06s;transform:translate3d(0, 16px, 0);opacity:0}.tl_tooltip.bottom{transform:translate3d(0, -16px, 0)}.tl_tooltip.bottom button{transform:translate3d(0, -10px, 0);opacity:1}.tl_tooltip.move_anim{transition:opacity 0.2s ease 0.06s, transform 0.2s ease 0.06s, top 0.2s ease, left 0.2s ease}.tl_tooltip.shown{pointer-events:auto;transform:translate3d(0, 0, 0);opacity:1}.tl_tooltip.shown button{transform:translate3d(0, 0, 0);opacity:1}.tl_tooltip.shown button.disabled{cursor:default;opacity:.6}.tl_tooltip button,.tl_tooltip .button_hover{display:inline-block;background-color:transparent;padding:0;margin:0;border-radius:3px;border:none;cursor:pointer}.tl_tooltip button{position:relative;transition:opacity 0.2s ease, transform 0.2s ease, background-color 0.2s ease;transform:translate3d(0, 10px, 0);opacity:0}.tl_tooltip button:before,.tl_tooltip button:after{content:'';position:absolute;left:0;right:0;top:0;bottom:0;transition:opacity 0.2s ease, transform 0.2s ease}.tl_tooltip button:before,.tl_tooltip button.active:after{transform:scale3d(1, 1, 1);opacity:1}.tl_tooltip button:after,.tl_tooltip button.active:before{transform:scale3d(1.2, 1.2, 1);opacity:0}.tl_tooltip button#_bold_button{transition-delay:0s}.tl_tooltip button#_italic_button{transition-delay:.02s}.tl_tooltip button#_link_button{transition-delay:.04s}.tl_tooltip button#_header_button{transition-delay:.06s}.tl_tooltip button#_subheader_button{transition-delay:.08s}.tl_tooltip button#_quote_button{transition-delay:.1s}.tl_tooltip button#_strike_button{transition-delay:.12s}.tl_tooltip button+button{margin-left:7px}.tl_tooltip button.active{background-color:#eaeaea}.tl_tooltip .button_hover{background-color:#545452}.tl_tooltip .prompt,.tl_tooltip .buttons{transition:opacity 0.2s ease}.tl_tooltip .prompt,.tl_tooltip.tooltip_prompt .buttons{pointer-events:none;opacity:0}.tl_tooltip.shown.buttons,.tl_tooltip.shown.tooltip_prompt .prompt{pointer-events:auto;opacity:1}.tl_tooltip .prompt_input{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:15px;line-height:18px;color:#fff;padding:13px 10px}.tl_tooltip .close{float:right;width:18px;font-size:15px;line-height:18px;margin:13px 5px;color:#ccc;text-align:center;cursor:pointer;transition:color 0.2s ease}.tl_tooltip .close:before{content:'\\00d7'}.tl_tooltip .close:hover{color:#fff}.button_hover{position:absolute;transition:opacity 0.2s ease;opacity:0}.tl_tooltip.hover_anim .button_hover{transition:opacity 0.2s ease, transform 0.2s ease}.tl_tooltip.hover .button_hover{opacity:1}.tl_tooltip[data-hover=_bold_button] .button_hover{transform:translate3d(0, 0, 0)}.tl_tooltip[data-hover=_italic_button] .button_hover{transform:translate3d(33px, 0, 0)}.tl_tooltip[data-hover=_link_button] .button_hover{transform:translate3d(66px, 0, 0)}.tl_tooltip[data-hover=_header_button] .button_hover{transform:translate3d(106px, 0, 0)}.tl_tooltip[data-hover=_subheader_button] .button_hover{transform:translate3d(139px, 0, 0)}.tl_tooltip[data-hover=_quote_button] .button_hover{transform:translate3d(172px, 0, 0)}.tl_tooltip[data-hover=_strike_button] .button_hover{transform:translate3d(212px, 0, 0)}.tl_tooltip .icon-tabler{stroke:#fff}.tl_tooltip .active .icon-tabler{stroke:#000}body.mobile .button_hover{display:none}.buttons{position:relative}.buttons button,.buttons .button_hover{width:26px;height:26px;display:inline-block;vertical-align:top}.buttons button:before,.buttons button:after,.tl_blocks .buttons button{background:url(\"/images/icons.png?1\") no-repeat -8px 26px}@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi){.buttons button:before,.buttons button:after,.tl_blocks .buttons button{background-image:url(\"/images/icons_2x.png?1\");background-size:40px 487px}}.buttons #_bold_button:before{background-position:-8px -6px}.buttons #_bold_button:after{background-position:-8px -38px}.buttons #_italic_button:before{background-position:-8px -70px}.buttons #_italic_button:after{background-position:-8px -102px}.buttons #_link_button:before{background-position:-8px -134px}.buttons #_link_button:after{background-position:-8px -166px}.buttons #_header_button:before{background-position:-8px -198px}.buttons #_header_button:after{background-position:-8px -230px}.buttons #_subheader_button:before{background-position:-8px -262px}.buttons #_subheader_button:after{background-position:-8px -294px}.buttons #_quote_button:before{background-position:-8px -326px}.buttons #_quote_button:after{background-position:-8px -390px}.buttons #_quote_button.pullquote:after{background-position:-8px -358px}.buttons #_image_button{background-position:-8px -422px}.buttons #_embed_button{background-position:-8px -454px}.buttons .button_group+.button_group{margin-left:14px}.tl_blocks{position:absolute;text-align:right;left:0;right:0;visibility:hidden;opacity:0;transition:opacity .15s ease}.tl_blocks.shown{visibility:visible;opacity:1}@media (max-width: 960px){.tl_blocks{text-align:center}}.tl_blocks .buttons{position:absolute;display:inline-block;right:100%;margin-top:-14px;margin-right:-6px;width:80px}@media (max-width: 960px){.tl_blocks .buttons{background-color:rgba(255,255,255,0.8);border-radius:14px;margin-left:auto;margin-right:auto;right:0;left:0}}.tl_blocks button{background-color:transparent;display:inline-block;vertical-align:top;padding:2px;margin:1px 6px;border-radius:3px;border:none;cursor:pointer;float:right}@media (max-width: 960px){.tl_blocks button{float:none}}.tl_article_header{word-wrap:break-word}.tl_article.tl_article_edit .tl_article_header{text-align:left}.tl_article.tl_article_edit .tl_article_content h1,.tl_article.tl_article_edit .tl_article_content address,.tl_article .tl_article_header{display:block}.tl_article .tl_article_content h1,.tl_article .tl_article_content address,.tl_article_edit .tl_article_header{display:none}.tl_article ::selection{background:#dbdbdb}.tl_article ::-moz-selection{background:#dbdbdb}.tl_article .cursor_wrapper{display:none;position:absolute;font-size:1px;left:50%;z-index:-1}.tl_article.tl_article_edit .cursor_wrapper{display:inline}.tl_article.tl_article_edit *[data-placeholder].empty{position:relative}.tl_article.tl_article_edit *[data-placeholder].empty:before{position:absolute;left:0;right:0;content:attr(data-placeholder);color:rgba(0,0,0,0.44);font-weight:normal;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;pointer-events:none}.tl_article.tl_article_edit *[data-label]{position:relative}.tl_article.tl_article_edit *[data-label]:after,.tl_article.tl_article_edit.title_focused *[data-label].empty:after{position:absolute;content:attr(data-label);color:rgba(0,0,0,0.44);border-right:1px solid rgba(0,0,0,0.15);right:100%;top:-6px;bottom:-6px;padding:6px 12px;font-weight:normal;margin:0 21px;opacity:0;visibility:hidden;transition:opacity .15s ease}@media (max-width: 960px){.tl_article.tl_article_edit *[data-label]:after{display:none}}.tl_article.tl_article_edit.title_focused *[data-label]:after{opacity:1;visibility:visible}.tl_article.tl_article_edit h1:before,.tl_article.tl_article_edit h1:after{transition:color 0.4s ease, border-right 0.4s ease}.tl_article.tl_article_edit.title_required h1[data-placeholder]:before{color:rgba(255,0,0,0.75)}.tl_article.tl_article_edit.title_required h1[data-label]:after{border-right:1px solid rgba(255,0,0,0.25);color:rgba(255,0,0,0.75)}.tl_article .tl_article_header,.tl_article .tl_article_content,.tl_article .tl_article_content .ql-editor{font-family:CustomSerif, Georgia, Cambria, 'Times New Roman', serif;font-weight:400;font-style:normal;font-size:18px;line-height:1.58;padding:0;margin:0;color:rgba(0,0,0,0.8)}.tl_article .ql-editor{height:100%;overflow:visible;text-align:inherit}.tl_article.tl_article.tl_article_edit .ql-editor{text-align:left}.tl_article .tl_article_content.ql-container{white-space:normal}.tl_article h1,.tl_article h2{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-weight:700;font-style:normal;font-size:32px;margin:21px 21px 12px;line-height:34px}.tl_article h2{font-size:24px;margin:-6px 21px 12px;color:rgba(0,0,0,0.44)}.tl_article address{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:15px;line-height:18px;color:#79828B;margin:12px 21px;font-style:normal}.tl_article address a{color:#79828B}.tl_article address.empty{display:none}.tl_article.tl_article_edit address.empty{display:block}.tl_article address time:before{content:'\\2022';padding:0 7px}.tl_article time:empty:before,.tl_article address a[rel=author]:empty+time:before{display:none}.tl_article a[href]{color:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0.44);text-decoration:none;border-bottom:0.1em solid rgba(0,0,0,0.7)}.tl_article address a[href]{border-bottom:none}.tl_article.tl_article_edit address a[href]{border-bottom:0.1em solid rgba(0,0,0,0.4)}.tl_article .tl_article_content p{margin:0 21px 12px;word-wrap:break-word}.tl_article .tl_article_content h3,.tl_article .tl_article_content h4{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-weight:700;font-style:normal;font-size:28px;margin:18px 21px 9px}.tl_article .tl_article_content h4{font-size:24px;margin:18px 21px 7px}.tl_article .tl_article_content blockquote{font-family:CustomSerif, Georgia, Cambria, 'Times New Roman', serif;margin:18px 21px 16px 0;padding-left:15px;position:relative;font-style:italic;word-wrap:break-word;border-left:3px solid #000}.tl_article .tl_article_content aside{font-family:CustomSerif, Georgia, Cambria, 'Times New Roman', serif;font-size:21px;color:rgba(0,0,0,0.6);margin:18px 21px 16px;padding:0 18px;text-align:center;font-style:italic}.tl_article .tl_article_content hr{width:50%;margin:30px auto;border:none;font-size:2px;text-align:right;overflow:visible}.tl_article .tl_article_content hr:after{content:'';display:block;border-top:1px solid #c9cdd1;margin:0 3px;position:relative;top:1px}.tl_article .tl_article_content ul,.tl_article .tl_article_content ol{padding:0;margin:21px}.tl_article .tl_article_content ul li,.tl_article .tl_article_content ol li{margin-bottom:14px}.tl_article .tl_article_content ul li:before{padding:1px 15px 0 0;content:'\\2022'}.tl_article .tl_article_content ol li:before{font-feature-settings:'liga' on, 'lnum' on;-moz-font-feature-settings:'liga' on, 'lnum' on;-webkit-font-feature-settings:'liga' on, 'lnum' on;padding-right:12px}.tl_article .tl_article_content img,.tl_article .tl_article_content video,.tl_article .tl_article_content iframe,.tl_article .tl_article_content .iframe_wrap{max-width:100%;vertical-align:top}.tl_article .tl_article_content .iframe_wrap{max-width:100%;vertical-align:top;position:relative}.tl_article .tl_article_content .iframe_wrap iframe{position:absolute;width:1px;height:1px;min-width:100%;min-height:100%;*width:100%;*height:100%;top:0;left:0}.tl_article .tl_article_content figure{margin:0 21px 16px;padding:0;text-align:center;position:relative}.tl_article .tl_article_content figcaption,.tl_article .tl_article_content figcaption .editable_input{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:15px;color:#79828B;padding:12px 21px 0;line-height:18px;vertical-align:top;text-align:center}.tl_article .tl_article_content figcaption .editable_input{width:100%;border:none;padding:0;margin:0}.tl_article .tl_article_content .figure_wrapper{position:relative}.tl_article .tl_article_content .figure_wrapper img,.tl_article .tl_article_content .figure_wrapper video{opacity:1;transition:opacity .15s ease;max-height:690px}.tl_article .tl_article_content .figure_wrapper.loading img,.tl_article .tl_article_content .figure_wrapper.loading video{opacity:0.3}.tl_article .tl_article_content .figure_wrapper .file_progress{position:absolute;z-index:1;bottom:0;left:0;right:0;padding:3px;background-color:rgba(255,255,255,0.7);transition:opacity .15s ease;visibility:hidden;opacity:0}.tl_article .tl_article_content .figure_wrapper.loading .file_progress{visibility:visible;opacity:1}.tl_article .tl_article_content .figure_wrapper .file_progress_bar{height:2px;background-color:#333;transition:width .1s linear;width:0}.tl_article .tl_article_content input.ql-image[type=file],.tl_article .tl_article_content input.ql-image[type=file]{display:none}.tl_article.tl_article_edit img:hover,.tl_article.tl_article_edit video:hover,.tl_article.tl_article_edit iframe:hover,.tl_article.tl_article_edit .iframe_wrap:hover{box-shadow:0 0 0 3px rgba(0,0,0,0.2)}.tl_article.tl_article_edit figure.focus img,.tl_article.tl_article_edit figure.focus video,.tl_article.tl_article_edit figure.focus iframe,.tl_article.tl_article_edit figure.focus .iframe_wrap{box-shadow:0 0 0 3px rgba(0,0,0,0.4)}.tl_article.tl_article_edit figcaption[data-placeholder].empty{position:relative;overflow:hidden}.tl_article.tl_article_edit figcaption[data-placeholder].empty:before{display:none}.tl_article.tl_article_edit figcaption[data-placeholder].empty:after{position:relative;content:attr(data-placeholder);color:rgba(0,0,0,0.44);font-weight:normal}.tl_article.tl_article_edit figcaption[data-placeholder].empty .editable_input{text-align:left;position:absolute;width:1px}.account{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:15px;line-height:18px;color:#000;margin:0 0 15px;white-space:pre-wrap}.account:empty{display:none}@media (max-width: 960px){.account_top{display:none}}.account_bottom{display:none}@media (max-width: 960px){.account_bottom{display:block}}.error_msg{font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:15px;color:rgba(255,0,0,0.75);font-style:normal;line-height:18px;margin:0 0 15px;white-space:pre;opacity:0;visibility:hidden;transition:opacity .4s ease}.error_msg.shown{opacity:1;visibility:visible}.tl_link_tooltip{position:absolute;left:0;top:0;font-family:CustomSansSerif, 'Lucida Grande', Arial, sans-serif;font-size:14px;background-color:#292927;border:none !important;border-radius:6px;line-height:19px;padding:7px 10px;color:#fff;word-wrap:break-word;text-align:center;max-width:300px;pointer-events:none;transition:opacity 0.2s ease 0.06s;opacity:0}.tl_link_tooltip.move_anim{transition:opacity 0.2s ease 0.06s, top 0.2s ease, left 0.2s ease}.tl_link_tooltip.shown{pointer-events:auto;opacity:1}@media (max-width: 350px){.tl_link_tooltip{max-width:80%}}.ql-container .tl_link_tooltip,.ql-container .tl_tooltip,.ql-container .tl_blocks{display:block}.buttons,.button_group,.tl_blocks .buttons{display:flex}.buttons,.button_group,.tl_blocks .buttons{display:flex}.tl_article .tl_article_content code{font-family:Menlo, 'Courier New', Courier, monospace;font-size:16px}.tl_article .tl_article_content code:not(.hljs){background:#F5F8FC}.tl_article .tl_article_content code{padding:1px 3px}.tl_article .tl_article_content pre{margin:14px 0;white-space:pre-wrap;word-wrap:break-word}.ql-syntax code.hljs{background:#232B2B;border-radius:3px;box-shadow:0 10px 20px rgba(0,0,0,0.4);border-left:6px solid #516363;margin:20px auto;white-space:pre-wrap;padding:20px 20px 20px 50px;color:#c7d3de;counter-reset:step;counter-increment:step 0;position:relative;font-size:12px}.ql-syntax code.hljs span.l{line-height:1.4em}.ql-syntax code.hljs span.l:before{color:#516363;position:absolute;left:15px;content:counter(step);counter-increment:step}.ql-container.ql-bubble:not(.ql-disabled) a{white-space:initial}\n"},416:function(e,t){e.exports='/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active{outline:0}a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}html{font-size:62.5%}body{font-size:1.5em;line-height:1.6;font-weight:400;font-family:"Raleway","HelveticaNeue","Helvetica Neue",Helvetica,Arial,sans-serif;color:#222}a{color:#1eaedb}a:hover{color:#1b9cc5}hr{margin-top:3rem;margin-bottom:3.5rem;border-width:0;border-top:1px solid #e1e1e1}.u-full-width{width:100%;box-sizing:border-box}.u-max-full-width{max-width:100%;box-sizing:border-box}.u-pull-right{float:right}.u-pull-left{float:left}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:2rem;font-weight:300}h1{font-size:4.0rem;line-height:1.2;letter-spacing:-.1rem}h2{font-size:3.6rem;line-height:1.25;letter-spacing:-.1rem}h3{font-size:3.0rem;line-height:1.3;letter-spacing:-.1rem}h4{font-size:2.4rem;line-height:1.35;letter-spacing:-.08rem}h5{font-size:1.8rem;line-height:1.5;letter-spacing:-.05rem}h6{font-size:1.5rem;line-height:1.6;letter-spacing:0}@media (min-width: 550px){h1{font-size:5.0rem}h2{font-size:4.2rem}h3{font-size:3.6rem}h4{font-size:3.0rem}h5{font-size:2.4rem}h6{font-size:1.5rem}}p{margin-top:0}.container{position:relative;width:100%;max-width:960px;margin:0 auto;padding:0 20px;box-sizing:border-box}.column,.columns{width:100%;float:left;box-sizing:border-box}@media (min-width: 400px){.container{width:85%;padding:0}}@media (min-width: 550px){.container{width:80%}.column,.columns{margin-left:4%}.column:first-child,.columns:first-child{margin-left:0}.one.column,.one.columns{width:4.66667%}.two.columns{width:13.33333%}.three.columns{width:22%}.four.columns{width:30.66667%}.five.columns{width:39.33333%}.six.columns{width:48%}.seven.columns{width:56.66667%}.eight.columns{width:65.33333%}.nine.columns{width:74%}.ten.columns{width:82.66667%}.eleven.columns{width:91.33333%}.twelve.columns{width:100%;margin-left:0}.one-third.column{width:30.66667%}.two-thirds.column{width:65.33333%}.one-half.column{width:48%}.offset-by-one.column,.offset-by-one.columns{margin-left:8.66667%}.offset-by-two.column,.offset-by-two.columns{margin-left:17.33333%}.offset-by-three.column,.offset-by-three.columns{margin-left:26%}.offset-by-four.column,.offset-by-four.columns{margin-left:34.66667%}.offset-by-five.column,.offset-by-five.columns{margin-left:43.33333%}.offset-by-six.column,.offset-by-six.columns{margin-left:52%}.offset-by-seven.column,.offset-by-seven.columns{margin-left:60.66667%}.offset-by-eight.column,.offset-by-eight.columns{margin-left:69.33333%}.offset-by-nine.column,.offset-by-nine.columns{margin-left:78%}.offset-by-ten.column,.offset-by-ten.columns{margin-left:86.66667%}.offset-by-eleven.column,.offset-by-eleven.columns{margin-left:95.33333%}.offset-by-one-third.column,.offset-by-one-third.columns{margin-left:34.66667%}.offset-by-two-thirds.column,.offset-by-two-thirds.columns{margin-left:69.33333%}.offset-by-one-half.column,.offset-by-one-half.column{margin-left:52%}}.container:after,.row:after,.u-cf{content:"";display:table;clear:both}.button{display:inline-block;height:38px;padding:0 30px;color:#555;text-align:center;font-size:11px;font-weight:600;line-height:38px;letter-spacing:.1rem;text-transform:uppercase;text-decoration:none;white-space:nowrap;background-color:transparent;border-radius:4px;border:1px solid #bbb;cursor:pointer;box-sizing:border-box}input[type="submit"],input[type="reset"],input[type="button"]{display:inline-block;height:38px;padding:0 30px;color:#555;text-align:center;font-size:11px;font-weight:600;line-height:38px;letter-spacing:.1rem;text-transform:uppercase;text-decoration:none;white-space:nowrap;background-color:transparent;border-radius:4px;border:1px solid #bbb;cursor:pointer;box-sizing:border-box}.button:hover{color:#333;border-color:#888;outline:0}input[type="submit"]:hover,input[type="reset"]:hover,input[type="button"]:hover{color:#333;border-color:#888;outline:0}.button:focus{color:#333;border-color:#888;outline:0}input[type="submit"]:focus,input[type="reset"]:focus{color:#333;border-color:#888;outline:0}.button.button-primary{color:#fff;background-color:#33c3f0;border-color:#33c3f0}input[type="submit"].button-primary,input[type="reset"].button-primary,input[type="button"].button-primary{color:#fff;background-color:#33c3f0;border-color:#33c3f0}.button.button-primary:hover{color:#fff;background-color:#1eaedb;border-color:#1eaedb}input[type="submit"].button-primary:hover,input[type="reset"].button-primary:hover,input[type="button"].button-primary:hover{color:#fff;background-color:#1eaedb;border-color:#1eaedb}.button.button-primary:focus{color:#fff;background-color:#1eaedb;border-color:#1eaedb}input[type="submit"].button-primary:focus,input[type="reset"].button-primary:focus,input[type="button"].button-primary:focus{color:#fff;background-color:#1eaedb;border-color:#1eaedb}input[type="email"],input[type="number"],input[type="search"],input[type="text"],input[type="tel"],input[type="url"],input[type="password"]{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}input[type=\'email\'],input[type=\'number\'],input[type=\'search\'],input[type=\'text\'],input[type=\'tel\'],input[type=\'url\'],input[type=\'password\'],textarea,select{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}input[type="email"],input[type="number"],input[type="search"],input[type="text"],input[type="tel"],input[type="url"],input[type="password"]{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;min-height:65px;padding-top:6px;padding-bottom:6px}input[type="email"]:focus,input[type="number"]:focus,input[type="search"]:focus,input[type="text"]:focus,input[type="tel"]:focus,input[type="url"]:focus,input[type="password"]:focus{border:1px solid #33c3f0;outline:0}textarea:focus,select:focus{border:1px solid #33c3f0;outline:0}label,legend{display:block;margin-bottom:.5rem;font-weight:600}fieldset{padding:0;border-width:0}input[type="checkbox"],input[type="radio"]{display:inline}label>.label-body{display:inline-block;margin-left:.5rem;font-weight:normal}ul{list-style:circle inside}ol{list-style:decimal inside;padding-left:0;margin-top:0}ul{padding-left:0;margin-top:0}ul ul,ul ol{margin:1.5rem 0 1.5rem 3rem;font-size:90%}ol ol,ol ul{margin:1.5rem 0 1.5rem 3rem;font-size:90%}li{margin-bottom:1rem}code{padding:.2rem .5rem;margin:0 .2rem;font-size:90%;white-space:nowrap;background:#f1f1f1;border:1px solid #e1e1e1;border-radius:4px}pre>code{display:block;padding:1rem 1.5rem;white-space:pre}th,td{padding:12px 15px;text-align:left;border-bottom:1px solid #e1e1e1}th:first-child,td:first-child{padding-left:0}th:last-child,td:last-child{padding-right:0}button,.button{margin-bottom:1rem}input,textarea,select,fieldset{margin-bottom:1.5rem}pre,blockquote,dl,figure,table,p,ul,ol,form{margin-bottom:2.5rem}.um-drafts__submenu{display:flex;flex-direction:row-reverse;padding-top:10px;border-bottom:1px solid #eee}.um-drafts__export-all{margin:0 0 10px 10px;stroke:#ffffff;stroke-width:30px;color:#bbb}.um-drafts__export-all:hover{color:#888;cursor:pointer}.fab-container{bottom:0;margin:1em;right:0px;display:flex;align-items:center;justify-content:flex-end}.fab-container [tooltip]:before{bottom:115%;font-family:arial;font-weight:600;border-radius:2px;background:rgba(88,88,88,0.16);content:attr(tooltip);font-size:12px;visibility:hidden;opacity:0;padding:5px 7px;margin-right:12px;position:absolute;white-space:nowrap}.fab-container [tooltip]:hover:before,.fab-container [tooltip]:hover:after{visibility:visible;opacity:1}.fab-buttons{border:none;background-color:transparent;cursor:pointer;box-shadow:2px 2px 2px 0px rgba(0,0,0,0.18),0px 4px 7px -7px rgba(0,0,0,0.15);border-radius:50%;display:block;width:50px;height:50px;margin-left:15px;position:relative;transition:all 0.1s ease-out;opacity:1;text-decoration:none;display:flex;justify-content:center;align-items:center;color:#bbb}.fab-buttons:active,.fab-buttons:focus,.fab-buttons:hover{box-shadow:3px 2px 2px rgba(0,0,0,0.14),0 4px 8px rgba(0,0,0,0.28);color:#bbb}.fab-buttons:not(:last-child){width:40px;height:40px;opacity:0;margin-left:0;transform:translateX(10px)}.fab-container:hover .fab-buttons:not(:last-child){opacity:1;transform:none;margin-left:15px}.fab-buttons:nth-last-child(1){-webkit-transition-delay:25ms;transition-delay:25ms;background-size:contain}.fab-buttons:not(:last-child):nth-last-child(2){-webkit-transition-delay:50ms;transition-delay:20ms;background-size:contain}.fab-buttons:not(:last-child):nth-last-child(3){-webkit-transition-delay:75ms;transition-delay:40ms;background-size:contain}.fab-buttons:not(:last-child):nth-last-child(4){-webkit-transition-delay:100ms;transition-delay:60ms;background-size:contain}\n'},427:function(e,t,n){"use strict";n.r(t),n.d(t,"draftElement",(function(){return Bn}));var i=n(13),o=n(138);function r(e,t){const[n,i]=Object(o.e)(),[r,a]=Object(o.e)();return Object(o.c)(()=>{const n=new e(...null!=t?t:[]);i(n);const o=n.state$.subscribe(a);return()=>{n.destroy(),o.unsubscribe()}},[]),[r,n]}var a=n(169),l=n(366);function s(e){return e&&"function"==typeof e.schedule}var c=n(16),u=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}},d=n(5);function p(e,t){return new c.a((function(n){var i=new d.a,o=0;return i.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}function h(e,t){return t?p(e,t):new c.a(u(e))}function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return s(n)?(e.pop(),p(e,n)):h(e)}var m=n(1),b=n(4),g=function(e){function t(t,n,i){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o.index=0,o}return m.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(b.a),y=n(9);function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var _=v(),x=n(19),k=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function E(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var T=n(27),S=function(e){if(e&&"function"==typeof e[x.a])return i=e,function(e){var t=i[x.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(k(e))return u(e);if(E(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,y.a),e};if(e&&"function"==typeof e[_])return t=e,function(e){for(var n=t[_]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,i,o=Object(T.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function w(e,t,n,i,o){if(void 0===o&&(o=new g(e,n,i)),!o.closed)return t instanceof c.a?t.subscribe(o):S(t)(o)}var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.a(t,e),t.prototype.notifyNext=function(e,t,n,i,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(b.a);function N(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new I(e,t))}}var I=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new O(e,this.project,this.thisArg))},e}(),O=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return m.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(b.a);function L(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[x.a]}(e))return function(e,t){return new c.a((function(n){var i=new d.a;return i.add(t.schedule((function(){var o=e[x.a]();i.add(o.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}))}(e,t);if(E(e))return function(e,t){return new c.a((function(n){var i=new d.a;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}))}(e,t);if(k(e))return p(e,t);if(function(e){return e&&"function"==typeof e[_]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new c.a((function(n){var i,o=new d.a;return o.add((function(){i&&"function"==typeof i.return&&i.return()})),o.add(t.schedule((function(){i=e[_](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=i.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function q(e,t){return t?L(e,t):e instanceof c.a?e:new c.a(S(e))}var C=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new D(e,this.project,this.concurrent))},e}(),D=function(e){function t(t,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return m.a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=new g(this,t,n),o=this.destination;o.add(i);var r=w(this,e,void 0,void 0,i);r!==i&&o.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,o){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(A);function B(e){return e}function R(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),function e(t,n,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"function"==typeof n?function(o){return o.pipe(e((function(e,i){return q(t(e,i)).pipe(N((function(t,o){return n(e,t,i,o)})))}),i))}:("number"==typeof n&&(i=n),function(e){return e.lift(new C(t,i))})}(B,e)}function j(){return R(1)}function P(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return j()(f.apply(void 0,e))}function F(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return s(n)?(e.pop(),function(t){return P(e,t,n)}):function(t){return P(e,t)}}function M(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new K(e,t,n))}}var K=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new U(e,this.accumulator,this.seed,this.hasSeed))},e}(),U=function(e){function t(t,n,i,o){var r=e.call(this,t)||this;return r.accumulator=n,r._seed=i,r.hasSeed=o,r.index=0,r}return m.a(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(b.a);function z(e,t){return function(n){return n.lift(new V(e,t))}}var $,V=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new G(e,this.keySelector,this.flushes))},e}(),G=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.keySelector=n,o.values=new Set,i&&o.add(w(o,i)),o}return m.a(t,e),t.prototype.notifyNext=function(e,t,n,i,o){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(A),H=n(22),Q=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return m.a(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},t}(n(162).a),W=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.a(t,e),t}(n(161).a))(Q),Y=new c.a((function(e){return e.complete()}));function J(e){return e?function(e){return new c.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Y}function X(e){var t=e.error;e.subscriber.error(t)}$||($={});var Z=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e,t;switch(this.kind){case"N":return f(this.value);case"E":return e=this.error,t?new c.a((function(n){return t.schedule(X,0,{error:e,subscriber:n})})):new c.a((function(t){return t.error(e)}));case"C":return J()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();var ee=function(e){function t(t,n,i){void 0===i&&(i=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=i,o}return m.a(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new te(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Z.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Z.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Z.createComplete()),this.unsubscribe()},t}(b.a),te=function(){return function(e,t){this.notification=e,this.destination=t}}(),ne=n(6),ie=n(28),oe=function(e){function t(t,n,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return m.a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new re(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,r=i.length;if(this.closed)throw new ne.a;if(this.isStopped||this.hasError?t=d.a.EMPTY:(this.observers.push(e),t=new ie.a(this,e)),o&&e.add(e=new ee(e,o)),n)for(var a=0;a<r&&!e.closed;a++)e.next(i[a]);else for(a=0;a<r&&!e.closed;a++)e.next(i[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||W).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,o=i.length,r=0;r<o&&!(e-i[r].time<n);)r++;return o>t&&(r=Math.max(r,o-t)),r>0&&i.splice(0,r),i},t}(H.a),re=function(){return function(e,t){this.time=e,this.value=t}}();function ae(){return function(e){return e.lift(new le(e))}}var le=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new se(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},e}(),se=function(e){function t(t,n){var i=e.call(this,t)||this;return i.connectable=n,i}return m.a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},t}(b.a),ce=function(e){function t(t,n){var i=e.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return m.a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d.a).add(this.source.subscribe(new de(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.a.EMPTY)),e},t.prototype.refCount=function(){return ae()(this)},t}(c.a),ue=function(){var e=ce.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),de=function(e){function t(t,n){var i=e.call(this,t)||this;return i.connectable=n,i}return m.a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(H.b);b.a;var pe=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(t.subscribe(i)),o},e}();function he(e,t,n,i){n&&"function"!=typeof n&&(i=n);var o="function"==typeof n?n:void 0,r=new oe(e,t,i);return function(e){return function(e,t){return function(n){var i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new pe(i,t));var o=Object.create(n,ue);return o.source=n,o.subjectFactory=i,o}}((function(){return r}),o)(e)}}function fe(e,t){return function(n){return n.lift(new me(e,t))}}var me=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new be(e,this.predicate,this.thisArg))},e}(),be=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return m.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(b.a);var ge=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new ye(e,this.project))},e}(),ye=function(e){function t(t,n){var i=e.call(this,t)||this;return i.project=n,i.index=0,i}return m.a(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=this.innerSubscription;i&&i.unsubscribe();var o=new g(this,t,n),r=this.destination;r.add(o),this.innerSubscription=w(this,e,void 0,void 0,o),this.innerSubscription!==o&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,i,o){this.destination.next(t)},t}(A);function ve(e){return function(t){var n=new _e(e),i=t.lift(n);return n.caught=i}}var _e=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new xe(e,this.selector,this.caught))},e}(),xe=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.selector=n,o.caught=i,o}return m.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var i=new g(this,void 0,void 0);this.add(i);var o=w(this,n,void 0,void 0,i);o!==i&&this.add(o)}},t}(A),ke=n(29);function Ee(e){var t;const n=new ke.a.WebAuth({domain:"inscriptum.auth0.com",clientID:"sSGAFDwnRqJUsJw7v12KV8SAeuYtl3Cd",redirectUri:e,responseType:"token id_token",scope:"openid email",audience:"https://inscriptum.js.org"}),i=null!==(t=sessionStorage.windowLocationHash)&&void 0!==t?t:window.location.hash;return null!=i&&i.length>0?function(e){var t;const n=null!==(t=sessionStorage.windowLocationHash)&&void 0!==t?t:window.location.hash;return new c.a(t=>{e.parseHash({hash:n},(e,n)=>{const i=Te(e,n);t.next(i)})})}(n):function(e,t){return new c.a(n=>{e.checkSession({},(i,o)=>{try{const e=Te(i,o);n.next(e)}catch(i){e.authorize({redirectUri:t}),n.error(i)}})})}(n,e)}function Te(e,t){var n;if(null!=(null==t?void 0:t.accessToken)&&null!=(null==t?void 0:t.idToken)){localStorage.setItem("isLoggedIn","true");const e=Number(JSON.stringify(1e3*(null!==(n=t.expiresIn)&&void 0!==n?n:1)+(new Date).getTime()));return{accessToken:t.accessToken,expiresAt:e,idToken:t.idToken}}{let t="";throw e&&(t="Error: "+e.error+". Check the console for further details.",console.warn(t)),Error(t)}}const Se={auth:void 0},we=new H.a;window.actions$=we;const Ae=we.pipe(fe(e=>"auth"===e.type),function e(t,n){return"function"==typeof n?function(i){return i.pipe(e((function(e,i){return q(t(e,i)).pipe(N((function(t,o){return n(e,t,i,o)})))})))}:function(e){return e.lift(new ge(t))}}(e=>Ee(e.payload.redirectUri).pipe(N(e=>({type:"auth done",payload:e})),ve(e=>f({type:"auth failed",payload:e})))));function Ne(e){we.next(e)}const Ie=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return s(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof o&&(n=e.pop()),null===i&&1===e.length&&e[0]instanceof c.a?e[0]:R(n)(h(e,i))}(we,Ae).pipe(F(Se),M((function(e,t){switch(t.type){case"auth":return Object.assign(Object.assign({},e),{auth:{error:null,isLoading:!0}});case"auth done":return Object.assign(Object.assign({},e),{auth:{data:t.payload,isLoading:!1}});case"auth failed":return Object.assign(Object.assign({},e),{auth:{error:t.payload,isLoading:!1}});default:return e}})),z(),he(1),ae());let Oe=Se;Ie.subscribe(e=>{Oe=e});const Le=we.asObservable();var qe=n(30),Ce="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e){return Re(e,[])}function Re(e,t){switch(De(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),i=function(e){var t=e[String(Ce)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==i){var o=i.call(e);if(o!==e)return"string"==typeof o?o:Re(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),i=e.length-n,o=[],r=0;r<n;++r)o.push(Re(e[r],t));1===i?o.push("... 1 more item"):i>1&&o.push("... ".concat(i," more items"));return"["+o.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+Re(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function je(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,Ce&&(e.prototype[Ce]=t)}function Pe(e){return null!=e&&"string"==typeof e.kind}je(function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}()),je(function(){function e(e,t,n,i,o,r,a){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=o,this.value=a,this.prev=r,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}());var Fe={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Me=Object.freeze({});function Ke(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var o=n?i.leave:i.enter;if("function"==typeof o)return o}else{var r=n?e.leave:e.enter;if(r){if("function"==typeof r)return r;var a=r[t];if("function"==typeof a)return a}}}function Ue(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe,i=void 0,o=Array.isArray(e),r=[e],a=-1,l=[],s=void 0,c=void 0,u=void 0,d=[],p=[],h=e;do{var f=++a===r.length,m=f&&0!==l.length;if(f){if(c=0===p.length?void 0:d[d.length-1],s=u,u=p.pop(),m){if(o)s=s.slice();else{for(var b={},g=0,y=Object.keys(s);g<y.length;g++){var v=y[g];b[v]=s[v]}s=b}for(var _=0,x=0;x<l.length;x++){var k=l[x][0],E=l[x][1];o&&(k-=_),o&&null===E?(s.splice(k,1),_++):s[k]=E}}a=i.index,r=i.keys,l=i.edits,o=i.inArray,i=i.prev}else{if(c=u?o?a:r[a]:void 0,null==(s=u?u[c]:h))continue;u&&d.push(c)}var T,S=void 0;if(!Array.isArray(s)){if(!Pe(s))throw new Error("Invalid AST Node: ".concat(Be(s),"."));var w=Ke(t,s.kind,f);if(w){if((S=w.call(t,s,c,u,d,p))===Me)break;if(!1===S){if(!f){d.pop();continue}}else if(void 0!==S&&(l.push([c,S]),!f)){if(!Pe(S)){d.pop();continue}s=S}}}if(void 0===S&&m&&l.push([c,s]),f)d.pop();else i={inArray:o,index:a,keys:r,edits:l,prev:i},r=(o=Array.isArray(s))?s:null!==(T=n[s.kind])&&void 0!==T?T:[],a=-1,l=[],u&&p.push(u),u=s}while(void 0!==i);return 0!==l.length&&(h=l[l.length-1][1]),h}(e,{leave:ze})}var ze={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Ve(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,i=He("(",Ve(e.variableDefinitions,", "),")"),o=Ve(e.directives," "),r=e.selectionSet;return n||o||i||"query"!==t?Ve([t,Ve([n,i]),o,r]," "):r},VariableDefinition:function(e){var t=e.variable,n=e.type,i=e.defaultValue,o=e.directives;return t+": "+n+He(" = ",i)+He(" ",Ve(o," "))},SelectionSet:function(e){return Ge(e.selections)},Field:function(e){var t=e.alias,n=e.name,i=e.arguments,o=e.directives,r=e.selectionSet,a=He("",t,": ")+n,l=a+He("(",Ve(i,", "),")");return l.length>80&&(l=a+He("(\n",Qe(Ve(i,"\n")),"\n)")),Ve([l,Ve(o," "),r]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+He(" ",Ve(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,i=e.selectionSet;return Ve(["...",He("on ",t),Ve(n," "),i]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,i=e.variableDefinitions,o=e.directives,r=e.selectionSet;return"fragment ".concat(t).concat(He("(",Ve(i,", "),")")," ")+"on ".concat(n," ").concat(He("",Ve(o," ")," "))+r},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1===e.indexOf("\n"),o=" "===e[0]||"\t"===e[0],r='"'===e[e.length-1],a="\\"===e[e.length-1],l=!i||r||a||n,s="";return!l||i&&o||(s+="\n"+t),s+=t?e.replace(/\n/g,"\n"+t):e,l&&(s+="\n"),'"""'+s.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+Ve(e.values,", ")+"]"},ObjectValue:function(e){return"{"+Ve(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+He("(",Ve(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:$e((function(e){var t=e.directives,n=e.operationTypes;return Ve(["schema",Ve(t," "),Ge(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:$e((function(e){return Ve(["scalar",e.name,Ve(e.directives," ")]," ")})),ObjectTypeDefinition:$e((function(e){var t=e.name,n=e.interfaces,i=e.directives,o=e.fields;return Ve(["type",t,He("implements ",Ve(n," & ")),Ve(i," "),Ge(o)]," ")})),FieldDefinition:$e((function(e){var t=e.name,n=e.arguments,i=e.type,o=e.directives;return t+(Ye(n)?He("(\n",Qe(Ve(n,"\n")),"\n)"):He("(",Ve(n,", "),")"))+": "+i+He(" ",Ve(o," "))})),InputValueDefinition:$e((function(e){var t=e.name,n=e.type,i=e.defaultValue,o=e.directives;return Ve([t+": "+n,He("= ",i),Ve(o," ")]," ")})),InterfaceTypeDefinition:$e((function(e){var t=e.name,n=e.interfaces,i=e.directives,o=e.fields;return Ve(["interface",t,He("implements ",Ve(n," & ")),Ve(i," "),Ge(o)]," ")})),UnionTypeDefinition:$e((function(e){var t=e.name,n=e.directives,i=e.types;return Ve(["union",t,Ve(n," "),i&&0!==i.length?"= "+Ve(i," | "):""]," ")})),EnumTypeDefinition:$e((function(e){var t=e.name,n=e.directives,i=e.values;return Ve(["enum",t,Ve(n," "),Ge(i)]," ")})),EnumValueDefinition:$e((function(e){return Ve([e.name,Ve(e.directives," ")]," ")})),InputObjectTypeDefinition:$e((function(e){var t=e.name,n=e.directives,i=e.fields;return Ve(["input",t,Ve(n," "),Ge(i)]," ")})),DirectiveDefinition:$e((function(e){var t=e.name,n=e.arguments,i=e.repeatable,o=e.locations;return"directive @"+t+(Ye(n)?He("(\n",Qe(Ve(n,"\n")),"\n)"):He("(",Ve(n,", "),")"))+(i?" repeatable":"")+" on "+Ve(o," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return Ve(["extend schema",Ve(t," "),Ge(n)]," ")},ScalarTypeExtension:function(e){return Ve(["extend scalar",e.name,Ve(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,o=e.fields;return Ve(["extend type",t,He("implements ",Ve(n," & ")),Ve(i," "),Ge(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,o=e.fields;return Ve(["extend interface",t,He("implements ",Ve(n," & ")),Ve(i," "),Ge(o)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,i=e.types;return Ve(["extend union",t,Ve(n," "),i&&0!==i.length?"= "+Ve(i," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,i=e.values;return Ve(["extend enum",t,Ve(n," "),Ge(i)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,i=e.fields;return Ve(["extend input",t,Ve(n," "),Ge(i)]," ")}};function $e(e){return function(t){return Ve([t.description,e(t)],"\n")}}function Ve(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function Ge(e){return He("{\n",Qe(Ve(e,"\n")),"\n}")}function He(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function Qe(e){return He("  ",e.replace(/\n/g,"\n  "))}function We(e){return-1!==e.indexOf("\n")}function Ye(e){return null!=e&&e.some(We)}var Je,Xe,Ze,et,tt,nt,it,ot,rt,at,lt,st,ct,ut,dt=n(404),pt=n.n(dt);!function(e){e.AuthorAuth0UserIdKey="author_auth0UserId_key",e.AuthorPkey="author_pkey"}(Je||(Je={})),function(e){e.Auth0Id="auth0_id",e.CreatedAt="created_at",e.Email="email",e.Id="id",e.LastSeen="last_seen",e.Name="name"}(Xe||(Xe={})),function(e){e.Auth0Id="auth0_id",e.CreatedAt="created_at",e.Email="email",e.Id="id",e.LastSeen="last_seen",e.Name="name"}(Ze||(Ze={})),function(e){e.DraftPkey="draft_pkey"}(et||(et={})),function(e){e.AuthorId="author_id",e.CreatedAt="created_at",e.EndedAt="ended_at",e.Id="id",e.UpdatedAt="updated_at"}(tt||(tt={})),function(e){e.AuthorId="author_id",e.CreatedAt="created_at",e.EndedAt="ended_at",e.Id="id",e.UpdatedAt="updated_at"}(nt||(nt={})),function(e){e.NotePkey="note_pkey",e.UqNoteDraftIdEndedAt="uq_note_draft_id_ended_at"}(it||(it={})),function(e){e.AuthorId="author_id",e.CreatedAt="created_at",e.DraftId="draft_id",e.EndedAt="ended_at",e.Id="id",e.Name="name",e.Preview="preview",e.StaticLink="static_link",e.UpdatedAt="updated_at"}(ot||(ot={})),function(e){e.AuthorId="author_id",e.CreatedAt="created_at",e.DraftId="draft_id",e.EndedAt="ended_at",e.Id="id",e.Name="name",e.Preview="preview",e.StaticLink="static_link",e.UpdatedAt="updated_at"}(rt||(rt={})),function(e){e.LastSeen="last_seen",e.Name="name"}(at||(at={})),function(e){e.Asc="asc",e.AscNullsFirst="asc_nulls_first",e.AscNullsLast="asc_nulls_last",e.Desc="desc",e.DescNullsFirst="desc_nulls_first",e.DescNullsLast="desc_nulls_last"}(lt||(lt={})),function(e){e.PagePkey="page_pkey"}(st||(st={})),function(e){e.Content="content",e.CreatedAt="created_at",e.DraftId="draft_id",e.EndedAt="ended_at",e.Id="id",e.Order="order",e.UpdatedAt="updated_at"}(ct||(ct={})),function(e){e.Content="content",e.CreatedAt="created_at",e.DraftId="draft_id",e.EndedAt="ended_at",e.Id="id",e.Order="order",e.UpdatedAt="updated_at"}(ut||(ut={}));const ht=pt.a`
    query getDraftById($id: uuid!) {
  draft: draft_by_pk(id: $id) {
    id
    created_at
    updated_at
    notes(order_by: {created_at: asc}, where: {ended_at: {_is_null: true}}) {
      id
    }
    pages(order_by: {created_at: asc}, where: {ended_at: {_is_null: true}}) {
      id
      content
      order
    }
  }
}
    `,ft=pt.a`
    mutation updatePageById($id: uuid!, $content: jsonb!, $updated_at: timestamptz!) {
  update_page_by_pk(
    pk_columns: {id: $id}
    _set: {content: $content, updated_at: $updated_at}
  ) {
    id
  }
}
    `,mt=pt.a`
    mutation addPageToDraft($created_at: timestamptz!, $draft_id: uuid!, $order: Int!) {
  update_page(
    where: {draft_id: {_eq: $draft_id}, ended_at: {_is_null: true}, order: {_gte: $order}}
    _inc: {order: 1}
  ) {
    returning {
      id
      order
    }
  }
  insert_page_one(
    object: {created_at: $created_at, draft_id: $draft_id, order: $order}
  ) {
    id
    order
    content
  }
}
    `,bt=pt.a`
    mutation deletePage($id: uuid!, $ended_at: timestamptz!, $draft_id: uuid!, $order: Int!) {
  update_page_by_pk(pk_columns: {id: $id}, _set: {ended_at: $ended_at}) {
    id
  }
  update_page(
    where: {draft_id: {_eq: $draft_id}, ended_at: {_is_null: true}, order: {_gte: $order}}
    _inc: {order: -1}
  ) {
    returning {
      id
      order
    }
  }
}
    `,gt=e=>e();function yt(e,t=gt){return{getDraftById:(n,i)=>t(()=>e.request(Ue(ht),n,i)),updatePageById:(n,i)=>t(()=>e.request(Ue(ft),n,i)),addPageToDraft:(n,i)=>t(()=>e.request(Ue(mt),n,i)),deletePage:(n,i)=>t(()=>e.request(Ue(bt),n,i))}}var vt=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),_t=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function xt(e){return function(t){return 0===e?J():t.lift(new kt(e))}}var kt=function(){function e(e){if(this.total=e,this.total<0)throw new _t}return e.prototype.call=function(e,t){return t.subscribe(new Et(e,this.total))},e}(),Et=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.count=0,i}return m.a(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(b.a);function Tt(e){return void 0===e&&(e=null),function(t){return t.lift(new St(e))}}var St=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new wt(e,this.defaultValue))},e}(),wt=function(e){function t(t,n){var i=e.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return m.a(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(b.a);function At(e){return void 0===e&&(e=Ot),function(t){return t.lift(new Nt(e))}}var Nt=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new It(e,this.errorFactory))},e}(),It=function(e){function t(t,n){var i=e.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return m.a(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(b.a);function Ot(){return new vt}var Lt,qt=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Ct=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Dt{constructor(){this._graphQLClientOptions={credentials:"include",mode:"cors",cache:"no-cache",method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"}},this._graphQLClientEndpoint="https://inscriptum-hasura.herokuapp.com/v1/graphql",this.graphQLClient=new qe.GraphQLClient(this._graphQLClientEndpoint,this._graphQLClientOptions),this.sdkApi=yt(this.graphQLClient),this.subs=[],Lt.set(this,void 0),qt(this,Lt,Ie.pipe(function(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?fe((function(t,n){return e(t,n,i)})):B,xt(1),n?Tt(t):At((function(){return new vt})))}}(e=>{var t;return null!=(null===(t=e.auth)||void 0===t?void 0:t.data)}),N(e=>{var t,n;return null!=(null===(t=e.auth)||void 0===t?void 0:t.data)&&(this._graphQLClientOptions=Object.assign(Object.assign({},this._graphQLClientOptions),{headers:Object.assign(Object.assign({},this._graphQLClientOptions.headers),{Authorization:"Bearer "+e.auth.data.idToken})}),this.graphQLClient=new qe.GraphQLClient(this._graphQLClientEndpoint,this._graphQLClientOptions),this.sdkApi=yt(this.graphQLClient)),null!==(n=e.auth)&&void 0!==n?n:{}}),he(1),ae()))}authorizedWork(e,t){var n,i;null!=(null===(n=Oe.auth)||void 0===n?void 0:n.data)||(null===(i=Oe.auth)||void 0===i?void 0:i.isLoading)||Ne({type:"auth",payload:{redirectUri:t}}),Ct(this,Lt).pipe(xt(1)).subscribe(t=>{null!=(null==t?void 0:t.data)&&null==(null==t?void 0:t.error)&&e()})}destroy(){for(const e of this.subs)e.unsubscribe()}}Lt=new WeakMap;var Bt=n(386),Rt=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{s(i.next(e))}catch(e){r(e)}}function l(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((i=i.apply(e,t||[])).next())}))};const jt={data:void 0,isLoading:!1},Pt="PAGE_ACTION",Ft={SAVE:Symbol(`[${Pt}] SAVE`),SAVING:Symbol(`[${Pt}] SAVING`),SAVE_DONE:Symbol(`[${Pt}] SAVE_DONE`),SAVE_FAIL:Symbol(`[${Pt}] SAVE_FAIL`),FOLD:Symbol(`[${Pt}] FOLD`)};class Mt extends Dt{constructor(e=jt){super(),this.unsavedContent=null,this.state$=Le.pipe(fe(e=>{var t;return e.payload.pageId===(null===(t=this.state.data)||void 0===t?void 0:t.id)}),F(e),M(this.stateReducer),z(),he(1),ae()),this.subs.push(this.state$.subscribe(e=>{this.state=e})),this.subs.push(Le.pipe(fe(e=>{var t;return e.type===Ft.SAVE&&e.payload.pageId===(null===(t=this.state.data)||void 0===t?void 0:t.id)}),Object(Bt.a)(1e4)).subscribe(()=>{var e,t;P(f({type:Ft.SAVING,payload:{draftId:null===(e=this.state.data)||void 0===e?void 0:e.draftId,pageId:null===(t=this.state.data)||void 0===t?void 0:t.id}}),this.saveChanges().pipe(N(e=>({type:Ft.SAVE_DONE,payload:{pageId:e.id,draftId:e.draftId,content:e.content}})),ve(e=>f({type:Ft.SAVE_FAIL,payload:e})))).subscribe(e=>Ne(e))}))}stateReducer(e,t){switch(t.type){case Ft.SAVE:return Object.assign(Object.assign({},e),{error:null});case Ft.SAVE_DONE:return e.data&&(e.data.content=t.payload.content),e;case Ft.SAVE_FAIL:return Object.assign(Object.assign({},e),{error:t.payload});case Ft.FOLD:return Object.assign(Object.assign({},e),{data:null!=e.data?Object.assign(Object.assign({},e.data),{isFolded:t.payload.flag}):void 0});default:return e}}changeContent(e){null!=this.state.data&&(this.unsavedContent=e,Ne({type:Ft.SAVE,payload:{pageId:this.state.data.id,draftId:this.state.data.draftId}}))}saveChanges(){return new c.a(e=>{this.authorizedWork(()=>Rt(this,void 0,void 0,(function*(){try{if(null!=this.unsavedContent&&null!=this.state.data){const{update_page_by_pk:t}=yield this.sdkApi.updatePageById({id:this.state.data.id,content:this.unsavedContent,updated_at:(new Date).toISOString()});null!=t&&e.next(Object.assign(Object.assign({},this.state.data),{content:this.unsavedContent})),this.unsavedContent=null}else e.next(this.state.data)}catch(t){e.error(t)}})),document.location.origin+"/drafts")})}}var Kt=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{s(i.next(e))}catch(e){r(e)}}function l(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((i=i.apply(e,t||[])).next())}))};const Ut={LOAD:Symbol("[DRAFT_ACTION] LOAD"),LOADING:Symbol("[DRAFT_ACTION] LOADING"),LOAD_DONE:Symbol("[DRAFT_ACTION] LOAD_DONE")},zt={data:void 0,isLoading:!1};class $t extends Dt{constructor(){super(),this.state$=Le.pipe(F(zt),M(this.stateReducer),z(),he(1),ae()),this.subs.push(this.state$.subscribe(e=>{this.state=e}))}stateReducer(e,t){switch(t.type){case Ut.LOAD:case Ut.LOADING:return Object.assign(Object.assign({},e),{isLoading:!0});case Ut.LOAD_DONE:return Object.assign(Object.assign({},e),{data:t.payload,isLoading:!1});default:return e}}getById(e){Ne({type:Ut.LOADING,payload:{id:e}}),this.authorizedWork(()=>Kt(this,void 0,void 0,(function*(){const{draft:t}=yield this.sdkApi.getDraftById({id:e});null!=t&&Ne({type:Ut.LOAD_DONE,payload:{id:t.id,created_at:t.created_at,updated_at:t.updated_at,notes:t.notes,pages:t.pages.sort((e,t)=>e.order-t.order).map((t,n)=>{var i;return Object.assign(Object.assign({},t),{content:null!==(i=t.content)&&void 0!==i?i:{},draftId:e,isFolded:0!==n})})}})})),document.location.origin+"/drafts")}foldPage(e,t){Ne({type:Ft.FOLD,payload:{pageId:e,flag:t}})}savingProcess(e){const t=document.title,n="*"+t,i=e.current.togglePause,o=e.current.generateProgress;if(null!=i&&null!=o){let e=2e3,r=!1;this.subs.push(Le.pipe(fe(e=>e.type===Ft.SAVE)).subscribe(()=>{document.title!==n&&(document.title=n)})),this.subs.push(Le.pipe(fe(e=>e.type===Ft.SAVING)).subscribe(()=>{r&&o.next(),e=2e3,r=!0;const t=o.next();void 0!==t&&1===t.value&&(setTimeout(()=>{r&&(i(!0),e-=300)},300),setTimeout(()=>{r&&i(!1)},1e3),setTimeout(()=>{r&&(i(!0),e-=1e3)},2e3),setTimeout(()=>{r&&(e-=1e3)},3e3))})),this.subs.push(Le.pipe(fe(e=>e.type===Ft.SAVE_DONE)).subscribe(()=>{r=!1,i(!1),setTimeout(()=>{o.next()},e>0?e:0),document.title=t}))}}addNewPage(e){this.authorizedWork(()=>Kt(this,void 0,void 0,(function*(){var t,n,i;if(null!=this.state.data){const{insert_page_one:o,update_page:r}=yield this.sdkApi.addPageToDraft({draft_id:this.state.data.id,order:e,created_at:(new Date).toISOString()}),a=new Map((null!==(t=null==r?void 0:r.returning)&&void 0!==t?t:[]).map(e=>[e.id,e.order]));if(null!=o){const e=null!==(n=this.state.data.pages)&&void 0!==n?n:[];for(const t of e){const e=a.get(t.id);null!=e&&(t.order=e)}o.content=null!==(i=o.content)&&void 0!==i?i:{},e.push(Object.assign({draftId:this.state.data.id},o)),Ne({type:Ut.LOAD_DONE,payload:Object.assign(Object.assign({},this.state.data),{pages:e.sort((e,t)=>e.order-t.order)})})}}})),document.location.origin+"/drafts")}deletePage(e,t){this.authorizedWork(()=>Kt(this,void 0,void 0,(function*(){var n,i,o;if(null!=this.state.data){const{update_page_by_pk:r,update_page:a}=yield this.sdkApi.deletePage({id:e,ended_at:(new Date).toISOString(),draft_id:null===(n=this.state.data)||void 0===n?void 0:n.id,order:t});if(null!=r&&null!=(null==a?void 0:a.returning)){const e=new Map((null!==(i=a.returning)&&void 0!==i?i:[]).map(e=>[e.id,e.order])),t=(null!==(o=this.state.data.pages)&&void 0!==o?o:[]).filter(e=>e.id!==r.id);for(const n of t){const t=e.get(n.id);null!=t&&(n.order=t)}Ne({type:Ut.LOAD_DONE,payload:Object.assign(Object.assign({},this.state.data),{pages:t.sort((e,t)=>e.order-t.order)})})}}})),document.location.origin+"/drafts")}}const Vt=String.raw,Gt=Object(o.a)({props:{page:{},foldPage:{}},shadow:{mode:"open"},render:(e,t)=>{var n;if(0==(null===(n=t.adoptedStyleSheets)||void 0===n?void 0:n.length)){const n=new CSSStyleSheet;n.replaceSync(e[0]),t.adoptedStyleSheets=[n]}Object(i.g)(e[1],t)}})((function(e){const[t,n]=Object(o.e)(e.page.isFolded),r=Object(o.b)(()=>{n(e=>!e),e.foldPage(e.page.id,!t)},[t,n,e]);return[Vt`
      :host {
        bottom: 0;
        margin-right: 1em;
        right: 0px;
        display: flex;
        align-items: center;
        justify-content: flex-end;
      }
      button {
        cursor: pointer;
        border: none;
        background-color: transparent;
      }
      button:focus {
        outline: 0;
      }
      .icon-tabler {
        stroke: #bbb;
        transition: 0.2s;
      }
      .icon-tabler:hover {
        stroke: #333;
      }
    `,i.e`<button @click=${r}>
      ${i.i`
          <svg
          xmlns="http://www.w3.org/2000/svg"
          class="icon icon-tabler icon-tabler-chevron-left"
          width="44"
          height="44"
          viewBox="0 0 24 24"
          stroke-width="0.5"
          stroke="#9e9e9e"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <polyline points=${t?"6 9 12 15 18 9":"15 6 9 12 15 18"} />
        </svg>        
        `}
    </button>`]}));var Ht=n(59);function Qt(){const[e]=Object(o.e)(()=>{let e;return{get current(){var t;return null===(t=null==e?void 0:e.committer)||void 0===t?void 0:t.element},ref:Object(i.d)(()=>t=>{e=t})}});return e}var Wt=n(85),Yt=n(141),Jt=n.n(Yt),Xt=n(114),Zt=n.n(Xt),en=n(60),tn=n(98),nn=n(87),on=n(142),rn=n(101),an=n(143),ln=n(120),sn=n(64),cn=n(66),un=n(89),dn=n(91),pn=n(63),hn=n(83),fn=n(93),mn=n(102),bn=n(129),gn=n(74),yn=n(94),vn=n(84),_n=n(99),xn=n(65),kn=n(95),En=n(96);let Tn=navigator.userAgent.toLowerCase(),Sn=(/opera/i.test(Tn)||/opr/i.test(Tn),/msie/i.test(Tn)&&!/opera/i.test(Tn)||/trident\//i.test(Tn)||/edge/i.test(Tn),/edge/i.test(Tn)&&/opera/i.test(Tn),/firefox/i.test(Tn),/chrome/i.test(Tn)&&/edge/i.test(Tn),!/chrome/i.test(Tn)&&/webkit|safari|khtml/i.test(Tn),/iphone/i.test(Tn),/ipod/i.test(Tn),/ipad/i.test(Tn),/android/i.test(Tn),/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(Tn)),wn=/iphone|ipod|ipad/i.test(Tn);/opera mini|opera mobi/i.test(Tn),/opera mini/i.test(Tn),/mac/i.test(Tn);function An(e,t,n=!0){un.LinkBlot.blotName="link",un.LinkBlot.tagName="a",un.LinkBlot.showLinkTooltip=t=>{e.showLinkTooltip(t,t.value,Object(xn.isEdit)(),o)},un.LinkBlot.hideLinkTooltip=()=>e.hideLinkTooltip(o),dn.MyQuill.register(un.LinkBlot,!0),Wt.FigureBlot.blotName="blockFigure",Wt.FigureBlot.tagName="figure",Wt.FigureBlot.quillSetSelection=(e,t=0)=>o.setSelection(e,t,Ht.a.sources.USER),Wt.FigureBlot.quillDeleteText=(e,t,n=Ht.a.sources.USER)=>o.deleteText(e,t,n),Wt.FigureBlot.quillInsertText=(e,t)=>o.insertText(e,t,Ht.a.sources.USER),Wt.FigureBlot.draftSave=()=>Object(xn.draftSave)(i,o),dn.MyQuill.register(Wt.FigureBlot,!0),dn.MyQuill.register(En.DividerBlot),dn.MyQuill.register({"modules/syntax":vn.InsSyntaxModule,"formats/bold":mn.a,"formats/italic":bn.a,"formats/indent":on.a,"formats/list":nn.ListContinuer,"formats/list-item":tn.a,"formats/code":rn.a,"formats/strike":an.a},!0);var i=!1;Sn&&document.body.classList.add("mobile");var o=new dn.MyQuill(t,{scrollingContainer:"html, body",readOnly:!0,modules:{syntax:{highlight:e=>kn.default.highlightAuto(e).value},clipboard:{matchers:[r("h2",{blockHeader:!0}),r("h5",{blockSubheader:!0}),r("h6",{blockSubheader:!0}),["img",function(e,t){return e.src&&Object(xn.sanitize)(e.src,["http","https","data"])?(new Zt.a).insert({blockFigure:{image:e.src,caption:e.alt||""}}):new Zt.a}],["video",function(e,t){return e.src&&Object(xn.sanitize)(e.src,["http","https","data"])?(new Zt.a).insert({blockFigure:{video:e.src}}):new Zt.a}],["br",function(e,t){return console.log("modules.clipboard.matchers.br"),e.classList.contains("inline")?(new Zt.a).insert({textBreak:!0}):t}]]},keyboard:{bindings:{"required enter":{key:ln.a.keys.ENTER,collapsed:!0,shiftKey:null,format:["blockTitle","blockDescription"],suffix:/^$/,handler:function(e,t){console.log("keyboard.bindings.required_enter.handler");let[n]=this.quill.scroll.descendant(cn.FieldBlot,e.index);return!(n&&n.next&&n.next.domNode&&!n.next.domNode.textContent)||(this.quill.setSelection(n.next.offset(this.quill.scroll),0,Ht.a.sources.USER),!1)}},"required tab prev":{key:ln.a.keys.TAB,shiftKey:!0,handler:function(e,t){console.log("keyboard.bindings.required_tab_prev.handler");let n=null;if(e.length>0){let t=o.scroll.descendants(en.c,e.index,e.length);if(1!=t.length)return!0;n=t[0]}else[n]=o.scroll.descendant(en.c,e.index);if(null!=n&&null!=n.prev&&n.prev instanceof cn.FieldBlot){let e=n.prev.offset(o.scroll),t=n.prev.length();return o.setSelection(e,t>1?t:0,Ht.a.sources.USER),!1}return!0}},"required tab next":{key:ln.a.keys.TAB,shiftKey:!1,handler:function(e,t){console.log("keyboard.bindings.required_tab_next.handler");let n=null;if(e.length>0){let t=o.scroll.descendants(en.c,e.index,e.length);if(1!=t.length)return!0;n=t[0]}else[n]=o.scroll.descendant(en.c,e.index);if(null!=n&&n instanceof cn.FieldBlot&&null!=n.next){let e=n.next.offset(o.scroll);if(n.next instanceof cn.FieldBlot){let t=n.next.length();o.setSelection(e,t>1?t:0,Ht.a.sources.USER)}else o.setSelection(e,0,Ht.a.sources.USER);return!1}return!0}},"no tab":{key:ln.a.keys.TAB,shiftKey:null,handler:function(e,t){return console.log("keyboard.bindings.no_tab.handler"),!1}},"detect embed":{key:ln.a.keys.ENTER,collapsed:!0,handler:function(t,n){console.log("keyboard.bindings.detect_embed.handler");let[i,r]=o.scroll.line(t.index);if(i){let n,a=i.domNode.textContent.substr(0,r);if(n=a.match(/(^|\s)(https?:\/\/\S+)$/)){let l=n[2];if(o.scroll.descendants(un.LinkBlot,t.index-l.length,l.length).length||o.formatText(t.index-l.length,l.length,"link",l,Ht.a.sources.USER),!a.substr(0,r-l.length).trim().length&&"P"==i.domNode.tagName){let t=s(l);if(t){let n=i.offset(o.scroll);return o.updateContents((new Zt.a).retain(n).delete(a.length).insert({blockFigure:t}),Ht.a.sources.USER),e.hideBlocksTooltip(),!1}}}}return!0}},"divider autofill":{key:ln.a.keys.ENTER,collapsed:!0,prefix:/^([-*])\1{2,}$/,handler:function(e,t){console.log("keyboard.bindings.divider_autofill.handler");let[n,i]=o.scroll.line(e.index);if(n&&"P"==n.domNode.tagName){let e=n.offset(o.scroll),t=(new Zt.a).retain(e).delete(n.length()).insert({blockDivider:!0});return n.next||t.insert("\n"),o.updateContents(t,Ht.a.sources.USER),!1}return!0}},break:{key:ln.a.keys.ENTER,shiftKey:!0,handler:l.bind(null,!0)},enter:{key:ln.a.keys.ENTER,handler:l.bind(null,!1)},"detect link":{key:" ",collapsed:!0,handler:function(e){console.log("detectLinkHandler",e);let[t,n]=o.scroll.line(e.index);if(t){let i,r=t.domNode.textContent.substr(0,n);if(i=r.match(/(^|\s)((?:https?|tg):\/\/\S+|www\.\S+)$/)){let t=i[2],n=t.length;"www."==t.substr(0,4)&&(t="http://"+t),o.scroll.descendants(un.LinkBlot,e.index-n,n).length||o.formatText(e.index-n,n,"link",t,Ht.a.sources.USER)}}return!0}},"cancel placeholder":{key:ln.a.keys.ESCAPE,handler:function(e,t){return console.log("keyboard.bindings.cancel_placeholder.handler"),In(),this.quill.updateSelection(Ht.a.sources.USER),!0}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{list:!1,"code-block":!1,blockquote:!1,header:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query&&null==this.quill.scroll.query("list"))return!0;const{length:n}=t.prefix,[i,o]=this.quill.getLine(e.index);if(o>n)return!0;let r;switch(t.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r={type:"ordered",start:Number(t.prefix.slice(0,-1))-1}}this.quill.insertText(e.index," ",Ht.a.sources.USER),this.quill.history.cutoff(),console.log("keyboard.bindings.list_autofill.handler",e,t);const a=(new Zt.a).retain(e.index-o).delete(n+1).retain(i.length()-2-o).retain(1,{list:r,start:r.start});console.log("keyboard.bindings.list_autofill.handler",a);const l=this.quill.updateContents(a,Ht.a.sources.USER);return console.log("keyboard.bindings.list_autofill.handler",l),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,Ht.a.sources.SILENT),!1}},"pre wrap":{key:192,collapsed:!0,format:{"code-block":!1},prefix:/^``$/,offset:2,handler:function(e,t){console.log("keyboard.bindings.pre_wrap.handler");let n=t.prefix.length,i=e.index-n;this.quill.scroll.deleteAt(i,n),this.quill.formatLine(i,1,"code-block",!0,Ht.a.sources.USER),this.quill.setSelection(i,Ht.a.sources.SILENT)}},code:{key:192,handler:function(e,t){if(console.log("keyboard.bindings.code.handler",!t.format),!t.collapsed){let n=o.scroll.descendants(en.c,e.index,e.length);if(n.length>1||1==n.length&&n[0]instanceof _n.a)return this.quill.format("code-block",!t.format["code-block"],Ht.a.sources.USER),!1;if(o.scroll.descendants(sn.BreakBlot,e.index,e.length).length)return this.quill.format("code-block",!t.format["code-block"],Ht.a.sources.USER),!1}if(t.collapsed&&!t.format.code&&!/\s$/.test(t.prefix))return!0;this.quill.format("code",!t.format.code,Ht.a.sources.USER)}},"figure delete":{key:ln.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(e,t){console.log("keyboard.bindings.figure_delete.handler");let[n,i]=o.scroll.line(e.index);return!(n&&n.prev&&n.prev instanceof Wt.FigureBlot)||(t.empty&&o.deleteText(e.index,1,Ht.a.sources.USER),o.setSelection(n.prev.offset(o.scroll)),!1)}},"field backspace":{key:ln.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(e,t){console.log("keyboard.bindings.field_backspace.handler");let[n,i]=o.scroll.line(e.index);return!(n&&n.prev&&n.prev instanceof cn.FieldBlot&&n.domNode.textContent.length>0)}},strikethrough:{key:"X",shortKey:!0,shiftKey:!0,handler:function(e,t){o.formatText(e,"strike",!t.format.strike)}}}}}});function r(e,t){return[e,function(e,n){return n.compose((new Zt.a).retain(n.length(),t))}]}function a(e){let t=function(e){let[t,n]=o.scroll.line(e);return o.getText(e,t.length()-n)}(e);return!t||"\n"==t}function l(e,t,n){console.log("breakHandler",e,t,n);let i,r=t.index;t.length>0&&o.scroll.deleteAt(r,t.length);let l=a(r),s=!1;return[i]=o.scroll.descendant(sn.BreakBlot,r),i?(!i.prev||i.prev instanceof sn.BreakBlot)&&(o.scroll.deleteAt(--r,1),s=!0):([i]=o.scroll.descendant(sn.BreakBlot,r-1),i&&(o.scroll.deleteAt(--r,1),s=!0)),[i]=o.scroll.descendant(pn.SingleLineBlot,r),i||s||!e?(o.insertText(r,"\n",Ht.a.sources.USER),o.setSelection(++r,0,Ht.a.sources.USER),(n.format.blockHeader||n.format.blockSubheader||n.format.blockBlockquote||n.format.blockPullquote)&&l&&o.formatLine(r,1,{blockHeader:!1,blockSubheader:!1,blockBlockquote:!1,blockPullquote:!1},Ht.a.sources.USER)):(o.insertEmbed(r,"textBreak",!0,Ht.a.sources.USER),[i]=o.scroll.descendant(sn.BreakBlot,r),!i||i.next||i.prev&&i.prev instanceof sn.BreakBlot||(o.insertEmbed(++r,"textBreak",!0,Ht.a.sources.SILENT),o.setSelection(r,0,Ht.a.sources.SILENT))),!1}function s(e){let t;if((t=e.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/i))||(t=e.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/i)))return{embed:"/embed/youtube?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/i))return{embed:"/embed/vimeo?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(www\.|mobile\.)?twitter\.com\/(.+)\/status\/(\d+)/i))return{embed:"/embed/twitter?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(t\.me|telegram\.me|telegram\.dog)\/([a-zA-Z0-9_]+)\/(\d+)/i))return{embed:"/embed/telegram?url="+encodeURIComponent(e)};if(t=e.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))return"video/"==t[1].substr(0,6)?{video:e}:{image:e};if(t=e.match(/^(https?):\/\/\S+/i)){let n=document.createElement("a");if(n.href=e,n.pathname.match(/\.(jpe?g|png|gif|mp4)$/i))return"mp4"==t[1]?{video:e}:{image:e}}return!1}function c(e){e.scroll.descendants(en.c,0,e.scroll.length()).forEach(e=>{if(e.domNode.hasAttribute("data-placeholder")){let t=e.domNode.textContent;e.domNode.classList.toggle("empty",!t)}})}function u(e){if(n){let[t,n]=e.scroll.lines();if(t instanceof en.a)e.updateContents((new Zt.a).insert("\n",{blockTitle:!0}).insert("\n",{blockDescription:!0}),Ht.a.sources.SILENT);else if(t instanceof hn.TitleBlot||e.formatLine(0,1,{blockTitle:!0},Ht.a.sources.SILENT),n){if(n instanceof en.a){let t=n.offset(e.scroll);e.updateContents((new Zt.a).retain(t).insert("\n",{blockDescription:!0}),Ht.a.sources.SILENT)}else if(!(n instanceof fn.DescriptionBlot)){let t=n.offset(e.scroll);e.formatLine(t,1,{blockDescription:!0},Ht.a.sources.SILENT)}}else{let t=e.scroll.length();e.updateContents((new Zt.a).retain(t).insert("\n",{blockDescription:!0}),Ht.a.sources.SILENT)}let[,,i]=e.scroll.lines();if(i){let t=i.offset(e.scroll),n=e.scroll.length()-t;e.scroll.descendants(cn.FieldBlot,t,n).forEach(t=>{let n=t.offset(e.scroll),i=t.length(),o=t.constructor.blotName;e.formatText(n,i,o,!1,Ht.a.sources.SILENT)})}else{let t=e.scroll.length();e.insertText(t,"\n",Ht.a.sources.SILENT)}}const i=e.scroll.lines();t.querySelectorAll("[data-placeholder]").forEach(e=>e.removeAttribute("data-placeholder"));(n?3===i.length:1===i.length)&&i.forEach((e,t)=>{if("P"==e.domNode.tagName){(n?2===t:0==t)&&e.domNode.setAttribute("data-placeholder","The page content...")}})}function d(e){let t=e.querySelector(".prompt_input"),n=e.querySelector(".close");t.onkeydown=null,t.onblur=null,n.onclick=null,e.style.display="",e.classList.remove("tooltip_prompt"),o.focus()}return o.addContainer(e),o.on(Ht.a.events.TEXT_CHANGE,(function(){o.getSelection();u(o),c(o),In(),Object(xn.draftSave)(i,o)})),o.on(Ht.a.events.SCROLL_OPTIMIZE,(function(e){e.forEach(e=>{if("childList"==e.type&&!e.addedNodes.length&&e.removedNodes.length){let t=e.previousSibling,n=e.nextSibling;if(!n&&t&&"BR"==t.tagName&&"inline"==t.className){let t=document.createElement("br");t.className="inline",e.target.appendChild(t)}else!n||!t||"BR"==t.tagName&&"inline"==t.className||"BR"!=n.tagName||"inline"!=n.className||n.nextSibling||n.parentNode&&n.parentNode.removeChild(n)}})})),o.scroll.domNode.setAttribute("dir","auto"),document.addEventListener("click touchstart",(function(t){let n=t.target;for(;n;){if(n===o.container)return;n=n.parentNode}e.hideFormatTooltip(o),e.hideBlocksTooltip()})),u(o),c(o),e.$bold_button.onclick=e=>{console.log("$bold_button.onclick");let t=e.target.classList.contains("active");e.preventDefault(),console.log("$bold_button.onclick",!t),o.format("bold",!t),console.log("$bold_button.onclick",o.getSelection(!0)),o.updateSelection(Ht.a.sources.API)},e.$italic_button.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault(),o.format("italic",!t),o.updateSelection(Ht.a.sources.API)},e.$link_button.onclick=t=>{let n=t.target.classList.contains("active");t.preventDefault();var i=o.getSelection(!0);if(n){o.scroll.descendants(un.LinkBlot,i.index,i.length).forEach(e=>{let t=e.offset(o.scroll),n=e.length();o.formatText(t,n,"link",!1)}),Nn(i,o,e)}else!function(e,t,n){let i=e.querySelector(".prompt_input"),o=e.querySelector(".close");i.value="",i.setAttribute("placeholder",t),i.onkeydown=t=>{let o=t.which||t.keyCode;if(27==o)d(e);else if(13==o){let o=i.value;o&&(n&&n(o),t.preventDefault()),d(e)}},i.onblur=()=>{d(e)},o.onclick=()=>{d(e)},e.style.display="",e.classList.add("tooltip_prompt"),i.focus()}(e.$tl_tooltip,"Paste or type a link...",(function(t){"#"!=(t=t.trim()).substr(0,1)&&"/"!=t.substr(0,1)&&"http://"!=t.substr(0,7)&&"https://"!=t.substr(0,8)&&"tg://"!=t.substr(0,5)&&"mailto:"!=t.substr(0,7)&&(t=t.indexOf("@")>0?"mailto:"+t:"http://"+t),o.focus(),o.format("link",t),Nn(i,o,e)}))},e.$header_button.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault();let n=o.getSelection(!0);o.format("blockHeader",!t),o.scroll.descendants(gn.HeaderBlot,n.index,n.length).forEach(e=>{let t=e.offset(o.scroll),n=e.length();o.formatText(t,n,{bold:!1,italic:!1,code:!1},Ht.a.sources.SILENT)}),o.updateSelection(Ht.a.sources.API)},e.$subheader_button.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault();let n=o.getSelection(!0);o.format("blockSubheader",!t),o.scroll.descendants(yn.SubheaderBlot,n.index,n.length).forEach(e=>{let t=e.offset(o.scroll),n=e.length();o.formatText(t,n,{bold:!1,italic:!1,code:!1},Ht.a.sources.SILENT)}),o.updateSelection(Ht.a.sources.API)},e.$quote_button.onclick=e=>{let t=e.target,n=t.classList.contains("active"),i=t.classList.contains("pullquote");e.preventDefault();o.getSelection(!0);n?o.format("blockPullquote",!i):o.format("blockBlockquote",!0),o.updateSelection(Ht.a.sources.API)},e.$strikeButton.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault(),o.format("strike",!t),o.updateSelection(Ht.a.sources.API)},e.$image_button.onclick=()=>{let e=o.container.querySelector("input.ql-image[type=file][data-status=ready]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",wn?"image/gif, image/jpeg, image/jpg, image/png":"image/gif, image/jpeg, image/jpg, image/png, video/mp4"),e.classList.add("ql-image"),e.addEventListener("change",()=>{if(e&&null!=e.files&&null!=e.files[0]){var t=e.files[0];const n=function(){Object(xn.showError)("File too big (up to 5 MB allowed)")},i=5242880;!function(e,t){if("image/jpg"==e.type||"image/jpeg"==e.type)return Jt()(e,n=>{if("error"===n.type)t(e);else if(n.toBlob)n.toBlob((function(e){t(e)}),e.type);else{var i=n.toDataURL(e.type),o={type:e.type,base64_data:i.split(",")[1]};t(Object(xn.uploadDataToBlob)(o))}},{canvas:!0,orientation:!0});t(e)}(t,t=>{if(t.size>i)return n&&n();var r=new FileReader;r.onload=function(t){if(t&&null!==t.target){let n=s(t.target.result);if(n){let e=o.getSelection(!0);o.updateContents((new Zt.a).retain(e.index).delete(e.length).insert({blockFigure:n}),Ht.a.sources.USER)}else Object(xn.showError)("Invalid file format");e.value="",e.setAttribute("data-status","ready")}},r.readAsDataURL(t)})}}),o.container.appendChild(e)),e.setAttribute("data-status","busy"),e.click()},e.$embed_button.onclick=t=>{let n=o.getSelection(!0),[i]=o.scroll.line(n.index);const r=i.domNode;if(i){r.textContent||(r.setAttribute("data-placeholder","Paste a YouTube, Vimeo or Twitter link, and press Enter"),r.classList.add("placeholder_once","empty"),e.hideBlocksTooltip())}},window.addEventListener("scroll resize",()=>{e.tooltipUpdatePosition(e.$tl_tooltip,null,e.formatTTOptions,o),e.tooltipUpdatePosition(e.$tl_link_tooltip,null,e.linkTTOptions,o)}),o}function Nn(e,t,n){let i=null==e?{}:t.getFormat(e),o=!!i.blockDescription,r=!(!i.blockHeader&&!i.blockSubheader),a=!!i["code-block"];if(n.$bold_button.classList.toggle("active",!!i.bold),n.$bold_button.classList.toggle("disabled",o||r||a),n.$italic_button.classList.toggle("active",!!i.italic),n.$italic_button.classList.toggle("disabled",o||r||a),n.$header_button.classList.toggle("active",!!i.blockHeader),n.$header_button.classList.toggle("disabled",o),n.$subheader_button.classList.toggle("active",!!i.blockSubheader),n.$subheader_button.classList.toggle("disabled",o),n.$quote_button.classList.toggle("active",!(!i.blockBlockquote&&!i.blockPullquote)),n.$quote_button.classList.toggle("pullquote",!!i.blockPullquote),n.$quote_button.classList.toggle("disabled",o),n.$strikeButton.classList.toggle("active",!!i.strike),n.$strikeButton.classList.toggle("disabled",o),null!=e){let i=t.scroll.descendants(un.LinkBlot,e.index,e.length);n.$link_button.classList.toggle("active",!!i.length)}else n.$link_button.classList.toggle("active",!1);n.$link_button.classList.toggle("disabled",a)}function In(){const e=document.querySelector(".placeholder_once");null!==e&&(e.removeAttribute("data-placeholder"),e.classList.remove("placeholder_once","empty"))}var On=n(88),Ln=n(92);n(115).EditorTooltipComponent,Object(o.a)({props:{content:{type:{}},textChangeCb:{type:{},default:()=>{}},isTitle:Boolean},render:i.g})((function(e){const t=Qt(),r=Qt(),a=Qt();return Object(o.c)(()=>{requestAnimationFrame(()=>{const n=a.current,i=r.current;if(null!=t.current&&null!=i&&null!=(null==n?void 0:n.$bold_button)){const o=An(n,t.current,e.isTitle);n.hideLinkTooltip(o),n.hideFormatTooltip(o),n.hideBlocksTooltip(),o.setContents(e.content),o.history.clear(),o.enable(),o.on(Ht.a.events.EDITOR_CHANGE,(function(e,t){if(e!==Ht.a.events.SELECTION_CHANGE)return;if(!o.isEnabled())return;if(null==t)return;!function(e){let[t]=o.scroll.descendant(Wt.FigureBlot,e.index);o.scroll.descendants(Wt.FigureBlot,0,o.scroll.length()).forEach(e=>{t!==e&&e.blur()}),t&&(t.focus(),null==n||n.hideFormatTooltip(o),null==n||n.hideBlocksTooltip())}(t);let[r,a]=o.scroll.descendant(en.c,t.index);0===t.length?(n.hideFormatTooltip(o),null==r||r instanceof cn.FieldBlot||r instanceof On.BlockquoteBlot||r instanceof Ln.PullquoteBlot||r instanceof _n.a||r instanceof tn.a||""!==r.domNode.textContent?n.hideBlocksTooltip():n.showBlocksTooltip(t,Object(xn.isEdit)(),o)):(null==r||r instanceof hn.TitleBlot?n.hideFormatTooltip(o):(n.showFormatTooltip(t,o,Object(xn.isEdit)()),Nn(t,o,n)),n.hideBlocksTooltip());let l=o.getFormat(t);i.classList.toggle("title_focused",!(!l.blockTitle&&!l.blockDescription)),In()})),o.on(Ht.a.events.TEXT_CHANGE,t=>e.textChangeCb(t,o.getContents()))}})},[t.current,a.current,e.content,e.isTitle]),i.e`
      <style>${n(415)}</style>
      <div class="tl_page_wrap">
        <div class="tl_page">
          <section .ref=${r.ref()} class="tl_article tl_article_edit">
            <article .ref=${t.ref()} id="_tl_editor" class="tl_article_content"></article>
          </section>
        </div>
      </div>
      <inscriptum-editor-tooltip .ref=${a.ref()}></inscriptum-editor-tooltip>
    `}))("inscriptum-editor");const qn=String.raw,Cn=Object(o.a)({props:{page:{type:{}}},render:i.g})((function(e){const[t,n]=r(Mt,[{data:e.page,isLoading:!1}]),[a,l]=Object(o.e)(e.page.content),[s,c]=Object(o.e)(e.page.isFolded);Object(o.c)(()=>{var e;null!=(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.content)&&(null==a&&null!=t.data.content&&l(t.data.content),null!=t.data.isFolded&&s!==t.data.isFolded&&(c(t.data.isFolded),t.data.isFolded||l(t.data.content)))},[t,a,s,l,c]);const u=Object(o.b)((e,t)=>{null==n||n.changeContent(t)},[n]);if(null!=(null==t?void 0:t.data))return s?i.e`<span style=${qn`
            display: flex;
            justify-content: center;
            font-size: 1.6em;
            line-height: 0.1em;
          `}>
          ...
        </span>`:i.e`<inscriptum-editor .content=${a} .textChangeCb=${u} .isTitle=${0===t.data.order}></inscriptum-editor>`})),Dn=String.raw,Bn=(Gt("inscriptum-icon"),Cn("inscriptum-page"),Object(l.a)("loading-progress-bar"),Object(o.a)({props:{id:{type:String,attribute:"data-id"}},render:i.g})((function(e){var t,l;const[s,c]=r($t),u=Object(o.d)(null);Object(o.c)(()=>{null==c||c.getById(e.id)},[e.id,c]),Object(o.c)(()=>{requestAnimationFrame(()=>{null!=c&&null!=u.current&&c.savingProcess({current:u.current})})},[c,u.current]);const d=Object(o.b)(e=>()=>{null==c||c.addNewPage(e)},[c]),p=Object(o.b)((e,t)=>()=>{null==c||c.deletePage(e,t)},[c]);return i.e`<div class="container">
      <style>${n(416)}</style>
      <um-preloader .loading=${null==s?void 0:s.isLoading}>
        <loading-progress-bar .ref=${u}></loading-progress-bar>
        ${Object(a.a)(null!==(l=null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.pages)&&void 0!==l?l:[],e=>e.id,(e,t)=>i.e`
              ${c&&e.order>0?i.e`<inscriptum-icon .page=${e} .foldPage=${c.foldPage}></inscriptum-icon>`:null}
              <div class="row">
                <inscriptum-page .page=${e}></inscriptum-page>
              </div>
              <div class="row" style=${Dn`
                  border-bottom: 1px solid #eee;
                `}>
                <div class="fab-container">
                  ${t>0?i.e`<button @click=${p(e.id,e.order)} class="fab-buttons" tooltip="delete">
                      -
                    </button>`:null}
                  <button @click=${d(e.order+1)} class="fab-buttons" tooltip="add new after">
                    +
                  </button>
                  <button class="fab-buttons">${e.order}</button>
                </div>
              </div>
            `)}
      </um-preloader>
    </div>`})))},62:function(e,t,n){var i;!function(o){"use strict";function r(e,t,n){var i,o=document.createElement("img");return o.onerror=function(i){return r.onerror(o,i,e,t,n)},o.onload=function(i){return r.onload(o,i,e,t,n)},"string"==typeof e?(r.fetchBlob(e,(function(t){t&&r.isInstanceOf("Blob",t)?(e=t,i=r.createObjectURL(e)):(i=e,n&&n.crossOrigin&&(o.crossOrigin=n.crossOrigin)),o.src=i}),n),o):r.isInstanceOf("Blob",e)||r.isInstanceOf("File",e)?(i=o._objectURL=r.createObjectURL(e))?(o.src=i,o):r.readFile(e,(function(e){var n=e.target;n&&n.result?o.src=n.result:t&&t(e)})):void 0}var a=o.createObjectURL&&o||o.URL&&URL.revokeObjectURL&&URL||o.webkitURL&&webkitURL;function l(e,t){!e._objectURL||t&&t.noRevoke||(r.revokeObjectURL(e._objectURL),delete e._objectURL)}r.fetchBlob=function(e,t){t()},r.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},r.transform=function(e,t,n,i,o){n(e,o)},r.onerror=function(e,t,n,i,o){l(e,o),i&&i.call(e,t)},r.onload=function(e,t,n,i,o){l(e,o),i&&r.transform(e,o,i,n,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},r.createObjectURL=function(e){return!!a&&a.createObjectURL(e)},r.revokeObjectURL=function(e){return!!a&&a.revokeObjectURL(e)},r.readFile=function(e,t,n){if(o.FileReader){var i=new FileReader;if(i.onload=i.onerror=t,i[n=n||"readAsDataURL"])return i[n](e),i}return!1},void 0===(i=function(){return r}.call(t,n,t,e))||(e.exports=i)}("undefined"!=typeof window&&window||this)},63:function(e,t,n){"use strict";n.r(t),n.d(t,"SingleLineBlot",(function(){return l}));var i=n(60),o=n(64),r=n(61),a=n.n(r);class l extends i.c{replace(e){e.children.forEach(e=>{e instanceof o.BreakBlot&&e.replaceWith(a.a.create("text"," "))}),super.replace(e)}insertAt(e,t,n){void 0!==n&&"textBreak"==t?super.insertAt(e,"\n"):super.insertAt(e,t,n)}}},64:function(e,t,n){"use strict";n.r(t),n.d(t,"BreakBlot",(function(){return r}));var i=n(59),o=n(60);class r extends o.a{}r.blotName="textBreak",r.tagName="br",r.className="inline",i.a.register(r)},65:function(e,t,n){"use strict";n.r(t),n.d(t,"T",(function(){return r})),n.d(t,"draftSave",(function(){return a})),n.d(t,"getPageContent",(function(){return l})),n.d(t,"isEdit",(function(){return s})),n.d(t,"updateEditableText",(function(){return c})),n.d(t,"sanitize",(function(){return d})),n.d(t,"uploadDataToBlob",(function(){return p})),n.d(t,"showError",(function(){return h})),n.d(t,"updateEditable",(function(){return f})),n.d(t,"transliterate",(function(){return m})),n.d(t,"storageDelete",(function(){return b})),n.d(t,"draftClear",(function(){return g}));var i=n(90),o=n.n(i);let r={apiUrl:"https://inscriptum.js.org",datetime:0,pageId:0};function a(e,t){if(!e)return!1;if(!r.pageId){var n=l(!0,t);if(e!=n)return e=n,function(e,t){try{return localStorage.setItem(e,t),!!localStorage.getItem(e)}catch(e){return!1}}("draft",n)}return!1}function l(e,t){let n=t.scroll.domNode;n.querySelectorAll("textarea,input").forEach(e=>{e.setAttribute("data-value",e.value)});let i=n.cloneNode(!0);n.querySelectorAll("textarea,input").forEach(e=>{e.removeAttribute("data-value")}),i.querySelectorAll("textarea,input").forEach(e=>{e.value=e.getAttribute("data-value")||"",e.removeAttribute("data-value")}),c(i,!1);i.querySelectorAll("[contenteditable]").forEach(e=>e.removeAttribute("contenteditable"));i.querySelectorAll("[data-placeholder]").forEach(e=>e.removeAttribute("data-placeholder"));i.querySelectorAll("[data-label]").forEach(e=>e.removeAttribute("data-label"));i.querySelectorAll("[data-title]").forEach(e=>e.removeAttribute("data-title"));i.querySelectorAll(".editable_text").forEach(e=>e.classList.remove("editable_text"));i.querySelectorAll(".focus").forEach(e=>e.classList.remove("focus"));i.querySelectorAll(".empty").forEach(e=>e.classList.remove("empty"));i.querySelectorAll('[class=""]').forEach(e=>e.removeAttribute("class"));i.querySelectorAll(".file_progress").forEach(e=>e.remove());if(i.querySelectorAll(".cursor_wrapper").forEach(e=>e.remove()),!e){const e=i.querySelector("h1,address");e&&e.remove();const t=i.querySelector("br.inline");return t&&t.replaceWith("\n"),{data:JSON.stringify(u(i).children),length:i.innerHTML.length}}return i.querySelectorAll("h1").forEach(e=>{e.querySelector("br")||e.append(document.createElement("br"))}),i.querySelectorAll("address").forEach(e=>{e.querySelector("br")||e.append(document.createElement("br"))}),i.innerHTML}function s(){return document.getElementsByClassName("tl_article_edit").length>0}function c(e,t){void 0===t&&(t=s()),t?e.querySelectorAll(".editable_text").forEach(e=>{let t=!1;if(e.childNodes.forEach(e=>{!t&&e&&e.classList&&(t=e.classList.contains("editable_input"))}),!t){let t=e.textContent||"",n=document.createElement("textarea");n.classList.add("editable_input"),n.setAttribute("tabindex","-1"),n.setAttribute("rows","1"),n.value=t,t||e.classList.add("empty"),e.innerHTML="",e.append(n),o()(n)}}):e.querySelectorAll(".editable_text > .editable_input").forEach(e=>{let t=e.value,n=e.parentNode;n.innerHTML="",n.textContent=t})}function u(e){if(!e.tagName)return e.data;let t={tag:e.tagName.toLowerCase()};if(e.attributes.length){t.attrs={};for(var n=0;n<e.attributes.length;n++){let i=e.attributes[n];t.attrs[i.name]=i.value}}if(e.childNodes.length){t.children=[];for(n=0;n<e.childNodes.length;n++)t.children.push(u(e.childNodes[n]))}return t}function d(e,t){let n=document.createElement("a");n.href=e;let i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}function p(e){for(var t=atob(e.base64_data),n=[],i=0;i<t.length;i++)n.push(t.charCodeAt(i));return new Blob([new Uint8Array(n)],{type:e.type})}function h(e){let t=document.querySelector("#_error_msg");t.textContent=e,clearTimeout(t.to),t.classList.add("shown"),t.to=setTimeout(()=>{t.classList.remove("shown")},3e3)}function f(e,t,n,i,o,r){if(i&&i.classList.toggle("tl_article_edit",e),c(document.body),t&&(t.enable(e),e&&t.focus()),!e&&o&&r){const e=o.querySelector("h1"),i=e?e.textContent:"",a=o.querySelector("address"),l=a?a.textContent:"",s=o.querySelector("address a"),c=s&&s.getAttribute("href");r.querySelector("h1").textContent=i,r.querySelector("address a").textContent=l,c?r.querySelector("address a").setAttribute("href",c):r.querySelector("address a").removeAttribute("href"),n.hideFormatTooltip(t),n.hideBlocksTooltip()}}function m(e,t=!1){const n="                                            ".split(/ +/g),i="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g);for(let o=0;o<n.length;o++)e=(e=e.split(t?i[o]:n[o]).join(t?n[o]:i[o])).split(t?i[o].toUpperCase():n[o].toUpperCase()).join(t?n[o].toUpperCase():i[o].toUpperCase());return e}function b(e){try{return localStorage.removeItem(e),!0}catch(e){return!1}}function g(){b("draft")}!function(){var e=document.querySelector("time");if(e&&r.datetime){var t=new Date(1e3*r.datetime);let n="January February March April May June July August September October November December".split(" ")[t.getMonth()],i=t.getDate();e.textContent=n+" "+(10>i?"0":"")+i+", "+t.getFullYear()}}()},66:function(e,t,n){"use strict";n.r(t),n.d(t,"FieldBlot",(function(){return o}));var i=n(63);class o extends i.SingleLineBlot{}},68:function(e,t,n){"use strict";n.r(t),n.d(t,"browser",(function(){return B})),n.d(t,"editor",(function(){return R}));var i=n(141),o=n.n(i),r=n(114),a=n.n(r),l=n(60),s=n(59),c=n(98),u=n(87),d=n(142),p=n(101),h=n(143),f=n(120),m=n(88),b=n(64),g=n(66),y=n(89),v=n(91),_=n(92),x=n(63),k=n(83),E=n(85),T=n(93),S=n(102),w=n(129),A=n(74),N=n(94),I=n(84),O=n(99),L=n(65),q=n(95),C=n(96);let D=navigator.userAgent.toLowerCase(),B={opera:/opera/i.test(D)||/opr/i.test(D),msie:/msie/i.test(D)&&!/opera/i.test(D)||/trident\//i.test(D)||/edge/i.test(D),msie_edge:/edge/i.test(D)&&!/opera/i.test(D),mozilla:/firefox/i.test(D),chrome:/chrome/i.test(D)&&!/edge/i.test(D),safari:!/chrome/i.test(D)&&/webkit|safari|khtml/i.test(D),iphone:/iphone/i.test(D),ipod:/ipod/i.test(D),ipad:/ipad/i.test(D),android:/android/i.test(D),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(D),safari_mobile:/iphone|ipod|ipad/i.test(D),opera_mobile:/opera mini|opera mobi/i.test(D),opera_mini:/opera mini/i.test(D),mac:/mac/i.test(D)};function R(e,t){console.log(v.MyQuill.length),console.log(v.MyQuill.imports["formats/"]),y.LinkBlot.blotName="link",y.LinkBlot.tagName="a",y.LinkBlot.showLinkTooltip=t=>{e.showLinkTooltip(t,t.value,Object(L.isEdit)(),V)},y.LinkBlot.hideLinkTooltip=()=>e.hideLinkTooltip(V),v.MyQuill.register(y.LinkBlot,!0),E.FigureBlot.blotName="blockFigure",E.FigureBlot.tagName="figure",E.FigureBlot.quillSetSelection=(e,t=0)=>V.setSelection(e,t,s.a.sources.USER),E.FigureBlot.quillDeleteText=(e,t,n=s.a.sources.USER)=>V.deleteText(e,t,n),E.FigureBlot.quillInsertText=(e,t)=>V.insertText(e,t,s.a.sources.USER),E.FigureBlot.draftSave=()=>Object(L.draftSave)(n,V),v.MyQuill.register(E.FigureBlot,!0),v.MyQuill.register(C.DividerBlot),v.MyQuill.register({"modules/syntax":I.InsSyntaxModule,"formats/bold":S.a,"formats/italic":w.a,"formats/indent":d.a,"formats/list":u.ListContinuer,"formats/list-item":c.a,"formats/code":p.a,"formats/strike":h.a},!0);var n=!1;B.mobile&&document.body.classList.add("mobile");let i=document.querySelector(".tl_article"),r=document.querySelector(".tl_article_header"),D=document.querySelector(".tl_article_content"),R=document.querySelector("#_bold_button"),j=document.querySelector("#_italic_button"),P=document.querySelector("#_link_button"),F=document.querySelector("#_header_button"),M=document.querySelector("#_subheader_button"),K=document.querySelector("#_quote_button"),U=document.querySelector("#_strike_button"),z=document.querySelector("#_image_button"),$=document.querySelector("#_embed_button");document.querySelector(".account");var V=new v.MyQuill(t,{scrollingContainer:"html, body",readOnly:!0,modules:{syntax:{highlight:e=>q.default.highlightAuto(e).value},clipboard:{matchers:[G("h2",{blockHeader:!0}),G("h5",{blockSubheader:!0}),G("h6",{blockSubheader:!0}),["img",function(e,t){return e.src&&Object(L.sanitize)(e.src,["http","https","data"])?(new a.a).insert({blockFigure:{image:e.src,caption:e.alt||""}}):new a.a}],["video",function(e,t){return e.src&&Object(L.sanitize)(e.src,["http","https","data"])?(new a.a).insert({blockFigure:{video:e.src}}):new a.a}],["br",function(e,t){return console.log("modules.clipboard.matchers.br"),e.classList.contains("inline")?(new a.a).insert({textBreak:!0}):t}]]},keyboard:{bindings:{"required enter":{key:f.a.keys.ENTER,collapsed:!0,shiftKey:null,format:["blockTitle","blockDescription"],suffix:/^$/,handler:function(e,t){console.log("keyboard.bindings.required_enter.handler");let[n]=this.quill.scroll.descendant(g.FieldBlot,e.index);return!(n&&n.next&&n.next.domNode&&!n.next.domNode.textContent)||(this.quill.setSelection(n.next.offset(this.quill.scroll),0,s.a.sources.USER),!1)}},"required tab prev":{key:f.a.keys.TAB,shiftKey:!0,handler:function(e,t){console.log("keyboard.bindings.required_tab_prev.handler");let n=null;if(e.length>0){let t=V.scroll.descendants(l.c,e.index,e.length);if(1!=t.length)return!0;n=t[0]}else[n]=V.scroll.descendant(l.c,e.index);if(null!=n&&null!=n.prev&&n.prev instanceof g.FieldBlot){let e=n.prev.offset(V.scroll),t=n.prev.length();return V.setSelection(e,t>1?t:0,s.a.sources.USER),!1}return!0}},"required tab next":{key:f.a.keys.TAB,shiftKey:!1,handler:function(e,t){console.log("keyboard.bindings.required_tab_next.handler");let n=null;if(e.length>0){let t=V.scroll.descendants(l.c,e.index,e.length);if(1!=t.length)return!0;n=t[0]}else[n]=V.scroll.descendant(l.c,e.index);if(null!=n&&n instanceof g.FieldBlot&&null!=n.next){let e=n.next.offset(V.scroll);if(n.next instanceof g.FieldBlot){let t=n.next.length();V.setSelection(e,t>1?t:0,s.a.sources.USER)}else V.setSelection(e,0,s.a.sources.USER);return!1}return!0}},"no tab":{key:f.a.keys.TAB,shiftKey:null,handler:function(e,t){return console.log("keyboard.bindings.no_tab.handler"),!1}},"detect embed":{key:f.a.keys.ENTER,collapsed:!0,handler:function(t,n){console.log("keyboard.bindings.detect_embed.handler");let[i,o]=V.scroll.line(t.index);if(i){let n,r=i.domNode.textContent.substr(0,o);if(n=r.match(/(^|\s)(https?:\/\/\S+)$/)){let l=n[2];if(V.scroll.descendants(y.LinkBlot,t.index-l.length,l.length).length||V.formatText(t.index-l.length,l.length,"link",l,s.a.sources.USER),!r.substr(0,o-l.length).trim().length&&"P"==i.domNode.tagName){let t=Y(l);if(t){let n=i.offset(V.scroll);return V.updateContents((new a.a).retain(n).delete(r.length).insert({blockFigure:t}),s.a.sources.USER),e.hideBlocksTooltip(),!1}}}}return!0}},"divider autofill":{key:f.a.keys.ENTER,collapsed:!0,prefix:/^([-*])\1{2,}$/,handler:function(e,t){console.log("keyboard.bindings.divider_autofill.handler");let[n,i]=V.scroll.line(e.index);if(n&&"P"==n.domNode.tagName){let e=n.offset(V.scroll),t=(new a.a).retain(e).delete(n.length()).insert({blockDivider:!0});return n.next||t.insert("\n"),V.updateContents(t,s.a.sources.USER),!1}return!0}},break:{key:f.a.keys.ENTER,shiftKey:!0,handler:Q.bind(null,!0)},enter:{key:f.a.keys.ENTER,handler:Q.bind(null,!1)},"detect link":{key:" ",collapsed:!0,handler:function(e){console.log("detectLinkHandler",e);let[t,n]=V.scroll.line(e.index);if(t){let i,o=t.domNode.textContent.substr(0,n);if(i=o.match(/(^|\s)((?:https?|tg):\/\/\S+|www\.\S+)$/)){let t=i[2],n=t.length;"www."==t.substr(0,4)&&(t="http://"+t),V.scroll.descendants(y.LinkBlot,e.index-n,n).length||V.formatText(e.index-n,n,"link",t,s.a.sources.USER)}}return!0}},"cancel placeholder":{key:f.a.keys.ESCAPE,handler:function(e,t){return console.log("keyboard.bindings.cancel_placeholder.handler"),J(),this.quill.updateSelection(s.a.sources.USER),!0}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{list:!1,"code-block":!1,blockquote:!1,header:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query&&null==this.quill.scroll.query("list"))return!0;const{length:n}=t.prefix,[i,o]=this.quill.getLine(e.index);if(o>n)return!0;let r;switch(t.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r={type:"ordered",start:Number(t.prefix.slice(0,-1))-1}}this.quill.insertText(e.index," ",s.a.sources.USER),this.quill.history.cutoff(),console.log("keyboard.bindings.list_autofill.handler",e,t);const l=(new a.a).retain(e.index-o).delete(n+1).retain(i.length()-2-o).retain(1,{list:r,start:r.start});console.log("keyboard.bindings.list_autofill.handler",l);const c=this.quill.updateContents(l,s.a.sources.USER);return console.log("keyboard.bindings.list_autofill.handler",c),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,s.a.sources.SILENT),!1}},"pre wrap":{key:192,collapsed:!0,format:{"code-block":!1},prefix:/^``$/,offset:2,handler:function(e,t){console.log("keyboard.bindings.pre_wrap.handler");let n=t.prefix.length,i=e.index-n;this.quill.scroll.deleteAt(i,n),this.quill.formatLine(i,1,"code-block",!0,s.a.sources.USER),this.quill.setSelection(i,s.a.sources.SILENT)}},code:{key:192,handler:function(e,t){if(console.log("keyboard.bindings.code.handler",!t.format),!t.collapsed){let n=V.scroll.descendants(l.c,e.index,e.length);if(n.length>1||1==n.length&&n[0]instanceof O.a)return this.quill.format("code-block",!t.format["code-block"],s.a.sources.USER),!1;if(V.scroll.descendants(b.BreakBlot,e.index,e.length).length)return this.quill.format("code-block",!t.format["code-block"],s.a.sources.USER),!1}if(t.collapsed&&!t.format.code&&!/\s$/.test(t.prefix))return!0;this.quill.format("code",!t.format.code,s.a.sources.USER)}},"figure delete":{key:f.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(e,t){console.log("keyboard.bindings.figure_delete.handler");let[n,i]=V.scroll.line(e.index);return!(n&&n.prev&&n.prev instanceof E.FigureBlot)||(t.empty&&V.deleteText(e.index,1,s.a.sources.USER),V.setSelection(n.prev.offset(V.scroll)),!1)}},"field backspace":{key:f.a.keys.BACKSPACE,collapsed:!0,offset:0,handler:function(e,t){console.log("keyboard.bindings.field_backspace.handler");let[n,i]=V.scroll.line(e.index);return!(n&&n.prev&&n.prev instanceof g.FieldBlot&&n.domNode.textContent.length>0)}},strikethrough:{key:"X",shortKey:!0,shiftKey:!0,handler:function(e,t){V.formatText(e,"strike",!t.format.strike)}}}}}});function G(e,t){return[e,function(e,n){return n.compose((new a.a).retain(n.length(),t))}]}function H(e){let t=function(e){let[t,n]=V.scroll.line(e);return V.getText(e,t.length()-n)}(e);return!t||"\n"==t}function Q(e,t,n){console.log("breakHandler",e,t,n);let i,o=t.index;t.length>0&&V.scroll.deleteAt(o,t.length);let r=H(o),a=!1;return[i]=V.scroll.descendant(b.BreakBlot,o),i?(!i.prev||i.prev instanceof b.BreakBlot)&&(V.scroll.deleteAt(--o,1),a=!0):([i]=V.scroll.descendant(b.BreakBlot,o-1),i&&(V.scroll.deleteAt(--o,1),a=!0)),[i]=V.scroll.descendant(x.SingleLineBlot,o),i||a||!e?(V.insertText(o,"\n",s.a.sources.USER),V.setSelection(++o,0,s.a.sources.USER),(n.format.blockHeader||n.format.blockSubheader||n.format.blockBlockquote||n.format.blockPullquote)&&r&&V.formatLine(o,1,{blockHeader:!1,blockSubheader:!1,blockBlockquote:!1,blockPullquote:!1},s.a.sources.USER)):(V.insertEmbed(o,"textBreak",!0,s.a.sources.USER),[i]=V.scroll.descendant(b.BreakBlot,o),!i||i.next||i.prev&&i.prev instanceof b.BreakBlot||(V.insertEmbed(++o,"textBreak",!0,s.a.sources.SILENT),V.setSelection(o,0,s.a.sources.SILENT))),!1}function W(e){let t=null==e?{}:V.getFormat(e),n=!!t.blockDescription,i=!(!t.blockHeader&&!t.blockSubheader),o=!!t["code-block"];if(R.classList.toggle("active",!!t.bold),R.classList.toggle("disabled",n||i||o),j.classList.toggle("active",!!t.italic),j.classList.toggle("disabled",n||i||o),F.classList.toggle("active",!!t.blockHeader),F.classList.toggle("disabled",n),M.classList.toggle("active",!!t.blockSubheader),M.classList.toggle("disabled",n),K.classList.toggle("active",!(!t.blockBlockquote&&!t.blockPullquote)),K.classList.toggle("pullquote",!!t.blockPullquote),K.classList.toggle("disabled",n),U.classList.toggle("active",!!t.strike),U.classList.toggle("disabled",n),null!=e){let t=V.scroll.descendants(y.LinkBlot,e.index,e.length);P.classList.toggle("active",!!t.length)}else P.classList.toggle("active",!1);P.classList.toggle("disabled",o)}function Y(e){let t;if((t=e.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/i))||(t=e.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/i)))return{embed:"/embed/youtube?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/i))return{embed:"/embed/vimeo?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(www\.|mobile\.)?twitter\.com\/(.+)\/status\/(\d+)/i))return{embed:"/embed/twitter?url="+encodeURIComponent(e)};if(t=e.match(/^(https?):\/\/(t\.me|telegram\.me|telegram\.dog)\/([a-zA-Z0-9_]+)\/(\d+)/i))return{embed:"/embed/telegram?url="+encodeURIComponent(e)};if(t=e.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))return"video/"==t[1].substr(0,6)?{video:e}:{image:e};if(t=e.match(/^(https?):\/\/\S+/i)){let n=document.createElement("a");if(n.href=e,n.pathname.match(/\.(jpe?g|png|gif|mp4)$/i))return"mp4"==t[1]?{video:e}:{image:e}}return!1}function J(){const e=document.querySelector(".placeholder_once");null!==e&&(e.removeAttribute("data-placeholder"),e.classList.remove("placeholder_once","empty"))}function X(e){e.scroll.descendants(l.c,0,e.scroll.length()).forEach(e=>{if(e.domNode.hasAttribute("data-placeholder")){let t=e.domNode.textContent;e.domNode.classList.toggle("empty",!t)}})}function Z(e){let[t,n]=e.scroll.lines();if(t instanceof l.a)e.updateContents((new a.a).insert("\n",{blockTitle:!0}).insert("\n",{blockDescription:!0}),s.a.sources.SILENT);else if(t instanceof k.TitleBlot||e.formatLine(0,1,{blockTitle:!0},s.a.sources.SILENT),n){if(n instanceof l.a){let t=n.offset(e.scroll);e.updateContents((new a.a).retain(t).insert("\n",{blockDescription:!0}),s.a.sources.SILENT)}else if(!(n instanceof T.DescriptionBlot)){let t=n.offset(e.scroll);e.formatLine(t,1,{blockDescription:!0},s.a.sources.SILENT)}}else{let t=e.scroll.length();e.updateContents((new a.a).retain(t).insert("\n",{blockDescription:!0}),s.a.sources.SILENT)}let[,,i]=e.scroll.lines();if(i){let t=i.offset(e.scroll),n=e.scroll.length()-t;e.scroll.descendants(g.FieldBlot,t,n).forEach(t=>{let n=t.offset(e.scroll),i=t.length(),o=t.constructor.blotName;e.formatText(n,i,o,!1,s.a.sources.SILENT)})}else{let t=e.scroll.length();e.insertText(t,"\n",s.a.sources.SILENT)}let o=e.scroll.lines();o.forEach((e,t)=>{"P"==e.domNode.tagName&&(3==o.length&&2==t?e.domNode.setAttribute("data-placeholder","Your story..."):e.domNode.removeAttribute("data-placeholder"))})}function ee(e,t){(t=t||{}).close_btn=t.close_btn||"OK",t.submit_btn=t.submit_btn||!1,t.close=t.close||te,t.submit=t.submit||t.close,te();var n=document.createElement("div");n.classList.add("tl_alert"),n.innerHTML='<main class="tl_alert_message"><section></section><aside class="tl_message_buttons"></aside></main>',n.querySelector("section").innerHTML=e;var i=n.querySelector("aside");if(t.close_btn){var o=document.createElement("button");o.classList.add("button"),o.innerHTML=t.close_btn,o.addEventListener("click",t.close),o.append(i)}if(t.submit_btn){var r=document.createElement("button");r.classList.add("button"),r.innerHTML=t.submit_btn,r.addEventListener("click",(function(){n.classList.add("tl_alert_loading"),t.submit()})),r.append(i)}n.append("body")}function te(){const e=document.querySelector(".tl_alert");e&&e.remove()}function ne(e){let t=e.querySelector(".prompt_input"),n=e.querySelector(".close");t.onkeydown=null,t.onblur=null,n.onclick=null,e.style.display="",e.classList.remove("tooltip_prompt"),V.focus()}return V.addContainer(e.$tl_link_tooltip),V.addContainer(e.$tl_tooltip),V.addContainer(e.$tl_blocks),V.on(s.a.events.EDITOR_CHANGE,(function(t,n){if(t!==s.a.events.SELECTION_CHANGE)return;if(!V.isEnabled())return;if(null==n)return;!function(t){let[n]=V.scroll.descendant(E.FigureBlot,t.index);V.scroll.descendants(E["FigureBlot"],0,V.scroll.length()).forEach(e=>{n!==e&&e.blur()}),n&&(n.focus(),e.hideFormatTooltip(V),e.hideBlocksTooltip())}(n);let[o,r]=V.scroll.descendant(l.c,n.index);0===n.length?(e.hideFormatTooltip(V),null==o||o instanceof g.FieldBlot||o instanceof m.BlockquoteBlot||o instanceof _.PullquoteBlot||o instanceof O.a||o instanceof c.a||""!==o.domNode.textContent?e.hideBlocksTooltip():e.showBlocksTooltip(n,Object(L.isEdit)(),V)):(null==o||o instanceof k.TitleBlot?e.hideFormatTooltip(V):(e.showFormatTooltip(n,V,Object(L.isEdit)()),W(n)),e.hideBlocksTooltip());let a=V.getFormat(n);i&&i.classList.toggle("title_focused",!(!a.blockTitle&&!a.blockDescription)),J()})),V.on(s.a.events.TEXT_CHANGE,(function(){V.getSelection();Z(V),X(V),J(),Object(L.draftSave)(n,V)})),V.on(s.a.events.SCROLL_OPTIMIZE,(function(e){e.forEach(e=>{if("childList"==e.type&&!e.addedNodes.length&&e.removedNodes.length){let t=e.previousSibling,n=e.nextSibling;if(!n&&t&&"BR"==t.tagName&&"inline"==t.className){let t=document.createElement("br");t.className="inline",e.target.appendChild(t)}else!n||!t||"BR"==t.tagName&&"inline"==t.className||"BR"!=n.tagName||"inline"!=n.className||n.nextSibling||n.parentNode&&n.parentNode.removeChild(n)}})})),V.scroll.domNode.setAttribute("dir","auto"),document.addEventListener("click touchstart",(function(t){let n=t.target;for(;n;){if(n===V.container)return;n=n.parentNode}e.hideFormatTooltip(V),e.hideBlocksTooltip()})),Z(V),X(V),function(){const t={page_id:L.T.pageId};t.save_hash&&(L.T.saveHash=t.save_hash);if(!L.T.pageId&&(i&&i.classList.add("tl_article_edit"),!function(){if(!L.T.pageId)return function(e){try{return localStorage.getItem(e)}catch(e){return!1}}("draft");return!1}()&&t.author_name)){let e;e=t.author_url?{link:t.author_url}:{};let[n]=V.scroll.descendants(T.DescriptionBlot);n&&V.updateContents((new a.a).retain(n.offset()).delete(n.length()).insert(t.author_name,e),s.a.sources.USER)}if(t.auth_alert&&t.short_name){var o="Success! You are now logged in as <b>"+(t.short_name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;")+"</b> in this browser.");t.migrate_count>0&&t.migrate_hash?(o+="<br/><br/>",ee(o+="We can also add "+t.migrate_count+" Telegraph page"+(t.migrate_count>1?"s":"")+" from this browser to your account.",{close_btn:"Skip",submit_btn:"Add",submit:function(){var e;e=t.migrate_hash,console.log(e)}})):ee(o)}n=Object(L.getPageContent)(!0,V),Object(L.updateEditable)(Object(L.isEdit)(),V,e,i,D,r)}(),R.onclick=e=>{console.log("$bold_button.onclick");let t=e.target.classList.contains("active");e.preventDefault(),console.log("$bold_button.onclick",!t),V.format("bold",!t),console.log("$bold_button.onclick",V.getSelection(!0)),V.updateSelection(s.a.sources.API)},j.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault(),V.format("italic",!t),V.updateSelection(s.a.sources.API)},P.onclick=t=>{let n=t.target.classList.contains("active");t.preventDefault();var i=V.getSelection(!0);if(n){V.scroll.descendants(y.LinkBlot,i.index,i.length).forEach(e=>{let t=e.offset(V.scroll),n=e.length();V.formatText(t,n,"link",!1)}),W(i)}else!function(e,t,n){let i=e.querySelector(".prompt_input"),o=e.querySelector(".close");i.value="",i.setAttribute("placeholder",t),i.onkeydown=t=>{let o=t.which||t.keyCode;if(27==o)ne(e);else if(13==o){let o=i.value;o&&(n&&n(o),t.preventDefault()),ne(e)}},i.onblur=()=>{ne(e)},o.onclick=()=>{ne(e)},e.style.display="",e.classList.add("tooltip_prompt"),i.focus()}(e.$tl_tooltip,"Paste or type a link...",(function(e){"#"!=(e=e.trim()).substr(0,1)&&"/"!=e.substr(0,1)&&"http://"!=e.substr(0,7)&&"https://"!=e.substr(0,8)&&"tg://"!=e.substr(0,5)&&"mailto:"!=e.substr(0,7)&&(e=e.indexOf("@")>0?"mailto:"+e:"http://"+e),V.focus(),V.format("link",e),W(i)}))},F.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault();let n=V.getSelection(!0);V.format("blockHeader",!t),V.scroll.descendants(A.HeaderBlot,n.index,n.length).forEach(e=>{let t=e.offset(V.scroll),n=e.length();V.formatText(t,n,{bold:!1,italic:!1,code:!1},s.a.sources.SILENT)}),V.updateSelection(s.a.sources.API)},M.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault();let n=V.getSelection(!0);V.format("blockSubheader",!t),V.scroll.descendants(N.SubheaderBlot,n.index,n.length).forEach(e=>{let t=e.offset(V.scroll),n=e.length();V.formatText(t,n,{bold:!1,italic:!1,code:!1},s.a.sources.SILENT)}),V.updateSelection(s.a.sources.API)},K.onclick=e=>{let t=e.target,n=t.classList.contains("active"),i=t.classList.contains("pullquote");e.preventDefault();V.getSelection(!0);n?V.format("blockPullquote",!i):V.format("blockBlockquote",!0),V.updateSelection(s.a.sources.API)},U.onclick=e=>{let t=e.target.classList.contains("active");e.preventDefault(),V.format("strike",!t),V.updateSelection(s.a.sources.API)},z.onclick=()=>{let e=V.container.querySelector("input.ql-image[type=file][data-status=ready]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",B.safari_mobile?"image/gif, image/jpeg, image/jpg, image/png":"image/gif, image/jpeg, image/jpg, image/png, video/mp4"),e.classList.add("ql-image"),e.addEventListener("change",()=>{if(e&&null!=e.files&&null!=e.files[0]){var t=e.files[0];const n=function(){Object(L.showError)("File too big (up to 5 MB allowed)")},i=5242880;!function(e,t){if("image/jpg"==e.type||"image/jpeg"==e.type)return o()(e,n=>{if("error"===n.type)t(e);else if(n.toBlob)n.toBlob((function(e){t(e)}),e.type);else{var i=n.toDataURL(e.type),o={type:e.type,base64_data:i.split(",")[1]};t(Object(L.uploadDataToBlob)(o))}},{canvas:!0,orientation:!0});t(e)}(t,t=>{if(t.size>i)return n&&n();var o=new FileReader;o.onload=function(t){if(t&&null!==t.target){let n=Y(t.target.result);if(n){let e=V.getSelection(!0);V.updateContents((new a.a).retain(e.index).delete(e.length).insert({blockFigure:n}),s.a.sources.USER)}else Object(L.showError)("Invalid file format");e.value="",e.setAttribute("data-status","ready")}},o.readAsDataURL(t)})}}),V.container.appendChild(e)),e.setAttribute("data-status","busy"),e.click()},$.onclick=t=>{let n=V.getSelection(!0),[i]=V.scroll.line(n.index);const o=i.domNode;if(i){o.textContent||(o.setAttribute("data-placeholder","Paste a YouTube, Vimeo or Twitter link, and press Enter"),o.classList.add("placeholder_once","empty"),e.hideBlocksTooltip())}},window.addEventListener("scroll resize",()=>{e.tooltipUpdatePosition(e.$tl_tooltip,null,e.formatTTOptions,V),e.tooltipUpdatePosition(e.$tl_link_tooltip,null,e.linkTTOptions,V)}),V}},74:function(e,t,n){"use strict";n.r(t),n.d(t,"HeaderBlot",(function(){return r}));var i=n(59),o=n(63);class r extends o.SingleLineBlot{optimize(e){super.optimize(e);let t=this.domNode.innerText;t=t.replace(/[\s_]+/g,"-"),t=t.replace(/(^-+|-+$)/g,""),this.domNode.id!==t&&this.domNode.setAttribute("id",t)}formatAt(e,t,n,i){("bold"!==n&&"italic"!==n&&"code"!==n||!i)&&super.formatAt(e,t,n,i)}}r.blotName="blockHeader",r.tagName="h3",i.a.register(r)},77:function(e,t,n){var i,o,r;!function(a){"use strict";o=[n(62)],void 0===(r="function"==typeof(i=function(e){var t="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[],65517:[]}},e.parseMetaData=function(t,n,i,o){o=o||{};var r=this,a=(i=i||{}).maxMetaDataSize||262144;!!("undefined"!=typeof DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice)&&e.readFile(e.blobSlice.call(t,0,a),(function(t){if(t.target.error)return console.log(t.target.error),void n(o);var a,l,s,c,u=t.target.result,d=new DataView(u),p=2,h=d.byteLength-4,f=p;if(65496===d.getUint16(0)){for(;p<h&&((a=d.getUint16(p))>=65504&&a<=65519||65534===a);){if(p+(l=d.getUint16(p+2)+2)>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if((s=e.metaDataParsers.jpeg[a])&&!i.disableMetaDataParsers)for(c=0;c<s.length;c+=1)s[c].call(r,d,p,l,o,i);f=p+=l}!i.disableImageHead&&f>6&&(u.slice?o.imageHead=u.slice(0,f):o.imageHead=new Uint8Array(u).subarray(0,f))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(o)}),"readAsArrayBuffer")||n(o)},e.replaceHead=function(t,n,i){e.parseMetaData(t,(function(o){i(new Blob([n,e.blobSlice.call(t,o.imageHead.byteLength)],{type:"image/jpeg"}))}),{maxMetaDataSize:256,disableMetaDataParsers:!0})},e.hasMetaOption=function(e){return e&&e.meta};var n=e.transform;e.transform=function(t,i,o,r,a){e.hasMetaOption(i)?e.parseMetaData(r,(function(a){n.call(e,t,i,o,r,a)}),i,a):n.apply(e,arguments)}})?i.apply(t,o):i)||(e.exports=r)}()},83:function(e,t,n){"use strict";n.r(t),n.d(t,"TitleBlot",(function(){return r}));var i=n(59),o=n(66);class r extends o.FieldBlot{static create(e){let t=super.create(e);return t.setAttribute("data-placeholder","Title"),t.setAttribute("data-label","Title"),t}formatAt(e,t,n,i){n===r.blotName&&super.formatAt(e,t,n,i)}}r.blotName="blockTitle",r.tagName="h1",i.a.register(r)},84:function(e,t,n){"use strict";n.r(t),n.d(t,"CodeEndLineFlag",(function(){return a})),n.d(t,"InsSyntaxCodeBlock",(function(){return l})),n.d(t,"InsSyntaxModule",(function(){return s}));var i=n(59),o=n(78),r=n(99);class a extends o.a{static formats(){return{}}}a.blotName="code-end",a.className="l",a.tagName="SPAN",i.a.register(a);class l extends r.a{highlight(e){let t=this.domNode.textContent||"";if(this.cachedText!==t){if(t.trim().length>0||null==this.cachedText){let n="";const i=e(t).split("\n");for(let e=0;e<i.length-1;e++)n+=`<span class="l">${i[e]||" "}</span>\n`;n+=`<span class="l">${i[i.length-1]}</span>`,this.domNode.innerHTML=`<code class="hljs">${n}</code>`}this.cachedText=t}}}class s extends r.c{static register(){i.a.register(r.b,!0),i.a.register(l,!0)}highlight(){if(this.quill.selection.composing)return;this.quill.update(i.a.sources.USER);let e=this.quill.getSelection();this.quill.scroll.descendants(l).forEach(e=>{e.highlight(this.options.highlight)}),this.quill.update(i.a.sources.SILENT),null!=e&&document.activeElement===this.quill.container.querySelector("[contenteditable]")&&this.quill.setSelection(e,i.a.sources.SILENT)}}},85:function(e,t,n){"use strict";n.r(t),n.d(t,"FigureBlot",(function(){return d}));var i=n(59),o=n(60),r=n(120),a=n(90),l=n.n(a),s=n(86),c=n(65),u=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{s(i.next(e))}catch(e){r(e)}}function l(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((i=i.apply(e,t||[])).next())}))};class d extends o.a{constructor(e,t){super(e),this.domNode=e,this.domWrapper=document.createElement("div"),this.domCursor=document.createElement("span"),this.domCaption=document.createElement("figcaption"),this.domWrapper.classList.add("figure_wrapper"),this.domCursor.classList.add("cursor_wrapper"),this.domCursor.setAttribute("contenteditable","true"),this.domCaption.classList.add("editable_text"),this.domCaption.setAttribute("data-placeholder","Caption (optional)"),t.caption&&(this.domCaption.innerText=t.caption),this.domNode.appendChild(this.domWrapper),this.domNode.appendChild(this.domCursor),this.domNode.appendChild(this.domCaption),setTimeout(()=>{Object(c.updateEditableText)(this.domNode)},1);let n=!1;t.image?(this.appendImgNode(t.image),n=this.uploadData(t.image)):t.video?(this.appendVideoNode(t.video),n=this.uploadData(t.video)):t.embed&&this.appendIframeNode(t.embed),n&&(this.domProgress=document.createElement("div"),this.domProgressBar=document.createElement("div"),this.domProgress.classList.add("file_progress"),this.domProgressBar.classList.add("file_progress_bar"),this.domWrapper.classList.add("loading"),this.domProgress.appendChild(this.domProgressBar),this.domWrapper.appendChild(this.domProgress),this.uploadFile(n)),this.domWrapper.onclick=()=>{if(!this.domNode.classList.contains("focus")){let e=this.offset(this.scroll);this.focus(),d.quillSetSelection(e)}},this.domCursor.onkeydown=e=>{let t=e.which||e.keyCode;if(t==r.a.keys.BACKSPACE){let t=this.offset(this.scroll);d.quillDeleteText(t,this.length()),d.quillSetSelection(t-1),e.preventDefault()}else if(t==r.a.keys.ENTER){let t=this.offset(this.scroll)+this.length();this.focus(),d.quillInsertText(t,"\n"),d.quillSetSelection(t),e.preventDefault()}},this.domCursor.onpaste=e=>{e.stopPropagation(),e.preventDefault()},this.domCaption.onkeydown=e=>{let t=e.which||e.keyCode,n=e.target;if(t==r.a.keys.ENTER){if(e.shiftKey)return;let t={start:n.selectionStart,end:n.selectionEnd},i=n.value;if(t.start!=t.end)i=i.substr(0,t.start)+i.substr(t.end),n.setSelectionRange(i.length,i.length);else if(t.end==i.length){let e=this.offset(this.scroll)+this.length();this.focus(),d.quillInsertText(e,"\n"),d.quillSetSelection(e)}e.preventDefault()}else if(t==r.a.keys.DOWN||t==r.a.keys.TAB||t==r.a.keys.RIGHT){let t={start:n.selectionStart,end:n.selectionEnd},i=n.value;if(t.start==t.end&&t.end==i.length){let t=this.offset(this.scroll)+this.length();this.focus(),d.quillSetSelection(t,0),e.preventDefault()}}else if(t==r.a.keys.LEFT||t==r.a.keys.UP){let t={start:n.selectionStart,end:n.selectionEnd};if(t.start==t.end&&0===t.start){let t=this.offset(this.scroll)-1;this.focus(),d.quillSetSelection(t,0),e.preventDefault()}}};const i=e=>{null!==e&&null!==e.target&&(this.domCaption.classList.toggle("empty",!e.target.value),l.a.update(e.target),d.draftSave())};this.domCaption.onpaste=e=>{e.stopPropagation(),i(e)},this.domCaption.onkeyup=i,this.domCaption.ondrop=i,this.domCaption.onchange=i,this.domCaption.oninput=i,this.domCaption.oncut=i,this.domCaption.onclick=e=>{e.target&&e.target.focus()}}static create(e){let t=super.create(e);return t.setAttribute("contenteditable","false"),t}appendImgNode(e){let t=document.createElement("img");return t.setAttribute("src",this.sanitize(e)),this.domWrapper.appendChild(t),t}appendVideoNode(e){let t=document.createElement("video");return t.setAttribute("src",this.sanitize(e)),t.setAttribute("preload","auto"),t.setAttribute("controls","controls"),t.addEventListener("loadeddata",(function(){this.mozHasAudio||this.webkitAudioDecodedByteCount||this.audioTracks&&this.audioTracks.length||(this.setAttribute("autoplay","autoplay"),this.setAttribute("loop","loop"),this.setAttribute("muted","muted"),this.removeAttribute("controls"),this.play())})),this.domWrapper.appendChild(t),t}appendIframeNode(e){let t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("iframe");return t.classList.add("iframe_wrap"),t.appendChild(n),n.classList.add("iframe_helper"),n.style.paddingTop="56.25%",n.appendChild(i),i.setAttribute("src",this.sanitize(e)),i.setAttribute("width","640"),i.setAttribute("height","360"),i.setAttribute("frameborder","0"),i.setAttribute("allowtransparency","true"),i.setAttribute("allowfullscreen","true"),i.setAttribute("scrolling","no"),this.domWrapper.appendChild(t),t}uploadFile(e){this.uploadFileStart(e,(e,t)=>{let n=0;t&&e&&(n=100*e/t,n=Math.min(100,n)),this.domProgressBar.style.width=n+"%"},t=>{if(t){let n=this.sanitize(t.src);if("video/"==e.type.substr(0,6)){let e=this.domWrapper.querySelector("video");e&&e.setAttribute("src",n)}else{let e=this.domWrapper.querySelector("img");e&&e.setAttribute("src",n)}this.domWrapper.classList.remove("loading"),d.draftSave()}},e=>(d.quillDeleteText(this.offset(this.scroll),this.length(),i.a.sources.SILENT),d.draftSave(),Object(c.showError)(e)))}uploadData(e){let t=null;return!!(t=e.match(/^data:(image\/gif|image\/jpe?g|image\/png|video\/mp4);base64,(.*)$/))&&{type:t[1],base64_data:t[2]}}sanitize(e){return Object(c.sanitize)(e,["http","https","data"])?e:"//:0"}static value(e){let t={caption:""},n=e.querySelector("img");n&&(t.image=n.src);let i=e.querySelector("video");i&&(t.video=i.src);let o=e.querySelector("iframe");o&&(t.embed=o.src);let r=e.querySelector("figcaption");if(r){let e=r.querySelector(".editable_input");t.caption=e?e.value:r.innerText}return t}focus(){this.domNode.classList.add("focus")}blur(){this.domNode.classList.remove("focus")}_index(e,t){if(e===this.domCaption)return 0;let n=0;return e.nodeType==e.TEXT_NODE&&(n+=t>=0?t:e.data.length),e.previousSibling?n+this._index(e.previousSibling,-1):e.parentNode?n+this._index(e.parentNode,-1):0}_position(e,t){if(e.nodeType==e.TEXT_NODE)return t<=e.data.length?[e,t]:[null,t-=e.data.length];{let n=e.firstChild;for(;n;){let e=null;if([e,t]=this._position(n,t),e)return[e,t];n=n.nextSibling}return[e,t]}}update(e){this.domCursor.innerHTML=""}index(e,t){return 0}position(e,t){return[this.domCursor,0]}uploadFileStart(e,t,n,i){return u(this,void 0,void 0,(function*(){try{const i=yield Object(s.uploadFileService)(Object(c.uploadDataToBlob)(e),t);n&&n(i)}catch(e){i&&i("Network error")}}))}}},86:function(e,t,n){"use strict";n.r(t),n.d(t,"uploadFileService",(function(){return i}));function i(e,t){return new Promise((n,i)=>{var o=new XMLHttpRequest,r=new FormData;o.open("POST","https://api.cloudinary.com/v1_1/inscriptum/upload",!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.upload.addEventListener("progress",(function(e){e.lengthComputable&&t&&t(e.loaded,e.total)})),t&&t(0,1),r.append("upload_preset","cz5pibn5"),r.append("tags","browser_upload"),r.append("file",e),o.send(r),o.onreadystatechange=e=>{if(4==o.readyState&&200==o.status){var t=JSON.parse(o.responseText);console.log(1111,t),t.src=t.secure_url,n(t)}},o.onerror=function(){i(new Error("Network Error"))}})}},87:function(e,t,n){"use strict";n.r(t),n.d(t,"ListContinuer",(function(){return o}));var i=n(98);class o extends i.b{static create(e){let t;return"string"==typeof e?t=super.create(e):(t=super.create(e.type),void 0!==e.start&&(t.setAttribute("start",e.start),t.style["counter-reset"]="list-0 "+e.start)),t}static formats(e){let t=super.formats(e);return console.log("MyList-static.formats",t,e.getAttribute("start")),{type:t,start:e.getAttribute("start")}}}},88:function(e,t,n){"use strict";n.r(t),n.d(t,"BlockquoteBlot",(function(){return r}));var i=n(59),o=n(60);class r extends o.c{}r.blotName="blockBlockquote",r.tagName="blockquote",i.a.register(r)},89:function(e,t,n){"use strict";n.r(t),n.d(t,"LinkBlot",(function(){return r}));var i=n(78),o=n(65);class r extends i.a{constructor(e,t){super(e),this.value=t,e.addEventListener("mouseover",r.showLinkTooltip.bind(this,this),!1),e.addEventListener("mouseout",r.hideLinkTooltip,!1)}static create(e){let t=super.create(e);e=this.sanitize(e),t.setAttribute("href",e);var n=e.substr(0,1);return"/"!=n&&"#"!=n&&"tg://"!=e.substr(0,5)&&"mailto:"!=e.substr(0,7)&&t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){const t=r.relativeUrl(e);return Object(o.sanitize)(e,["http","https","tg","mailto"])?t:"about:blank"}detach(){this.domNode.removeEventListener("mouseover",r.showLinkTooltip.bind(this,this),!1),this.domNode.removeEventListener("mouseout",r.hideLinkTooltip,!1),super.detach(),r.hideLinkTooltip()}format(e,t){if(e!==this.statics.blotName||!t)return super.format(e,t);t=r.sanitize(t),this.domNode.setAttribute("href",t),this.domNode.setAttribute("data-title",t)}static relativeUrl(e){let t=location,n=document.createElement("a");return n.href=e,t.origin!==n.origin?n.href:t.pathname!==n.pathname||t.search!==n.search?n.pathname+n.search+n.hash:t.href===n.href?n.hash||n.pathname+n.search+n.hash:n.hash}}},90:function(e,t,n){var i,o,r;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/o=[e,t],void 0===(r="function"==typeof(i=function(e,t){"use strict";var n,i,o="function"==typeof Map?new Map:(n=[],i=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return i[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),i.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),i.splice(t,1))}}),r=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t,n=null,i=null,a=null,l=function(){e.clientWidth!==i&&d()},s=function(t){window.removeEventListener("resize",l,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",s,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",s,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",l,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:s,update:d}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),d()}function c(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+n+"px",i=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function d(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(i<t?"hidden"===n.overflowY&&(c("scroll"),u(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),u(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==i){a=i;var o=r("autosize:resized");try{e.dispatchEvent(o)}catch(e){}}}}function l(e){var t=o.get(e);t&&t.destroy()}function s(e){var t=o.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return a(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e}),t.default=c,e.exports=t.default})?i.apply(t,o):i)||(e.exports=r)},91:function(e,t,n){"use strict";n.r(t),n.d(t,"MyQuill",(function(){return o}));var i=n(59);class o extends i.a{formatLine(...e){super.formatLine(...e),this.updateSelection()}formatText(...e){super.formatText(...e),this.updateSelection()}updateSelection(e){if(this.hasFocus()){e=e||o.sources.SILENT;let t=this.getSelection(!0);this.setSelection(++t.index,t.length,e),this.setSelection(--t.index,t.length,e)}}}},92:function(e,t,n){"use strict";n.r(t),n.d(t,"PullquoteBlot",(function(){return r}));var i=n(59),o=n(60);class r extends o.c{}r.blotName="blockPullquote",r.tagName="aside",i.a.register(r)},93:function(e,t,n){"use strict";n.r(t),n.d(t,"DescriptionBlot",(function(){return r}));var i=n(59),o=n(66);class r extends o.FieldBlot{static create(e){console.log("DescriptionBlot create ",e);let t=super.create(e);return t.setAttribute("data-placeholder","Summary of the text"),t.setAttribute("data-label","Description"),t}formatAt(e,t,n,i){console.log("DescriptionBlot formatAt ",e,t,n,i),n===r.blotName?super.formatAt(e,t,n,i):"link"===n&&super.formatAt(0,this.length(),n,i)}format(e,t){console.log("DescriptionBlot format ",e,t),super.format(e,t)}replace(e){console.log("DescriptionBlot replace ",e),super.replace(e)}insertAt(e,t,n){console.log("DescriptionBlot insertAt ",e,t,n),super.insertAt(e,t,n)}}r.blotName="blockDescription",r.tagName="address",i.a.register(r)},94:function(e,t,n){"use strict";n.r(t),n.d(t,"SubheaderBlot",(function(){return r}));var i=n(59),o=n(74);class r extends o.HeaderBlot{}r.blotName="blockSubheader",r.tagName="h4",i.a.register(r)},95:function(e,t,n){"use strict";n.r(t);var i=n(160),o=n.n(i),r=n(148),a=n.n(r),l=n(151),s=n.n(l),c=n(147),u=n.n(c),d=n(149),p=n.n(d),h=n(144),f=n.n(h),m=n(146),b=n.n(m),g=n(145),y=n.n(g),v=n(150),_=n.n(v);o.a.registerLanguage("javascript",a.a),o.a.registerLanguage("typescript",s.a),o.a.registerLanguage("sql",p.a),o.a.registerLanguage("html",u.a),o.a.registerLanguage("xml",f.a),o.a.registerLanguage("css",b.a),o.a.registerLanguage("bash",y.a),o.a.registerLanguage("yaml",_.a),t.default=o.a},96:function(e,t,n){"use strict";n.r(t),n.d(t,"DividerBlot",(function(){return o}));var i=n(60);class o extends i.a{}o.blotName="blockDivider",o.tagName="hr"},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var i=n(61),o=n.n(i),r=n(60),a=n(132);class l extends r.c{static formats(e){return e.tagName===this.tagName?void 0:super.formats(e)}format(e,t){e!==s.blotName||t?super.format(e,t):this.replaceWith(o.a.create(this.statics.scope))}remove(){null==this.prev&&null==this.next?this.parent.remove():super.remove()}replaceWith(e,t){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,t),this):(this.parent.unwrap(),super.replaceWith(e,t))}}l.blotName="list-item",l.tagName="LI";class s extends a.a{static create(e){let t="ordered"===e?"OL":"UL",n=super.create(t);return"checked"!==e&&"unchecked"!==e||n.setAttribute("data-checked","checked"===e),n}static formats(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}constructor(e){super(e);const t=t=>{if(t.target.parentNode!==e)return;let n=this.statics.formats(e),i=o.a.find(t.target);"checked"===n?i.format("list","unchecked"):"unchecked"===n&&i.format("list","checked")};e.addEventListener("touchstart",t),e.addEventListener("mousedown",t)}format(e,t){this.children.length>0&&this.children.tail.format(e,t)}formats(){return{[this.statics.blotName]:this.statics.formats(this.domNode)}}insertBefore(e,t){if(e instanceof l)super.insertBefore(e,t);else{let n=null==t?this.length():t.offset(this),i=this.split(n);i.parent.insertBefore(e,i)}}optimize(e){super.optimize(e);let t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&t.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(t.moveChildren(this),t.remove())}replace(e){if(e.statics.blotName!==this.statics.blotName){let t=o.a.create(this.statics.defaultChild);e.moveChildren(t),this.appendChild(t)}super.replace(e)}}s.blotName="list",s.scope=o.a.Scope.BLOCK_BLOT,s.tagName=["OL","UL"],s.defaultChild="list-item",s.allowedChildren=[l]},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var i=n(61),o=n.n(i),r=n(130),a=n(128),l=n(101);class s extends l.b{replaceWith(e){this.domNode.textContent=this.domNode.textContent,this.attach(),super.replaceWith(e)}highlight(e){let t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}s.className="ql-syntax";let c=new o.a.Attributor.Class("token","hljs",{scope:o.a.Scope.INLINE});class u extends a.a{static register(){r.a.register(c,!0),r.a.register(s,!0)}constructor(e,t){if(super(e,t),"function"!=typeof this.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");let n=null;this.quill.on(r.a.events.SCROLL_OPTIMIZE,()=>{clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)}),this.highlight()}highlight(){if(this.quill.selection.composing)return;this.quill.update(r.a.sources.USER);let e=this.quill.getSelection();this.quill.scroll.descendants(s).forEach(e=>{e.highlight(this.options.highlight)}),this.quill.update(r.a.sources.SILENT),null!=e&&this.quill.setSelection(e,r.a.sources.SILENT)}}u.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3}}}]);