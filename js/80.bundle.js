(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{219:function(e,t,r){"use strict";r.r(t),r.d(t,"DraftComponent",function(){return j});r(216),r(214);var n=r(212),i=r(46),o=r(102),c=r(101),a=r(531),s=r(100),l=r.n(s),u=r(559),p=(r(567),r(625));function d(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      <um-preloader ?loading=",">\n        <inscriptum-list @action="," .value=","></inscriptum-list>\n      </um-preloader>\n    "]);return d=function(){return e},e}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v,O=function(e,t,r,n){var i,o=arguments.length,c=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,r,c):i(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c};!function(e){e[e.edit=0]="edit",e[e.delete=1]="delete"}(v||(v={}));var j=class extends n.a{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.a,t=arguments.length>1?arguments[1]:void 0;super(a.a,!1),this._storageService=e,this._authService=t,this.$={isPreloader:!0,hasAuth:!1},this._authService=new c.a(this._storageService)}connectedCallback(){super.connectedCallback(),this._authService.$authenticated.subscribe(e=>{this.$=b({},this.$,{hasAuth:Boolean(e)})}),this._storageService.allNotes().then(e=>{var t=e.allNotes.map(e=>{var{content:t,title:r,image:n}=Object(p.b)(e.content);return{id:e.id,title:r,content:t,image:n,linkUrl:"/note/"+e.name,linkRel:"external",actions:()=>this.$.hasAuth?[{type:v.edit,label:"изменить"}]:[]}});this.$=b({},this.$,{isPreloader:!1,notes:t})}),u.a.watch()}render(){return Object(i.e)(d(),this.$.isPreloader,this.handleAction.bind(this),this.$.notes)}handleAction(e){var{detail:t}=e;switch(t.type){case v.edit:l()("/editor/"+t.id+"/posted")}}};O([Object(n.d)()],j.prototype,"$",void 0),j=O([Object(n.b)("inscriptum-notes")],j)}}]);