(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{219:function(e,t,n){"use strict";n.r(t),n.d(t,"DraftComponent",function(){return g});var i=n(212),r=n(46),a=n(626),c=n(102),o=n(101),s=n(531),l=n(100),d=n.n(l),u=n(216),h=n(559),p=(n(567),n(625));function v(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      <um-preloader loading=",">\n        <inscriptum-list @action="," .value=","></inscriptum-list>\n      </um-preloader>\n    "]);return v=function(){return e},e}var b,f=function(e,t,n,i){var r,a=arguments.length,c=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(c=(a<3?r(c):a>3?r(t,n,c):r(t,n))||c);return a>3&&c&&Object.defineProperty(t,n,c),c};!function(e){e[e.edit=0]="edit",e[e.delete=1]="delete"}(b||(b={}));var g=class extends i.a{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new c.a,t=arguments.length>1?arguments[1]:void 0;super(s.a,!1),this._storageService=e,this._authService=t,this.$={isPreloader:!0},this._authService=new o.a(this._storageService)}connectedCallback(){super.connectedCallback(),this._authService.$authenticated.pipe(Object(u.takeWhile)(()=>void 0===this.$.notes)).subscribe(e=>{null!==e&&this._storageService.allNotes().then(e=>{var t=e.allNotes.map(e=>{var{content:t,title:n,image:i}=Object(p.b)(e.content);return{id:e.id,title:n,content:t,image:i,linkUrl:"/note/"+e.name,linkRel:"external",actions:this._authService.$authenticated.getValue()?[{type:b.edit,label:"изменить"}]:[]}});this.$={isPreloader:!1,notes:t}})}),h.a.watch()}render(){return Object(r.e)(v(),this.$.isPreloader,this.handleAction.bind(this),Object(a.a)(this.$.notes))}handleAction(e){var{detail:t}=e;switch(t.type){case b.edit:d()("/editor/"+t.id+"/posted")}}};f([Object(i.d)()],g.prototype,"$",void 0),g=f([Object(i.b)("inscriptum-notes")],g)}}]);