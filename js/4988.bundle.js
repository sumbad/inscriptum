/*! For license information please see 4988.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkinscriptum=self.webpackChunkinscriptum||[]).push([[4988],{56856:(t,e,n)=>{n.d(e,{ZP:()=>i});var r=n(26798);const o=/^\s*>\s$/,i=r.NB.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return["blockquote",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,r.S0)({find:o,type:this.type})]}})},70128:(t,e,n)=>{n.d(e,{ZP:()=>u});var r=n(26798);const o=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,i=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,s=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,a=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,u=r.vc.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],renderHTML({HTMLAttributes:t}){return["strong",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,r.Cf)({find:o,type:this.type}),(0,r.Cf)({find:s,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:i,type:this.type}),(0,r.K9)({find:a,type:this.type})]}})},87072:(t,e,n)=>{n.d(e,{NM:()=>u,q3:()=>a});var r=n(26798),o=n(76922),i=n(13861);class s{constructor({editor:t,element:e,view:n,tippyOptions:o={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:t,state:e,from:n,to:o})=>{const{doc:i,selection:s}=e,{empty:a}=s,u=!i.textBetween(n,o).length&&(0,r.hT)(e.selection);return!(!t.hasFocus()||a||u)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.editor=t,this.element=e,this.view=n,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;!this.tippy&&e&&(this.tippy=(0,i.ZP)(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",(t=>{this.blurHandler({event:t})})))}update(t,e){var n,o;const{state:i,composing:s}=t,{doc:a,selection:u}=i,l=e&&e.doc.eq(a)&&e.selection.eq(u);if(s||l)return;this.createTooltip();const{ranges:c}=u,p=Math.min(...c.map((t=>t.$from.pos))),h=Math.max(...c.map((t=>t.$to.pos)));(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:t,state:i,oldState:e,from:p,to:h}))?(null===(o=this.tippy)||void 0===o||o.setProps({getReferenceClientRect:()=>{if((0,r.EG)(i.selection)){const e=t.nodeDOM(p);if(e)return e.getBoundingClientRect()}return(0,r.pr)(t,p,h)}}),this.show()):this.hide()}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t;null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const a=t=>new o.Sy({key:"string"==typeof t.pluginKey?new o.H$(t.pluginKey):t.pluginKey,view:e=>new s({view:e,...t})}),u=r.hj.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[a({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}})},7082:(t,e,n)=>{n.d(e,{ZP:()=>i});var r=n(26798);const o=/^\s*([-+*])\s$/,i=r.NB.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[(0,r.S0)({find:o,type:this.type})]}})},9889:(t,e,n)=>{n.d(e,{dn:()=>a});var r=n(26798),o=n(76922);const i=/^```(?<language>[a-z]*)?[\s\n]$/,s=/^~~~(?<language>[a-z]*)?[\s\n]$/,a=r.NB.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,r=[...(null===(e=t.firstElementChild)||void 0===e?void 0:e.classList)||[]].filter((t=>t.startsWith(n))).map((t=>t.replace(n,"")))[0];return r||null},renderHTML:t=>t.language?{class:this.options.languageClassPrefix+t.language}:null}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({HTMLAttributes:t}){return["pre",this.options.HTMLAttributes,["code",t,0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!(!t||e.parent.type.name!==this.name)&&(!(!n&&e.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:t})=>{const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith("\n\n");return!(!i||!s)&&t.chain().command((({tr:t})=>(t.delete(r.pos-2,r.pos),!0))).exitCode().run()},ArrowDown:({editor:t})=>{const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type)return!1;if(!(o.parentOffset===o.parent.nodeSize-2))return!1;const s=o.after();if(void 0===s)return!1;return!r.nodeAt(s)&&t.commands.exitCode()}}},addInputRules(){return[(0,r.zK)({find:i,type:this.type,getAttributes:({groups:t})=>t}),(0,r.zK)({find:s,type:this.type,getAttributes:({groups:t})=>t})]},addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=null==i?void 0:i.mode;if(!n||!s)return!1;const{tr:a}=t.state;return a.replaceSelectionWith(this.type.create({language:s})),a.setSelection(o.Bs.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.insertText(n.replace(/\r\n?/g,"\n")),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}})},60054:(t,e,n)=>{n.d(e,{ZP:()=>s});var r=n(26798);const o=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,i=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,s=r.vc.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,r.Cf)({find:o,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:i,type:this.type})]}})},8481:(t,e,n)=>{n.d(e,{Z:()=>r});const r=n(26798).NB.create({name:"doc",topNode:!0,content:"block+"})},49302:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(26798),o=n(76922),i=n(21081);var s=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(e){var r=function(t){return n[e](t)};return t.dom.addEventListener(e,r),{name:e,handler:r}}))};s.prototype.destroy=function(){var t=this;this.handlers.forEach((function(e){var n=e.name,r=e.handler;return t.editorView.dom.removeEventListener(n,r)}))},s.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())},s.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},s.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var n=e.nodeBefore,r=e.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!t){var s=this.editorView.coordsAtPos(this.cursorPos);t={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a,u,l=this.editorView.dom.offsetParent;if(this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!l||l==document.body&&"static"==getComputedStyle(l).position)a=-pageXOffset,u=-pageYOffset;else{var c=l.getBoundingClientRect();a=c.left-l.scrollLeft,u=c.top-l.scrollTop}this.element.style.left=t.left-a+"px",this.element.style.top=t.top-u+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},s.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return e.setCursor(null)}),t)},s.prototype.dragover=function(t){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,e):r;if(e&&!o){var s=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(s=(0,i.nj)(this.editorView.state.doc,s,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}},s.prototype.dragend=function(){this.scheduleRemoval(20)},s.prototype.drop=function(){this.scheduleRemoval(20)},s.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)};const a=r.hj.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:null}),addProseMirrorPlugins(){return[(t=this.options,void 0===t&&(t={}),new o.Sy({view:function(e){return new s(e,t)}}))];var t}})},35394:(t,e,n)=>{n.d(e,{AH:()=>u,JF:()=>a});var r=n(26798),o=n(76922),i=n(13861);class s{constructor({editor:t,element:e,view:n,tippyOptions:r={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:t,state:e})=>{const{selection:n}=e,{$anchor:r,empty:o}=n,i=1===r.depth,s=r.parent.isTextblock&&!r.parent.type.spec.code&&!r.parent.textContent;return!!(t.hasFocus()&&o&&i&&s)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.editor=t,this.element=e,this.view=n,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;!this.tippy&&e&&(this.tippy=(0,i.ZP)(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",(t=>{this.blurHandler({event:t})})))}update(t,e){var n,o;const{state:i}=t,{doc:s,selection:a}=i,{from:u,to:l}=a;if(e&&e.doc.eq(s)&&e.selection.eq(a))return;this.createTooltip();(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:t,state:i,oldState:e}))?(null===(o=this.tippy)||void 0===o||o.setProps({getReferenceClientRect:()=>(0,r.pr)(t,u,l)}),this.show()):this.hide()}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t;null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const a=t=>new o.Sy({key:"string"==typeof t.pluginKey?new o.H$(t.pluginKey):t.pluginKey,view:e=>new s({view:e,...t})}),u=r.hj.create({name:"floatingMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[a({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}})},34334:(t,e,n)=>{n.d(e,{Z:()=>f});var r=n(26798),o=n(32629),i=n(76922),s=n(38757),a=n(38638),u=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return e.valid(o)?new e(o):t.near(o)},e.prototype.content=function(){return a.p2.empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(n.pos))},e.prototype.getBookmark=function(){return new l(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!function(t){for(var e=t.depth;e>=0;e--){var n=t.index(e);if(0!=n)for(var r=t.node(e).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(t)||!function(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(t))return!1;var n=e.type.spec.allowGapCursor;if(null!=n)return n;var r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock},e.findFrom=function(t,n,r){t:for(;;){if(!r&&e.valid(t))return t;for(var o=t.pos,s=null,a=t.depth;;a--){var u=t.node(a);if(n>0?t.indexAfter(a)<u.childCount:t.index(a)>0){s=u.child(n>0?t.indexAfter(a):t.index(a)-1);break}if(0==a)return null;o+=n;var l=t.doc.resolve(o);if(e.valid(l))return l}for(;;){var c=n>0?s.firstChild:s.lastChild;if(!c){if(s.isAtom&&!s.isText&&!i.qv.isSelectable(s)){t=t.doc.resolve(o+s.nodeSize*n),r=!1;continue t}break}s=c,o+=n;var p=t.doc.resolve(o);if(e.valid(p))return p}return null}},e}(i.Y1);u.prototype.visible=!1,i.Y1.jsonID("gapcursor",u);var l=function(t){this.pos=t};l.prototype.map=function(t){return new l(t.map(this.pos))},l.prototype.resolve=function(t){var e=t.resolve(this.pos);return u.valid(e)?new u(e):i.Y1.near(e)};var c=(0,o.$)({ArrowLeft:p("horiz",-1),ArrowRight:p("horiz",1),ArrowUp:p("vert",-1),ArrowDown:p("vert",1)});function p(t,e){var n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,o){var s=t.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof i.Bs){if(!o.endOfTextblock(n)||0==a.depth)return!1;l=!1,a=t.doc.resolve(e>0?a.after():a.before())}var c=u.findFrom(a,e,l);return!!c&&(r&&r(t.tr.setSelection(new u(c))),!0)}}function h(t,e,n){if(!t.editable)return!1;var r=t.state.doc.resolve(e);if(!u.valid(r))return!1;var o=t.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(o>-1&&i.qv.isSelectable(t.state.doc.nodeAt(o)))&&(t.dispatch(t.state.tr.setSelection(new u(r))),!0)}function d(t){if(!(t.selection instanceof u))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",s.EH.create(t.doc,[s.p.widget(t.selection.head,e,{key:"gapcursor"})])}const f=r.hj.create({name:"gapCursor",addProseMirrorPlugins:()=>[new i.Sy({props:{decorations:d,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&u.valid(n))return new u(n)},handleClick:h,handleKeyDown:c}})],extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:null!==(e=(0,r.nU)((0,r.Nl)(t,"allowGapCursor",n)))&&void 0!==e?e:null}}})},47191:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(26798);const o=r.NB.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",(0,r.P1)(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command((()=>{const{selection:t,storedMarks:o}=n;if(t.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:s}=r.extensionManager,a=o||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:this.name}).command((({tr:t,dispatch:e})=>{if(e&&a&&i){const e=a.filter((t=>s.includes(t.type.name)));t.ensureMarks(e)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}})},41769:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(26798);const o=r.NB.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((t=>({tag:`h${t}`,attrs:{level:t}})))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,(0,r.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode(this.name,t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce(((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})})),{})},addInputRules(){return this.options.levels.map((t=>(0,r.zK)({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}})))}})},34524:(t,e,n)=>{n.d(e,{ZP:()=>s});var r=n(26798);const o=/(?:^|\s)((?:==)((?:[^~]+))(?:==))$/,i=/(?:^|\s)((?:==)((?:[^~]+))(?:==))/g,s=r.vc.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:t}){return["mark",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[(0,r.Cf)({find:o,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:i,type:this.type})]}})},83142:(t,e,n)=>{n.d(e,{Z:()=>x});var r=n(26798),o=200,i=function(){};i.prototype.append=function(t){return t.length?(t=i.from(t),!this.length&&t||t.length<o&&this.leafAppend(t)||this.length<o&&t.leafPrepend(this)||this.appendInner(t)):this},i.prototype.prepend=function(t){return t.length?i.from(t).append(this):this},i.prototype.appendInner=function(t){return new a(this,t)},i.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?i.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},i.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},i.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},i.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},i.from=function(t){return t instanceof i?t:t&&t.length?new s(t):i.empty};var s=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(!1===t(this.values[o],r+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],r+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=o)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=o)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(i);i.empty=new s([]);var a=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(i);const u=i;var l=n(21081),c=n(76922),p=function(t,e){this.items=t,this.eventCount=e};p.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(r=this.remapping(i,this.items.length),o=r.maps.length);var s,a,u=t.tr,l=[],c=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(i,e+1),o=r.maps.length),o--,void c.push(t);if(r){c.push(new h(t.map));var d,f=t.step.map(r.slice(o));f&&u.maybeStep(f).doc&&(d=u.mapping.maps[u.mapping.maps.length-1],l.push(new h(d,null,null,l.length+c.length))),o--,d&&r.appendMap(d,o)}else u.maybeStep(t.step);return t.selection?(s=r?t.selection.map(r.slice(o)):t.selection,a=new p(n.items.slice(0,i).append(c.reverse().concat(l)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:u,selection:s}},p.prototype.addTransform=function(t,e,n,r){for(var o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,u=0;u<t.steps.length;u++){var l,c=t.steps[u].invert(t.docs[u]),d=new h(t.mapping.maps[u],c,e);(l=a&&a.merge(d))&&(d=l,u?o.pop():s=s.slice(0,s.length-1)),o.push(d),e&&(i++,e=null),r||(a=d)}var m,v,g,y=i-n.depth;return y>f&&(v=y,(m=s).forEach((function(t,e){if(t.selection&&0==v--)return g=e,!1})),s=m.slice(g),i-=y),new p(s.append(o),i)},p.prototype.remapping=function(t,e){var n=new l.vs;return this.items.forEach((function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)}),t,e),n},p.prototype.addMaps=function(t){return 0==this.eventCount?this:new p(this.items.append(t.map((function(t){return new h(t)}))),this.eventCount)},p.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach((function(t){t.selection&&s--}),r);var a=e;this.items.forEach((function(e){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var u=o.maps[r];if(e.step){var l=t.steps[r].invert(t.docs[r]),c=e.selection&&e.selection.map(o.slice(a+1,r));c&&s++,n.push(new h(u,l,c))}else n.push(new h(u))}}),r);for(var u=[],l=e;l<i;l++)u.push(new h(o.maps[l]));var c=this.items.slice(0,r).append(u).append(n),d=new p(c,s);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d},p.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},p.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((function(i,s){if(s>=t)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(e.slice(n)),u=a&&a.getMap();if(n--,u&&e.appendMap(u,n),a){var l=i.selection&&i.selection.map(e.slice(n));l&&o++;var c,p=new h(u.invert(),a,l),d=r.length-1;(c=r.length&&r[d].merge(p))?r[d]=c:r.push(p)}}else i.map&&n--}),this.items.length,0),new p(u.from(r.reverse()),o)},p.empty=new p(u.empty,0);var h=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};h.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new h(e.getMap().invert(),e,this.selection)}};var d=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},f=20;function m(t){var e=[];return t.forEach((function(t,n,r,o){return e.push(r,o)})),e}function v(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function g(t,e,n,r){var o=D(e),i=w.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),u=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),l=new d(r?u:s.remaining,r?s.remaining:u,null,0);n(s.transform.setSelection(a).setMeta(w,{redo:r,historyState:l}).scrollIntoView())}}var y=!1,b=null;function D(t){var e=t.plugins;if(b!=e){y=!1,b=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){y=!0;break}}return y}var w=new c.H$("history"),C=new c.H$("closeHistory");function A(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new c.Sy({key:w,state:{init:function(){return new d(p.empty,p.empty,null,0)},apply:function(e,n,r){return function(t,e,n,r){var o,i=n.getMeta(w);if(i)return i.historyState;n.getMeta(C)&&(t=new d(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(w))return s.getMeta(w).redo?new d(t.done.addTransform(n,null,r,D(e)),t.undone,m(n.mapping.maps[n.steps.length-1]),t.prevTime):new d(t.done,t.undone.addTransform(n,null,r,D(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new d(t.done.rebased(n,o),t.undone.rebased(n,o),v(t.prevRanges,n.mapping),t.prevTime):new d(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),v(t.prevRanges,n.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)})),n}(n,t.prevRanges)),u=s?v(t.prevRanges,n.mapping):m(n.mapping.maps[n.steps.length-1]);return new d(t.done.addTransform(n,a?e.selection.getBookmark():null,r,D(e)),p.empty,u,n.time)}(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput:function(t,e){var n="historyUndo"==e.inputType?E(t.state,t.dispatch):"historyRedo"==e.inputType&&k(t.state,t.dispatch);return n&&e.preventDefault(),n}}}})}function E(t,e){var n=w.getState(t);return!(!n||0==n.done.eventCount)&&(e&&g(n,t,e,!1),!0)}function k(t,e){var n=w.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&g(n,t,e,!0),!0)}const x=r.hj.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:e})=>E(t,e),redo:()=>({state:t,dispatch:e})=>k(t,e)}),addProseMirrorPlugins(){return[A(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}})},6829:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(26798),o=n(76922);const i=r.NB.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",(0,r.P1)(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command((({tr:t,dispatch:e})=>{var n;if(e){const{parent:e,pos:r}=t.selection.$from,i=r+1;if(t.doc.nodeAt(i))t.setSelection(o.Bs.create(t.doc,i));else{const r=null===(n=e.type.contentMatch.defaultType)||void 0===n?void 0:n.create();r&&(t.insert(i,r),t.setSelection(o.Bs.create(t.doc,i)))}t.scrollIntoView()}return!0})).run()}},addInputRules(){return[(0,r.x2)({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}})},29802:(t,e,n)=>{n.d(e,{ZP:()=>u});var r=n(26798);const o=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,i=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,s=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,a=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,u=r.vc.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:t}){return["em",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,r.Cf)({find:o,type:this.type}),(0,r.Cf)({find:s,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:i,type:this.type}),(0,r.K9)({find:a,type:this.type})]}})},98872:(t,e,n)=>{n.d(e,{r:()=>St});var r=n(26798);function o(t){this.j={},this.jr=[],this.jd=null,this.t=t}o.prototype={accepts:function(){return!!this.t},tt:function(t,e){if(e&&e.j)return this.j[t]=e,e;var n=e,r=this.j[t];if(r)return n&&(r.t=n),r;r=i();var o=l(this,t);return o?(Object.assign(r.j,o.j),r.jr.append(o.jr),r.jr=o.jd,r.t=n||o.t):r.t=n,this.j[t]=r,r}};var i=function(){return new o},s=function(t){return new o(t)},a=function(t,e,n){t.j[e]||(t.j[e]=n)},u=function(t,e,n){t.jr.push([e,n])},l=function(t,e){var n=t.j[e];if(n)return n;for(var r=0;r<t.jr.length;r++){var o=t.jr[r][0],i=t.jr[r][1];if(o.test(e))return i}return t.jd},c=function(t,e,n){for(var r=0;r<e.length;r++)a(t,e[r],n)},p=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0],o=e[n][1];a(t,r,o)}},h=function(t,e,n,r){for(var o,i=0,s=e.length;i<s&&(o=t.j[e[i]]);)t=o,i++;if(i>=s)return[];for(;i<s-1;)o=r(),a(t,e[i],o),t=o,i++;a(t,e[s-1],n)},d="DOMAIN",f="LOCALHOST",m="TLD",v="NUM",g="PROTOCOL",y="MAILTO",b="WS",D="NL",w="OPENBRACE",C="OPENBRACKET",A="OPENANGLEBRACKET",E="OPENPAREN",k="CLOSEBRACE",x="CLOSEBRACKET",S="CLOSEANGLEBRACKET",F="CLOSEPAREN",M="AMPERSAND",T="APOSTROPHE",O="ASTERISK",B="AT",L="BACKSLASH",N="BACKTICK",R="CARET",$="COLON",H="COMMA",I="DOLLAR",P="DOT",z="EQUALS",j="EXCLAMATION",_="HYPHEN",q="PERCENT",W="PIPE",J="PLUS",V="POUND",K="QUERY",U="QUOTE",Y="SEMI",Z="SLASH",X="TILDE",G="UNDERSCORE",Q="SYM",tt=Object.freeze({__proto__:null,DOMAIN:d,LOCALHOST:f,TLD:m,NUM:v,PROTOCOL:g,MAILTO:y,WS:b,NL:D,OPENBRACE:w,OPENBRACKET:C,OPENANGLEBRACKET:A,OPENPAREN:E,CLOSEBRACE:k,CLOSEBRACKET:x,CLOSEANGLEBRACKET:S,CLOSEPAREN:F,AMPERSAND:M,APOSTROPHE:T,ASTERISK:O,AT:B,BACKSLASH:L,BACKTICK:N,CARET:R,COLON:$,COMMA:H,DOLLAR:I,DOT:P,EQUALS:z,EXCLAMATION:j,HYPHEN:_,PERCENT:q,PIPE:W,PLUS:J,POUND:V,QUERY:K,QUOTE:U,SEMI:Y,SLASH:Z,TILDE:X,UNDERSCORE:G,SYM:Q}),et="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw vermögensberater-ctb vermögensberatung-pwb ελ ευ бг бел дети ею католик ком қаз мкд мон москва онлайн орг рус рф сайт срб укр გე հայ ישראל קום ابوظبي اتصالات ارامكو الاردن البحرين الجزائر السعودية العليان المغرب امارات ایران بارت بازار بھارت بيتك پاکستان ڀارت تونس سودان سورية شبكة عراق عرب عمان فلسطين قطر كاثوليك كوم مصر مليسيا موريتانيا موقع همراه कॉम नेट भारत भारतम् भारोत संगठन বাংলা ভারত ভাৰত ਭਾਰਤ ભારત ଭାରତ இந்தியா இலங்கை சிங்கப்பூர் భారత్ ಭಾರತ ഭാരതം ලංකා คอม ไทย ລາວ 닷넷 닷컴 삼성 한국 アマゾン グーグル クラウド コム ストア セール ファッション ポイント みんな 世界 中信 中国 中國 中文网 亚马逊 企业 佛山 信息 健康 八卦 公司 公益 台湾 台灣 商城 商店 商标 嘉里 嘉里大酒店 在线 大众汽车 大拿 天主教 娱乐 家電 广东 微博 慈善 我爱你 手机 招聘 政务 政府 新加坡 新闻 时尚 書籍 机构 淡马锡 游戏 澳門 点看 移动 组织机构 网址 网店 网站 网络 联通 诺基亚 谷歌 购物 通販 集团 電訊盈科 飞利浦 食品 餐厅 香格里拉 香港".split(" "),nt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,rt=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,ot=/\uFE0F/,it=/\d/,st=/\s/;function at(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=i(),n=s(v),r=s(d),o=i(),l=s(b),c=[[it,r],[nt,r],[rt,r],[ot,r]],tt=function(){var t=s(d);return t.j={"-":o},t.jr=[].concat(c),t},at=function(t){var e=tt();return e.t=t,e};p(e,[["'",s(T)],["{",s(w)],["[",s(C)],["<",s(A)],["(",s(E)],["}",s(k)],["]",s(x)],[">",s(S)],[")",s(F)],["&",s(M)],["*",s(O)],["@",s(B)],["`",s(N)],["^",s(R)],[":",s($)],[",",s(H)],["$",s(I)],[".",s(P)],["=",s(z)],["!",s(j)],["-",s(_)],["%",s(q)],["|",s(W)],["+",s(J)],["#",s(V)],["?",s(K)],['"',s(U)],["/",s(Z)],[";",s(Y)],["~",s(X)],["_",s(G)],["\\",s(L)]]),a(e,"\n",s(D)),u(e,st,l),a(l,"\n",i()),u(l,st,l);for(var ut=0;ut<et.length;ut++)h(e,et[ut],at(m),tt);var lt=tt(),ct=tt(),pt=tt(),ht=tt();h(e,"file",lt,tt),h(e,"ftp",ct,tt),h(e,"http",pt,tt),h(e,"mailto",ht,tt);var dt=tt(),ft=s(g),mt=s(y);a(ct,"s",dt),a(ct,":",ft),a(pt,"s",dt),a(pt,":",ft),a(lt,":",ft),a(dt,":",ft),a(ht,":",mt);for(var vt=tt(),gt=0;gt<t.length;gt++)h(e,t[gt],vt,tt);return a(vt,":",ft),h(e,"localhost",at(f),tt),u(e,it,n),u(e,nt,r),u(e,rt,r),u(e,ot,r),u(n,it,n),u(n,nt,r),u(n,rt,r),u(n,ot,r),a(n,"-",o),a(r,"-",o),a(o,"-",o),u(r,it,r),u(r,nt,r),u(r,rt,r),u(r,ot,r),u(o,it,r),u(o,nt,r),u(o,rt,r),u(o,ot,r),e.jd=s(Q),e}function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}var lt={defaultProtocol:"http",events:null,format:pt,formatHref:pt,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function ct(t){t=t||{},this.defaultProtocol="defaultProtocol"in t?t.defaultProtocol:lt.defaultProtocol,this.events="events"in t?t.events:lt.events,this.format="format"in t?t.format:lt.format,this.formatHref="formatHref"in t?t.formatHref:lt.formatHref,this.nl2br="nl2br"in t?t.nl2br:lt.nl2br,this.tagName="tagName"in t?t.tagName:lt.tagName,this.target="target"in t?t.target:lt.target,this.rel="rel"in t?t.rel:lt.rel,this.validate="validate"in t?t.validate:lt.validate,this.truncate="truncate"in t?t.truncate:lt.truncate,this.className="className"in t?t.className:lt.className,this.attributes=t.attributes||lt.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in t?t.ignoreTags:lt.ignoreTags),n=0;n<e.length;n++)this.ignoreTags.push(e[n].toUpperCase())}function pt(t){return t}ct.prototype={resolve:function(t){var e=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",e,t),tagName:this.get("tagName",e,t),className:this.get("className",e,t),target:this.get("target",e,t),rel:this.get("rel",e,t),events:this.getObject("events",e,t),attributes:this.getObject("attributes",e,t),truncate:this.get("truncate",e,t)}},check:function(t){return this.get("validate",t.toString(),t)},get:function(t,e,n){var r,o=this[t];if(!o)return o;switch(ut(o)){case"function":return o(e,n.t);case"object":return"function"==typeof(r=n.t in o?o[n.t]:lt[t])?r(e,n.t):r}return o},getObject:function(t,e,n){var r=this[t];return"function"==typeof r?r(e,n.t):r}};function ht(){}function dt(t,e){function n(e,n){this.t=t,this.v=e,this.tk=n}return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(t.prototype);for(var o in n)r[o]=n[o];r.constructor=e,e.prototype=r}(ht,n,e),n}ht.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}}};var ft=dt("email",{isLink:!0}),mt=dt("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),vt=dt("text"),gt=dt("nl"),yt=dt("url",{isLink:!0,toHref:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt.defaultProtocol,e=this.tk,n=!1,r=!1,o=[],i=0;e[i].t===g;)n=!0,o.push(e[i].v),i++;for(;e[i].t===Z;)r=!0,o.push(e[i].v),i++;for(;i<e.length;i++)o.push(e[i].v);return o=o.join(""),n||r||(o="".concat(t,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===g}}),bt=Object.freeze({__proto__:null,MultiToken:ht,Base:ht,createTokenClass:dt,MailtoEmail:ft,Email:mt,Text:vt,Nl:gt,Url:yt});function Dt(){var t=i(),e=i(),n=i(),r=i(),o=i(),u=i(),l=i(),p=s(yt),h=i(),b=s(yt),tt=s(yt),et=i(),nt=i(),rt=i(),ot=i(),it=i(),st=s(yt),at=s(yt),ut=s(yt),lt=s(yt),ct=i(),pt=i(),ht=i(),dt=i(),vt=i(),bt=i(),Dt=s(mt),wt=i(),Ct=s(mt),At=s(ft),Et=i(),kt=i(),xt=i(),St=i(),Ft=s(gt);a(t,D,Ft),a(t,g,e),a(t,y,n),a(e,Z,r),a(r,Z,o),a(t,m,u),a(t,d,u),a(t,f,p),a(t,v,u),a(o,m,tt),a(o,d,tt),a(o,v,tt),a(o,f,tt),a(u,P,l),a(vt,P,bt),a(l,m,p),a(l,d,u),a(l,v,u),a(l,f,u),a(bt,m,Dt),a(bt,d,vt),a(bt,v,vt),a(bt,f,vt),a(p,P,l),a(Dt,P,bt),a(p,$,h),a(p,Z,tt),a(h,v,b),a(b,Z,tt),a(Dt,$,wt),a(wt,v,Ct);var Mt=[M,O,B,L,N,R,I,d,z,_,f,v,q,W,J,V,g,Z,Q,X,m,G],Tt=[T,S,k,x,F,$,H,P,j,A,w,C,E,K,U,Y];a(tt,w,nt),a(tt,C,rt),a(tt,A,ot),a(tt,E,it),a(et,w,nt),a(et,C,rt),a(et,A,ot),a(et,E,it),a(nt,k,tt),a(rt,x,tt),a(ot,S,tt),a(it,F,tt),a(st,k,tt),a(at,x,tt),a(ut,S,tt),a(lt,F,tt),a(ct,k,tt),a(pt,x,tt),a(ht,S,tt),a(dt,F,tt),c(nt,Mt,st),c(rt,Mt,at),c(ot,Mt,ut),c(it,Mt,lt),c(nt,Tt,ct),c(rt,Tt,pt),c(ot,Tt,ht),c(it,Tt,dt),c(st,Mt,st),c(at,Mt,at),c(ut,Mt,ut),c(lt,Mt,lt),c(st,Tt,st),c(at,Tt,at),c(ut,Tt,ut),c(lt,Tt,lt),c(ct,Mt,st),c(pt,Mt,at),c(ht,Mt,ut),c(dt,Mt,lt),c(ct,Tt,ct),c(pt,Tt,pt),c(ht,Tt,ht),c(dt,Tt,dt),c(tt,Mt,tt),c(et,Mt,tt),c(tt,Tt,et),c(et,Tt,et),a(n,m,At),a(n,d,At),a(n,v,At),a(n,f,At),c(At,Mt,At),c(At,Tt,Et),c(Et,Mt,At),c(Et,Tt,Et);var Ot=[M,T,O,L,N,R,k,I,d,z,_,v,w,q,W,J,V,K,Z,Q,X,m,G];return c(u,Ot,kt),a(u,B,xt),c(p,Ot,kt),a(p,B,xt),c(l,Ot,kt),c(kt,Ot,kt),a(kt,B,xt),a(kt,P,St),c(St,Ot,kt),a(xt,m,vt),a(xt,d,vt),a(xt,v,vt),a(xt,f,Dt),t}function wt(t,e,n){var r=n[0].s,o=n[n.length-1].e;return new t(e.substr(r,o-r),n)}"undefined"!=typeof console&&console&&console.warn;var Ct={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function At(t){return Ct.initialized||function(){Ct.scanner={start:at(Ct.customProtocols),tokens:tt},Ct.parser={start:Dt(),tokens:bt};for(var t={createTokenClass:dt},e=0;e<Ct.pluginQueue.length;e++)Ct.pluginQueue[e][1]({scanner:Ct.scanner,parser:Ct.parser,utils:t});Ct.initialized=!0}(),function(t,e,n){for(var r=n.length,o=0,i=[],s=[];o<r;){for(var a=t,u=null,c=null,p=0,h=null,d=-1;o<r&&!(u=l(a,n[o].t));)s.push(n[o++]);for(;o<r&&(c=u||l(a,n[o].t));)u=null,(a=c).accepts()?(d=0,h=a):d>=0&&d++,o++,p++;if(d<0)for(var f=o-p;f<o;f++)s.push(n[f]);else{s.length>0&&(i.push(wt(vt,e,s)),s=[]),o-=d,p-=d;var m=h.t,v=n.slice(o-p,o);i.push(wt(m,e,v))}}return s.length>0&&i.push(wt(vt,e,s)),i}(Ct.parser.start,t,function(t,e){for(var n=function(t){for(var e=[],n=t.length,r=0;r<n;){var o=t.charCodeAt(r),i=void 0,s=o<55296||o>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}(e.replace(/[A-Z]/g,(function(t){return t.toLowerCase()}))),r=n.length,o=[],i=0,s=0;s<r;){for(var a=t,u=null,c=0,p=null,h=-1,d=-1;s<r&&(u=l(a,n[s]));)(a=u).accepts()?(h=0,d=0,p=a):h>=0&&(h+=n[s].length,d++),c+=n[s].length,i+=n[s].length,s++;i-=h,s-=d,c-=h,o.push({t:p.t,v:e.substr(i-c,c),s:i-c,e:i})}return o}(Ct.scanner.start,t))}function Et(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=At(t),r=[],o=0;o<n.length;o++){var i=n[o];!i.isLink||e&&i.t!==e||r.push(i.toObject())}return r}function kt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=At(t);return 1===n.length&&n[0].isLink&&(!e||n[0].t===e)}var xt=n(76922);const St=r.vc.create({name:"link",priority:1e3,keepOnSplit:!1,inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow"}}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target}}},parseHTML:()=>[{tag:"a[href]"}],renderHTML({HTMLAttributes:t}){return["a",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({commands:e})=>e.setMark(this.name,t),toggleLink:t=>({commands:e})=>e.toggleMark(this.name,t,{extendEmptyMarkRange:!0}),unsetLink:()=>({commands:t})=>t.unsetMark(this.name,{extendEmptyMarkRange:!0})}},addPasteRules(){return[(0,r.K9)({find:t=>Et(t).filter((t=>t.isLink)).map((t=>({text:t.value,index:t.start,data:t}))),type:this.type,getAttributes:t=>{var e;return{href:null===(e=t.data)||void 0===e?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(function(t){return new xt.Sy({key:new xt.H$("autolink"),appendTransaction:(e,n,o)=>{if(!e.some((t=>t.docChanged))||n.doc.eq(o.doc))return;const{tr:i}=o,s=(0,r.XP)(n.doc,e),{mapping:a}=s;return(0,r.QC)(s).forEach((({oldRange:e,newRange:s})=>{(0,r.tI)(e.from,e.to,n.doc).filter((e=>e.mark.type===t.type)).forEach((e=>{const s=a.map(e.from),u=a.map(e.to),l=(0,r.tI)(s,u,o.doc).filter((e=>e.mark.type===t.type));if(!l.length)return;const c=l[0],p=n.doc.textBetween(e.from,e.to,void 0," "),h=o.doc.textBetween(c.from,c.to,void 0," "),d=kt(p),f=kt(h);d&&!f&&i.removeMark(c.from,c.to,t.type)})),(0,r.b5)(o.doc,s,(t=>t.isTextblock)).forEach((e=>{Et(o.doc.textBetween(e.pos,e.pos+e.node.nodeSize,void 0," ")).filter((t=>t.isLink)).map((t=>({...t,from:e.pos+t.start+1,to:e.pos+t.end+1}))).filter((t=>{const e=s.from>=t.from&&s.from<=t.to,n=s.to>=t.from&&s.to<=t.to;return e||n})).forEach((e=>{i.addMark(e.from,e.to,t.type.create({href:e.href}))}))}))})),i.steps.length?i:void 0}})}({type:this.type})),this.options.openOnClick&&t.push(function(t){return new xt.Sy({key:new xt.H$("handleClickLink"),props:{handleClick:(e,n,o)=>{var i;const s=(0,r.u9)(e.state,t.type.name);return!(!(null===(i=o.target)||void 0===i?void 0:i.closest("a"))||!s.href||(window.open(s.href,s.target),0))}}})}({type:this.type})),this.options.linkOnPaste&&t.push(function(t){return new xt.Sy({key:new xt.H$("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:o}=e,{selection:i}=o,{empty:s}=i;if(s)return!1;let a="";r.content.forEach((t=>{a+=t.textContent}));const u=Et(a).find((t=>t.isLink&&t.value===a));return!(!a||!u||(t.editor.commands.setMark(t.type,{href:u.href}),0))}}})}({editor:this.editor,type:this.type})),t}})},93427:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(26798);const o=r.NB.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",(0,r.P1)(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}})},85961:(t,e,n)=>{n.d(e,{ZP:()=>i});var r=n(26798);const o=/^(\d+)\.\s$/,i=r.NB.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return 1===e?["ol",(0,r.P1)(this.options.HTMLAttributes,n),0]:["ol",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[(0,r.S0)({find:o,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}})},69457:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(26798);const o=r.NB.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}})},53418:(t,e,n)=>{n.d(e,{ZP:()=>s});var r=n(26798);const o=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,i=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,s=r.vc.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",(0,r.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,r.Cf)({find:o,type:this.type})]},addPasteRules(){return[(0,r.K9)({find:i,type:this.type})]}})},29467:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(26798);const o=r.NB.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}),tableRole:"cell",isolating:!0,parseHTML:()=>[{tag:"td"}],renderHTML({HTMLAttributes:t}){return["td",(0,r.P1)(this.options.HTMLAttributes,t),0]}})},82992:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(26798);const o=r.NB.create({name:"tableHeader",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}),tableRole:"header_cell",isolating:!0,parseHTML:()=>[{tag:"th"}],renderHTML({HTMLAttributes:t}){return["th",(0,r.P1)(this.options.HTMLAttributes,t),0]}})},40157:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(26798);const o=r.NB.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML:()=>[{tag:"tr"}],renderHTML({HTMLAttributes:t}){return["tr",(0,r.P1)(this.options.HTMLAttributes,t),0]}})},70004:(t,e,n)=>{n.d(e,{ZP:()=>kn});var r,o,i=n(26798),s=n(76922),a=n(38638),u=n(32629),l=n(38757),c=n(21081);if("undefined"!=typeof WeakMap){var p=new WeakMap;r=function(t){return p.get(t)},o=function(t,e){return p.set(t,e),e}}else{var h=[],d=0;r=function(t){for(var e=0;e<h.length;e+=2)if(h[e]==t)return h[e+1]},o=function(t,e){return 10==d&&(d=0),h[d++]=t,h[d++]=e}}var f=function(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r},m=function(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r};function v(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}function g(t){var e=t.cached.tableNodeTypes;if(!e)for(var n in e=t.cached.tableNodeTypes={},t.nodes){var r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}return e}m.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var n=this.map[e];if(n==t){for(var r=e%this.width,o=e/this.width|0,i=r+1,s=o+1,a=1;i<this.width&&this.map[e+a]==n;a++)i++;for(var u=1;s<this.height&&this.map[e+this.width*u]==n;u++)s++;return new f(r,o,i,s)}}throw new RangeError("No cell with offset "+t+" found")},m.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},m.prototype.nextCell=function(t,e,n){var r=this.findCell(t),o=r.left,i=r.right,s=r.top,a=r.bottom;return"horiz"==e?(n<0?0==o:i==this.width)?null:this.map[s*this.width+(n<0?o-1:i)]:(n<0?0==s:a==this.height)?null:this.map[o+this.width*(n<0?s-1:a)]},m.prototype.rectBetween=function(t,e){var n=this.findCell(t),r=n.left,o=n.right,i=n.top,s=n.bottom,a=this.findCell(e),u=a.left,l=a.right,c=a.top,p=a.bottom;return new f(Math.min(r,u),Math.min(i,c),Math.max(o,l),Math.max(s,p))},m.prototype.cellsInRect=function(t){for(var e=[],n={},r=t.top;r<t.bottom;r++)for(var o=t.left;o<t.right;o++){var i=r*this.width+o,s=this.map[i];n[s]||(n[s]=!0,o==t.left&&o&&this.map[i-1]==s||r==t.top&&r&&this.map[i-this.width]==s||e.push(s))}return e},m.prototype.positionAt=function(t,e,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==t){for(var s=e+t*this.width,a=(t+1)*this.width;s<a&&this.map[s]<o;)s++;return s==a?i-1:this.map[s]}o=i}},m.get=function(t){return r(t)||o(t,function(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=function(t){for(var e=-1,n=!1,r=0;r<t.childCount;r++){var o=t.child(r),i=0;if(n)for(var s=0;s<r;s++)for(var a=t.child(s),u=0;u<a.childCount;u++){var l=a.child(u);s+l.attrs.rowspan>r&&(i+=l.attrs.colspan)}for(var c=0;c<o.childCount;c++){var p=o.child(c);i+=p.attrs.colspan,p.attrs.rowspan>1&&(n=!0)}-1==e?e=i:e!=i&&(e=Math.max(e,i))}return e}(t),n=t.childCount,r=[],o=0,i=null,s=[],a=0,u=e*n;a<u;a++)r[a]=0;for(var l=0,c=0;l<n;l++){var p=t.child(l);c++;for(var h=0;;h++){for(;o<r.length&&0!=r[o];)o++;if(h==p.childCount)break;for(var d=p.child(h),f=d.attrs,g=f.colspan,y=f.rowspan,b=f.colwidth,D=0;D<y;D++){if(D+l>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:c,n:y-D});break}for(var w=o+D*e,C=0;C<g;C++){0==r[w+C]?r[w+C]=c:(i||(i=[])).push({type:"collision",row:l,pos:c,n:g-C});var A=b&&b[C];if(A){var E=(w+C)%e*2,k=s[E];null==k||k!=A&&1==s[E+1]?(s[E]=A,s[E+1]=1):k==A&&s[E+1]++}}}o+=g,c+=d.nodeSize}for(var x=(l+1)*e,S=0;o<x;)0==r[o++]&&S++;S&&(i||(i=[])).push({type:"missing",row:l,n:S}),c++}for(var F=new m(e,n,r,i),M=!1,T=0;!M&&T<s.length;T+=2)null!=s[T]&&s[T+1]<n&&(M=!0);M&&function(t,e,n){t.problems||(t.problems=[]);for(var r=0,o={};r<t.map.length;r++){var i=t.map[r];if(!o[i]){o[i]=!0;for(var s=n.nodeAt(i),a=null,u=0;u<s.attrs.colspan;u++){var l=e[2*((r+u)%t.width)];null==l||s.attrs.colwidth&&s.attrs.colwidth[u]==l||((a||(a=v(s.attrs)))[u]=l)}a&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:a})}}}(F,s,t);return F}(t))};var y=new s.H$("selectingCells");function b(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function D(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if("row"==e.node(n).type.spec.tableRole)return!0;return!1}function w(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:b(e.$head)||function(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n)}for(var o=t.nodeBefore,i=t.pos;o;o=o.lastChild,i--){var s=o.type.spec.tableRole;if("cell"==s||"header_cell"==s)return t.doc.resolve(i-o.nodeSize)}}(e.$head)}function C(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function A(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function E(t,e,n){var r=t.start(-1),o=m.get(t.node(-1)).nextCell(t.pos-r,e,n);return null==o?null:t.node(0).resolve(r+o)}function k(t,e,n){var r={};for(var o in t)r[o]=t[o];return r[e]=n,r}function x(t,e,n){void 0===n&&(n=1);var r=k(t,"colspan",t.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some((function(t){return t>0}))||(r.colwidth=null)),r}function S(t,e,n){void 0===n&&(n=1);var r=k(t,"colspan",t.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(e,0,0)}return r}var F=function(t){function e(e,n){void 0===n&&(n=e);var r=e.node(-1),o=m.get(r),i=e.start(-1),a=o.rectBetween(e.pos-i,n.pos-i),u=e.node(0),l=o.cellsInRect(a).filter((function(t){return t!=n.pos-i}));l.unshift(n.pos-i);var c=l.map((function(t){var e=r.nodeAt(t),n=t+i+1;return new s.xm(u.resolve(n),u.resolve(n+e.content.size))}));t.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,n){var r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(C(r)&&C(o)&&A(r,o)){var i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?e.rowSelection(r,o):i&&this.isColSelection()?e.colSelection(r,o):new e(r,o)}return s.Bs.between(r,o)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=m.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],s=r.top;s<r.bottom;s++){for(var u=[],l=s*e.width+r.left,c=r.left;c<r.right;c++,l++){var p=e.map[l];if(!o[p]){o[p]=!0;var h=e.findCell(p),d=t.nodeAt(p),f=r.left-h.left,v=h.right-r.right;if(f>0||v>0){var g=d.attrs;f>0&&(g=x(g,0,f)),v>0&&(g=x(g,g.colspan-v,v)),d=h.left<r.left?d.type.createAndFill(g):d.type.create(g,d.content)}if(h.top<r.top||h.bottom>r.bottom){var y=k(d.attrs,"rowspan",Math.min(h.bottom,r.bottom)-Math.max(h.top,r.top));d=h.top<r.top?d.type.createAndFill(y):d.type.create(y,d.content)}u.push(d)}}i.push(t.child(s).copy(a.HY.from(u)))}var b=this.isColSelection()&&this.isRowSelection()?t:i;return new a.p2(a.HY.from(b),1,1)},e.prototype.replace=function(e,n){void 0===n&&(n=a.p2.empty);for(var r=e.steps.length,o=this.ranges,i=0;i<o.length;i++){var s=o[i],u=s.$from,l=s.$to,c=e.mapping.slice(r);e.replace(c.map(u.pos),c.map(l.pos),i?a.p2.empty:n)}var p=t.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);p&&e.setSelection(p)},e.prototype.replaceWith=function(t,e){this.replace(t,new a.p2(a.HY.from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),n=m.get(e),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)t(e.nodeAt(o[i]),r+o[i])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},e.colSelection=function(t,n){void 0===n&&(n=t);var r=m.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),s=r.findCell(n.pos-o),a=t.node(0);return i.top<=s.top?(i.top>0&&(t=a.resolve(o+r.map[i.left])),s.bottom<r.height&&(n=a.resolve(o+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(o+r.map[s.left])),i.bottom<r.height&&(t=a.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new e(t,n)},e.prototype.isRowSelection=function(){var t=m.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),r=t.colCount(this.$headCell.pos-e);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,n){void 0===n&&(n=t);var r=m.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),s=r.findCell(n.pos-o),a=t.node(0);return i.left<=s.left?(i.left>0&&(t=a.resolve(o+r.map[i.top*r.width])),s.right<r.width&&(n=a.resolve(o+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(o+r.map[s.top*r.width])),i.right<r.width&&(t=a.resolve(o+r.map[r.width*(i.top+1)-1]))),new e(t,n)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,n,r){return void 0===r&&(r=n),new e(t.resolve(n),t.resolve(r))},e.prototype.getBookmark=function(){return new M(this.$anchorCell.pos,this.$headCell.pos)},e}(s.Y1);F.prototype.visible=!1,s.Y1.jsonID("cell",F);var M=function(t,e){this.anchor=t,this.head=e};function T(t){if(!(t.selection instanceof F))return null;var e=[];return t.selection.forEachCell((function(t,n){e.push(l.p.node(n,n+t.nodeSize,{class:"selectedCell"}))})),l.EH.create(t.doc,e)}function O(t){if(!t.size)return null;for(var e=t.content,n=t.openStart,r=t.openEnd;1==e.childCount&&(n>0&&r>0||"table"==e.firstChild.type.spec.tableRole);)n--,r--,e=e.firstChild.content;var o=e.firstChild,i=o.type.spec.tableRole,s=o.type.schema,u=[];if("row"==i)for(var l=0;l<e.childCount;l++){var c=e.child(l).content,p=l?0:Math.max(0,n-1),h=l<e.childCount-1?0:Math.max(0,r-1);(p||h)&&(c=B(g(s).row,new a.p2(c,p,h)).content),u.push(c)}else{if("cell"!=i&&"header_cell"!=i)return null;u.push(n||r?B(g(s).row,new a.p2(e,n,r)).content:e)}return function(t,e){for(var n=[],r=0;r<e.length;r++)for(var o=e[r],i=o.childCount-1;i>=0;i--)for(var s=o.child(i).attrs,u=s.rowspan,l=s.colspan,c=r;c<r+u;c++)n[c]=(n[c]||0)+l;for(var p=0,h=0;h<n.length;h++)p=Math.max(p,n[h]);for(var d=0;d<n.length;d++)if(d>=e.length&&e.push(a.HY.empty),n[d]<p){for(var f=g(t).cell.createAndFill(),m=[],v=n[d];v<p;v++)m.push(f);e[d]=e[d].append(a.HY.from(m))}return{height:e.length,width:p,rows:e}}(s,u)}function B(t,e){var n=t.createAndFill();return new c.wx(n).replace(0,n.content.size,e).doc}function L(t,e,n,r,o,i,s,a){if(0==s||s==e.height)return!1;for(var u=!1,l=o;l<i;l++){var c=s*e.width+l,p=e.map[c];if(e.map[c-e.width]==p){u=!0;var h=n.nodeAt(p),d=e.findCell(p),f=d.top,m=d.left;t.setNodeMarkup(t.mapping.slice(a).map(p+r),null,k(h.attrs,"rowspan",s-f)),t.insert(t.mapping.slice(a).map(e.positionAt(s,m,n)),h.type.createAndFill(k(h.attrs,"rowspan",f+h.attrs.rowspan-s))),l+=h.attrs.colspan-1}}return u}function N(t,e,n,r,o,i,s,a){if(0==s||s==e.width)return!1;for(var u=!1,l=o;l<i;l++){var c=l*e.width+s,p=e.map[c];if(e.map[c-1]==p){u=!0;var h=n.nodeAt(p),d=e.colCount(p),f=t.mapping.slice(a).map(p+r);t.setNodeMarkup(f,null,x(h.attrs,s-d,h.attrs.colspan-(s-d))),t.insert(f+h.nodeSize,h.type.createAndFill(x(h.attrs,0,s-d))),l+=h.attrs.rowspan-1}}return u}function R(t,e,n,r,o){var i=n?t.doc.nodeAt(n-1):t.doc,s=m.get(i),u=r.top,l=r.left,c=l+o.width,p=u+o.height,h=t.tr,d=0;function f(){i=n?h.doc.nodeAt(n-1):h.doc,s=m.get(i),d=h.mapping.maps.length}(function(t,e,n,r,o,i,s){var u,l,c=g(t.doc.type.schema);if(o>e.width)for(var p=0,h=0;p<e.height;p++){var d=n.child(p);h+=d.nodeSize;var f=[],m=void 0;m=null==d.lastChild||d.lastChild.type==c.cell?u||(u=c.cell.createAndFill()):l||(l=c.header_cell.createAndFill());for(var v=e.width;v<o;v++)f.push(m);t.insert(t.mapping.slice(s).map(h-1+r),f)}if(i>e.height){for(var y=[],b=0,D=(e.height-1)*e.width;b<Math.max(e.width,o);b++){var w=!(b>=e.width)&&n.nodeAt(e.map[D+b]).type==c.header_cell;y.push(w?l||(l=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}for(var C=c.row.create(null,a.HY.from(y)),A=[],E=e.height;E<i;E++)A.push(C);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),A)}return!(!u&&!l)})(h,s,i,n,c,p,d)&&f(),L(h,s,i,n,l,c,u,d)&&f(),L(h,s,i,n,l,c,p,d)&&f(),N(h,s,i,n,u,p,l,d)&&f(),N(h,s,i,n,u,p,c,d)&&f();for(var v=u;v<p;v++){var y=s.positionAt(v,l,i),b=s.positionAt(v,c,i);h.replace(h.mapping.slice(d).map(y+n),h.mapping.slice(d).map(b+n),new a.p2(o.rows[v-u],0,0))}f(),h.setSelection(new F(h.doc.resolve(n+s.positionAt(u,l,i)),h.doc.resolve(n+s.positionAt(p-1,c-1,i)))),e(h)}M.prototype.map=function(t){return new M(t.map(this.anchor),t.map(this.head))},M.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&A(e,n)?new F(e,n):s.Y1.near(n,1)};var $=(0,u.$)({ArrowLeft:I("horiz",-1),ArrowRight:I("horiz",1),ArrowUp:I("vert",-1),ArrowDown:I("vert",1),"Shift-ArrowLeft":P("horiz",-1),"Shift-ArrowRight":P("horiz",1),"Shift-ArrowUp":P("vert",-1),"Shift-ArrowDown":P("vert",1),Backspace:z,"Mod-Backspace":z,Delete:z,"Mod-Delete":z});function H(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function I(t,e){return function(n,r,o){var i=n.selection;if(i instanceof F)return H(n,r,s.Y1.near(i.$headCell,e));if("horiz"!=t&&!i.empty)return!1;var a=W(o,t,e);if(null==a)return!1;if("horiz"==t)return H(n,r,s.Y1.near(n.doc.resolve(i.head+e),e));var u,l=n.doc.resolve(a),c=E(l,t,e);return u=c?s.Y1.near(c,1):e<0?s.Y1.near(n.doc.resolve(l.before(-1)),-1):s.Y1.near(n.doc.resolve(l.after(-1)),1),H(n,r,u)}}function P(t,e){return function(n,r,o){var i=n.selection;if(!(i instanceof F)){var s=W(o,t,e);if(null==s)return!1;i=new F(n.doc.resolve(s))}var a=E(i.$headCell,t,e);return!!a&&H(n,r,new F(i.$anchorCell,a))}}function z(t,e){var n=t.selection;if(!(n instanceof F))return!1;if(e){var r=t.tr,o=g(t.schema).cell.createAndFill().content;n.forEachCell((function(t,e){t.content.eq(o)||r.replace(r.mapping.map(e+1),r.mapping.map(e+t.nodeSize-1),new a.p2(o,0,0))})),r.docChanged&&e(r)}return!0}function j(t,e){var n=b(t.state.doc.resolve(e));return!!n&&(t.dispatch(t.state.tr.setSelection(new F(n))),!0)}function _(t,e,n){if(!D(t.state))return!1;var r=O(n),o=t.state.selection;if(o instanceof F){r||(r={width:1,height:1,rows:[a.HY.from(B(g(t.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),u=m.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=function(t,e,n){var r=t.width,o=t.height,i=t.rows;if(r!=e){for(var s=[],u=[],l=0;l<i.length;l++){for(var c=i[l],p=[],h=s[l]||0,d=0;h<e;d++){var f=c.child(d%c.childCount);h+f.attrs.colspan>e&&(f=f.type.create(x(f.attrs,f.attrs.colspan,h+f.attrs.colspan-e),f.content)),p.push(f),h+=f.attrs.colspan;for(var m=1;m<f.attrs.rowspan;m++)s[l+m]=(s[l+m]||0)+f.attrs.colspan}u.push(a.HY.from(p))}i=u,r=e}if(o!=n){for(var v=[],g=0,y=0;g<n;g++,y++){for(var b=[],D=i[y%o],w=0;w<D.childCount;w++){var C=D.child(w);g+C.attrs.rowspan>n&&(C=C.type.create(k(C.attrs,"rowspan",Math.max(1,n-C.attrs.rowspan)),C.content)),b.push(C)}v.push(a.HY.from(b))}i=v,o=n}return{width:r,height:o,rows:i}}(r,u.right-u.left,u.bottom-u.top),R(t.state,t.dispatch,s,u,r),!0}if(r){var l=w(t.state),c=l.start(-1);return R(t.state,t.dispatch,c,m.get(l.node(-1)).findCell(l.pos-c),r),!0}return!1}function q(t,e){if(!e.ctrlKey&&!e.metaKey){var n,r=J(t,e.target);if(e.shiftKey&&t.state.selection instanceof F)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&null!=(n=b(t.state.selection.$anchor))&&V(t,e).pos!=n.pos)o(n,e),e.preventDefault();else if(!r)return;t.root.addEventListener("mouseup",i),t.root.addEventListener("dragstart",i),t.root.addEventListener("mousemove",s)}function o(e,n){var r=V(t,n),o=null==y.getState(t.state);if(!r||!A(e,r)){if(!o)return;r=e}var i=new F(e,r);if(o||!t.state.selection.eq(i)){var s=t.state.tr.setSelection(i);o&&s.setMeta(y,e.pos),t.dispatch(s)}}function i(){t.root.removeEventListener("mouseup",i),t.root.removeEventListener("dragstart",i),t.root.removeEventListener("mousemove",s),null!=y.getState(t.state)&&t.dispatch(t.state.tr.setMeta(y,-1))}function s(n){var s,a=y.getState(t.state);if(null!=a)s=t.state.doc.resolve(a);else if(J(t,n.target)!=r&&!(s=V(t,e)))return i();s&&o(s,n)}}function W(t,e,n){if(!(t.state.selection instanceof s.Bs))return null;for(var r=t.state.selection.$head,o=r.depth-1;o>=0;o--){var i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){var a=r.before(o),u="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?a:null}}return null}function J(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function V(t,e){var n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?b(t.state.doc.resolve(n.pos)):null}var K=new s.H$("fix-tables");function U(t,e,n,r){var o=t.childCount,i=e.childCount;t:for(var s=0,a=0;s<i;s++){for(var u=e.child(s),l=a,c=Math.min(o,s+3);l<c;l++)if(t.child(l)==u){a=l+1,n+=u.nodeSize;continue t}r(u,n),a<o&&t.child(a).sameMarkup(u)?U(t.child(a),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function Y(t,e){var n,r=function(e,r){"table"==e.type.spec.tableRole&&(n=function(t,e,n,r){var o=m.get(e);if(!o.problems)return r;r||(r=t.tr);for(var i,s,a=[],u=0;u<o.height;u++)a.push(0);for(var l=0;l<o.problems.length;l++){var c=o.problems[l];if("collision"==c.type){for(var p=e.nodeAt(c.pos),h=0;h<p.attrs.rowspan;h++)a[c.row+h]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,x(p.attrs,p.attrs.colspan-c.n,c.n))}else if("missing"==c.type)a[c.row]+=c.n;else if("overlong_rowspan"==c.type){var d=e.nodeAt(c.pos);r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,k(d.attrs,"rowspan",d.attrs.rowspan-c.n))}else if("colwidth mismatch"==c.type){var f=e.nodeAt(c.pos);r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,k(f.attrs,"colwidth",c.colwidth))}}for(var v=0;v<a.length;v++)a[v]&&(null==i&&(i=v),s=v);for(var y=0,b=n+1;y<o.height;y++){var D=e.child(y),w=b+D.nodeSize,C=a[y];if(C>0){var A="cell";D.firstChild&&(A=D.firstChild.type.spec.tableRole);for(var E=[],S=0;S<C;S++)E.push(g(t.schema)[A].createAndFill());var F=0!=y&&i!=y-1||s!=y?w-1:b+1;r.insert(r.mapping.map(F),E)}b=w}return r.setMeta(K,{fixTables:!0})}(t,e,r,n))};return e?e.doc!=t.doc&&U(e.doc,t.doc,0,r):t.doc.descendants(r),n}function Z(t){var e,n=t.selection,r=w(t),o=r.node(-1),i=r.start(-1),s=m.get(o);return(e=n instanceof F?s.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):s.findCell(r.pos-i)).tableStart=i,e.map=s,e.table=o,e}function X(t,e,n){var r=e.map,o=e.tableStart,i=e.table,s=n>0?-1:0;(function(t,e,n){for(var r=g(e.type.schema).header_cell,o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=r)return!1;return!0})(r,i,n+s)&&(s=0==n||n==r.width?null:0);for(var a=0;a<r.height;a++){var u=a*r.width+n;if(n>0&&n<r.width&&r.map[u-1]==r.map[u]){var l=r.map[u],c=i.nodeAt(l);t.setNodeMarkup(t.mapping.map(o+l),null,S(c.attrs,n-r.colCount(l))),a+=c.attrs.rowspan-1}else{var p=null==s?g(i.type.schema).cell:i.nodeAt(r.map[u+s]).type,h=r.positionAt(a,n,i);t.insert(t.mapping.map(o+h),p.createAndFill())}}return t}function G(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,s=t.mapping.maps.length,a=0;a<r.height;){var u=a*r.width+n,l=r.map[u],c=o.nodeAt(l);if(n>0&&r.map[u-1]==l||n<r.width-1&&r.map[u+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(i+l),null,x(c.attrs,n-r.colCount(l)));else{var p=t.mapping.slice(s).map(i+l);t.delete(p,p+c.nodeSize)}a+=c.attrs.rowspan}}function Q(t,e,n){for(var r=e.map,o=e.tableStart,i=e.table,s=o,a=0;a<n;a++)s+=i.child(a).nodeSize;var u=[],l=n>0?-1:0;(function(t,e,n){for(var r=g(e.type.schema).header_cell,o=0;o<t.width;o++)if(e.nodeAt(t.map[o+n*t.width]).type!=r)return!1;return!0})(r,i,n+l)&&(l=0==n||n==r.height?null:0);for(var c=0,p=r.width*n;c<r.width;c++,p++)if(n>0&&n<r.height&&r.map[p]==r.map[p-r.width]){var h=r.map[p],d=i.nodeAt(h).attrs;t.setNodeMarkup(o+h,null,k(d,"rowspan",d.rowspan+1)),c+=d.colspan-1}else{var f=null==l?g(i.type.schema).cell:i.nodeAt(r.map[p+l*r.width]).type;u.push(f.createAndFill())}return t.insert(s,g(i.type.schema).row.create(null,u)),t}function tt(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,s=0,a=0;a<n;a++)s+=o.child(a).nodeSize;var u=s+o.child(n).nodeSize,l=t.mapping.maps.length;t.delete(s+i,u+i);for(var c=0,p=n*r.width;c<r.width;c++,p++){var h=r.map[p];if(n>0&&h==r.map[p-r.width]){var d=o.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(l).map(h+i),null,k(d,"rowspan",d.rowspan-1)),c+=d.colspan-1}else if(n<r.width&&h==r.map[p+r.width]){var f=o.nodeAt(h),m=f.type.create(k(f.attrs,"rowspan",f.attrs.rowspan-1),f.content),v=r.positionAt(n+1,c,o);t.insert(t.mapping.slice(l).map(i+v),m),c+=f.attrs.colspan-1}}}function et(t){var e=t.content;return 1==e.childCount&&e.firstChild.isTextblock&&0==e.firstChild.childCount}function nt(t,e){var n=t.selection;if(!(n instanceof F)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=Z(t),o=r.map;if(function(t,e){for(var n=t.width,r=t.height,o=t.map,i=e.top*n+e.left,s=i,a=(e.bottom-1)*n+e.left,u=i+(e.right-e.left-1),l=e.top;l<e.bottom;l++){if(e.left>0&&o[s]==o[s-1]||e.right<n&&o[u]==o[u+1])return!0;s+=n,u+=n}for(var c=e.left;c<e.right;c++){if(e.top>0&&o[i]==o[i-n]||e.bottom<r&&o[a]==o[a+n])return!0;i++,a++}return!1}(o,r))return!1;if(e){for(var i,s,u=t.tr,l={},c=a.HY.empty,p=r.top;p<r.bottom;p++)for(var h=r.left;h<r.right;h++){var d=o.map[p*o.width+h],f=r.table.nodeAt(d);if(!l[d])if(l[d]=!0,null==i)i=d,s=f;else{et(f)||(c=c.append(f.content));var m=u.mapping.map(d+r.tableStart);u.delete(m,m+f.nodeSize)}}if(u.setNodeMarkup(i+r.tableStart,null,k(S(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),"rowspan",r.bottom-r.top)),c.size){var v=i+1+s.content.size,g=et(s)?i+1:v;u.replaceWith(g+r.tableStart,v+r.tableStart,c)}u.setSelection(new F(u.doc.resolve(i+r.tableStart))),e(u)}return!0}function rt(t,e){var n,r=g(t.schema);return(n=function(t){var e=t.node;return r[e.type.spec.tableRole]},function(t,e){var r,o,i=t.selection;if(i instanceof F){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(!(r=function(t){for(var e=t.depth;e>0;e--){var n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}(i.$from)))return!1;o=b(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(e){var s=r.attrs,a=[],u=s.colwidth;s.rowspan>1&&(s=k(s,"rowspan",1)),s.colspan>1&&(s=k(s,"colspan",1));for(var l,c=Z(t),p=t.tr,h=0;h<c.right-c.left;h++)a.push(u?k(s,"colwidth",u&&u[h]?[u[h]]:null):s);for(var d=c.top;d<c.bottom;d++){var f=c.map.positionAt(d,c.left,c.table);d==c.top&&(f+=r.nodeSize);for(var m=c.left,v=0;m<c.right;m++,v++)m==c.left&&d==c.top||p.insert(l=p.mapping.map(f+c.tableStart,1),n({node:r,row:d,col:m}).createAndFill(a[v]))}p.setNodeMarkup(o,n({node:r,row:c.top,col:c.left}),a[0]),i instanceof F&&p.setSelection(new F(p.doc.resolve(i.$anchorCell.pos),l&&p.doc.resolve(l))),e(p)}return!0})(t,e)}function ot(t,e,n){for(var r=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),o=0;o<r.length;o++){var i=e.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function it(t,e){return(e=e||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(t){return function(e,n){if(!D(e))return!1;if(n){for(var r=g(e.schema),o=Z(e),i=e.tr,s=o.map.cellsInRect("column"==t?new f(o.left,0,o.right,o.map.height):"row"==t?new f(0,o.top,o.map.width,o.bottom):o),a=s.map((function(t){return o.table.nodeAt(t)})),u=0;u<s.length;u++)a[u].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[u],r.cell,a[u].attrs);if(0==i.steps.length)for(var l=0;l<s.length;l++)i.setNodeMarkup(o.tableStart+s[l],r.header_cell,a[l].attrs);n(i)}return!0}}(t):function(e,n){if(!D(e))return!1;if(n){var r=g(e.schema),o=Z(e),i=e.tr,s=ot("row",o,r),a=ot("column",o,r),u=("column"===t?s:"row"===t&&a)?1:0,l="column"==t?new f(0,u,1,o.map.height):"row"==t?new f(u,0,o.map.width,1):o,c="column"==t?a?r.cell:r.header_cell:"row"==t?s?r.cell:r.header_cell:r.cell;o.map.cellsInRect(l).forEach((function(t){var e=t+o.tableStart,n=i.doc.nodeAt(e);n&&i.setNodeMarkup(e,c,n.attrs)})),n(i)}return!0}}var st=it("row",{useDeprecatedLogic:!0}),at=it("column",{useDeprecatedLogic:!0}),ut=it("cell",{useDeprecatedLogic:!0});function lt(t){return function(e,n){if(!D(e))return!1;var r=function(t,e){if(e<0){var n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(var r=t.index(-1)-1,o=t.before();r>=0;r--){var i=t.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;for(var s=t.node(-1),a=t.indexAfter(-1),u=t.after();a<s.childCount;a++){var l=s.child(a);if(l.childCount)return u+1;u+=l.nodeSize}}}(w(e),t);if(null!=r){if(n){var o=e.doc.resolve(r);n(e.tr.setSelection(s.Bs.between(o,(i=o,i.node(0).resolve(i.pos+i.nodeAfter.nodeSize)))).scrollIntoView())}var i;return!0}}}var ct=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),pt(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function pt(t,e,n,r,o,i){for(var s=0,a=!0,u=e.firstChild,l=t.firstChild,c=0,p=0;c<l.childCount;c++)for(var h=l.child(c).attrs,d=h.colspan,f=h.colwidth,m=0;m<d;m++,p++){var v=o==p?i:f&&f[m],g=v?v+"px":"";s+=v||r,v||(a=!1),u?(u.style.width!=g&&(u.style.width=g),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=g}for(;u;){var y=u.nextSibling;u.parentNode.removeChild(u),u=y}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}ct.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,pt(t,this.colgroup,this.table,this.cellMinWidth),!0)},ct.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var ht=new s.H$("tableColumnResizing");function dt(t){void 0===t&&(t={});var e=t.handleWidth;void 0===e&&(e=5);var n=t.cellMinWidth;void 0===n&&(n=25);var r=t.View;void 0===r&&(r=ct);var o=t.lastColumnResizable;void 0===o&&(o=!0);var i=new s.Sy({key:ht,state:{init:function(t,e){return this.spec.props.nodeViews[g(e.schema).table.name]=function(t,e){return new r(t,n,e)},new ft(-1,!1)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){return ht.getState(t).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(t,n){!function(t,e,n,r,o){var i=ht.getState(t.state);if(!i.dragging){var s=function(t){for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}(e.target),a=-1;if(s){var u=s.getBoundingClientRect(),l=u.left,c=u.right;e.clientX-l<=n?a=mt(t,e,"left"):c-e.clientX<=n&&(a=mt(t,e,"right"))}if(a!=i.activeHandle){if(!o&&-1!==a){var p=t.state.doc.resolve(a),h=p.node(-1),d=m.get(h),f=p.start(-1);if(d.colCount(p.pos-f)+p.nodeAfter.attrs.colspan-1==d.width-1)return}gt(t,a)}}}(t,n,e,0,o)},mouseleave:function(t){!function(t){var e=ht.getState(t.state);e.activeHandle>-1&&!e.dragging&&gt(t,-1)}(t)},mousedown:function(t,e){!function(t,e,n){var r=ht.getState(t.state);if(-1==r.activeHandle||r.dragging)return!1;var o=t.state.doc.nodeAt(r.activeHandle),i=function(t,e,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var s=t.domAtPos(e),a=s.node.childNodes[s.offset].offsetWidth,u=r;if(o)for(var l=0;l<r;l++)o[l]&&(a-=o[l],u--);return a/u}(t,r.activeHandle,o.attrs);function s(e){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);var r=ht.getState(t.state);r.dragging&&(!function(t,e,n){for(var r=t.state.doc.resolve(e),o=r.node(-1),i=m.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,u=t.state.tr,l=0;l<i.height;l++){var c=l*i.width+a;if(!l||i.map[c]!=i.map[c-i.width]){var p=i.map[c],h=o.nodeAt(p).attrs,d=1==h.colspan?0:a-i.colCount(p);if(!h.colwidth||h.colwidth[d]!=n){var f=h.colwidth?h.colwidth.slice():yt(h.colspan);f[d]=n,u.setNodeMarkup(s+p,null,k(h,"colwidth",f))}}}u.docChanged&&t.dispatch(u)}(t,r.activeHandle,vt(r.dragging,e,n)),t.dispatch(t.state.tr.setMeta(ht,{setDragging:null})))}function a(e){if(!e.which)return s(e);var r=ht.getState(t.state),o=vt(r.dragging,e,n);!function(t,e,n,r){var o=t.state.doc.resolve(e),i=o.node(-1),s=o.start(-1),a=m.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,u=t.domAtPos(o.start(-1)).node;for(;"TABLE"!=u.nodeName;)u=u.parentNode;pt(i,u.firstChild,u,r,a,n)}(t,r.activeHandle,o,n)}t.dispatch(t.state.tr.setMeta(ht,{setDragging:{startX:e.clientX,startWidth:i}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),e.preventDefault()}(t,e,n)}},decorations:function(t){var e=ht.getState(t);if(e.activeHandle>-1)return function(t,e){for(var n=[],r=t.doc.resolve(e),o=r.node(-1),i=m.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan,u=0;u<i.height;u++){var c=a+u*i.width-1;if(!(a!=i.width&&i.map[c]==i.map[c+1]||0!=u&&i.map[c-1]==i.map[c-1-i.width])){var p=i.map[c],h=s+p+o.nodeAt(p).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",n.push(l.p.widget(h,d))}}return l.EH.create(t.doc,n)}(t,e.activeHandle)},nodeViews:{}}});return i}var ft=function(t,e){this.activeHandle=t,this.dragging=e};function mt(t,e,n){var r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;var o=r.pos,i=b(t.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var s=m.get(i.node(-1)),a=i.start(-1),u=s.map.indexOf(i.pos-a);return u%s.width==0?-1:a+s.map[u-1]}function vt(t,e,n){var r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function gt(t,e){t.dispatch(t.state.tr.setMeta(ht,{setHandle:e}))}function yt(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function bt(t){void 0===t&&(t={});var e=t.allowTableNodeSelection;return void 0===e&&(e=!1),new s.Sy({key:y,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(y);if(null!=n)return-1==n?null:n;if(null==e||!t.docChanged)return e;var r=t.mapping.mapResult(e),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:T,handleDOMEvents:{mousedown:q},createSelectionBetween:function(t){if(null!=y.getState(t.state))return t.state.selection},handleTripleClick:j,handleKeyDown:$,handlePaste:_},appendTransaction:function(t,n,r){return function(t,e,n){var r,o,i=(e||t).selection,a=(e||t).doc;if(i instanceof s.qv&&(o=i.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=F.create(a,i.from);else if("row"==o){var u=a.resolve(i.from+1);r=F.rowSelection(u,u)}else if(!n){var l=m.get(i.node),c=i.from+1,p=c+l.map[l.width*l.height-1];r=F.create(a,c+1,p)}}else i instanceof s.Bs&&function(t){var e=t.$from,n=t.$to;if(e.pos==n.pos||e.pos<e.pos-6)return!1;for(var r=e.pos,o=n.pos,i=e.depth;i>=0&&!(e.after(i+1)<e.end(i));i--,r++);for(var s=n.depth;s>=0&&!(n.before(s+1)>n.start(s));s--,o--);return r==o&&/row|table/.test(e.node(i).type.spec.tableRole)}(i)?r=s.Bs.create(a,i.from):i instanceof s.Bs&&function(t){for(var e,n,r=t.$from,o=t.$to,i=r.depth;i>0;i--){var s=r.node(i);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){e=s;break}}for(var a=o.depth;a>0;a--){var u=o.node(a);if("cell"===u.type.spec.tableRole||"header_cell"===u.type.spec.tableRole){n=u;break}}return e!==n&&0===o.parentOffset}(i)&&(r=s.Bs.create(a,i.$from.start(),i.$from.end()));return r&&(e||(e=t.tr)).setSelection(r),e}(r,Y(r,n),e)}})}function Dt(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(r),i=e.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var a=Dt(o.content,i.content,n+1);if(null!=a)return a}n+=o.nodeSize}else n+=o.nodeSize}}function wt(t,e,n,r){for(var o=t.childCount,i=e.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};var s=t.child(--o),a=e.child(--i),u=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){for(var l=0,c=Math.min(s.text.length,a.text.length);l<c&&s.text[s.text.length-l-1]==a.text[a.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){var p=wt(s.content,a.content,n-1,r-1);if(p)return p}n-=u,r-=u}else n-=u,r-=u}}ft.prototype.apply=function(t){var e=this,n=t.getMeta(ht);if(n&&null!=n.setHandle)return new ft(n.setHandle,null);if(n&&void 0!==n.setDragging)return new ft(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){var r=t.mapping.map(e.activeHandle,-1);C(t.doc.resolve(r))||(r=null),e=new ft(r,e.dragging)}return e};var Ct=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},At={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Ct.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],u=s+a.nodeSize;if(u>t&&!1!==n(a,r+s,o,i)&&a.content.size){var l=s+1;a.nodesBetween(Math.max(0,t-l),Math.min(a.content.size,e-l),n,r+l)}s=u}},Ct.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},Ct.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+="function"==typeof r?r(s):r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o},Ct.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new Ct(r,this.size+t.size)},Ct.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var s=this.content[o],a=i+s.nodeSize;a>t&&((i<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-i),Math.min(s.text.length,e-i)):s.cut(Math.max(0,t-i-1),Math.min(s.content.size,e-i-1))),n.push(s),r+=s.nodeSize),i=a}return new Ct(n,r)},Ct.prototype.cutByIndex=function(t,e){return t==e?Ct.empty:0==t&&e==this.content.length?this:new Ct(this.content.slice(t,e))},Ct.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new Ct(r,o)},Ct.prototype.addToStart=function(t){return new Ct([t].concat(this.content),this.size+t.nodeSize)},Ct.prototype.addToEnd=function(t){return new Ct(this.content.concat(t),this.size+t.nodeSize)},Ct.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},At.firstChild.get=function(){return this.content.length?this.content[0]:null},At.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},At.childCount.get=function(){return this.content.length},Ct.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},Ct.prototype.maybeChild=function(t){return this.content[t]},Ct.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},Ct.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),Dt(this,t,e)},Ct.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),wt(this,t,e,n)},Ct.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return kt(0,t);if(t==this.size)return kt(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=t)return o==t||e>0?kt(n+1,o):kt(n,r);r=o}},Ct.prototype.toString=function(){return"<"+this.toStringInner()+">"},Ct.prototype.toStringInner=function(){return this.content.join(", ")},Ct.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},Ct.fromJSON=function(t,e){if(!e)return Ct.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ct(e.map(t.nodeFromJSON))},Ct.fromArray=function(t){if(!t.length)return Ct.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new Ct(e||t,n)},Ct.from=function(t){if(!t)return Ct.empty;if(t instanceof Ct)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ct([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(Ct.prototype,At);var Et={index:0,offset:0};function kt(t,e){return Et.index=t,Et.offset=e,Et}function xt(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!xt(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!xt(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}Ct.empty=new Ct([],0);var St=function(t,e){this.type=t,this.attrs=e};function Ft(t){var e=Error.call(this,t);return e.__proto__=Ft.prototype,e}St.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},St.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},St.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},St.prototype.eq=function(t){return this==t||this.type==t.type&&xt(this.attrs,t.attrs)},St.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},St.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},St.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},St.setFrom=function(t){if(!t||0==t.length)return St.none;if(t instanceof St)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},St.none=[],Ft.prototype=Object.create(Error.prototype),Ft.prototype.constructor=Ft,Ft.prototype.name="ReplaceError";var Mt=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},Tt={size:{configurable:!0}};function Ot(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),u=a.index,l=a.offset;if(i==e||s.isText){if(l!=n&&!t.child(u).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=u)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(Ot(s.content,e-i-1,n-i-1)))}function Bt(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var u=Bt(a.content,e-s-1,n);return u&&t.replaceChild(i,a.copy(u))}function Lt(t,e,n){if(n.openStart>t.depth)throw new Ft("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ft("Inconsistent open depths");return Nt(t,e,n,0)}function Nt(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=Nt(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var a=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(Ct.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return Pt(i,zt(t,a.start,a.end,e,r))}var u=t.parent,l=u.content;return Pt(u,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}return Pt(i,jt(t,e,r))}function Rt(t,e){if(!e.type.compatibleContent(t.type))throw new Ft("Cannot join "+e.type.name+" onto "+t.type.name)}function $t(t,e,n){var r=t.node(n);return Rt(r,e.node(n)),r}function Ht(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function It(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Ht(t.nodeAfter,r),i++));for(var a=i;a<s;a++)Ht(o.child(a),r);e&&e.depth==n&&e.textOffset&&Ht(e.nodeBefore,r)}function Pt(t,e){if(!t.type.validContent(e))throw new Ft("Invalid content for node "+t.type.name);return t.copy(e)}function zt(t,e,n,r,o){var i=t.depth>o&&$t(t,e,o+1),s=r.depth>o&&$t(n,r,o+1),a=[];return It(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(Rt(i,s),Ht(Pt(i,zt(t,e,n,r,o+1)),a)):(i&&Ht(Pt(i,jt(t,e,o+1)),a),It(e,n,o,a),s&&Ht(Pt(s,jt(n,r,o+1)),a)),It(r,null,o,a),new Ct(a)}function jt(t,e,n){var r=[];(It(null,t,n,r),t.depth>n)&&Ht(Pt($t(t,e,n+1),jt(t,e,n+1)),r);return It(e,null,n,r),new Ct(r)}Tt.size.get=function(){return this.content.size-this.openStart-this.openEnd},Mt.prototype.insertAt=function(t,e){var n=Bt(this.content,t+this.openStart,e,null);return n&&new Mt(n,this.openStart,this.openEnd)},Mt.prototype.removeBetween=function(t,e){return new Mt(Ot(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},Mt.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},Mt.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},Mt.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},Mt.fromJSON=function(t,e){if(!e)return Mt.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new Mt(Ct.fromJSON(t,e.content),n,r)},Mt.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new Mt(t,n,r)},Object.defineProperties(Mt.prototype,Tt),Mt.empty=new Mt(Ct.empty,0,0);var _t=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},qt={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};_t.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},qt.parent.get=function(){return this.node(this.depth)},qt.doc.get=function(){return this.node(0)},_t.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},_t.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},_t.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},_t.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},_t.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},_t.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},_t.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},qt.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},qt.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},qt.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},_t.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)r+=n.child(o).nodeSize;return r},_t.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return St.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i},_t.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},_t.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},_t.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new Kt(this,t,n)},_t.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},_t.prototype.max=function(t){return t.pos>this.pos?t:this},_t.prototype.min=function(t){return t.pos<this.pos?t:this},_t.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},_t.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,u=s.offset,l=o-u;if(n.push(i,a,r+u),!l)break;if((i=i.child(a)).isText)break;o=l-1,r+=u+1}return new _t(e,n,o)},_t.resolveCached=function(t,e){for(var n=0;n<Wt.length;n++){var r=Wt[n];if(r.pos==e&&r.doc==t)return r}var o=Wt[Jt]=_t.resolve(t,e);return Jt=(Jt+1)%Vt,o},Object.defineProperties(_t.prototype,qt);var Wt=[],Jt=0,Vt=12,Kt=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},Ut={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Ut.start.get=function(){return this.$from.before(this.depth+1)},Ut.end.get=function(){return this.$to.after(this.depth+1)},Ut.parent.get=function(){return this.$from.node(this.depth)},Ut.startIndex.get=function(){return this.$from.index(this.depth)},Ut.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(Kt.prototype,Ut);var Yt=Object.create(null),Zt=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||Ct.empty,this.marks=r||St.none},Xt={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Xt.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},Xt.childCount.get=function(){return this.content.childCount},Zt.prototype.child=function(t){return this.content.child(t)},Zt.prototype.maybeChild=function(t){return this.content.maybeChild(t)},Zt.prototype.forEach=function(t){this.content.forEach(t)},Zt.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},Zt.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},Xt.textContent.get=function(){return this.textBetween(0,this.content.size,"")},Zt.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},Xt.firstChild.get=function(){return this.content.firstChild},Xt.lastChild.get=function(){return this.content.lastChild},Zt.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},Zt.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},Zt.prototype.hasMarkup=function(t,e,n){return this.type==t&&xt(this.attrs,e||t.defaultAttrs||Yt)&&St.sameSet(this.marks,n||St.none)},Zt.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},Zt.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},Zt.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},Zt.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return Mt.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new Mt(a,r.depth-i,o.depth-i)},Zt.prototype.replace=function(t,e,n){return Lt(this.resolve(t),this.resolve(e),n)},Zt.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(!(e=e.maybeChild(r)))return null;if(o==t||e.isText)return e;t-=o+1}},Zt.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},Zt.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},Zt.prototype.resolve=function(t){return _t.resolveCached(this,t)},Zt.prototype.resolveNoCache=function(t){return _t.resolve(this,t)},Zt.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},Xt.isBlock.get=function(){return this.type.isBlock},Xt.isTextblock.get=function(){return this.type.isTextblock},Xt.inlineContent.get=function(){return this.type.inlineContent},Xt.isInline.get=function(){return this.type.isInline},Xt.isText.get=function(){return this.type.isText},Xt.isLeaf.get=function(){return this.type.isLeaf},Xt.isAtom.get=function(){return this.type.isAtom},Zt.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),function(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}(this.marks,t)},Zt.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},Zt.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=Ct.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},Zt.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},Zt.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},Zt.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=St.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!St.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},Zt.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},Zt.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=Ct.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(Zt.prototype,Xt);var Gt=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},Qt={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};Gt.parse=function(t,e){var n=new te(t,e);if(null==n.next)return Gt.empty;var r=ne(n);n.next&&n.err("Unexpected trailing text");var o=function(t){var e=Object.create(null);return n(ue(t,0));function n(r){var o=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];ue(t,r).forEach((function(t){s||o.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var i=e[r.join(",")]=new Gt(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(ae);i.next.push(o[s],e[a.join(",")]||n(a))}return i}}(function(t){var e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}function i(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(i(n,e))}),[]);if("seq"==t.type)for(var s=0;;s++){var a=i(t.exprs[s],e);if(s==t.exprs.length-1)return a;o(a,e=n())}else{if("star"==t.type){var u=n();return r(e,u),o(i(t.expr,u),u),[r(u)]}if("plus"==t.type){var l=n();return o(i(t.expr,e),l),o(i(t.expr,l),l),[r(l)]}if("opt"==t.type)return[r(e)].concat(i(t.expr,e));if("range"==t.type){for(var c=e,p=0;p<t.min;p++){var h=n();o(i(t.expr,c),h),c=h}if(-1==t.max)o(i(t.expr,c),c);else for(var d=t.min;d<t.max;d++){var f=n();r(c,f),o(i(t.expr,c),f),c=f}return[r(c)]}if("name"==t.type)return[r(e,null,t.value)]}}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var u=o.next[a],l=o.next[a+1];s.push(u.name),!i||u.isText||u.hasRequiredAttrs()||(i=!1),-1==r.indexOf(l)&&r.push(l)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},Gt.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},Gt.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},Qt.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},Qt.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},Gt.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},Gt.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function o(i,s){var a=i.matchFragment(t,n);if(a&&(!e||a.validEnd))return Ct.from(s.map((function(t){return t.createAndFill()})));for(var u=0;u<i.next.length;u+=2){var l=i.next[u],c=i.next[u+1];if(!l.isText&&!l.hasRequiredAttrs()&&-1==r.indexOf(c)){r.push(c);var p=o(c,s.concat(l));if(p)return p}}}(this,[])},Gt.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},Gt.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var u=o.next[a];u.isLeaf||u.hasRequiredAttrs()||u.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:u.contentMatch,type:u,via:r}),e[u.name]=!0)}}},Qt.edgeCount.get=function(){return this.next.length>>1},Gt.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},Gt.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(Gt.prototype,Qt),Gt.empty=new Gt(!0);var te=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},ee={next:{configurable:!0}};function ne(t){var e=[];do{e.push(re(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function re(t){var e=[];do{e.push(oe(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function oe(t){for(var e=function(t){if(t.eat("(")){var e=ne(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=se(t,e)}return e}function ie(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function se(t,e){var n=ie(t),r=n;return t.eat(",")&&(r="}"!=t.next?ie(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function ae(t,e){return e-t}function ue(t,e){var n=[];return function e(r){var o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,u=s.to;a||-1!=n.indexOf(u)||e(u)}}(e),n.sort(ae)}function le(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function ce(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function pe(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new fe(t[n]);return e}ee.next.get=function(){return this.tokens[this.pos]},te.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},te.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(te.prototype,ee);var he=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=pe(n.attrs),this.defaultAttrs=le(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},de={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};de.isInline.get=function(){return!this.isBlock},de.isTextblock.get=function(){return this.isBlock&&this.inlineContent},de.isLeaf.get=function(){return this.contentMatch==Gt.empty},de.isAtom.get=function(){return this.isLeaf||this.spec.atom},he.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},he.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},he.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:ce(this.attrs,t)},he.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Zt(this,this.computeAttrs(t),Ct.from(e),St.setFrom(n))},he.prototype.createChecked=function(t,e,n){if(e=Ct.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new Zt(this,this.computeAttrs(t),e,St.setFrom(n))},he.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=Ct.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(Ct.empty,!0);return o?new Zt(this,t,e.append(o),St.setFrom(n)):null},he.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},he.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},he.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},he.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:St.empty:t},he.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new he(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(he.prototype,de);var fe=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},me={isRequired:{configurable:!0}};me.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(fe.prototype,me);var ve=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=pe(r.attrs),this.rank=e,this.excluded=null;var o=le(this.attrs);this.instance=o&&new St(this,o)};ve.prototype.create=function(t){return!t&&this.instance?this.instance:new St(this,ce(this.attrs,t))},ve.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,o){return n[t]=new ve(t,r++,e,o)})),n},ve.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},ve.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},ve.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var ge={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ye={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},be={ol:!0,ul:!0};function De(t){return(t?1:0)|("full"===t?2:0)}var we=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=St.none,this.pendingMarks=r,this.stashMarks=[]};we.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(Ct.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},we.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=Ct.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(Ct.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},we.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},we.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):Ee(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},we.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!ge.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var Ce=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=De(e.preserveWhitespace)|(n?4:0);r=o?new we(o.type,o.attrs,St.none,St.none,!0,e.topMatch||o.type.contentMatch,i):new we(n?null:t.schema.topNodeType,null,St.none,St.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},Ae={top:{configurable:!0},currentPos:{configurable:!0}};function Ee(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],s=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,a=r.next;if(o==e)return!0;if(i.indexOf(a)<0&&s(a))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}Ae.top.get=function(){return this.nodes[this.open]},Ce.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},Ce.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},Ce.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();be.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&be.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(o?o.ignore:ye.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var i,s=this.top,a=this.needsBlock;if(ge.hasOwnProperty(r))i=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(s),this.needsBlock=a}else this.addElementByRule(t,o,!1===o.consuming?n:null)},Ce.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},Ce.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},Ce.prototype.readStyles=function(t){var e=St.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(t[n],t[n+1],this,r);if(!o)continue t;if(o.ignore)return null;if(e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;r=o}return e},Ce.prototype.addElementByRule=function(t,e,n){var r,o,i,s=this;e.node?(o=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):r=this.enter(o,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var u=e.contentElement;"string"==typeof u?u=t.querySelector(u):"function"==typeof u&&(u=u(t)),u||(u=t),this.findAround(t,u,!0),this.addAll(u,r)}r&&(this.sync(a),this.open--),i&&this.removePendingMark(i,a)},Ce.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&ge.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},Ce.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},Ce.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},Ce.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},Ce.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?-5&o.options:De(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new we(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},Ce.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},Ce.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},Ce.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},Ae.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},Ce.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},Ce.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},Ce.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},Ce.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},Ce.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function(t,a){for(;t>=0;t--){var u=n[t];if(""==u){if(t==n.length-1||0==t)continue;for(;a>=i;a--)if(s(t-1,a))return!0;return!1}var l=a>0||0==a&&o?e.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!l||l.name!=u&&-1==l.groups.indexOf(u))return!1;a--}return!0};return s(n.length-1,this.open)},Ce.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},Ce.prototype.addPendingMark=function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},Ce.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var o=r.popFromStashMark(t);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(Ce.prototype,Ae);var ke=Math.pow(2,16);function xe(t){return 65535&t}var Se=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},Fe=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};Fe.prototype.recover=function(t){var e=0,n=xe(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/ke}(t)},Fe.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},Fe.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},Fe.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>t)break;var u=this.ranges[s+o],l=this.ranges[s+i],c=a+u;if(t<=c){var p=a+r+((u?t==a?-1:t==c?1:e:e)<0?0:l);if(n)return p;var h=t==(e<0?a:c)?null:s/3+(t-a)*ke;return new Se(p,e<0?t!=a:t!=c,h)}r+=l-u}return n?t+r:new Se(t+r)},Fe.prototype.touches=function(t,e){for(var n=0,r=xe(e),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var u=this.ranges[s+o];if(t<=a+u&&s==3*r)return!0;n+=this.ranges[s+i]-u}return!1},Fe.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),u=this.ranges[r+e],l=this.ranges[r+n];t(s,s+u,a,a+l),o+=l-u}},Fe.prototype.invert=function(){return new Fe(this.ranges,!this.inverted)},Fe.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},Fe.offset=function(t){return 0==t?Fe.empty:new Fe(t<0?[0,-t,0]:[0,0,t])},Fe.empty=new Fe([]);var Me=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function Te(t){var e=Error.call(this,t);return e.__proto__=Te.prototype,e}Me.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new Me(this.maps,this.mirror,t,e)},Me.prototype.copy=function(){return new Me(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},Me.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},Me.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},Me.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},Me.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},Me.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},Me.prototype.invert=function(){var t=new Me;return t.appendMappingInverted(this),t},Me.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},Me.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},Me.prototype._map=function(t,e,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(t,e);if(null!=i.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,t=this.maps[s].recover(i.recover);continue}}i.deleted&&(r=!0),t=i.pos}return n?t:new Se(t,r)},Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te.prototype.name="TransformError";var Oe=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Me},Be={before:{configurable:!0},docChanged:{configurable:!0}};function Le(){throw new Error("Override me")}Be.before.get=function(){return this.docs.length?this.docs[0]:this.doc},Oe.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new Te(e.failed);return this},Oe.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},Be.docChanged.get=function(){return this.steps.length>0},Oe.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(Oe.prototype,Be);var Ne=Object.create(null),Re=function(){};Re.prototype.apply=function(t){return Le()},Re.prototype.getMap=function(){return Fe.empty},Re.prototype.invert=function(t){return Le()},Re.prototype.map=function(t){return Le()},Re.prototype.merge=function(t){return null},Re.prototype.toJSON=function(){return Le()},Re.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Ne[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},Re.jsonID=function(t,e){if(t in Ne)throw new RangeError("Duplicate use of step JSON ID "+t);return Ne[t]=e,e.prototype.jsonID=t,e};var $e=function(t,e){this.doc=t,this.failed=e};$e.ok=function(t){return new $e(t,null)},$e.fail=function(t){return new $e(null,t)},$e.fromReplace=function(t,e,n,r){try{return $e.ok(t.replace(e,n,r))}catch(t){if(t instanceof Ft)return $e.fail(t.message);throw t}};var He=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&Pe(t,this.from,this.to)?$e.fail("Structure replace would overwrite content"):$e.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new Fe([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?Mt.empty:new Mt(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?Mt.empty:new Mt(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,Mt.fromJSON(t,n.slice),!!n.structure)},e}(Re);Re.jsonID("replace",He);var Ie=function(t){function e(e,n,r,o,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(Pe(t,this.from,this.gapFrom)||Pe(t,this.gapTo,this.to)))return $e.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return $e.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?$e.fromReplace(t,this.from,this.to,n):$e.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new Fe([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,Mt.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(Re);function Pe(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function ze(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(ze(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return Ct.fromArray(r)}Re.jsonID("replaceAround",Ie),Oe.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,u=s,l=Ct.empty,c=0,p=o,h=!1;p>e;p--)h||n.index(p)>0?(h=!0,l=Ct.from(n.node(p).copy(l)),c++):a--;for(var d=Ct.empty,f=0,m=o,v=!1;m>e;m--)v||r.after(m+1)<r.end(m)?(v=!0,d=Ct.from(r.node(m).copy(d)),f++):u++;return this.step(new Ie(a,u,i,s,new Mt(l.append(d),c,f),l.size-c,!0))},Oe.prototype.wrap=function(t,e){for(var n=Ct.empty,r=e.length-1;r>=0;r--)n=Ct.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new Ie(o,i,o,i,new Mt(n,0,0),e.length,!0))},Oe.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(i).map(e),n)){o.clearIncompatible(o.mapping.slice(i).map(e,1),n);var s=o.mapping.slice(i),a=s.map(e,1),u=s.map(e+t.nodeSize,1);return o.step(new Ie(a,u,a+1,u-1,new Mt(Ct.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}})),this},Oe.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Ie(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new Mt(Ct.from(i),0,0),1,!0))},Oe.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=Ct.empty,i=Ct.empty,s=r.depth,a=r.depth-e,u=e-1;s>a;s--,u--){o=Ct.from(r.node(s).copy(o));var l=n&&n[u];i=Ct.from(l?l.type.create(l.attrs,i):r.node(s).copy(i))}return this.step(new He(t,t,new Mt(o.append(i),e,e),!0))},Oe.prototype.join=function(t,e){void 0===e&&(e=1);var n=new He(t-e,t+e,Mt.empty,!0);return this.step(n)};var je=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new Mt(ze(n.content,(function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return $e.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new _e(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Re);Re.jsonID("addMark",je);var _e=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new Mt(ze(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return $e.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new je(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Re);function qe(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}Re.jsonID("removeMark",_e),Oe.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(r,u,l){if(r.isInline){var c=r.marks;if(!n.isInSet(c)&&l.type.allowsMarkType(n.type)){for(var p=Math.max(u,t),h=Math.min(u+r.nodeSize,e),d=n.addToSet(c),f=0;f<c.length;f++)c[f].isInSet(d)||(s&&s.to==p&&s.mark.eq(c[f])?s.to=h:o.push(s=new _e(p,h,c[f])));a&&a.to==p?a.to=h:i.push(a=new je(p,h,n))}}})),o.forEach((function(t){return r.step(t)})),i.forEach((function(t){return r.step(t)})),this},Oe.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,(function(r,s){if(r.isInline){i++;var a=null;if(n instanceof ve)for(var u,l=r.marks;u=n.isInSet(l);)(a||(a=[])).push(u),l=u.removeFromSet(l);else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var c=Math.min(s+r.nodeSize,e),p=0;p<a.length;p++){for(var h=a[p],d=void 0,f=0;f<o.length;f++){var m=o[f];m.step==i-1&&h.eq(o[f].style)&&(d=m)}d?(d.to=c,d.step=i):o.push({style:h,from:Math.max(s,t),to:c,step:i})}}})),o.forEach((function(t){return r.step(new _e(t.from,t.to,t.style))})),this},Oe.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,s=0;s<r.childCount;s++){var a=r.child(s),u=i+a.nodeSize,l=n.matchType(a.type,a.attrs);if(l){n=l;for(var c=0;c<a.marks.length;c++)e.allowsMarkType(a.marks[c].type)||this.step(new _e(i,u,a.marks[c]))}else o.push(new He(i,u,Mt.empty));i=u}if(!n.validEnd){var p=n.fillBefore(Ct.empty,!0);this.replace(i,i,new Mt(p,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this},Oe.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=Mt.empty);var r=function(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=Mt.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return qe(o,i,r)?new He(e,n,r):new We(o,i,r).fit()}(this.doc,t,e,n);return r&&this.step(r),this},Oe.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new Mt(Ct.from(n),0,0))},Oe.prototype.delete=function(t,e){return this.replace(t,e,Mt.empty)},Oe.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var We=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var r=0;r<=t.depth;r++){var o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}this.placed=Ct.empty;for(var i=t.depth;i>0;i--)this.placed=Ct.from(t.node(i).copy(this.placed))},Je={depth:{configurable:!0}};function Ve(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(Ve(t.firstChild.content,e-1,n)))}function Ke(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ke(t.lastChild.content,e-1,n)))}function Ue(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function Ye(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,Ye(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Ct.empty,!0)))),t.copy(r)}function Ze(t,e,n,r,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!function(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,i.content,s)?a:null}function Xe(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(Xe(i.content,e+1,n,r,i)))}if(e>r){var s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(Ct.empty,!0))}return t}function Ge(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(o==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==o-1)&&n.push(r)}return n}Je.depth.get=function(){return this.frontier.length-1},We.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;for(var i=this.placed,s=r.depth,a=o.depth;s&&a&&1==i.childCount;)i=i.firstChild.content,s--,a--;var u=new Mt(i,s,a);return e>-1?new Ie(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new He(r.pos,o.pos,u):void 0},We.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,r=(e?(n=Ue(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var i=this.frontier[o],s=i.type,a=i.match,u=void 0,l=void 0;if(1==t&&(r?a.matchType(r.type)||(l=a.fillBefore(Ct.from(r),!1)):s.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:o,parent:n,inject:l};if(2==t&&r&&(u=a.findWrapping(r.type)))return{sliceDepth:e,frontierDepth:o,parent:n,wrap:u};if(n&&a.matchType(n.type))break}},We.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=Ue(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new Mt(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)},We.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=Ue(e,n);if(o.childCount<=1&&n>0){var i=e.size-n<=n+o.size;this.unplaced=new Mt(Ve(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Mt(Ve(e,n,1),n,r)},We.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,o=t.inject,i=t.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var s=0;s<i.length;s++)this.openFrontierNode(i[s]);var a=this.unplaced,u=r?r.content:a.content,l=a.openStart-e,c=0,p=[],h=this.frontier[n],d=h.match,f=h.type;if(o){for(var m=0;m<o.childCount;m++)p.push(o.child(m));d=d.matchFragment(o)}for(var v=u.size+e-(a.content.size-a.openEnd);c<u.childCount;){var g=u.child(c),y=d.matchType(g.type);if(!y)break;(++c>1||0==l||g.content.size)&&(d=y,p.push(Ye(g.mark(f.allowedMarks(g.marks)),1==c?l:0,c==u.childCount?v:-1)))}var b=c==u.childCount;b||(v=-1),this.placed=Ke(this.placed,n,Ct.from(p)),this.frontier[n].match=d,b&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var D=0,w=u;D<v;D++){var C=w.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),w=C.content}this.unplaced=b?0==e?Mt.empty:new Mt(Ve(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new Mt(Ve(a.content,e,c),a.openStart,a.openEnd)},We.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!Ze(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},We.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,o=n.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=Ze(t,e,o,r,i);if(s){for(var a=e-1;a>=0;a--){var u=this.frontier[a],l=u.match,c=Ze(t,a,u.type,l,!0);if(!c||c.childCount)continue t}return{depth:e,fit:s,move:i?t.doc.resolve(t.after(e+1)):t}}}},We.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Ke(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t},We.prototype.openFrontierNode=function(t,e,n){var r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=Ke(this.placed,this.depth,Ct.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},We.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(Ct.empty,!0);t.childCount&&(this.placed=Ke(this.placed,this.frontier.length,t))},Object.defineProperties(We.prototype,Je),Oe.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(qe(r,o,n))return this.step(new He(t,e,n));var i=Ge(r,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,u=r.pos-1;a>0;a--,u--){var l=r.node(a).type.spec;if(l.defining||l.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==u&&i.splice(1,0,-a)}for(var c=i.indexOf(s),p=[],h=n.openStart,d=n.content,f=0;;f++){var m=d.firstChild;if(p.push(m),f==n.openStart)break;d=m.content}h>0&&p[h-1].type.spec.defining&&r.node(c).type!=p[h-1].type?h-=1:h>=2&&p[h-1].isTextblock&&p[h-2].type.spec.defining&&r.node(c).type!=p[h-2].type&&(h-=2);for(var v=n.openStart;v>=0;v--){var g=(v+h+1)%(n.openStart+1),y=p[g];if(y)for(var b=0;b<i.length;b++){var D=i[(b+c)%i.length],w=!0;D<0&&(w=!1,D=-D);var C=r.node(D-1),A=r.index(D-1);if(C.canReplaceWith(A,A,y.type,y.marks))return this.replace(r.before(D),w?o.after(D):e,new Mt(Xe(n.content,0,n.openStart,g),g,n.openEnd))}}for(var E=this.steps.length,k=i.length-1;k>=0&&(this.replace(t,e,n),!(this.steps.length>E));k--){var x=i[k];x<0||(t=r.before(x),e=o.after(x))}return this},Oe.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new Mt(Ct.from(n),0,0))},Oe.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=Ge(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var u=1;u<=n.depth&&u<=r.depth;u++)if(t-n.start(u)==n.depth-u&&e>n.end(u)&&r.end(u)-e!=r.depth-u)return this.delete(n.before(u),e);return this.delete(t,e)};var Qe=Object.create(null),tn=function(t,e,n){this.ranges=n||[new nn(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},en={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};en.anchor.get=function(){return this.$anchor.pos},en.head.get=function(){return this.$head.pos},en.from.get=function(){return this.$from.pos},en.to.get=function(){return this.$to.pos},en.$from.get=function(){return this.ranges[0].$from},en.$to.get=function(){return this.ranges[0].$to},en.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},tn.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},tn.prototype.replace=function(t,e){void 0===e&&(e=Mt.empty);for(var n=e.content.lastChild,r=null,o=0;o<e.openEnd;o++)r=n,n=n.lastChild;for(var i=t.steps.length,s=this.ranges,a=0;a<s.length;a++){var u=s[a],l=u.$from,c=u.$to,p=t.mapping.slice(i);t.replaceRange(p.map(l.pos),p.map(c.pos),a?Mt.empty:e),0==a&&pn(t,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}},tn.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],s=i.$from,a=i.$to,u=t.mapping.slice(n),l=u.map(s.pos),c=u.map(a.pos);o?t.deleteRange(l,c):(t.replaceRangeWith(l,c,e),pn(t,n,e.isInline?-1:1))}},tn.findFrom=function(t,e,n){var r=t.parent.inlineContent?new rn(t):cn(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var o=t.depth-1;o>=0;o--){var i=e<0?cn(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):cn(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(i)return i}},tn.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new un(t.node(0))},tn.atStart=function(t){return cn(t,t,0,0,1)||new un(t)},tn.atEnd=function(t){return cn(t,t,t.content.size,t.childCount,-1)||new un(t)},tn.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=Qe[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},tn.jsonID=function(t,e){if(t in Qe)throw new RangeError("Duplicate use of selection JSON ID "+t);return Qe[t]=e,e.prototype.jsonID=t,e},tn.prototype.getBookmark=function(){return rn.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(tn.prototype,en),tn.prototype.visible=!0;var nn=function(t,e){this.$from=t,this.$to=e},rn=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=Mt.empty),t.prototype.replace.call(this,e,n),n==Mt.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new on(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!s)return t.near(r,o);r=s.$head}return n.parent.inlineContent||(0==i||(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new e(n,r)},Object.defineProperties(e.prototype,n),e}(tn);tn.jsonID("text",rn);var on=function(t,e){this.anchor=t,this.head=e};on.prototype.map=function(t){return new on(t.map(this.anchor),t.map(this.head))},on.prototype.resolve=function(t){return rn.between(t.resolve(this.anchor),t.resolve(this.head))};var sn=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,s=o.pos,a=n.resolve(s);return i?t.near(a):new e(a)},e.prototype.content=function(){return new Mt(Ct.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new an(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(tn);sn.prototype.visible=!1,tn.jsonID("node",sn);var an=function(t){this.anchor=t};an.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new on(r,r):new an(r)},an.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&sn.isSelectable(n)?new sn(e):tn.near(e)};var un=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=Mt.empty),n==Mt.empty){e.delete(0,e.doc.content.size);var r=t.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return ln},e}(tn);tn.jsonID("all",un);var ln={map:function(){return this},resolve:function(t){return new un(t)}};function cn(t,e,n,r,o,i){if(e.inlineContent)return rn.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&sn.isSelectable(a))return sn.create(t,n-(o<0?a.nodeSize:0))}else{var u=cn(t,a,n+o,o<0?a.childCount:0,o,i);if(u)return u}n+=a.nodeSize*o}}function pn(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o,i=t.steps[r];if(i instanceof He||i instanceof Ie)t.mapping.maps[r].forEach((function(t,e,n,r){null==o&&(o=r)})),t.setSelection(tn.near(t.doc.resolve(o),n))}}var hn=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return St.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||St.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(tn.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(Oe);function dn(t,e){return e&&t?t.bind(e):t}var fn=function(t,e,n){this.name=t,this.init=dn(e.init,n),this.apply=dn(e.apply,n)},mn=[new fn("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new fn("selection",{init:function(t,e){return t.selection||tn.atStart(e.doc)},apply:function(t){return t.selection}}),new fn("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new fn("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],vn=function(t,e){var n=this;this.schema=t,this.fields=mn.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new fn(t.key,t.spec.state,t))}))},gn=function(t){this.config=t},yn={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};yn.schema.get=function(){return this.config.schema},yn.plugins.get=function(){return this.config.plugins},gn.prototype.apply=function(t){return this.applyTransaction(t).state},gn.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},gn.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=r?r[i].n:0,u=r?r[i].state:this,l=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,u,n);if(l&&n.filterTransaction(l,i)){if(l.setMeta("appendedTransaction",t),!r){r=[];for(var c=0;c<this.config.plugins.length;c++)r.push(c<i?{state:n,n:e.length}:{state:this,n:0})}e.push(l),n=n.applyInner(l),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},gn.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new gn(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<bn.length;i++)bn[i](this,t,e);return e},yn.tr.get=function(){return new hn(this)},gn.create=function(t){for(var e=new vn(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new gn(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},gn.prototype.reconfigure=function(t){for(var e=new vn(this.schema,t.plugins),n=e.fields,r=new gn(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},gn.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},gn.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new vn(t.schema,t.plugins),o=new gn(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=Zt.fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=tn.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var i in n){var s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[r.name]=a.fromJSON.call(s,t,e[i],o))}o[r.name]=r.init(t,o)}})),o},gn.addApplyListener=function(t){bn.push(t)},gn.removeApplyListener=function(t){var e=bn.indexOf(t);e>-1&&bn.splice(e,1)},Object.defineProperties(gn.prototype,yn);var bn=[];function Dn(t,e){return e?t.createChecked(null,e):t.createAndFill()}function wn(t,e,n,r,o){const i=function(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach((n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)})),t.cached.tableNodeTypes=e,e}(t),s=[],a=[];for(let t=0;t<n;t+=1){const t=Dn(i.cell,o);if(t&&a.push(t),r){const t=Dn(i.header_cell,o);t&&s.push(t)}}const u=[];for(let t=0;t<e;t+=1)u.push(i.row.createChecked(null,r&&0===t?s:a));return i.table.createChecked(null,u)}const Cn=({editor:t})=>{const{selection:e}=t.state;if(!(e instanceof F))return!1;let n=0;const r=(0,i.qv)(e.ranges[0].$from,(t=>"table"===t.type.name));null==r||r.node.descendants((t=>{if("table"===t.type.name)return!1;["tableCell","tableHeader"].includes(t.type.name)&&(n+=1)}));return n===e.ranges.length&&(t.commands.deleteTable(),!0)};function An(t,e,n,r,o,i){let s=0,a=!0,u=e.firstChild;const l=t.firstChild;for(let t=0,n=0;t<l.childCount;t+=1){const{colspan:c,colwidth:p}=l.child(t).attrs;for(let t=0;t<c;t+=1,n+=1){const l=o===n?i:p&&p[t],c=l?`${l}px`:"";s+=l||r,l||(a=!1),u?(u.style.width!==c&&(u.style.width=c),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=c}}for(;u;){const t=u.nextSibling;u.parentNode.removeChild(u),u=t}a?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class En{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),An(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type===this.node.type&&(this.node=t,An(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return"attributes"===t.type&&(t.target===this.table||this.colgroup.contains(t.target))}}const kn=i.NB.create({name:"table",addOptions:()=>({HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:En,lastColumnResizable:!0,allowTableNodeSelection:!1}),content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML:()=>[{tag:"table"}],renderHTML({HTMLAttributes:t}){return["table",(0,i.P1)(this.options.HTMLAttributes,t),["tbody",0]]},addCommands:()=>({insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:o,editor:i})=>{const s=wn(i.schema,t,e,n);if(o){const t=r.selection.anchor+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(rn.near(r.doc.resolve(t)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>function(t,e){if(!D(t))return!1;if(e){var n=Z(t);e(X(t.tr,n,n.left))}return!0}(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>function(t,e){if(!D(t))return!1;if(e){var n=Z(t);e(X(t.tr,n,n.right))}return!0}(t,e),deleteColumn:()=>({state:t,dispatch:e})=>function(t,e){if(!D(t))return!1;if(e){var n=Z(t),r=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;G(r,n,o),o!=n.left;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table);e(r)}return!0}(t,e),addRowBefore:()=>({state:t,dispatch:e})=>function(t,e){if(!D(t))return!1;if(e){var n=Z(t);e(Q(t.tr,n,n.top))}return!0}(t,e),addRowAfter:()=>({state:t,dispatch:e})=>function(t,e){if(!D(t))return!1;if(e){var n=Z(t);e(Q(t.tr,n,n.bottom))}return!0}(t,e),deleteRow:()=>({state:t,dispatch:e})=>function(t,e){if(!D(t))return!1;if(e){var n=Z(t),r=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;tt(r,n,o),o!=n.top;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table);e(r)}return!0}(t,e),deleteTable:()=>({state:t,dispatch:e})=>function(t,e){for(var n=t.selection.$anchor,r=n.depth;r>0;r--)if("table"==n.node(r).type.spec.tableRole)return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}(t,e),mergeCells:()=>({state:t,dispatch:e})=>nt(t,e),splitCell:()=>({state:t,dispatch:e})=>rt(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>at(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>st(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>ut(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>!!nt(t,e)||rt(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>function(t,e){return function(n,r){if(!D(n))return!1;var o=w(n);if(o.nodeAfter.attrs[t]===e)return!1;if(r){var i=n.tr;n.selection instanceof F?n.selection.forEachCell((function(n,r){n.attrs[t]!==e&&i.setNodeMarkup(r,null,k(n.attrs,t,e))})):i.setNodeMarkup(o.pos,null,k(o.nodeAfter.attrs,t,e)),r(i)}return!0}}(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>lt(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>lt(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&Y(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const n=F.create(e.doc,t.anchorCell,t.headCell);e.setSelection(n)}return!0}}),addKeyboardShortcuts(){return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Cn,"Mod-Backspace":Cn,Delete:Cn,"Mod-Delete":Cn}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[dt({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],bt({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:(0,i.nU)((0,i.Nl)(t,"tableRole",e))}}})},26667:(t,e,n)=>{n.d(e,{ZP:()=>i});var r=n(26798);const o=/^\s*(\[([ |x])\])\s$/,i=r.NB.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{}}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:t=>"true"===t.getAttribute("data-checked"),renderHTML:t=>({"data-checked":t.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",(0,r.P1)(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const o=document.createElement("li"),i=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),u=document.createElement("div");return i.contentEditable="false",a.type="checkbox",a.addEventListener("change",(t=>{if(!r.isEditable)return void(a.checked=!a.checked);const{checked:e}=t.target;r.isEditable&&"function"==typeof n&&r.chain().focus(void 0,{scrollIntoView:!1}).command((({tr:t})=>(t.setNodeMarkup(n(),void 0,{checked:e}),!0))).run()})),Object.entries(this.options.HTMLAttributes).forEach((([t,e])=>{o.setAttribute(t,e)})),o.dataset.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","checked"),i.append(a,s),o.append(i,u),Object.entries(e).forEach((([t,e])=>{o.setAttribute(t,e)})),{dom:o,contentDOM:u,update:t=>t.type===this.type&&(o.dataset.checked=t.attrs.checked,t.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[(0,r.S0)({find:o,type:this.type,getAttributes:t=>({checked:"x"===t[t.length-1]})})]}})},34746:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(26798);const o=r.NB.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",(0,r.P1)(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}})},79068:(t,e,n)=>{n.d(e,{Z:()=>r});const r=n(26798).NB.create({name:"text",group:"inline"})},10078:(t,e,n)=>{function r(t,e){return"function"==typeof t?t.apply(null,e):t}function o(t,e,n){return void 0===t||n!==t[e]?{...t,[e]:n}:t}n.d(e,{EG:()=>f,NG:()=>m,I4:()=>d,d4:()=>h,_Y:()=>p,eJ:()=>c});const i=new WeakMap,s=[];function a(){const t=s[s.length-1],e=i.get(t);if(void 0!==e)return e;throw new Error("Hooks only valid inside an Articulated Function or a Custom Hook.")}function u(t,e){if(void 0===t||void 0===e)return!0;if(t.length!==e.length)return!0;for(const[n,r]of t.entries())if(!Object.is(r,e[n]))return!0;return!1}function l(t,e){return n.reset=function(){s.push(n);const t=a();try{for(let e of t.c)r(e)}finally{s.pop(),t.sS.length=0,t.e.length=0,t.c.length=0,t.m.length=0,t.nSSI=0,t.nEI=0,t.nMI=0}},n;function n(...o){s.push(n);let a,u=i.get(n);null==u?(u={nSSI:0,nEI:0,nMI:0,sS:[],e:[],c:[],m:[],hUS:!1,af:n.bind(this,...o)},i.set(n,u)):(u.nSSI=0,u.nEI=0,u.nMI=0,u.af=n.bind(this,...o));try{a=t.apply(this,o)}finally{try{return function(t){for(let[e,[n]]of t.e.entries())try{r(n)}finally{t.e[e][0]=void 0}}(u),e(a)}finally{u.hUS&&(u.hUS=!1,u.af()),s.pop()}}}}function c(t){return p((function(t,e){return r(e,[t])}),t)}function p(t,e,...n){var o=a();if(!(o.nSSI in o.sS)){let i=[r(e),function(e){i[0]=t(i[0],e),s.length>0?o.hUS=!0:o.af()}];o.sS[o.nSSI]=i,n.length>0&&o.sS[o.nSSI][1](n[0])}return[...o.sS[o.nSSI++]]}function h(t,...e){e.length>0?1==e.length&&Array.isArray(e[0])&&(e=e[0]):e=void 0;const n=a();n.nEI in n.e||(n.e[n.nEI]=[]);let o=n.nEI,i=n.e[o];u(i[1],e)&&(i[0]=function(){try{r(n.c[o])}finally{n.c[o]=void 0}var e=t();"function"==typeof e&&(n.c[o]=e)},i[1]=e),n.nEI++}function d(t,...e){return function(t,...e){e.length>0?1==e.length&&Array.isArray(e[0])&&(e=e[0]):e=[t];const n=a();n.nMI in n.m||(n.m[n.nMI]=[]);const r=n.m[n.nMI];if(u(r[1],e))try{r[0]=t()}finally{r[1]=e}return n.nMI++,r[0]}((function(){return t}),...e)}function f(t){const e=t.mapper||o;return n=>{const r=function(t,e,n,r,o){var i;const s=((i=class extends HTMLElement{constructor(){super(),this._props={};const i=void 0!==o?this.attachShadow(o):this;this.aFunc=l(t,(t=>n(t,i)));for(const t in e){const n=e[t];let o;"type"in n&&(this.props[t]=n.default,o=n.attribute),Reflect.defineProperty(this,t,{get:()=>this.props[t],set:e=>{this.props=r.apply(this,[this.props,t,e,o])},enumerable:!0})}}static get observedAttributes(){return Object.values(this.attributes)}set props(t){void 0!==t&&this.props!==t&&(this._props=t,this.render())}get props(){return this._props}connectedCallback(){this.render()}attributeChangedCallback(t,e,n){if(e!==n)for(const[e,r]of Object.entries(this.constructor.attributes))if(r===t&&this[e]!==n){this[e]=n;break}}render(){this.isConnected&&Reflect.apply(this.aFunc,this,[this.props])}}).attributes={},i),a=Reflect.get(s,"attributes");for(const t in e){const n=e[t];"type"in n&&void 0!==n.attribute&&Reflect.defineProperty(s,"attributes",{value:{...a,[t]:n.attribute},enumerable:!0,writable:!0})}return s}(n,t.props||{},t.render,e,t.shadow);return(t,e)=>{try{customElements.define(t,r,e)}catch(t){console.warn(t)}const n=async e=>customElements.whenDefined(t).then((()=>customElements.get(t)));return n.element=r,n.adapter=(e,n)=>e(t,n),n}}}function m(t){return e=>n=>{const r=new WeakMap;return o=>{const i=n||function(t){var[e]=c({current:t});return e}(null);let s=r.get(i);if(void 0===s){const n=l(e,(e=>t.render(e,i)));s=(t=o)=>Reflect.apply(n,i.current,[t]),r.set(i,s)}return s(o)}}}},27012:(t,e,n)=>{function r(t,e,n){return void 0===t||n!==t[e]?{...t,[e]:n}:t}n.d(e,{s:()=>u});const o=t=>({type:{},attribute:t,optional:!0}),i=String.raw,s=String.raw;function a(t,e){let n=e.querySelector("div");if(null==n&&(n=document.createElement("div"),n.style.display="contents",n.innerHTML=t.template,e.append(n)),window.ShadowRoot&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype){const n=new CSSStyleSheet;n.replaceSync(t.style),e.adoptedStyleSheets=[n]}else{let r=e.querySelector("style");null==r?(r=document.createElement("style"),r.innerHTML=t.style,e.insertBefore(r,n)):r.innerHTML=t.style}}const u=function(t){const e=(null==t?void 0:t.mapper)||r;return n=>{const r=function(t,e,n){var r;const o=((r=class extends HTMLElement{constructor(){super(),this._props={},this.isScheduledNext=!1;for(const t in e){const r=e[t];let o;"type"in r&&(o=r.attribute),Reflect.defineProperty(this,t,{get:()=>this.props[t],set:e=>{this.props=n.apply(this,[this.props,t,e,o])},enumerable:!0})}}static get observedAttributes(){return Object.values(this.attributes)}set props(t){void 0!==t&&this.props!==t&&(this._props=t,this.next())}get props(){return this._props}async next(){if(!this.isScheduledNext&&null!=this.generation){this.isScheduledNext=!0;const t=await Promise.resolve(this.generation);this.isScheduledNext=!1,t.next(this.props)}}connectedCallback(){this.generation=t.apply(this,[this.props]),this.generation.next(this.props)}attributeChangedCallback(t,e,n){if(e!==n)for(const[e,r]of Object.entries(this.constructor.attributes))if(r===t&&this[e]!==n){this[e]=n;break}}disconnectedCallback(){var t;null===(t=this.generation)||void 0===t||t.return()}}).attributes={},r),i=Reflect.get(o,"attributes");for(const t in e){const n=e[t];"type"in n&&void 0!==n.attribute&&Reflect.defineProperty(o,"attributes",{value:{...i,[t]:n.attribute},enumerable:!0,writable:!0})}return o}(n,(null==t?void 0:t.props)||{},e);return(t,e)=>{try{customElements.define(t,r,e)}catch(t){console.warn(t)}const n=function(e){return null!=new.target?new r:customElements.whenDefined(t).then((()=>customElements.get(t)))};return n.adapter=(e,n)=>e(t,n),n}}}({props:{config:o(),color:o("color")}})((function*(t){const e=this.attachShadow({mode:"open"});let n,r=t.config||{duration:2e3,stepsCount:1},o=t.color||"#ef534e",u=!1,l="";const c=t=>{n=t,this.next()},p=t=>{u=t,this.next()},h=t=>{const e=100/t;let n="";for(let r=0;r<t;r++)n=n+" "+s`@keyframes${` loadingPB_${r}`}{from{width:${r*e+"%"};}to{width:${(r+1)*e+"%"};}}`;l=n;let r=0;this.ref=this.ref||{},this.ref.current=this,this.generateProgress=function*(){for(;;)r<t?(c(`loadingPB_${r}`),++r,yield r):(p(!1),c(void 0),r=0,yield r)}(),this.togglePause=t=>p("boolean"==typeof t?t:!u)};h(r.stepsCount);try{for(;;){var d,f;o=t.color||o,null!=(null===(d=t.config)||void 0===d?void 0:d.stepsCount)&&t.config.stepsCount!==r.stepsCount&&(r.stepsCount=t.config.stepsCount,h(r.stepsCount)),null!=(null===(f=t.config)||void 0===f?void 0:f.duration)&&t.config.duration!==r.duration&&(r.duration=t.config.duration),t=yield a({style:s`${l}.lpb{animation-timing-function:cubic-bezier(.55,0,1,.45);animation-fill-mode:both;background:${o};height:3px;left:0;top:0;width:0%;z-index:9999;position:fixed;animation-name:${n};animation-duration:${r.duration+"ms"};animation-play-state:${u?"paused":"running"}}.lpb:after{display:${void 0!==n?"block":"none"};position:absolute;content:'';right:0;width:100px;height:100%;box-shadow:${`0 0 10px ${o}, 0 0 5px ${o}`};opacity:1;transform:rotate(3deg)translate(0,-4px)}`,template:i`<div class="lpb"></div>`},e)}}finally{var m;null===(m=this.generateProgress)||void 0===m||m.return(0)}}))},78557:(t,e,n)=>{n.d(e,{b:()=>d});var r=n(70655),o=function(t){function e(e,n){return t.call(this)||this}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(70204).w0),i={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,(0,r.ev)([],(0,r.CR)(t)))},clearInterval:function(t){var e=i.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},s=n(3699),a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),i.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;i.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(o),u=n(94318),l=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=u.l.now,t}(),c=new(function(t){function e(e,n){void 0===n&&(n=l.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return(0,r.ZT)(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(l))(a),p=n(96798),h=n(2566);function d(t,e){return void 0===e&&(e=c),(0,p.e)((function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var t=i;i=null,r.next(t)}};function u(){var n=s+t,i=e.now();if(i<n)return o=this.schedule(void 0,n-i),void r.add(o);a()}n.subscribe(new h.Q(r,(function(n){i=n,s=e.now(),o||(o=e.schedule(u,t),r.add(o))}),(function(){a(),r.complete()}),void 0,(function(){i=o=null})))}))}},42006:(t,e,n)=>{n.d(e,{b:()=>a});var r=n(58474),o=n(96798),i=n(2566),s=n(90278);function a(t,e,n){var a=(0,r.m)(t)||e||n?{next:t,error:e,complete:n}:t;return a?(0,o.e)((function(t,e){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var r=!0;t.subscribe(new i.Q(e,(function(t){var n;null===(n=a.next)||void 0===n||n.call(a,t),e.next(t)}),(function(){var t;r=!1,null===(t=a.complete)||void 0===t||t.call(a),e.complete()}),(function(t){var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,t),e.error(t)}),(function(){var t,e;r&&(null===(t=a.unsubscribe)||void 0===t||t.call(a)),null===(e=a.finalize)||void 0===e||e.call(a)})))})):s.y}},13861:(t,e,n)=>{function r(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function o(t){return t instanceof r(t).Element||t instanceof Element}function i(t){return t instanceof r(t).HTMLElement||t instanceof HTMLElement}function s(t){return"undefined"!=typeof ShadowRoot&&(t instanceof r(t).ShadowRoot||t instanceof ShadowRoot)}n.d(e,{ZP:()=>se});var a=Math.max,u=Math.min,l=Math.round;function c(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),r=1,o=1;if(i(t)&&e){var s=t.offsetHeight,a=t.offsetWidth;a>0&&(r=l(n.width)/a||1),s>0&&(o=l(n.height)/s||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function p(t){var e=r(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function h(t){return t?(t.nodeName||"").toLowerCase():null}function d(t){return((o(t)?t.ownerDocument:t.document)||window.document).documentElement}function f(t){return c(d(t)).left+p(t).scrollLeft}function m(t){return r(t).getComputedStyle(t)}function v(t){var e=m(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function g(t,e,n){void 0===n&&(n=!1);var o,s,a=i(e),u=i(e)&&function(t){var e=t.getBoundingClientRect(),n=l(e.width)/t.offsetWidth||1,r=l(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),m=d(e),g=c(t,u),y={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(a||!a&&!n)&&(("body"!==h(e)||v(m))&&(y=(o=e)!==r(o)&&i(o)?{scrollLeft:(s=o).scrollLeft,scrollTop:s.scrollTop}:p(o)),i(e)?((b=c(e,!0)).x+=e.clientLeft,b.y+=e.clientTop):m&&(b.x=f(m))),{x:g.left+y.scrollLeft-b.x,y:g.top+y.scrollTop-b.y,width:g.width,height:g.height}}function y(t){var e=c(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function b(t){return"html"===h(t)?t:t.assignedSlot||t.parentNode||(s(t)?t.host:null)||d(t)}function D(t){return["html","body","#document"].indexOf(h(t))>=0?t.ownerDocument.body:i(t)&&v(t)?t:D(b(t))}function w(t,e){var n;void 0===e&&(e=[]);var o=D(t),i=o===(null==(n=t.ownerDocument)?void 0:n.body),s=r(o),a=i?[s].concat(s.visualViewport||[],v(o)?o:[]):o,u=e.concat(a);return i?u:u.concat(w(b(a)))}function C(t){return["table","td","th"].indexOf(h(t))>=0}function A(t){return i(t)&&"fixed"!==m(t).position?t.offsetParent:null}function E(t){for(var e=r(t),n=A(t);n&&C(n)&&"static"===m(n).position;)n=A(n);return n&&("html"===h(n)||"body"===h(n)&&"static"===m(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&i(t)&&"fixed"===m(t).position)return null;for(var n=b(t);i(n)&&["html","body"].indexOf(h(n))<0;){var r=m(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}var k="top",x="bottom",S="right",F="left",M="auto",T=[k,x,S,F],O="start",B="end",L="viewport",N="popper",R=T.reduce((function(t,e){return t.concat([e+"-"+O,e+"-"+B])}),[]),$=[].concat(T,[M]).reduce((function(t,e){return t.concat([e,e+"-"+O,e+"-"+B])}),[]),H=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function I(t){var e=new Map,n=new Set,r=[];function o(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&o(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||o(t)})),r}var P={placement:"bottom",modifiers:[],strategy:"absolute"};function z(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function j(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,s=void 0===i?P:i;return function(t,e,n){void 0===n&&(n=s);var i,a,u={placement:"bottom",orderedModifiers:[],options:Object.assign({},P,s),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,p={state:u,setOptions:function(n){var i="function"==typeof n?n(u.options):n;h(),u.options=Object.assign({},s,u.options,i),u.scrollParents={reference:o(t)?w(t):t.contextElement?w(t.contextElement):[],popper:w(e)};var a=function(t){var e=I(t);return H.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(r,u.options.modifiers)));return u.orderedModifiers=a.filter((function(t){return t.enabled})),u.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var i=o({state:u,name:e,instance:p,options:r}),s=function(){};l.push(i||s)}})),p.update()},forceUpdate:function(){if(!c){var t=u.elements,e=t.reference,n=t.popper;if(z(e,n)){u.rects={reference:g(e,E(n),"fixed"===u.options.strategy),popper:y(n)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach((function(t){return u.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<u.orderedModifiers.length;r++)if(!0!==u.reset){var o=u.orderedModifiers[r],i=o.fn,s=o.options,a=void 0===s?{}:s,l=o.name;"function"==typeof i&&(u=i({state:u,options:a,name:l,instance:p})||u)}else u.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(t){p.forceUpdate(),t(u)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(i())}))}))),a}),destroy:function(){h(),c=!0}};if(!z(t,e))return p;function h(){l.forEach((function(t){return t()})),l=[]}return p.setOptions(n).then((function(t){!c&&n.onFirstUpdate&&n.onFirstUpdate(t)})),p}}var _={passive:!0};function q(t){return t.split("-")[0]}function W(t){return t.split("-")[1]}function J(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function V(t){var e,n=t.reference,r=t.element,o=t.placement,i=o?q(o):null,s=o?W(o):null,a=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(i){case k:e={x:a,y:n.y-r.height};break;case x:e={x:a,y:n.y+n.height};break;case S:e={x:n.x+n.width,y:u};break;case F:e={x:n.x-r.width,y:u};break;default:e={x:n.x,y:n.y}}var l=i?J(i):null;if(null!=l){var c="y"===l?"height":"width";switch(s){case O:e[l]=e[l]-(n[c]/2-r[c]/2);break;case B:e[l]=e[l]+(n[c]/2-r[c]/2)}}return e}var K={top:"auto",right:"auto",bottom:"auto",left:"auto"};function U(t){var e,n=t.popper,o=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,u=t.position,c=t.gpuAcceleration,p=t.adaptive,h=t.roundOffsets,f=t.isFixed,v=!0===h?function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:l(e*r)/r||0,y:l(n*r)/r||0}}(a):"function"==typeof h?h(a):a,g=v.x,y=void 0===g?0:g,b=v.y,D=void 0===b?0:b,w=a.hasOwnProperty("x"),C=a.hasOwnProperty("y"),A=F,M=k,T=window;if(p){var O=E(n),L="clientHeight",N="clientWidth";if(O===r(n)&&"static"!==m(O=d(n)).position&&"absolute"===u&&(L="scrollHeight",N="scrollWidth"),O=O,i===k||(i===F||i===S)&&s===B)M=x,D-=(f&&T.visualViewport?T.visualViewport.height:O[L])-o.height,D*=c?1:-1;if(i===F||(i===k||i===x)&&s===B)A=S,y-=(f&&T.visualViewport?T.visualViewport.width:O[N])-o.width,y*=c?1:-1}var R,$=Object.assign({position:u},p&&K);return c?Object.assign({},$,((R={})[M]=C?"0":"",R[A]=w?"0":"",R.transform=(T.devicePixelRatio||1)<=1?"translate("+y+"px, "+D+"px)":"translate3d("+y+"px, "+D+"px, 0)",R)):Object.assign({},$,((e={})[M]=C?D+"px":"",e[A]=w?y+"px":"",e.transform="",e))}const Y={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];i(o)&&h(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],o=e.attributes[t]||{},s=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});i(r)&&h(r)&&(Object.assign(r.style,s),Object.keys(o).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]};const Z={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=void 0===o?[0,0]:o,s=$.reduce((function(t,n){return t[n]=function(t,e,n){var r=q(t),o=[F,k].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},e,{placement:t})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[F,S].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,e.rects,i),t}),{}),a=s[e.placement],u=a.x,l=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}};var X={left:"right",right:"left",bottom:"top",top:"bottom"};function G(t){return t.replace(/left|right|bottom|top/g,(function(t){return X[t]}))}var Q={start:"end",end:"start"};function tt(t){return t.replace(/start|end/g,(function(t){return Q[t]}))}function et(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&s(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function nt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function rt(t,e){return e===L?nt(function(t){var e=r(t),n=d(t),o=e.visualViewport,i=n.clientWidth,s=n.clientHeight,a=0,u=0;return o&&(i=o.width,s=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=o.offsetLeft,u=o.offsetTop)),{width:i,height:s,x:a+f(t),y:u}}(t)):o(e)?function(t){var e=c(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):nt(function(t){var e,n=d(t),r=p(t),o=null==(e=t.ownerDocument)?void 0:e.body,i=a(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=a(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-r.scrollLeft+f(t),l=-r.scrollTop;return"rtl"===m(o||n).direction&&(u+=a(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:u,y:l}}(d(t)))}function ot(t,e,n){var r="clippingParents"===e?function(t){var e=w(b(t)),n=["absolute","fixed"].indexOf(m(t).position)>=0,r=n&&i(t)?E(t):t;return o(r)?e.filter((function(t){return o(t)&&et(t,r)&&"body"!==h(t)&&(!n||"static"!==m(t).position)})):[]}(t):[].concat(e),s=[].concat(r,[n]),l=s[0],c=s.reduce((function(e,n){var r=rt(t,n);return e.top=a(r.top,e.top),e.right=u(r.right,e.right),e.bottom=u(r.bottom,e.bottom),e.left=a(r.left,e.left),e}),rt(t,l));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function it(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function st(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function at(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,s=n.boundary,a=void 0===s?"clippingParents":s,u=n.rootBoundary,l=void 0===u?L:u,p=n.elementContext,h=void 0===p?N:p,f=n.altBoundary,m=void 0!==f&&f,v=n.padding,g=void 0===v?0:v,y=it("number"!=typeof g?g:st(g,T)),b=h===N?"reference":N,D=t.rects.popper,w=t.elements[m?b:h],C=ot(o(w)?w:w.contextElement||d(t.elements.popper),a,l),A=c(t.elements.reference),E=V({reference:A,element:D,strategy:"absolute",placement:i}),F=nt(Object.assign({},D,E)),M=h===N?F:A,O={top:C.top-M.top+y.top,bottom:M.bottom-C.bottom+y.bottom,left:C.left-M.left+y.left,right:M.right-C.right+y.right},B=t.modifiersData.offset;if(h===N&&B){var R=B[i];Object.keys(O).forEach((function(t){var e=[S,x].indexOf(t)>=0?1:-1,n=[k,x].indexOf(t)>=0?"y":"x";O[t]+=R[n]*e}))}return O}function ut(t,e,n){return a(t,u(e,n))}const lt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,l=void 0!==s&&s,c=n.boundary,p=n.rootBoundary,h=n.altBoundary,d=n.padding,f=n.tether,m=void 0===f||f,v=n.tetherOffset,g=void 0===v?0:v,b=at(e,{boundary:c,rootBoundary:p,padding:d,altBoundary:h}),D=q(e.placement),w=W(e.placement),C=!w,A=J(D),M="x"===A?"y":"x",T=e.modifiersData.popperOffsets,B=e.rects.reference,L=e.rects.popper,N="function"==typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,R="number"==typeof N?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(T){if(i){var I,P="y"===A?k:F,z="y"===A?x:S,j="y"===A?"height":"width",_=T[A],V=_+b[P],K=_-b[z],U=m?-L[j]/2:0,Y=w===O?B[j]:L[j],Z=w===O?-L[j]:-B[j],X=e.elements.arrow,G=m&&X?y(X):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tt=Q[P],et=Q[z],nt=ut(0,B[j],G[j]),rt=C?B[j]/2-U-nt-tt-R.mainAxis:Y-nt-tt-R.mainAxis,ot=C?-B[j]/2+U+nt+et+R.mainAxis:Z+nt+et+R.mainAxis,it=e.elements.arrow&&E(e.elements.arrow),st=it?"y"===A?it.clientTop||0:it.clientLeft||0:0,lt=null!=(I=null==$?void 0:$[A])?I:0,ct=_+ot-lt,pt=ut(m?u(V,_+rt-lt-st):V,_,m?a(K,ct):K);T[A]=pt,H[A]=pt-_}if(l){var ht,dt="x"===A?k:F,ft="x"===A?x:S,mt=T[M],vt="y"===M?"height":"width",gt=mt+b[dt],yt=mt-b[ft],bt=-1!==[k,F].indexOf(D),Dt=null!=(ht=null==$?void 0:$[M])?ht:0,wt=bt?gt:mt-B[vt]-L[vt]-Dt+R.altAxis,Ct=bt?mt+B[vt]+L[vt]-Dt-R.altAxis:yt,At=m&&bt?function(t,e,n){var r=ut(t,e,n);return r>n?n:r}(wt,mt,Ct):ut(m?wt:gt,mt,m?Ct:yt);T[M]=At,H[M]=At-mt}e.modifiersData[r]=H}},requiresIfExists:["offset"]};const ct={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=q(n.placement),u=J(a),l=[F,S].indexOf(a)>=0?"height":"width";if(i&&s){var c=function(t,e){return it("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:st(t,T))}(o.padding,n),p=y(i),h="y"===u?k:F,d="y"===u?x:S,f=n.rects.reference[l]+n.rects.reference[u]-s[u]-n.rects.popper[l],m=s[u]-n.rects.reference[u],v=E(i),g=v?"y"===u?v.clientHeight||0:v.clientWidth||0:0,b=f/2-m/2,D=c[h],w=g-p[l]-c[d],C=g/2-p[l]/2+b,A=ut(D,C,w),M=u;n.modifiersData[r]=((e={})[M]=A,e.centerOffset=A-C,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&et(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function ht(t){return[k,S,x,F].some((function(e){return t[e]>=0}))}var dt=j({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,o=t.options,i=o.scroll,s=void 0===i||i,a=o.resize,u=void 0===a||a,l=r(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach((function(t){t.addEventListener("scroll",n.update,_)})),u&&l.addEventListener("resize",n.update,_),function(){s&&c.forEach((function(t){t.removeEventListener("scroll",n.update,_)})),u&&l.removeEventListener("resize",n.update,_)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=V({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,u=void 0===a||a,l={placement:q(e.placement),variation:W(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,U(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,U(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},Y,Z,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,u=n.fallbackPlacements,l=n.padding,c=n.boundary,p=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,f=void 0===d||d,m=n.allowedAutoPlacements,v=e.options.placement,g=q(v),y=u||(g===v||!f?[G(v)]:function(t){if(q(t)===M)return[];var e=G(t);return[tt(t),e,tt(e)]}(v)),b=[v].concat(y).reduce((function(t,n){return t.concat(q(n)===M?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,l=void 0===u?$:u,c=W(r),p=c?a?R:R.filter((function(t){return W(t)===c})):T,h=p.filter((function(t){return l.indexOf(t)>=0}));0===h.length&&(h=p);var d=h.reduce((function(e,n){return e[n]=at(t,{placement:n,boundary:o,rootBoundary:i,padding:s})[q(n)],e}),{});return Object.keys(d).sort((function(t,e){return d[t]-d[e]}))}(e,{placement:n,boundary:c,rootBoundary:p,padding:l,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),D=e.rects.reference,w=e.rects.popper,C=new Map,A=!0,E=b[0],B=0;B<b.length;B++){var L=b[B],N=q(L),H=W(L)===O,I=[k,x].indexOf(N)>=0,P=I?"width":"height",z=at(e,{placement:L,boundary:c,rootBoundary:p,altBoundary:h,padding:l}),j=I?H?S:F:H?x:k;D[P]>w[P]&&(j=G(j));var _=G(j),J=[];if(i&&J.push(z[N]<=0),a&&J.push(z[j]<=0,z[_]<=0),J.every((function(t){return t}))){E=L,A=!1;break}C.set(L,J)}if(A)for(var V=function(t){var e=b.find((function(e){var n=C.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return E=e,"break"},K=f?3:1;K>0;K--){if("break"===V(K))break}e.placement!==E&&(e.modifiersData[r]._skip=!0,e.placement=E,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},lt,ct,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=at(e,{elementContext:"reference"}),a=at(e,{altBoundary:!0}),u=pt(s,r),l=pt(a,o,i),c=ht(u),p=ht(l);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":p})}}]}),ft="tippy-content",mt="tippy-backdrop",vt="tippy-arrow",gt="tippy-svg-arrow",yt={passive:!0,capture:!0},bt=function(){return document.body};function Dt(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function wt(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function Ct(t,e){return"function"==typeof t?t.apply(void 0,e):t}function At(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout((function(){t(r)}),e)};var n}function Et(t){return[].concat(t)}function kt(t,e){-1===t.indexOf(e)&&t.push(e)}function xt(t){return t.split("-")[0]}function St(t){return[].slice.call(t)}function Ft(t){return Object.keys(t).reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})}function Mt(){return document.createElement("div")}function Tt(t){return["Element","Fragment"].some((function(e){return wt(t,e)}))}function Ot(t){return wt(t,"MouseEvent")}function Bt(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function Lt(t){return Tt(t)?[t]:function(t){return wt(t,"NodeList")}(t)?St(t):Array.isArray(t)?t:St(document.querySelectorAll(t))}function Nt(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function Rt(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function $t(t){var e,n=Et(t)[0];return null!=n&&null!=(e=n.ownerDocument)&&e.body?n.ownerDocument:document}function Ht(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[r](e,n)}))}function It(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var Pt={isTouch:!1},zt=0;function jt(){Pt.isTouch||(Pt.isTouch=!0,window.performance&&document.addEventListener("mousemove",_t))}function _t(){var t=performance.now();t-zt<20&&(Pt.isTouch=!1,document.removeEventListener("mousemove",_t)),zt=t}function qt(){var t=document.activeElement;if(Bt(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var Wt=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var Jt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Vt=Object.assign({appendTo:bt,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Jt,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Kt=Object.keys(Vt);function Ut(t){var e=(t.plugins||[]).reduce((function(e,n){var r,o=n.name,i=n.defaultValue;o&&(e[o]=void 0!==t[o]?t[o]:null!=(r=Vt[o])?r:i);return e}),{});return Object.assign({},t,e)}function Yt(t,e){var n=Object.assign({},e,{content:Ct(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(Ut(Object.assign({},Vt,{plugins:e}))):Kt).reduce((function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(t){e[n]=r}return e}),{})}(t,e.plugins));return n.aria=Object.assign({},Vt.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function Zt(t,e){t.innerHTML=e}function Xt(t){var e=Mt();return!0===t?e.className=vt:(e.className=gt,Tt(t)?e.appendChild(t):Zt(e,t)),e}function Gt(t,e){Tt(e.content)?(Zt(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?Zt(t,e.content):t.textContent=e.content)}function Qt(t){var e=t.firstElementChild,n=St(e.children);return{box:e,content:n.find((function(t){return t.classList.contains(ft)})),arrow:n.find((function(t){return t.classList.contains(vt)||t.classList.contains(gt)})),backdrop:n.find((function(t){return t.classList.contains(mt)}))}}function te(t){var e=Mt(),n=Mt();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Mt();function o(n,r){var o=Qt(e),i=o.box,s=o.content,a=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Gt(s,t.props),r.arrow?a?n.arrow!==r.arrow&&(i.removeChild(a),i.appendChild(Xt(r.arrow))):i.appendChild(Xt(r.arrow)):a&&i.removeChild(a)}return r.className=ft,r.setAttribute("data-state","hidden"),Gt(r,t.props),e.appendChild(n),n.appendChild(r),o(t.props,t.props),{popper:e,onUpdate:o}}te.$$tippy=!0;var ee=1,ne=[],re=[];function oe(t,e){var n,r,o,i,s,a,u,l,c=Yt(t,Object.assign({},Vt,Ut(Ft(e)))),p=!1,h=!1,d=!1,f=!1,m=[],v=At(K,c.interactiveDebounce),g=ee++,y=(l=c.plugins).filter((function(t,e){return l.indexOf(t)===e})),b={id:g,reference:t,popper:Mt(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(e){0;if(b.state.isDestroyed)return;L("onBeforeUpdate",[b,e]),J();var n=b.props,r=Yt(t,Object.assign({},n,Ft(e),{ignoreAttributes:!0}));b.props=r,W(),n.interactiveDebounce!==r.interactiveDebounce&&($(),v=At(K,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Et(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):r.triggerTarget&&t.removeAttribute("aria-expanded");R(),B(),C&&C(n,r);b.popperInstance&&(X(),Q().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})));L("onAfterUpdate",[b,e])},setContent:function(t){b.setProps({content:t})},show:function(){0;var t=b.state.isVisible,e=b.state.isDestroyed,n=!b.state.isEnabled,r=Pt.isTouch&&!b.props.touch,o=Dt(b.props.duration,0,Vt.duration);if(t||e||n||r)return;if(F().hasAttribute("disabled"))return;if(L("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,S()&&(w.style.visibility="visible");B(),z(),b.state.isMounted||(w.style.transition="none");if(S()){var i=T(),s=i.box,u=i.content;Nt([s,u],0)}a=function(){var t;if(b.state.isVisible&&!f){if(f=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,S()&&b.props.animation){var e=T(),n=e.box,r=e.content;Nt([n,r],o),Rt([n,r],"visible")}N(),R(),kt(re,b),null==(t=b.popperInstance)||t.forceUpdate(),L("onMount",[b]),b.props.animation&&S()&&function(t,e){_(t,e)}(o,(function(){b.state.isShown=!0,L("onShown",[b])}))}},function(){var t,e=b.props.appendTo,n=F();t=b.props.interactive&&e===bt||"parent"===e?n.parentNode:Ct(e,[n]);t.contains(w)||t.appendChild(w);b.state.isMounted=!0,X(),!1}()},hide:function(){0;var t=!b.state.isVisible,e=b.state.isDestroyed,n=!b.state.isEnabled,r=Dt(b.props.duration,1,Vt.duration);if(t||e||n)return;if(L("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,f=!1,p=!1,S()&&(w.style.visibility="hidden");if($(),j(),B(!0),S()){var o=T(),i=o.box,s=o.content;b.props.animation&&(Nt([i,s],r),Rt([i,s],"hidden"))}N(),R(),b.props.animation?S()&&function(t,e){_(t,(function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&e()}))}(r,b.unmount):b.unmount()},hideWithInteractivity:function(t){0;M().addEventListener("mousemove",v),kt(ne,v),v(t)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;G(),Q().forEach((function(t){t._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w);re=re.filter((function(t){return t!==b})),b.state.isMounted=!1,L("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),J(),delete t._tippy,b.state.isDestroyed=!0,L("onDestroy",[b])}};if(!c.render)return b;var D=c.render(b),w=D.popper,C=D.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,t._tippy=b,w._tippy=b;var A=y.map((function(t){return t.fn(b)})),E=t.hasAttribute("aria-expanded");return W(),R(),B(),L("onCreate",[b]),c.showOnCreate&&tt(),w.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&M().addEventListener("mousemove",v)})),b;function k(){var t=b.props.touch;return Array.isArray(t)?t:[t,0]}function x(){return"hold"===k()[0]}function S(){var t;return!(null==(t=b.props.render)||!t.$$tippy)}function F(){return u||t}function M(){var t=F().parentNode;return t?$t(t):document}function T(){return Qt(w)}function O(t){return b.state.isMounted&&!b.state.isVisible||Pt.isTouch||i&&"focus"===i.type?0:Dt(b.props.delay,t?0:1,Vt.delay)}function B(t){void 0===t&&(t=!1),w.style.pointerEvents=b.props.interactive&&!t?"":"none",w.style.zIndex=""+b.props.zIndex}function L(t,e,n){var r;(void 0===n&&(n=!0),A.forEach((function(n){n[t]&&n[t].apply(n,e)})),n)&&(r=b.props)[t].apply(r,e)}function N(){var e=b.props.aria;if(e.content){var n="aria-"+e.content,r=w.id;Et(b.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(b.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var o=e&&e.replace(r,"").trim();o?t.setAttribute(n,o):t.removeAttribute(n)}}))}}function R(){!E&&b.props.aria.expanded&&Et(b.props.triggerTarget||t).forEach((function(t){b.props.interactive?t.setAttribute("aria-expanded",b.state.isVisible&&t===F()?"true":"false"):t.removeAttribute("aria-expanded")}))}function $(){M().removeEventListener("mousemove",v),ne=ne.filter((function(t){return t!==v}))}function H(e){if(!Pt.isTouch||!d&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!b.props.interactive||!It(w,n)){if(Et(b.props.triggerTarget||t).some((function(t){return It(t,n)}))){if(Pt.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[b,e]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),h=!0,setTimeout((function(){h=!1})),b.state.isMounted||j())}}}function I(){d=!0}function P(){d=!1}function z(){var t=M();t.addEventListener("mousedown",H,!0),t.addEventListener("touchend",H,yt),t.addEventListener("touchstart",P,yt),t.addEventListener("touchmove",I,yt)}function j(){var t=M();t.removeEventListener("mousedown",H,!0),t.removeEventListener("touchend",H,yt),t.removeEventListener("touchstart",P,yt),t.removeEventListener("touchmove",I,yt)}function _(t,e){var n=T().box;function r(t){t.target===n&&(Ht(n,"remove",r),e())}if(0===t)return e();Ht(n,"remove",s),Ht(n,"add",r),s=r}function q(e,n,r){void 0===r&&(r=!1),Et(b.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,r),m.push({node:t,eventType:e,handler:n,options:r})}))}function W(){var t;x()&&(q("touchstart",V,{passive:!0}),q("touchend",U,{passive:!0})),(t=b.props.trigger,t.split(/\s+/).filter(Boolean)).forEach((function(t){if("manual"!==t)switch(q(t,V),t){case"mouseenter":q("mouseleave",U);break;case"focus":q(Wt?"focusout":"blur",Y);break;case"focusin":q("focusout",Y)}}))}function J(){m.forEach((function(t){var e=t.node,n=t.eventType,r=t.handler,o=t.options;e.removeEventListener(n,r,o)})),m=[]}function V(t){var e,n=!1;if(b.state.isEnabled&&!Z(t)&&!h){var r="focus"===(null==(e=i)?void 0:e.type);i=t,u=t.currentTarget,R(),!b.state.isVisible&&Ot(t)&&ne.forEach((function(e){return e(t)})),"click"===t.type&&(b.props.trigger.indexOf("mouseenter")<0||p)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:tt(t),"click"===t.type&&(p=!n),n&&!r&&et(t)}}function K(t){var e=t.target,n=F().contains(e)||w.contains(e);if("mousemove"!==t.type||!n){var r=Q().concat(w).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:c}:null})).filter(Boolean);(function(t,e){var n=e.clientX,r=e.clientY;return t.every((function(t){var e=t.popperRect,o=t.popperState,i=t.props.interactiveBorder,s=xt(o.placement),a=o.modifiersData.offset;if(!a)return!0;var u="bottom"===s?a.top.y:0,l="top"===s?a.bottom.y:0,c="right"===s?a.left.x:0,p="left"===s?a.right.x:0,h=e.top-r+u>i,d=r-e.bottom-l>i,f=e.left-n+c>i,m=n-e.right-p>i;return h||d||f||m}))})(r,t)&&($(),et(t))}}function U(t){Z(t)||b.props.trigger.indexOf("click")>=0&&p||(b.props.interactive?b.hideWithInteractivity(t):et(t))}function Y(t){b.props.trigger.indexOf("focusin")<0&&t.target!==F()||b.props.interactive&&t.relatedTarget&&w.contains(t.relatedTarget)||et(t)}function Z(t){return!!Pt.isTouch&&x()!==t.type.indexOf("touch")>=0}function X(){G();var e=b.props,n=e.popperOptions,r=e.placement,o=e.offset,i=e.getReferenceClientRect,s=e.moveTransition,u=S()?Qt(w).arrow:null,l=i?{getBoundingClientRect:i,contextElement:i.contextElement||F()}:t,c={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(S()){var n=T().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}},p=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},c];S()&&u&&p.push({name:"arrow",options:{element:u,padding:3}}),p.push.apply(p,(null==n?void 0:n.modifiers)||[]),b.popperInstance=dt(l,w,Object.assign({},n,{placement:r,onFirstUpdate:a,modifiers:p}))}function G(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Q(){return St(w.querySelectorAll("[data-tippy-root]"))}function tt(t){b.clearDelayTimeouts(),t&&L("onTrigger",[b,t]),z();var e=O(!0),r=k(),o=r[0],i=r[1];Pt.isTouch&&"hold"===o&&i&&(e=i),e?n=setTimeout((function(){b.show()}),e):b.show()}function et(t){if(b.clearDelayTimeouts(),L("onUntrigger",[b,t]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&p)){var e=O(!1);e?r=setTimeout((function(){b.state.isVisible&&b.hide()}),e):o=requestAnimationFrame((function(){b.hide()}))}}else j()}}function ie(t,e){void 0===e&&(e={});var n=Vt.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",jt,yt),window.addEventListener("blur",qt);var r=Object.assign({},e,{plugins:n}),o=Lt(t).reduce((function(t,e){var n=e&&oe(e,r);return n&&t.push(n),t}),[]);return Tt(t)?o[0]:o}ie.defaultProps=Vt,ie.setDefaultProps=function(t){Object.keys(t).forEach((function(e){Vt[e]=t[e]}))},ie.currentInput=Pt;Object.assign({},Y,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}});ie.setDefaultProps({render:te});const se=ie},88960:()=>{const t=(t,e=0,n=1)=>t>n?n:t<e?e:t,e=(t,e=0,n=Math.pow(10,e))=>Math.round(n*t)/n,n=(Math.PI,t=>("#"===t[0]&&(t=t.substr(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}:{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:1})),r=({h:t,s:n,v:r,a:o})=>{const i=(200-n)*r/100;return{h:e(t),s:e(i>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0),l:e(i/2),a:e(o,2)}},o=t=>{const{h:e,s:n,l:o}=r(t);return`hsl(${e}, ${n}%, ${o}%)`},i=({h:t,s:n,v:r,a:o})=>{t=t/360*6,n/=100,r/=100;const i=Math.floor(t),s=r*(1-n),a=r*(1-(t-i)*n),u=r*(1-(1-t+i)*n),l=i%6;return{r:e(255*[r,a,s,s,u,r][l]),g:e(255*[u,r,r,a,s,s][l]),b:e(255*[s,s,u,r,r,a][l]),a:e(o,2)}},s=t=>{const e=t.toString(16);return e.length<2?"0"+e:e},a=({r:t,g:e,b:n})=>"#"+s(t)+s(e)+s(n),u=({r:t,g:n,b:r,a:o})=>{const i=Math.max(t,n,r),s=i-Math.min(t,n,r),a=s?i===t?(n-r)/s:i===n?2+(r-t)/s:4+(t-n)/s:0;return{h:e(60*(a<0?a+6:a)),s:e(i?s/i*100:0),v:e(i/255*100),a:o}},l=(t,e)=>{if(t===e)return!0;for(const n in t)if(t[n]!==e[n])return!1;return!0},c={},p=t=>{let e=c[t];return e||(e=document.createElement("template"),e.innerHTML=t,c[t]=e),e},h=(t,e,n)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:n}))};let d=!1;const f=t=>"touches"in t,m=(e,n)=>{const r=f(n)?n.touches[0]:n,o=e.el.getBoundingClientRect();h(e.el,"move",e.getMove({x:t((r.pageX-(o.left+window.pageXOffset))/o.width),y:t((r.pageY-(o.top+window.pageYOffset))/o.height)}))};class v{constructor(t,e,n,r){const o=p(`<div role="slider" tabindex="0" part="${e}" ${n}><div part="${e}-pointer"></div></div>`);t.appendChild(o.content.cloneNode(!0));const i=t.querySelector(`[part=${e}]`);i.addEventListener("mousedown",this),i.addEventListener("touchstart",this),i.addEventListener("keydown",this),this.el=i,this.xy=r,this.nodes=[i.firstChild,i]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e(d?"touchmove":"mousemove",this),e(d?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!(t=>!(d&&!f(t)||(d||(d=f(t)),0)))(t)||!d&&0!=t.button)return;this.el.focus(),m(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),m(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((t,e)=>{const n=e.keyCode;n>40||t.xy&&n<37||n<33||(e.preventDefault(),h(t.el,"move",t.getMove({x:39===n?.01:37===n?-.01:34===n?.05:33===n?-.05:35===n?1:36===n?-1:0,y:40===n?.01:38===n?-.01:0},!0)))})(this,t)}}style(t){t.forEach(((t,e)=>{for(const n in t)this.nodes[e].style.setProperty(n,t[n])}))}}class g extends v{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:t/360*100+"%",color:o({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${e(t)}`)}getMove(e,n){return{h:n?t(this.h+360*e.x,0,360):360*e.x}}}class y extends v{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:100-t.v+"%",left:`${t.s}%`,color:o(t)},{"background-color":o({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${e(t.s)}%, Brightness ${e(t.v)}%`)}getMove(e,n){return{s:n?t(this.hsva.s+100*e.x,0,100):100*e.x,v:n?t(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const b=Symbol("same"),D=Symbol("color"),w=Symbol("hsva"),C=Symbol("change"),A=Symbol("update"),E=Symbol("parts"),k=Symbol("css"),x=Symbol("sliders");class S extends HTMLElement{static get observedAttributes(){return["color"]}get[k](){return[":host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{display:block;content:'';position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}","[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[x](){return[y,g]}get color(){return this[D]}set color(t){if(!this[b](t)){const e=this.colorModel.toHsva(t);this[A](e),this[C](t)}}constructor(){super();const t=p(`<style>${this[k].join("")}</style>`),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[E]=this[x].map((t=>new t(e)))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,n){const r=this.colorModel.fromAttr(n);this[b](r)||(this.color=r)}handleEvent(t){const e=this[w],n={...e,...t.detail};let r;this[A](n),l(n,e)||this[b](r=this.colorModel.fromHsva(n))||this[C](r)}[b](t){return this.color&&this.colorModel.equal(t,this.color)}[A](t){this[w]=t,this[E].forEach((e=>e.update(t)))}[C](t){this[D]=t,h(this,"color-changed",{value:t})}}const F={defaultColor:"#000",toHsva:t=>u(n(t)),fromHsva:t=>a(i(t)),equal:(t,e)=>t.toLowerCase()===e.toLowerCase()||l(n(t),n(e)),fromAttr:t=>t};class M extends S{get colorModel(){return F}}customElements.define("hex-color-picker",class extends M{})},30837:(t,e,n)=>{n.d(e,{Z:()=>r});const r=n(33390)},47167:(t,e,n)=>{n.d(e,{s:()=>p});var r=n(24142),o=n(93255);const i=(t,e)=>{var n,r;const o=t._$AN;if(void 0===o)return!1;for(const t of o)null===(r=(n=t)._$AO)||void 0===r||r.call(n,e,!1),i(t,e);return!0},s=t=>{let e,n;do{if(void 0===(e=t._$AM))break;n=e._$AN,n.delete(t),t=e}while(0===(null==n?void 0:n.size))},a=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(void 0===n)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),c(e)}};function u(t){void 0!==this._$AN?(s(this),this._$AM=t,a(this)):this._$AM=t}function l(t,e=!1,n=0){const r=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(e)if(Array.isArray(r))for(let t=n;t<r.length;t++)i(r[t],!1),s(r[t]);else null!=r&&(i(r,!1),s(r));else i(this,t)}const c=t=>{var e,n,r,i;t.type==o.pX.CHILD&&(null!==(e=(r=t)._$AP)&&void 0!==e||(r._$AP=l),null!==(n=(i=t)._$AQ)&&void 0!==n||(i._$AQ=u))};class p extends o.Xe{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,n){super._$AT(t,e,n),a(this),this.isConnected=t._$AU}_$AO(t,e=!0){var n,r;t!==this.isConnected&&(this.isConnected=t,t?null===(n=this.reconnected)||void 0===n||n.call(this):null===(r=this.disconnected)||void 0===r||r.call(this)),e&&(i(this,t),s(this))}setValue(t){if((0,r.OR)(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}},24142:(t,e,n)=>{n.d(e,{i9:()=>p,_Y:()=>a,OR:()=>i,ws:()=>h,fk:()=>u,hl:()=>c});var r=n(91640);const{H:o}=r.Al,i=t=>void 0===t.strings,s=()=>document.createComment(""),a=(t,e,n)=>{var r;const i=t._$AA.parentNode,a=void 0===e?t._$AB:e._$AA;if(void 0===n){const e=i.insertBefore(s(),a),r=i.insertBefore(s(),a);n=new o(e,r,t,t.options)}else{const e=n._$AB.nextSibling,o=n._$AM,s=o!==t;if(s){let e;null===(r=n._$AQ)||void 0===r||r.call(n,t),n._$AM=t,void 0!==n._$AP&&(e=t._$AU)!==o._$AU&&n._$AP(e)}if(e!==a||s){let t=n._$AA;for(;t!==e;){const e=t.nextSibling;i.insertBefore(t,a),t=e}}}return n},u=(t,e,n=t)=>(t._$AI(e,n),t),l={},c=(t,e=l)=>t._$AH=e,p=t=>t._$AH,h=t=>{var e;null===(e=t._$AP)||void 0===e||e.call(t,!1,!0);let n=t._$AA;const r=t._$AB.nextSibling;for(;n!==r;){const t=n.nextSibling;n.remove(),n=t}}},93255:(t,e,n)=>{n.d(e,{Xe:()=>i,pX:()=>r,XM:()=>o});const r={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},o=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}},39491:(t,e,n)=>{n.d(e,{V:()=>s,i:()=>l});var r=n(91640),o=n(47167),i=n(93255);const s=()=>new a;class a{}const u=new WeakMap,l=(0,i.XM)(class extends o.s{render(t){return r.Ld}update(t,[e]){var n;const o=e!==this.U;return o&&void 0!==this.U&&this.nt(void 0),(o||this.rt!==this.lt)&&(this.U=e,this.ht=null===(n=t.options)||void 0===n?void 0:n.host,this.nt(this.lt=t.element)),r.Ld}nt(t){"function"==typeof this.U?(void 0!==u.get(this.U)&&this.U.call(this.ht,void 0),u.set(this.U,t),void 0!==t&&this.U.call(this.ht,t)):this.U.value=t}get rt(){var t;return"function"==typeof this.U?u.get(this.U):null===(t=this.U)||void 0===t?void 0:t.value}disconnected(){this.rt===this.lt&&this.nt(void 0)}reconnected(){this.nt(this.lt)}})},93619:(t,e,n)=>{n.d(e,{r:()=>a});var r=n(91640),o=n(93255),i=n(24142);const s=(t,e,n)=>{const r=new Map;for(let o=e;o<=n;o++)r.set(t[o],o);return r},a=(0,o.XM)(class extends o.Xe{constructor(t){if(super(t),t.type!==o.pX.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,n){let r;void 0===n?n=e:void 0!==e&&(r=e);const o=[],i=[];let s=0;for(const e of t)o[s]=r?r(e,s):s,i[s]=n(e,s),s++;return{values:i,keys:o}}render(t,e,n){return this.dt(t,e,n).values}update(t,[e,n,o]){var a;const u=(0,i.i9)(t),{values:l,keys:c}=this.dt(e,n,o);if(!Array.isArray(u))return this.ct=c,l;const p=null!==(a=this.ct)&&void 0!==a?a:this.ct=[],h=[];let d,f,m=0,v=u.length-1,g=0,y=l.length-1;for(;m<=v&&g<=y;)if(null===u[m])m++;else if(null===u[v])v--;else if(p[m]===c[g])h[g]=(0,i.fk)(u[m],l[g]),m++,g++;else if(p[v]===c[y])h[y]=(0,i.fk)(u[v],l[y]),v--,y--;else if(p[m]===c[y])h[y]=(0,i.fk)(u[m],l[y]),(0,i._Y)(t,h[y+1],u[m]),m++,y--;else if(p[v]===c[g])h[g]=(0,i.fk)(u[v],l[g]),(0,i._Y)(t,u[m],u[v]),v--,g++;else if(void 0===d&&(d=s(c,g,y),f=s(p,m,v)),d.has(p[m]))if(d.has(p[v])){const e=f.get(c[g]),n=void 0!==e?u[e]:null;if(null===n){const e=(0,i._Y)(t,u[m]);(0,i.fk)(e,l[g]),h[g]=e}else h[g]=(0,i.fk)(n,l[g]),(0,i._Y)(t,u[m],n),u[e]=null;g++}else(0,i.ws)(u[v]),v--;else(0,i.ws)(u[m]),m++;for(;g<=y;){const e=(0,i._Y)(t,h[y+1]);(0,i.fk)(e,l[g]),h[g++]=e}for(;m<=v;){const t=u[m++];null!==t&&(0,i.ws)(t)}return this.ct=c,(0,i.hl)(t,h),r.Jb}})}}]);