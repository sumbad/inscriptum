  
    <html>
      <head>
        <meta charset="utf-8">
        <title>Culture of using Open Source dependencies</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="format-detection" content="telephone=no">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="MobileOptimized" content="176">
        <meta name="HandheldFriendly" content="True">
        <meta name="robots" content="index, follow">
        <meta name="description" content="Some techniques and thoughts about Open Source in general and NPM repository especially. This note was inspired by &quot;What&apos;s Really Going On Inside Your node_modules Folder?&quot; article from Feross Aboukhadijeh.">
        <meta property="og:site_name" content="inscriptum">
        <meta property="og:type" content="article">
        <meta property="og:title" content="Culture of using Open Source dependencies">
        <meta property="og:description" content="Some techniques and thoughts about Open Source in general and NPM repository especially. This note was inspired by &quot;What&apos;s Really Going On Inside Your node_modules Folder?&quot; article from Feross Aboukhadijeh.">
        <meta property="og:image" content="https://res.cloudinary.com/inscriptum/image/upload/v1648228615/blob_m88y1u.png">
        <meta property="article:published_time" content="2022-04-05T00:27:52.801+00:00">
        <meta property="article:modified_time" content="2022-04-05T00:27:52.801Z">
        <meta property="article:author" content="denis.sumbaev@gmail.com">
        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Culture of using Open Source dependencies">
        <meta name="twitter:description" content="Some techniques and thoughts about Open Source in general and NPM repository especially. This note was inspired by &quot;What&apos;s Really Going On Inside Your node_modules Folder?&quot; article from Feross Aboukhadijeh.">
        <meta name="twitter:image" content="https://res.cloudinary.com/inscriptum/image/upload/v1648228615/blob_m88y1u.png">
        <style>@font-face{font-family:"Inter";font-style:normal;font-weight:100 900;font-display:swap;src:url(/fonts/inter/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:"Inter";font-style:normal;font-weight:100 900;font-display:swap;src:url(/fonts/inter/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"JetBrainsMono";font-style:normal;font-weight:400;font-display:swap;src:url(/fonts/jetbrainsmono/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTPlOTk6OThhvAWV8.woff) format("woff");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:"JetBrainsMono";font-style:normal;font-weight:400;font-display:swap;src:url(/fonts/jetbrainsmono/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxTOlOTk6OThhvA.woff) format("woff");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}html{font-family:sans-serif}@supports(font-variation-settings: normal){html{font-family:"Inter var",sans-serif}}.container{max-width:800px}</style>
        <link rel="shortcut icon" type="image/png" href="favicon.png">
        <link href="/css/note.css" rel="stylesheet">
      </head>
      <body>
        <article>
          <section><h1 data-placeholder="Title" data-label="Title">Culture of using Open Source dependencies</h1><p data-placeholder="Summary of the text" data-label="Summary" role="definition">Some techniques and thoughts about Open Source in general and NPM repository especially. This note was inspired by "<a target="_blank" rel="noopener noreferrer nofollow" href="https://socket.dev/blog/inside-node-modules">What's Really Going On Inside Your node_modules Folder?</a>" article from Feross Aboukhadijeh.</p><p data-placeholder="Take a notes"></p><figure><img src="https://res.cloudinary.com/inscriptum/image/upload/v1648228615/blob_m88y1u.png" alt=""><figcaption> </figcaption></figure><p>First of all, let me clarify, <strong>using Open Source without caution is the same like living in pandemic without vaccine</strong>. Everything can be good or we can get a lot of damage, it depends only on a case.</p><p>Why is this happening? It's obvious, we are using code from the internet written by unknown persons. We do not review this code, but execute it with wide permissions on our machines.</p><p>If you do not believe me and think that Open Source is safe just read this great <a target="_blank" rel="noopener noreferrer nofollow" href="https://socket.dev/blog/inside-node-modules">article</a>, or <a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/vuejs/vue-cli/issues/7054">this thread</a>, or try to find news <code>npm malware</code>. Otherwise, let me share some hygiene methods of using Open Source.</p><h4>Do not install what you do not need</h4><p>It's simple and logical, but I saw a lot of projects where a dependency can be changed to several lines of custom code. The most common case is using <a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/lodash/lodash">lodash</a> for sorting or taking property from <code>null</code> or <code>undefined</code>.</p><p></p><h4>Run your code remotely</h4><p>We should be strongly attentive by running unknown code locally. The best solution is not running in locally at all.</p><aside><p>Most malicious packages (56%) start their routines on installation, which might be due to poor handling of arbitrary code during install</p></aside><p><em>– MARC OHM, HENRIK PLATE, ARNOLD SYKOSCH, MICHAEL MEIER ("BACKSTABBER'S KNIFE COLLECTION: A REVIEW OF OPEN SOURCE SOFTWARE SUPPLY CHAIN ATTACKS")</em></p><p>By now, there are a lot of tools like <a target="_blank" rel="noopener noreferrer nofollow" href="https://www.docker.com/">Docker</a>, we can even run IDE locally for remote code (<a target="_blank" rel="noopener noreferrer nofollow" href="https://code.visualstudio.com/docs/remote/remote-overview"><span>VS Code Remote Development</span></a>).</p><p></p><h4>Disable autoupdates for dependencies</h4><p>It's a common rule to protect from new bugs. I would like to share three simple rules for NPM here.</p><ol><li><p>Use <code>npm ci</code> instead of <code>npm i</code>.</p></li><li><p>Save <code>package-lock.json</code> file to your repository.</p></li><li><p><span>Set dependencies </span><code>version</code><span> for matching them exactly (</span><a target="_blank" rel="noopener noreferrer nofollow" href="https://docs.npmjs.com/cli/v8/configuring-npm/package-json#dependencies"><span>package.json</span></a><span>).</span></p></li></ol><p></p><h4>Update only if needed</h4><p>This item is quite the same as installing only needed dependencies. It's wise to read change-logs and stick to your requirements. Usually, we can avoid some problems if install only updates that we understand, wait and want to use.</p><p>Another point here is time. It would be smart to wait sometime before updating after release. Do not hurry up.</p><aside><p>On average, a malicious package is available for 209 days before being publicly reported</p></aside><p><em>– MARC OHM, HENRIK PLATE, ARNOLD SYKOSCH, MICHAEL MEIER ("BACKSTABBER'S KNIFE COLLECTION: A REVIEW OF OPEN SOURCE SOFTWARE SUPPLY CHAIN ATTACKS")</em></p><p></p><h4>Audit dependencies</h4><p>The last and the most difficult technique is reviewing Open Source code. If you really can do it for all your dependencies then you can skip other points because it will be enough. Usually, only big companies do it. But anyway we can't just ignore this work.</p><p>To find some balance in this work we can concentrate on bootstrap scripts (inside <code>package.json</code> for npm) and services like <a target="_blank" rel="noopener noreferrer nofollow" href="https://socket.dev/">https://socket.dev/</a> can help us with this.</p><p></p><hr><p>Open Source code can significantly increase our performance, but also can destroy our work. We should invest in it and must be careful of using it. So, Open Source is not equal cost-free code.</p><aside><p>You are responsbile for the code that you ship to production, whether you wrote it or it comes from open source.</p></aside><p><em>– FEROSS ABOUKHADIJEH ("WHAT'S REALLY GOING ON INSIDE YOUR NODE_MODULES FOLDER?")</em></p><p>I understand that these pieces of advice are just an overview, but they can help to start. Start to protect your code and you.</p><p></p></section>
        </article>
      </body>
      <script type="text/javascript" src="/js/note.js"></script>
    </html>